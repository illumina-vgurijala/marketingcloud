<!-- sldsValidatorIgnore -->
<template>
    <template if:true={boolShowSpinner}>
        <lightning-spinner variant="brand" alternative-text="Loading" size="medium"></lightning-spinner>
    </template>
    <template if:false={boolShowSpinner}>
        <lightning-quick-action-panel header="Affiliates">
            <lightning-accordion allow-multiple-sections-open>
                <lightning-accordion-section name="A" label={mapLabels.UI_Section_Account_Included_In_Agreement}>
                    <lightning-layout>
                        <lightning-layout-item flexibility="grow" size="12" large-device-size="12"
                            medium-device-size="12" small-device-size="12"
                            class="slds-p-around_x-small slds-p-left_small">
                            <template if:true={showAffiliatesInclusionTable}>
                                <lightning-datatable id="Included" columns={columns}
                                    data={affiliateAccountsToBeIncluded} key-field="id" onrowaction={getSelectedRow} hide-checkbox-column="true">
                                </lightning-datatable>
                            </template>
                            <template if:false={showAffiliatesInclusionTable}>
                                <template if:true={mapLabels}>
                                    <div class="slds-align_absolute-center">{mapLabels.UI_Label_No_Results}</div>
                                </template>
                            </template>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-accordion-section>
                <lightning-accordion-section name="A" label={mapLabels.UI_Section_Account_Excluded_From_Agreement}>
                    <lightning-layout>
                        <lightning-layout-item flexibility="grow" size="12" large-device-size="12"
                            medium-device-size="12" small-device-size="12"
                            class="slds-p-around_x-small slds-p-left_small">
                            <template if:true={showAffiliatesExclusionTable}>
                                <lightning-datatable id="Included1" columns={columns}
                                    data={affiliateAccountsToBeExcluded} key-field="id" onrowaction={getSelectedRow} hide-checkbox-column="true">
                                </lightning-datatable>
                            </template>
                            <template if:false={showAffiliatesExclusionTable}>
                                <template if:true={mapLabels}>
                                    <div class="slds-align_absolute-center">{mapLabels.UI_Label_No_Results}</div>
                                </template>
                            </template>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-accordion-section>
                <lightning-accordion-section name="A" label={mapLabels.UI_Section_Other_Account_Included_In_Agreement}>
                    <lightning-layout>
                        <lightning-layout-item flexibility="grow" size="12" large-device-size="12"
                            medium-device-size="12" small-device-size="12"
                            class="slds-p-around_x-small slds-p-left_small">
                            <template if:true={showAffiliatesNotInHierarchyTable}>
                                <lightning-datatable id="Included2" columns={columns} data-field="affiliatesNotInNGN"
                                    data={affiliateAccountsNotInHierarchy} key-field="id"
                                    onrowaction={getSelectedRow}></lightning-datatable>
                            </template>
                            <template if:false={showAffiliatesNotInHierarchyTable}>
                                <template if:true={mapLabels}>
                                    <div class="slds-align_absolute-center">{mapLabels.UI_Label_No_Results}</div>
                                </template>
                            </template>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-accordion-section>
            </lightning-accordion>
            <div slot="footer">
                <lightning-button variant="brand" label="Save" disabled={boolComponentReadOnly} onclick={saveRecords}></lightning-button>&nbsp;&nbsp;
                <lightning-button variant="neutral" label="Cancel" onclick={closeModal}></lightning-button>
            </div>
        </lightning-quick-action-panel>
    </template>
</template>