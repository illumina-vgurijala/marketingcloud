<!-- sldsValidatorIgnore -->
<template>
    
        <div class="slds-col modal-body slds-scrollable_y slds-p-around--medium" style="height:365px;">
            <template if:true={booIsListEmpty}>
                No Objectives/Actions found
            </template>
            <template if:false={booIsListEmpty}>
                <template for:each={lstObjectivesActions} for:item='row' for:index='index'>
                    <lightning-card key={row.recordId}>
                        <div>
                            <lightning-layout class="slds-grid_align-center" multiple-rows="true" vertical-align="center">
                                <lightning-layout-item flexibility="auto" class="slds-p-horizontal_large layoutItem-min-size" size="1">
                                    <lightning-input id={row.num} type="checkbox" variant="label-hidden" onchange={handleChangeObjectives} checked={row.isChecked}> 
                                        
                                    </lightning-input>
                                </lightning-layout-item>

                                <lightning-layout-item flexibility="auto" alignment-bump="right"
                                    class="slds-p-right_x-medium layoutItem-min-size " size="11">
                                    <div id={index} title={row.recordId}>
                                        <label><b>Objective: {row.name}</b></label><br>
                                        <label>Status: {row.objectiveStatus}</label><br>
                                        <lightning-layout class="slds-grid_align-center" multiple-rows="true"
                                        vertical-align="center">
                                            <lightning-layout-item flexibility="auto" class="layoutItem-min-size" size="2">
                                                <template if:true={row.isChecked}>
                                                    <label class="slds-required">*</label>
                                                </template>
                                                <label>Due Date: </label>
                                            </lightning-layout-item>
                                            <lightning-layout-item flexibility="auto" class="layoutItem-min-size" size="3">
                                                <lightning-input type="date" class="due-date objective"
                                                    data-checked={row.isChecked} data-id={row.num} variant="label-hidden"
                                                    onchange={handleDueDateChange} value={row.dueDate}
                                                    required={row.isChecked} min={todaysDate}>
                                                </lightning-input>
                                            </lightning-layout-item>
                                            <lightning-layout-item flexibility="auto" class="layoutItem-min-size" size="6">
                                            </lightning-layout-item>
                                        </lightning-layout>
                                    </div>
                                </lightning-layout-item> 
                                
                            </lightning-layout>
                            <template if:true={row.isChecked}>
                                <template for:each={row.lstActions} for:item='action' for:index='index1'>
                                    <div key={action.recordId}>
                                        <lightning-layout horizontal-align="spread" multiple-rows="true" vertical-align="center">
                                            <lightning-layout-item flexibility="auto"
                                                class="slds-p-around_xx-small layoutItem-min-size" size="1">
                                            </lightning-layout-item>

                                            <lightning-layout-item flexibility="auto"
                                                class="slds-p-horizontal_large layoutItem-min-size" size="1">
                                                <lightning-input id={action.num} type="checkbox" variant="label-hidden" onchange={handleChangeActions} checked={action.isChecked}>
                                                </lightning-input>
                                            </lightning-layout-item>
                            
                                            <lightning-layout-item flexibility="auto" alignment-bump="right"
                                                class="slds-p-around_x-small layoutItem-min-size " size="10">
                                                <div id={index1} title={action.recordId}>
                                                    <label><b>{action.name}</b></label><br>  
                                                    <label>Status: {action.status}</label><br> 
                                                    <lightning-layout class="slds-grid_align-center" multiple-rows="true"
                                                        vertical-align="center">
                                                        <lightning-layout-item flexibility="auto" class="layoutItem-min-size"
                                                            size="2">
                                                            <template if:true={action.isChecked}>
                                                                <label class="slds-required">*</label>
                                                            </template>
                                                            <label>Due Date: </label>
                                                        </lightning-layout-item>
                                                        <lightning-layout-item flexibility="auto" class="layoutItem-min-size"
                                                            size="3">
                                                            <lightning-input type="date" class="due-date"
                                                                variant="label-hidden" data-checked={action.isChecked}
                                                                data-id={action.num} onchange={handleDueDateChange}
                                                                value={action.dueDate} required={action.isChecked}
                                                                min={todaysDate}>
                                                            </lightning-input>
                                                        </lightning-layout-item>
                                                        <lightning-layout-item flexibility="auto" class="layoutItem-min-size"
                                                            size="7">
                                                        </lightning-layout-item>
                                                    </lightning-layout> 
                                                </div>
                                            </lightning-layout-item> 
                                        </lightning-layout> 
                                    </div>
                                </template>
                            </template>
                            
                        </div>
                    </lightning-card>
                </template>
            </template>
        </div>
    
</template>