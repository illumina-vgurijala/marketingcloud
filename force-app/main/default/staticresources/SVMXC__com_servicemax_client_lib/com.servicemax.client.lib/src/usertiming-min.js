(function(m){if(typeof(m)==="undefined"){m={};}if(typeof(m.performance)==="undefined"){m.performance={};}m._perfRefForUserTimingPolyfill=m.performance;m.performance.userTimingJsNow=false;m.performance.userTimingJsNowPrefixed=false;m.performance.userTimingJsUserTiming=false;m.performance.userTimingJsUserTimingPrefixed=false;m.performance.userTimingJsPerformanceTimeline=false;m.performance.userTimingJsPerformanceTimelinePrefixed=false;var h=[];var d=[];var f=null;var k,g;if(typeof(m.performance.now)!=="function"){m.performance.userTimingJsNow=true;d=["webkitNow","msNow","mozNow"];for(k=0;k<d.length;k++){if(typeof(m.performance[d[k]])==="function"){m.performance.now=m.performance[d[k]];m.performance.userTimingJsNowPrefixed=true;break;}}var p=+(new Date());if(m.performance.timing&&m.performance.timing.navigationStart){p=m.performance.timing.navigationStart;}if(typeof(m.performance.now)!=="function"){if(Date.now){m.performance.now=function(){return Date.now()-p;};}else{m.performance.now=function(){return +(new Date())-p;};}}}var l=function(){};var c=function(){};var s=[];var r=false;var b=false;if(typeof(m.performance.getEntries)!=="function"||typeof(m.performance.mark)!=="function"){if(typeof(m.performance.getEntries)==="function"&&typeof(m.performance.mark)!=="function"){b=true;}m.performance.userTimingJsPerformanceTimeline=true;h=["webkit","moz"];d=["getEntries","getEntriesByName","getEntriesByType"];for(k=0;k<d.length;k++){for(g=0;g<h.length;g++){f=h[g]+d[k].substr(0,1).toUpperCase()+d[k].substr(1);if(typeof(m.performance[f])==="function"){m.performance[d[k]]=m.performance[f];m.performance.userTimingJsPerformanceTimelinePrefixed=true;}}}l=function(i){s.push(i);if(i.entryType==="measure"){r=true;}};var e=function(){if(!r){return;}s.sort(function(j,i){return j.startTime-i.startTime;});r=false;};c=function(j,i){k=0;while(k<s.length){if(s[k].entryType!==j){k++;continue;}if(typeof(i)!=="undefined"&&s[k].name!==i){k++;continue;}s.splice(k,1);}};if(typeof(m.performance.getEntries)!=="function"||b){var o=m.performance.getEntries;m.performance.getEntries=function(){e();var i=s.slice(0);if(b&&o){Array.prototype.push.apply(i,o.call(m.performance));i.sort(function(t,j){return t.startTime-j.startTime;});}return i;};}if(typeof(m.performance.getEntriesByType)!=="function"||b){var n=m.performance.getEntriesByType;m.performance.getEntriesByType=function(j){if(typeof(j)==="undefined"||(j!=="mark"&&j!=="measure")){if(b&&n){return n.call(m.performance,j);}return[];}if(j==="measure"){e();}var i=[];for(k=0;k<s.length;k++){if(s[k].entryType===j){i.push(s[k]);}}return i;};}if(typeof(m.performance.getEntriesByName)!=="function"||b){var a=m.performance.getEntriesByName;m.performance.getEntriesByName=function(j,t){if(t&&t!=="mark"&&t!=="measure"){if(b&&a){return a.call(m.performance,j,t);}return[];}if(typeof(t)!=="undefined"&&t==="measure"){e();}var i=[];for(k=0;k<s.length;k++){if(typeof(t)!=="undefined"&&s[k].entryType!==t){continue;}if(s[k].name===j){i.push(s[k]);}}if(b&&a){Array.prototype.push.apply(i,a.call(m.performance,j,t));i.sort(function(v,u){return v.startTime-u.startTime;});}return i;};}}if(typeof(m.performance.mark)!=="function"){m.performance.userTimingJsUserTiming=true;h=["webkit","moz","ms"];d=["mark","measure","clearMarks","clearMeasures"];for(k=0;k<d.length;k++){for(g=0;g<h.length;g++){f=h[g]+d[k].substr(0,1).toUpperCase()+d[k].substr(1);if(typeof(m.performance[f])==="function"){m.performance[d[k]]=m.performance[f];m.performance.userTimingJsUserTimingPrefixed=true;}}}var q={};if(typeof(m.performance.mark)!=="function"){m.performance.mark=function(j){var i=m.performance.now();if(typeof(j)==="undefined"){throw new SyntaxError("Mark name must be specified");}if(m.performance.timing&&j in m.performance.timing){throw new SyntaxError("Mark name is not allowed");}if(!q[j]){q[j]=[];}q[j].push(i);l({entryType:"mark",name:j,startTime:i,duration:0});};}if(typeof(m.performance.clearMarks)!=="function"){m.performance.clearMarks=function(i){if(!i){q={};}else{q[i]=[];}c("mark",i);};}if(typeof(m.performance.measure)!=="function"){m.performance.measure=function(v,w,t){var i=m.performance.now();if(!v){throw new Error("Measure must be specified");}if(!w){l({entryType:"measure",name:v,startTime:0,duration:i});return;}var j=0;if(m.performance.timing&&w in m.performance.timing){if(w!=="navigationStart"&&m.performance.timing[w]===0){throw new Error(w+" has a timing of 0");}j=m.performance.timing[w]-m.performance.timing.navigationStart;}else{if(w in q){j=q[w][q[w].length-1];}else{throw new Error(w+" mark not found");}}var u=i;if(t){u=0;if(m.performance.timing&&t in m.performance.timing){if(t!=="navigationStart"&&m.performance.timing[t]===0){throw new Error(t+" has a timing of 0");}u=m.performance.timing[t]-m.performance.timing.navigationStart;}else{if(t in q){u=q[t][q[t].length-1];}else{throw new Error(t+" mark not found");}}}var x=u-j;l({entryType:"measure",name:v,startTime:j,duration:x});};}if(typeof(m.performance.clearMeasures)!=="function"){m.performance.clearMeasures=function(i){c("measure",i);
};}}if(typeof define!=="undefined"&&define.amd){define([],function(){return m.performance;});}else{if(typeof module!=="undefined"&&typeof(module.exports)!=="undefined"){module.exports=m.performance;}}}(typeof(window)!=="undefined"?window:undefined));