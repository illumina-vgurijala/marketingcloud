(function(){var a=SVMX.Package("com.servicemax.client.pmplantemplate.ui.desktop.api");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("PMPLAN");Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.api.RootContainer",{extend:"com.servicemax.client.ui.components.composites.impl.SVMXSection",cls:"pmplantemplate-root-container",id:"pmPlanTemplateContainer",width:"100%",height:730,__parent:this,__runOpts:null,constructor:function(c){c=Ext.apply({collapsible:false,title:SVMX.getClient().getApplicationParameter("svmx-sfm-hide-title-bar")?"":b.T("TAG001","Preventive Maintenance Plan Template"),titleAlign:"center",layout:{type:"border"}},c||{});this.callParent([c]);},run:function(g){var D=this;this.__runOpts=g;var o=SVMX.create("Ext.form.FormPanel",{id:"templateMainPanel",collapsible:false,region:"center",width:"100%",border:false,layout:"anchor",layout:{type:"anchor",align:"stretch"},buttons:[{text:b.T("COMM_TAG002","Cancel"),__parent:this,cls:"pmplantemplate-cancel-btn",height:30,listeners:{click:function(G,I,F){var H={title:b.T("TAG048","Warning"),msg:b.T("TAG045","All your changes will be discarded. Do you want to continue?"),width:300,closable:false,icon:Ext.MessageBox.WARNING,buttons:Ext.Msg.YESNO,__parent:G.__parent,buttonText:{yes:b.T("COMM_TAG005","Yes"),no:b.T("COMM_TAG006","No"),},fn:function(K,M,J){if(K==="yes"){var L="/"+J.__parent.deliveryEngine.getKeyPrefixForTemplateObject();if((typeof sforce!="undefined")&&(sforce!=null)){sforce.one.navigateToURL(L);}else{window.location.href=L;}}}};SVMX.MessageBox.show(H);}}},{text:b.T("COMM_TAG001","Save"),__parent:this,cls:"pmplantemplate-save-btn",height:30,listeners:{click:function(G,K,L){var M=Ext.getCmp("templateMainPanel");var I=M.getForm().getFieldValues();var N=I.conditionType;if(this.__parent.validateFormData(I)){if(N===null||N===""||N==="Usage_Frequency"){var J=Ext.getStore("Condition_Rule_Store");var H=J.data.items;if(this.__parent.validateGridData(H)){this.__parent.deliveryEngine.saveTemplateData(I,H);}}else{if(N==="Criteria_Comparison"){var F=Ext.getStore("Condition_Rule_Store_CB");var H=F.data.items;if(this.__parent.validateCriteriaGridData(H)){this.__parent.deliveryEngine.saveTemplateData(I,H);}}}}}}}]});this.add(o);var k=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXText",{id:"templateNameBox",name:"templateName",fieldLabel:b.T("TAG002","Template Name")+"*",labelAlign:"top",labelSeparator:"",msgTarget:"under"});var y=Ext.create("Ext.data.Store",{storeId:"Schedule_Type_Store",fields:["name","label"]});var m=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG003","Schedule Type"),labelSeparator:"",name:"scheduleType",id:"scheduleTypeCombo",store:y,queryMode:"local",displayField:"label",valueField:"name",labelAlign:"top",editable:false,readOnly:true,listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});var B=Ext.create("Ext.data.Store",{storeId:"Condition_Type_Store",fields:["name","label"],data:[{name:"Usage_Frequency",label:b.T("TAG060","Usage/Frequency Based")},{name:"Criteria_Comparison",label:b.T("TAG061","Criteria/Comparison Based")}]});var v=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG062","Condition Type")+"*",labelSeparator:"",name:"conditionType",id:"conditionTypeCombo",store:B,queryMode:"local",displayField:"label",valueField:"name",labelAlign:"top",editable:false,value:"Usage_Frequency",__parent:this,listeners:{beforeselect:function(K,G,J){var H=this.getValue();var I=Ext.getStore("Condition_Rule_Store");var F=Ext.getStore("Condition_Rule_Store_CB");if(I.getCount()>0||F.getCount()>0){Ext.Msg.show({title:b.T("COMM_TAG007","Warning"),msg:b.T("TAG064","Changing the Condition type will reset the fields on the Condition grid. Are you sure you want to proceed?"),width:300,closable:false,icon:Ext.MessageBox.WARNING,buttons:Ext.Msg.YESNO,__parent:this.__parent,__comboCmp:this,buttonText:{yes:b.T("COMM_TAG008","Ok"),no:b.T("COMM_TAG009","Cancel"),},fn:function(M,N,L){if(M==="yes"){L.__comboCmp.changeComponentState(G,F,I);}else{K.setValue(H);}}});}else{this.changeComponentState(G,F,I);}}},listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}},changeComponentState:function(H,F,J){var M=H.get("name");var G=Ext.getCmp("useCurrentFieldVal");var I=Ext.getCmp("conditionRuleTabPanel");var L=Ext.getCmp("conditionRuleTabPanelForCriteria");if(M==="Usage_Frequency"){G.setVisible(true);I.setVisible(true);L.setVisible(false);F.removeAll();Ext.getCmp("addRowButton").setDisabled(false);}else{if(M==="Criteria_Comparison"){G.setVisible(false);I.setVisible(false);L.setVisible(true);J.removeAll();Ext.getCmp("addRowButton_CB").setDisabled(false);}}Ext.getCmp("advancedExpression").setValue("");Ext.getCmp("buildSampleSchedule").setDisabled(true);var K=Ext.getCmp("productCombo").getValue();if(K!=null){this.__parent.deliveryEngine.getTechnicalAttribute(K,M);
}}});var d=Ext.create("Ext.data.Store",{storeId:"Coverage_Type_Store",fields:["name","label"]});var u=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{id:"coverageTypeCombo",name:"coverageType",fieldLabel:b.T("TAG004","Coverage Type")+"*",labelSeparator:"",store:d,queryMode:"local",displayField:"label",valueField:"name",labelAlign:"top",editable:false,readOnly:true,listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});var t=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{layout:"column",defaults:{columnWidth:0.5},collapsible:false,border:false,style:"background-color: white !important"});var A=Ext.create("Ext.data.Store",{storeId:"Product_Store",fields:["name","label"],});var e=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG005","Product")+"*",labelSeparator:"",name:"product",id:"productCombo",store:A,queryMode:"local",displayField:"label",valueField:"name",labelAlign:"top",msgTarget:"under",columnWidth:0.95,listeners:{select:function(H,F){var G=F[0].getData().name;var I=Ext.getCmp("conditionTypeCombo").getValue();this.deliveryEngine.getTechnicalAttribute(G,I);},scope:this},listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});t.add(e);t.add({iconCls:"svmx-filter-icon",cursor:"pointer",scale:"small",cls:"img-header-default",border:false,columnWidth:0.05,style:"top: 20px",listeners:{el:{click:function(){var G=Ext.getCmp("productCombo");var H={};H.objAPIName="Product2";H.searchtext=G.getRawValue();H.whereClause=" IsActive = true ";if(H.searchtext.length<3){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG010","Please enter atleast first three characters and click Search"));}else{var F=Ext.getCmp("pmPlanTemplateContainer");F.getDeliveryEngine().searchObject(H);}}}},});var j=Ext.create("Ext.data.Store",{storeId:"IB_Filter_Store",fields:["exprId","exprName"]});var i=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG006","Installed Product Filter"),labelSeparator:"",name:"installedProductFilter",id:"installedProductFilterCombo",store:j,queryMode:"local",displayField:"exprName",valueField:"exprId",labelAlign:"top",editable:false,listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});var f=Ext.create("Ext.data.Store",{storeId:"Activity_Date_Store",fields:["fieldApiName","fieldLabel"]});var E=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG007","Activity Date")+"*",labelSeparator:"",id:"activityDateCombo",name:"activityDate",store:f,queryMode:"local",displayField:"fieldLabel",valueField:"fieldApiName",labelAlign:"top",editable:false,allowBlank:false,listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});var x=Ext.create("Ext.data.Store",{storeId:"WO_Purpose_Store",fields:["taskTemplateId","taskTemplateName"]});var h=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{fieldLabel:b.T("TAG008","Work Order Purpose"),labelSeparator:"",name:"workOrderPurpose",id:"workOrderPurposeCombo",store:x,queryMode:"local",displayField:"taskTemplateName",valueField:"taskTemplateId",labelAlign:"top",editable:false,listConfig:{getInnerTpl:function(F){return"{[Ext.String.htmlEncode(values."+F+")]}";}}});var c=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXCheckbox",{labelSeparator:"",name:"useCurrentFieldVal",id:"useCurrentFieldVal",boxLabelAlign:"after",hidden:true,boxLabel:b.T("TAG059","Use Current Field Value")});var C={xtype:"fieldset",columnWidth:0.5,border:false,defaults:{anchor:"100%"},layout:"anchor",items:[k,u,i,h,c]};var z={xtype:"fieldset",columnWidth:0.5,border:false,defaults:{anchor:"100%"},layout:"anchor",items:[m,v,t,E]};var l=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{collapsible:false,region:"center",width:"100%",border:false,layout:"column",defaults:{bodyPadding:0},items:[C,z]});o.add(l);var r=SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.ConditionRule",{itemId:"conditionRulePanelCmp",collapsible:false,region:"center",width:"100%",layout:"anchor",__parent:this,defaults:{bodyPadding:0,anchor:"100%"}});var q=SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased.ConditionRuleCriteriaBased",{itemId:"conditionRulePanelForCriteriaCmp",collapsible:false,region:"center",width:"100%",layout:"anchor",__parent:this,defaults:{bodyPadding:0,anchor:"100%"}});var w={id:"conditionRuleTabPanel",xtype:"tabpanel",items:[r],cls:"pmplantemplate-tab-panel",margin:"10px 10px 10px 10px",hidden:true};var p={id:"conditionRuleTabPanelForCriteria",xtype:"tabpanel",items:[q],cls:"pmplantemplate-tab-panel",margin:"10px 10px 10px 10px",hidden:true};o.add(p);o.add(w);var n=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXText",{id:"advancedExpression",name:"advancedExpression",fieldLabel:b.T("TAG051","Advanced Expression"),labelAlign:"top",labelSeparator:"",width:"98%",margin:"10px 10px 10px 10px"});
o.add(n);var s=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXButton",{id:"buildSampleSchedule",name:"buildSampleSchedule",text:b.T("TAG054","Build sample schedule"),disabled:true,__parent:this,margin:"10px 10px 10px 0px",style:{marginLeft:"44% !important"},cls:"pmplantemplate-blue-link",listeners:{click:function(F,K,L){var M=Ext.getCmp("templateMainPanel");var H=M.getForm().getFieldValues();var O=H.conditionType;var J=(O=="Criteria_Comparison")?Ext.getStore("Condition_Rule_Store_CB"):Ext.getStore("Condition_Rule_Store");var G=J.data.items;var N=(O=="Criteria_Comparison")?F.__parent.validateCriteriaGridData(G):F.__parent.validateGridData(G);if(N){var I=SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.scheduleWindow.ScheduleWindow",{id:"scheduleWindow",cls:"pmplantemplate-schedule-window",__parent:this,maxHeight:550,width:530,conditionTypeValue:O});F.__parent.getDeliveryEngine().getSampleSchedules(H,G);}}}});o.add(s);this.resize();},validateFormData:function(d){var c=true;if(d.templateName==null||d.templateName==""){Ext.getCmp("templateNameBox").markInvalid(b.T("TAG041","This is a required field."));c=false;}if(d.product==null||d.product==""){Ext.getCmp("productCombo").markInvalid(b.T("TAG041","This is a required field."));c=false;}return c;},validateGridData:function(d){var p=Ext.data.StoreManager.lookup("Field_List_Store");var k=false;var m=false;var n=false;var g=false;for(var h=0;h<d.length;h++){if(!k){if(d[h].data.isRowHasError===true){k=true;}}if(!m){var c=d[h].data.selectedField;if(c!=null&&c!=""){var r=p.findExact("fieldApiName",c);if(r===-1){m=true;}}}if(!n){var c=d[h].data.selectedField;var o=d[h].data.selectedOperator;var f=d[h].data.frequency;if(c===null||c===""){n=true;}else{if(o===null||o===""){n=true;}else{if(f===null||f===""){n=true;}}}}if(!g){var l=d[h].data.selectedField;if(l==="Months"||l==="Weeks"||l==="Years"){var j=d[h].data.startAt;if(j===null||j===""){var q=d[h].data.stopAt;var e=new Date();e=e.setHours(0,0,0,0);if(q<e){g=true;}}}}}if(m){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG047","There is a mismatch between the product and attribute chosen. Please choose the correct attribute and save."),7000,"success");return false;}else{if(n){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG050","Please fill values for the following columns in Condition Rule : Attribute, Operator and Frequency"),7000,"success");return false;}else{if(k){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG046","One or more conditions is invalid. Please review the conditions and save"),7000,"success");return false;}else{if(g){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG053","Stop At cannot be less than today. Please validate your condition"),7000,"success");return false;}}}}return true;},validateCriteriaGridData:function(d){var k=Ext.data.StoreManager.lookup("Field_List_Store_CB");var g=false;var h=false;for(var f=0;f<d.length;f++){if(!g){var c=d[f].data.selectedField;if(c!=null&&c!=""){var l=k.findExact("fieldApiName",c);if(l===-1){g=true;}}}if(!h){var c=d[f].data.selectedField;var j=d[f].data.selectedOperator;var e=d[f].data.value;if(c===null||c===""){h=true;}else{if(j===null||j===""){h=true;}else{if(e===null||e===""){h=true;}}}}}if(g){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG047","There is a mismatch between the product and attribute chosen. Please choose the correct attribute and save."),7000,"success");return false;}else{if(h){SVMX.getCurrentApplication().getApplicationQuickMessageHandler().showQuickMessage(b.T("TAG065","Please fill values for the following columns in Condition Rule : Attribute, Operator and Value"),7000,"success");return false;}}return true;},resize:function(c){if(!this.getEl()){return SVMX.timer.job(this.id+".resize",10,this,"resize");}if(!c){c=this.getEl().getViewSize();}if(c.width){c.width=c.width-4;}if(c.height){c.height=c.height-6;}if(c.width){this.setWidth(c.width);}if(c.height){this.setHeight(c.height);}},blockApplication:function(f){var e=f||{request:{state:"block",deliveryEngine:this.getDeliveryEngine()},responder:{}};var d=this.getDeliveryEngine().getEventBus();var c=SVMX.create("com.servicemax.client.lib.api.Event","PMPLAN.CHANGE_APP_STATE",this,e);d.triggerEvent(c);},unblockApplication:function(f){var e=f||{request:{state:"unblock",deliveryEngine:this.getDeliveryEngine()},responder:{}};var d=this.getDeliveryEngine().getEventBus();var c=SVMX.create("com.servicemax.client.lib.api.Event","PMPLAN.CHANGE_APP_STATE",this,e);d.triggerEvent(c);},getDeliveryEngine:function(){return this.deliveryEngine;}});};})();(function(){var a=SVMX.Package("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("PMPLAN");
Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.ConditionRule",{extend:"Ext.form.FormPanel",constructor:function(c){c=Ext.apply({title:b.T("TAG027","Condition Rules")},c||{});this.callParent([c]);},initComponent:function(){this.callParent(arguments);var c=Ext.create("Ext.data.Store",{storeId:"Field_List_Store",fields:["fieldApiName","fieldLabel","dataType","category","attributeType"],groupField:"category",});this.__grid=SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.ConditionRuleGrid",{__fieldStore:c});this.add(this.__grid);}});Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.GroupComboBox",{extend:"com.servicemax.client.ui.components.controls.impl.SVMXPicklist",groupField:"group",listConfig:{cls:"grouped-list",getInnerTpl:function(c){return"{[Ext.String.htmlEncode(values."+c+")]}";}},initComponent:function(){var c=this;c.tpl=new Ext.XTemplate(["{[this.currentGroup = null]}",'<tpl for=".">','   <tpl if="this.shouldShowHeader('+c.groupField+')">','       <div class="group-header">{[this.showHeader(values.'+c.groupField+")]}</div>","   </tpl>",'   <div class="svmx-boundlist-item">{'+c.displayField+"}</div>","</tpl>",{shouldShowHeader:function(d){return this.currentGroup!=d;},showHeader:function(d){this.currentGroup=d;return d;}}]);c.callParent(arguments);}});Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.ConditionRuleGrid",{extend:"com.servicemax.client.ui.components.composites.impl.SVMXListComposite",xtype:"cell-editing",frame:true,__fieldStore:null,__rowData:null,viewConfig:{markDirty:false},initComponent:function(){this.fieldCombo=new SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.GroupComboBox",{id:"fieldComboCmp",typeAhead:true,queryMode:"local",triggerAction:"all",selectOnTab:true,store:this.__fieldStore,displayField:"fieldLabel",valueField:"fieldApiName",groupField:"category",editable:false});var c=Ext.create("Ext.data.Store",{fields:["label","value","type"],data:{items:[{label:b.T("TAG032","Every"),value:"EYI",type:"Date"},{label:b.T("TAG033","Every decrement"),value:"EYD",type:"Number"}]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});this.operatorCombo=new Ext.form.field.ComboBox({id:"operatorComboCmp",typeAhead:true,triggerAction:"all",queryMode:"local",selectOnTab:true,displayField:"label",store:c,valueField:"value",editable:false,__parent:this,listeners:{expand:function(f){var e=f.__parent.__rowData.selectedField;if(e!==null&&e!==""){if(e==="Months"||e==="Weeks"||e==="Years"){f.store.filter("type","Date");}}}},listConfig:{getInnerTpl:function(e){return"{[Ext.String.htmlEncode(values."+e+")]}";}}});this.adjustmentTypeCombo=new Ext.form.field.ComboBox({typeAhead:true,triggerAction:"all",selectOnTab:true,editable:false,queryMode:"local",store:[["None",b.T("COMM_TAG004","--None--")],["Actual",b.T("TAG038","Actual")],["Fixed",b.T("TAG039","Fixed")]],listConfig:{getInnerTpl:function(e){return"{[Ext.String.htmlEncode(values."+e+")]}";}}});var d=Ext.create("Ext.data.Store",{fields:["label","value","type"],data:{items:[{label:b.T("TAG040","Days"),value:"Days",type:"Date"},{label:b.T("TAG034","Count"),value:"Count",type:"Number"}]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});this.adjustmentUnitCombo=new Ext.form.field.ComboBox({id:"adjustmentUnitComboCmp",displayField:"label",valueField:"value",queryMode:"local",typeAhead:true,triggerAction:"all",selectOnTab:true,editable:false,store:d,__parent:this,listeners:{expand:function(f){var e=f.__parent.__rowData.selectedField;if(e!==null&&e!==""){if(e==="Months"||e==="Weeks"||e==="Years"){f.store.filter("type","Date");}else{f.store.filter("type","Number");}}}},listConfig:{getInnerTpl:function(e){return"{[Ext.String.htmlEncode(values."+e+")]}";}}});this.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,__parent:this,listeners:{beforeedit:function(g,h){this.__parent.__rowData=h.record.data;var i=Ext.getCmp("adjustmentUnitComboCmp");i.store.clearFilter();var f=Ext.getCmp("operatorComboCmp");f.store.clearFilter();},edit:function(n,o){if(o.field==="selectedAdjustmentType"&&(o.value==="None")&&(o.value!==o.originalValue)){o.record.set("minAdjustment","");o.record.set("maxAdjustment","");o.record.set("adjustmentVal","");o.record.set("selectedAdjustedUnit","");}if(o.field==="selectedAdjustmentType"&&(o.value==="Actual")&&(o.value!==o.originalValue)){o.record.set("adjustmentVal","");}if(o.field==="selectedField"){if((o.value==="Weeks"||o.value==="Months"||o.value==="Years")&&(o.originalValue!==""&&o.originalValue!=="Weeks"&&o.originalValue!=="Months"&&o.originalValue!=="Years")){o.record.set("startAt","");o.record.set("stopAt","");o.record.set("threshold","");o.record.set("frequency","");o.record.set("selectedOperator","");o.record.set("selectedAdjustedUnit","");}else{if((o.value!=="Weeks"&&o.value!=="Months"&&o.value!=="Years")&&(o.originalValue!==""&&(o.originalValue==="Weeks"||o.originalValue==="Months"||o.originalValue==="Years"))){o.record.set("startAt","");
o.record.set("stopAt","");o.record.set("frequency","");o.record.set("selectedOperator","");o.record.set("selectedAdjustedUnit","");}}}if(o.record.data.selectedOperator=="EYI"&&(o.record.data.stopAt===""||o.record.data.stopAt===null)){var i=o.row.childNodes[7];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")===-1){i.firstChild.setAttribute("class",h+" make-cell-dirty ");i.firstChild.setAttribute("data-qtip",b.T("TAG041","This is a required field."));}}if(o.record.data.selectedOperator=="EYD"&&(o.record.data.startAt===""||o.record.data.startAt===null)){var i=o.row.childNodes[5];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")===-1){i.firstChild.setAttribute("class",h+" make-cell-dirty ");i.firstChild.setAttribute("data-qtip",b.T("TAG041","This is a required field."));}}if(o.record.data.selectedAdjustmentType==="Fixed"&&(o.record.data.adjustmentVal===""||o.record.data.adjustmentVal===null)){var i=o.row.childNodes[11];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")===-1){i.firstChild.setAttribute("class",h+" make-cell-dirty ");i.firstChild.setAttribute("data-qtip",b.T("TAG041","This is a required field."));}}else{if(o.record.data.selectedAdjustmentType!=="Fixed"){var i=o.row.childNodes[11];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")!==-1){i.firstChild.setAttribute("class",h.replace("make-cell-dirty","").trim());}}}if(o.record.data.selectedOperator=="EYI"&&(o.record.data.startAt!==""&&o.record.data.startAt!==null)&&(o.record.data.stopAt!==""&&o.record.data.stopAt!==null)){var k=false;if((o.record.data.selectedField==="Months"||o.record.data.selectedField==="Weeks"||o.record.data.selectedField==="Years")&&o.record.data.stopAt<o.record.data.startAt){k=true;}else{if((o.record.data.selectedField!=="Months"&&o.record.data.selectedField!=="Weeks"&&o.record.data.selectedField!=="Years")&&parseFloat(o.record.data.stopAt)<parseFloat(o.record.data.startAt)){k=true;}}if(k){var i=o.row.childNodes[7];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")===-1){i.firstChild.setAttribute("class",h+" make-cell-dirty ");i.firstChild.setAttribute("data-qtip",b.T("TAG042","Stop At cannot be less than Start At."));}}}if((o.record.data.selectedField!=="Months"&&o.record.data.selectedField!=="Weeks"&&o.record.data.selectedField!=="Years")&&o.record.data.selectedOperator=="EYD"&&(o.record.data.startAt!==""&&o.record.data.startAt!==null)&&(o.record.data.stopAt!==""&&o.record.data.stopAt!==null)&&parseFloat(o.record.data.stopAt)>parseFloat(o.record.data.startAt)){var i=o.row.childNodes[5];var h=i.firstChild.getAttribute("class");if(h.indexOf("make-cell-dirty")===-1){i.firstChild.setAttribute("class",h+" make-cell-dirty ");i.firstChild.setAttribute("data-qtip",b.T("TAG043","Start At cannot be less than Stop At."));}}if(o.record.data.selectedField!==null&&o.record.data.selectedField!==""){var i=o.row.childNodes[7];var h=i.firstChild.getAttribute("class");var t=i.firstChild.getAttribute("data-qtip");if(h.indexOf("make-cell-dirty")===-1&&t!==null&&t.length>0){i.firstChild.removeAttribute("data-qtip");}}if(o.record.data.selectedField!=="Weeks"&&o.record.data.selectedField!=="Months"&&o.record.data.selectedField!=="Years"){var i=o.row.childNodes[5];var h=i.firstChild.getAttribute("class");var t=i.firstChild.getAttribute("data-qtip");if(h.indexOf("make-cell-dirty")===-1&&t!==null&&t.length>0){i.firstChild.removeAttribute("data-qtip");}}if(o.record.data.selectedAdjustmentType==="Fixed"&&(o.record.data.adjustmentVal!==""&&o.record.data.adjustmentVal!==null)){var i=o.row.childNodes[11];var h=i.firstChild.getAttribute("class");var t=i.firstChild.getAttribute("data-qtip");if(h.indexOf("make-cell-dirty")===-1&&t!==null&&t.length>0){i.firstChild.removeAttribute("data-qtip");}}var u;var m;var j=false;var l=o.row.childNodes[5];var g=l.firstChild.getAttribute("class");if(g.indexOf("make-cell-dirty")!==-1){j=true;u=l;m=g;}var f=o.row.childNodes[7];var s=f.firstChild.getAttribute("class");if(s.indexOf("make-cell-dirty")!==-1){j=true;u=f;m=s;}var r=o.row.childNodes[11];var p=r.firstChild.getAttribute("class");if(p.indexOf("make-cell-dirty")!==-1){j=true;u=r;m=p;}if(j){o.record.set("isRowHasError",true);u.firstChild.setAttribute("class",m.replace("make-cell-dirty","").trim());u.firstChild.setAttribute("class",u.firstChild.getAttribute("class")+" make-cell-dirty ");var q=o.row.childNodes[0];var v=q.firstChild.getAttribute("class");if(v.indexOf("make-cell-dirty")===-1){q.firstChild.setAttribute("class",v+" make-cell-dirty ");q.firstChild.setAttribute("data-qtip",b.T("TAG044","This row has one or more issues. Please correct before proceeding"));}}else{o.record.set("isRowHasError",false);var q=o.row.childNodes[0];var v=q.firstChild.getAttribute("class");var t=q.firstChild.getAttribute("data-qtip");if(v.indexOf("make-cell-dirty")!==-1&&t!==null&&t.length>0){q.firstChild.removeAttribute("data-qtip");q.firstChild.setAttribute("class",v.replace("make-cell-dirty","").trim());
}}}}});this.comboBoxRenderer=function(e){return function(g){var f=e.store.find(e.valueField,g);var h=e.store.getAt(f);return((h===null||h===undefined)?"":Ext.String.htmlEncode(h.get(e.displayField)));};};Ext.apply(this,{width:600,plugins:[this.cellEditing],store:new Ext.data.Store({storeId:"Condition_Rule_Store",fields:["isRowHasError","conditionRuleId","sequence","selectedField","selectedOperator","frequency","startAt","threshold","stopAt","selectedAdjustmentType","minAdjustment","maxAdjustment","adjustmentVal","selectedAdjustedUnit"]}),columns:[{xtype:"actioncolumn",width:40,align:"center",sortable:false,menuDisabled:true,items:[{iconCls:"pmplantemplate-delete-row-icon",tooltip:b.T("TAG029","Delete"),scope:this,handler:this.onRemoveClick}]},{header:b.T("TAG014","Sequence"),dataIndex:"sequence",width:80,sortable:false,menuDisabled:true,align:"center"},{header:b.T("TAG015","Attribute"),dataIndex:"selectedField",width:150,align:"center",sortable:false,menuDisabled:true,editor:this.fieldCombo,renderer:this.comboBoxRenderer(this.fieldCombo)},{header:b.T("TAG016","Operator"),dataIndex:"selectedOperator",width:120,align:"center",sortable:false,menuDisabled:true,renderer:this.comboBoxRenderer(this.operatorCombo),__parent:this,getEditor:function(e){var f=e.data.selectedField;if(f!==null&&f!==""){return this.__parent.operatorCombo;}}},{header:b.T("TAG017","Frequency"),dataIndex:"frequency",width:100,align:"center",sortable:false,menuDisabled:true,getEditor:function(e){var f=e.data.selectedField;if(f!==null&&f!==""){if(f==="Weeks"||f==="Months"||f==="Years"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:1,allowDecimals:false,nanText:b.T("COMM_TAG014","Enter a valid number"),})});}else{return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0.1,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(i,h){var g=i.getValue();if(!Ext.isEmpty(g)){if(/\.\d{2,}/.test(g)){h.stopEvent();}}}}})});}}}},{header:b.T("TAG019","Start At"),dataIndex:"startAt",width:120,align:"center",sortable:false,menuDisabled:true,renderer:function(l,e,i,f,h,m){if(l!=null&&l!=""&&(i.data.selectedField==="Weeks"||i.data.selectedField==="Months"||i.data.selectedField==="Years")){var g=new Date(l);var j=("0"+(g.getMonth()+1)).slice(-2);var k=("0"+g.getDate()).slice(-2);return[j,k,g.getFullYear()].join("-");}else{return l;}},getEditor:function(e){var g=e.data.selectedField;if(g==="Weeks"||g==="Months"||g==="Years"){var f=Ext.create("Ext.form.field.Date",{format:"m-d-Y",value:Ext.Date.dateFormat(e.data.startAt,"m-d-Y"),invalidText:b.T("COMM_TAG013","Enter a valid date")});return Ext.create("Ext.grid.CellEditor",{field:f});}else{return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(j,i){var h=j.getValue();if(!Ext.isEmpty(h)){if(/\.\d{2,}/.test(h)){i.stopEvent();}}}}})});}}},{header:b.T("TAG020","Threshold %"),dataIndex:"threshold",width:100,align:"center",sortable:false,menuDisabled:true,getEditor:function(e){var f=e.data.selectedField;if(f!=="Weeks"&&f!=="Months"&&f!=="Years"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,allowDecimals:false,nanText:b.T("COMM_TAG014","Enter a valid number"),})});}}},{header:b.T("TAG021","Stop At"),dataIndex:"stopAt",width:120,align:"center",sortable:false,menuDisabled:true,renderer:function(l,e,i,f,h,m){if(l!=null&&l!=""&&(i.data.selectedField==="Weeks"||i.data.selectedField==="Months"||i.data.selectedField==="Years")){var g=new Date(l);var j=("0"+(g.getMonth()+1)).slice(-2);var k=("0"+g.getDate()).slice(-2);return[j,k,g.getFullYear()].join("-");}else{return l;}},getEditor:function(e){var g=e.data.selectedField;if(g==="Weeks"||g==="Months"||g==="Years"){var f=Ext.create("Ext.form.field.Date",{format:"m-d-Y",value:Ext.Date.dateFormat(e.data.stopAt,"m-d-Y"),invalidText:b.T("COMM_TAG013","Enter a valid date")});return Ext.create("Ext.grid.CellEditor",{field:f});}else{return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(j,i){var h=j.getValue();if(!Ext.isEmpty(h)){if(/\.\d{2,}/.test(h)){i.stopEvent();}}}}})});}}},{header:b.T("TAG022","Adjustment Type"),dataIndex:"selectedAdjustmentType",width:110,align:"center",sortable:false,menuDisabled:true,editor:this.adjustmentTypeCombo,renderer:this.comboBoxRenderer(this.adjustmentTypeCombo)},{header:b.T("TAG023","Minimum Adjustment"),dataIndex:"minAdjustment",width:125,align:"center",sortable:false,menuDisabled:true,getEditor:function(e){var f=e.data.selectedAdjustmentType;if(f!==null&&f!==""&&f!=="None"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(i,h){var g=i.getValue();
if(!Ext.isEmpty(g)){if(/\.\d{2,}/.test(g)){h.stopEvent();}}}}})});}}},{header:b.T("TAG024","Maximum Adjustment"),dataIndex:"maxAdjustment",width:130,align:"center",sortable:false,menuDisabled:true,getEditor:function(e){var f=e.data.selectedAdjustmentType;if(f!==null&&f!==""&&f!=="None"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(i,h){var g=i.getValue();if(!Ext.isEmpty(g)){if(/\.\d{2,}/.test(g)){h.stopEvent();}}}}})});}}},{header:b.T("TAG025","Adjustment Value"),dataIndex:"adjustmentVal",width:120,align:"center",sortable:false,menuDisabled:true,getEditor:function(e){var f=e.data.selectedAdjustmentType;if(f==="Fixed"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(i,h){var g=i.getValue();if(!Ext.isEmpty(g)){if(/\.\d{2,}/.test(g)){h.stopEvent();}}}}})});}}},{header:b.T("TAG026","Adjustment Unit"),dataIndex:"selectedAdjustedUnit",width:120,align:"center",sortable:false,menuDisabled:true,renderer:this.comboBoxRenderer(this.adjustmentUnitCombo),__parent:this,getEditor:function(e){var g=e.data.selectedAdjustmentType;var f=e.data.selectedField;if(g!==null&&g!==""&&g!=="None"&&f!==null&&f!==""){return this.__parent.adjustmentUnitCombo;}}}],selModel:{selType:"cellmodel"},bbar:[{text:"+ "+b.T("TAG028","Add row"),id:"addRowButton",scope:this,handler:this.onAddClick,cls:"pmplantemplate-blue-link"}]});this.callParent();},onAddClick:function(d){var c=this.getStore().getCount();var e={sequence:c+1,isRowHasError:false};if(c<5){this.getStore().insert(c,e);if(c==4){d.setDisabled(true);}}Ext.getCmp("buildSampleSchedule").setDisabled(false);},onRemoveClick:function(d,h,c,g){var k=this.getStore();k.removeAt(h);var l=k.getCount();for(var f=h;f<l;f++){var e=k.getAt(f);e.set("sequence",f+1);}var j=Ext.getCmp("addRowButton");if(l<5&&j.isDisabled()){j.setDisabled(false);}if(l===0){Ext.getCmp("buildSampleSchedule").setDisabled(true);}}});};})();(function(){var a=SVMX.Package("com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("PMPLAN");Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased.ConditionRuleCriteriaBased",{extend:"Ext.form.FormPanel",constructor:function(c){c=Ext.apply({title:b.T("TAG027","Condition Rules")},c||{});this.callParent([c]);},initComponent:function(){this.callParent(arguments);var c=Ext.create("Ext.data.Store",{storeId:"Field_List_Store_CB",fields:["fieldApiName","fieldLabel","dataType","category","attributeType"],groupField:"category",});this.__grid=SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased.ConditionRuleGrid",{__fieldStore:c});this.add(this.__grid);}});Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased.ConditionRuleGrid",{extend:"com.servicemax.client.ui.components.composites.impl.SVMXListComposite",xtype:"cell-editing",frame:true,__fieldStore:null,__rowData:null,viewConfig:{markDirty:false},initComponent:function(){this.fieldCombo=new SVMX.create("com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.GroupComboBox",{id:"fieldComboCmp_CB",typeAhead:true,queryMode:"local",triggerAction:"all",selectOnTab:true,store:this.__fieldStore,displayField:"fieldLabel",valueField:"fieldApiName",groupField:"category",editable:false});var c=Ext.create("Ext.data.Store",{fields:["label","value","type"],data:{items:[{label:b.T("COMM_TAG010","Equals"),value:"eq",type:"TEXT_PICKLIST"},{label:b.T("COMM_TAG011","Greater Than"),value:"gt",type:""},{label:b.T("COMM_TAG012","Less Than"),value:"lt",type:""}]},proxy:{type:"memory",reader:{type:"json",root:"items"}}});this.operatorCombo=new Ext.form.field.ComboBox({id:"operatorComboCmp_CB",typeAhead:true,triggerAction:"all",queryMode:"local",selectOnTab:true,displayField:"label",store:c,valueField:"value",editable:false,__parent:this,listeners:{expand:function(f){var e=f.__parent.__rowData.selectedField;var h=Ext.getStore("Field_List_Store_CB");var i=h.findRecord("fieldApiName",e,0,false,true,true);var g=i&&i.getData().dataType.toUpperCase();if(e!==null&&e!==""){if(g==="TEXT"||g==="PICKLIST"){f.store.filter("type","TEXT_PICKLIST");}}}},listConfig:{getInnerTpl:function(e){return"{[Ext.String.htmlEncode(values."+e+")]}";}}});var d=Ext.create("Ext.data.Store",{storeId:"TA_PA_Store",fields:["fieldApiName","label","value"]});this.TA_PA_Combo=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXPicklist",{id:"TA_PA_ComboCmp",store:d,queryMode:"local",displayField:"label",valueField:"value",editable:false,__parent:this,listeners:{expand:function(f){var e=f.__parent.__rowData.selectedField;if(e!==null&&e!==""){f.store.filter("fieldApiName",e);
}}},listConfig:{getInnerTpl:function(e){return"{[Ext.String.htmlEncode(values."+e+")]}";}}});this.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,__parent:this,listeners:{beforeedit:function(g,i){this.__parent.__rowData=i.record.data;var f=Ext.getCmp("operatorComboCmp_CB");f.store.clearFilter();var h=Ext.getCmp("TA_PA_ComboCmp");h.store.clearFilter();},edit:function(h,j){if(j.field==="selectedField"){var i=j.value;var g=j.originalValue;var f="";var l="";var k=Ext.getStore("Field_List_Store_CB");var m=k.findRecord("fieldApiName",i,0,false,true,true);var l=m&&m.getData().dataType.toUpperCase();if(g!==""&&g!==null){m=k.findRecord("fieldApiName",g,0,false,true,true);f=m&&m.getData().dataType.toUpperCase();}if((l==="TEXT"||l==="PICKLIST")&&(f!==""&&(f==="NUMBER"||f==="DATE"))){j.record.set("selectedOperator","");}else{if((l==="NUMBER"||l==="DATE")&&(f!==""&&(f==="TEXT"||f==="PICKLIST"))){j.record.set("selectedOperator","");}}if(f!==""&&(l!==f)){j.record.set("value","");}else{if(l==="PICKLIST"&&f!==""&&(l===f)&&(i!==g)){j.record.set("value","");}}}}}});this.comboBoxRenderer=function(e){return function(g){var f=e.store.find(e.valueField,g);var h=e.store.getAt(f);return((h===null||h===undefined)?"":h.get(e.displayField));};};Ext.apply(this,{width:600,plugins:[this.cellEditing],store:new Ext.data.Store({storeId:"Condition_Rule_Store_CB",fields:["isRowHasError","conditionRuleId","sequence","selectedField","selectedOperator","value"]}),columns:[{xtype:"actioncolumn",width:40,align:"center",sortable:false,menuDisabled:true,items:[{iconCls:"pmplantemplate-delete-row-icon",tooltip:b.T("TAG029","Delete"),scope:this,handler:this.onRemoveClick}]},{header:b.T("TAG014","Sequence"),dataIndex:"sequence",width:80,sortable:false,menuDisabled:true,align:"center"},{header:b.T("TAG015","Attribute"),dataIndex:"selectedField",width:300,align:"center",sortable:false,menuDisabled:true,editor:this.fieldCombo,renderer:this.comboBoxRenderer(this.fieldCombo)},{header:b.T("TAG016","Operator"),dataIndex:"selectedOperator",width:250,align:"center",sortable:false,menuDisabled:true,renderer:this.comboBoxRenderer(this.operatorCombo),__parent:this,getEditor:function(e){var f=e.data.selectedField;if(f!==null&&f!==""){return this.__parent.operatorCombo;}}},{header:b.T("TAG063","Value"),dataIndex:"value",width:470,align:"center",sortable:false,menuDisabled:true,__parent:this,renderer:function(p,e,l,h,k,q){if(p!=null&&p!=""){var g=l.data.selectedField;var f=Ext.getStore("Field_List_Store_CB");var j=f.findRecord("fieldApiName",g,0,false,true,true);var m=j&&j.getData().dataType.toUpperCase();if(m==="DATE"){var i=new Date(p);var n=("0"+(i.getMonth()+1)).slice(-2);var o=("0"+i.getDate()).slice(-2);return[n,o,i.getFullYear()].join("-");}else{return Ext.String.htmlEncode(p);}}else{return p;}},getEditor:function(e){var g=e.data.selectedField;var i=Ext.getStore("Field_List_Store_CB");var j=i.findRecord("fieldApiName",g,0,false,true,true);var h=j&&j.getData().dataType.toUpperCase();if(h!==null&&h!==""){if(h==="DATE"){var f=Ext.create("Ext.form.field.Date",{format:"m-d-Y",value:Ext.Date.dateFormat(e.data.value,"m-d-Y"),invalidText:b.T("COMM_TAG013","Enter a valid date")});return Ext.create("Ext.grid.CellEditor",{field:f});}else{if(h==="TEXT"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Text",{})});}else{if(h==="NUMBER"){return Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{minValue:0.1,enableKeyEvents:true,nanText:b.T("COMM_TAG014","Enter a valid number"),listeners:{keypress:function(m,l){var k=m.getValue();if(!Ext.isEmpty(k)){if(/\.\d{2,}/.test(k)){l.stopEvent();}}}}})});}else{if(h==="PICKLIST"){return Ext.create("Ext.grid.CellEditor",{field:this.__parent.TA_PA_Combo});}}}}}}}],selModel:{selType:"cellmodel"},bbar:[{text:"+ "+b.T("TAG028","Add row"),id:"addRowButton_CB",scope:this,handler:this.onAddClick,cls:"pmplantemplate-blue-link"}]});this.callParent();},onAddClick:function(d){var c=this.getStore().getCount();var e={sequence:c+1,isRowHasError:false};if(c<5){this.getStore().insert(c,e);if(c==4){d.setDisabled(true);}}Ext.getCmp("buildSampleSchedule").setDisabled(false);},onRemoveClick:function(d,h,c,g){var k=this.getStore();k.removeAt(h);var l=k.getCount();for(var f=h;f<l;f++){var e=k.getAt(f);e.set("sequence",f+1);}var j=Ext.getCmp("addRowButton_CB");if(l<5&&j.isDisabled()){j.setDisabled(false);}if(l===0){Ext.getCmp("buildSampleSchedule").setDisabled(true);}}});};})();(function(){var a=SVMX.Package("com.servicemax.client.pmplantemplate.ui.desktop.impl");a.Class("Module",com.servicemax.client.lib.api.ModuleActivator,{__constructor:function(){this.__base();},beforeInitialize:function(){},initialize:function(){},afterInitialize:function(){com.servicemax.client.pmplantemplate.ui.desktop.api.init();com.servicemax.client.pmplantemplate.ui.desktop.conditionRule.init();com.servicemax.client.pmplantemplate.ui.desktop.scheduleWindow.init();com.servicemax.client.pmplantemplate.ui.desktop.conditionRuleCriteriaBased.init();
}},{instance:null});})();(function(){var a=SVMX.Package("com.servicemax.client.pmplantemplate.ui.desktop.scheduleWindow");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("PMPLAN");Ext.define("com.servicemax.client.pmplantemplate.ui.desktop.scheduleWindow.ScheduleWindow",{extend:"Ext.window.Window",id:"scheduleWindow",border:0,resizable:false,modal:true,closable:true,constructor:function(c){c=Ext.apply({title:b.T("TAG056","Sample Schedules")},c||{});this.callParent([c]);},initComponent:function(){this.callParent(arguments);var e=this;var d=SVMX.create("Ext.form.FormPanel",{id:"schedulePanel",collapsible:false,region:"center",width:"calc(100% - 20px)",border:false,layout:"anchor",layout:{type:"anchor",align:"stretch"},margin:"0 10px",style:{top:"20px"}});var c=Ext.create("Ext.data.Store",{storeId:"Schedule_List_Store",fields:["scheduleName"]});var g=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXLabel",{text:(this.conditionTypeValue=="Usage_Frequency")?b.T("TAG055","These are some sample schedules for the condition defined. There may be more."):b.T("TAG066","This is the sample schedule for the condition defined."),style:{fontSize:"14px"}});d.add(g);var f=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXListComposite",{store:c,margin:"15px 0px 10px 0px",autoScroll:true,maxHeight:440,columns:[{text:b.T("TAG057","Schedule Output"),dataIndex:"scheduleName",sortable:false,menuDisabled:true,align:"center",flex:1,renderer:function(i,h){h.style="white-space: normal;";return Ext.String.htmlEncode(i);}}]});d.add(f);e.add(d);},loadDataInStore:function(d){var c=Ext.data.StoreManager.lookup("Schedule_List_Store");c.loadData(d);}});};})();