(function(){var a=SVMX.Package("com.servicemax.client.entitlement.ui.desktop.api.setting");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("ENTITLEMENT");Ext.define("com.servicemax.client.entitlement.ui.desktop.api.SettingPanel",{extend:"com.servicemax.client.ui.components.composites.impl.SVMXWindow",hidden:true,width:"60%",layout:"anchor",closable:true,closeAction:"hide",resizable:false,autoScroll:true,cls:"entitlement-root-container",__settingObj:null,header:{titleAlign:"center",},listeners:{hide:function(d,c){d.hide();Ext.getCmp("savesettingBtn").setDisabled(true);d.__parent.enable();}},constructor:function(c){if(window.innerHeight<675){this.height=350;}this.center();this.callParent([c]);},initComponent:function(){this.callParent(arguments);var o=this;o.__settingObj=o.__engine.getEntitlementSettings();var q=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{layout:{type:"column",},collapsible:false,border:false,margin:"30 0 0 30",listeners:{change:function(r,s){j.setDisabled(false);},afterlayout:function(r,t,s){o.updateAccountProductSettings(o.__settingObj.entitleUsingAccountOrProduct);}}});var i=SVMX.create("Ext.form.RadioGroup",{columns:3,vertical:true,width:"100%",items:[{boxLabel:b.T("TAG090","Dates"),inputValue:"Dates",name:"considerCountersOrDates",id:"attributeDates",checked:o.__settingObj.considerCountersOrDates=="Dates",},{boxLabel:b.T("TAG091","Counters"),inputValue:"Counters",name:"considerCountersOrDates",id:"attributeCounter",checked:o.__settingObj.considerCountersOrDates=="Counters",},{boxLabel:b.T("TAG092","Both"),inputValue:"Both",name:"considerCountersOrDates",id:"attributeBoth",checked:o.__settingObj.considerCountersOrDates=="Both",}],listeners:{change:function(r,s){j.setDisabled(false);o.__settingObj.considerCountersOrDates=s.considerCountersOrDates;}}});var e=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXCheckboxGroup",{columns:1,fieldLabel:b.T("TAG064","Validity"),width:"50%",labelAlign:"top",items:[{boxLabel:b.T("TAG032","Show Future Entitlements"),checked:o.stringToBoolean(o.__settingObj.showFutureEntitlement),inputValue:"showFutureEntitlement",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.showFutureEntitlement=t;}}},{boxLabel:b.T("TAG034","Show Expired Entitlements"),checked:o.stringToBoolean(o.__settingObj.showExpiredEntitlement),inputValue:"showExpiredEntitlement",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.showExpiredEntitlement=t;}}}],listeners:{change:function(r,s){j.setDisabled(false);}}});var p=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{columns:1,width:"50%",header:false,bodyBorder:false,border:false,items:[e,i,],});q.add(p);var f=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXCheckboxGroup",{columns:1,});q.add(f);var h=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXCheckboxGroup",{columns:1,vertical:true,fieldLabel:b.T("TAG078","Matching"),labelAlign:"top",width:"50%",items:[{boxLabel:b.T("TAG036","Match Account"),checked:o.stringToBoolean(o.__settingObj.matchAccount),inputValue:"matchAccount",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.matchAccount=t;}}},{boxLabel:b.T("TAG038","Match Contact"),checked:o.stringToBoolean(o.__settingObj.matchContact),inputValue:"matchContact",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.matchContact=t;}}},{boxLabel:b.T("TAG076","Match Location"),checked:o.stringToBoolean(o.__settingObj.matchLocation),inputValue:"matchLocation",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.matchLocation=t;}}}],listeners:{change:function(r,s){j.setDisabled(false);}}});q.add(h);o.add(q);o.add({xtype:"container",style:"border:1px solid #A1A1A1 !important",margin:"20 30 20 30",});var g=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{layout:{type:"column",},collapsible:false,margin:"0 0 0 30",border:false});var d=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXCheckboxGroup",{columns:2,vertical:true,fieldLabel:b.T("TAG065","Product Attributes"),labelAlign:"top",width:"50%",items:[{boxLabel:b.T("TAG033","Parent Product"),checked:o.stringToBoolean(o.__settingObj.coverageOnParentProduct),inputValue:"coverageOnParentProduct",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnParentProduct=t;}}},{boxLabel:b.T("TAG035","Top-Level Product"),checked:o.stringToBoolean(o.__settingObj.coverageOnTopLevelProduct),inputValue:"coverageOnTopLevelProduct",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnTopLevelProduct=t;}}},{boxLabel:b.T("TAG037","Child Product"),checked:o.stringToBoolean(o.__settingObj.coverageOnChildProduct),inputValue:"coverageOnChildProduct",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnChildProduct=t;
}}},{boxLabel:b.T("TAG039","Part Number"),checked:o.stringToBoolean(o.__settingObj.coverageOnPartProduct),inputValue:"coverageOnPartProduct",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnPartProduct=t;}}},{boxLabel:b.T("TAG041","Product Family"),checked:o.stringToBoolean(o.__settingObj.coverageOnProductFamily),inputValue:"coverageOnProductFamily",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnProductFamily=t;}}},{boxLabel:b.T("TAG042","Product Line"),checked:o.stringToBoolean(o.__settingObj.coverageOnProductLine),inputValue:"coverageOnProductLine",name:"settingvalues",height:30,listeners:{change:function(s,t,r){o.__settingObj.coverageOnProductLine=t;}}},],listeners:{change:function(r,s){j.setDisabled(false);}}});g.add(d);var k=SVMX.create("Ext.form.RadioGroup",{columns:2,vertical:true,fieldLabel:b.T("TAG040","Entitle Using"),labelAlign:"top",width:"68%",items:[{boxLabel:b.T("TAG010","Account"),name:"entitleUsingAccountOrProduct",inputValue:"Account",id:"entitleUsingAccount",disabled:!o.stringToBoolean(o.__settingObj.allowEntitlementFilters),checked:o.__settingObj.entitleUsingAccountOrProduct=="Account",},{boxLabel:b.T("TAG003","Product"),name:"entitleUsingAccountOrProduct",inputValue:"Product",id:"entitleUsingProduct",disabled:!o.stringToBoolean(o.__settingObj.allowEntitlementFilters),checked:o.__settingObj.entitleUsingAccountOrProduct=="Product",},],listeners:{change:function(r,s){j.setDisabled(false);o.__settingObj.entitleUsingAccountOrProduct=s.entitleUsingAccountOrProduct;o.updateAccountProductSettings(s.entitleUsingAccountOrProduct);}}});var m=SVMX.create("Ext.form.RadioGroup",{columns:3,vertical:true,width:"100%",id:"warrantyServiceContractGroup",items:[{boxLabel:b.T("TAG094","Service Contract"),checked:o.__settingObj.entUsingWarrantyOrSC=="Service Contract",inputValue:"Service Contract",height:30,id:"entitleUsingSC",name:"entUsingWarrantyOrSC",},{boxLabel:b.T("TAG093","Warranty"),checked:o.__settingObj.entUsingWarrantyOrSC=="Warranty",inputValue:"Warranty",height:30,id:"entitleUsingWarranty",name:"entUsingWarrantyOrSC",},{boxLabel:b.T("TAG092","Both"),checked:o.__settingObj.entUsingWarrantyOrSC=="Both",inputValue:"Both",height:30,id:"entitleUsingBoth",name:"entUsingWarrantyOrSC",}],listeners:{change:function(r,s){j.setDisabled(false);o.__settingObj.entUsingWarrantyOrSC=s.entUsingWarrantyOrSC;}}});var c=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXSection",{columns:1,width:"50%",header:false,bodyBorder:false,border:false,items:[k,m],});g.add(c);o.add(g);o.add({xtype:"container",style:"border:1px solid #A1A1A1 !important;",margin:"20 30 20 30",});var n=SVMX.create("com.servicemax.client.ui.components.composites.impl.SVMXToolbar",{width:"100%",dock:"bottom",border:false});var l=SVMX.create("Ext.Toolbar.Fill",{});n.add(l);var j=SVMX.create("com.servicemax.client.ui.components.controls.impl.SVMXButton",{text:b.T("TAG066","Apply"),disabled:true,scale:"medium",id:"savesettingBtn",height:30,handler:function(){j.setDisabled(true);o.hide();o.__parent.enable();Ext.getCmp("checkentitlement").el.dom.click();},});n.add(j);o.add(n);},stringToBoolean:function(c){if(c!=null){switch(c.toLowerCase().trim()){case"true":case"yes":case"1":return true;case"false":case"no":case"0":case null:return false;default:return Boolean(c);}}},updateAccountProductSettings:function(c){if(c!=null&&c=="Account"){Ext.getCmp("entitleUsingWarranty").hide();Ext.getCmp("entitleUsingBoth").hide();Ext.getCmp("attributeCounter").hide();Ext.getCmp("attributeBoth").hide();Ext.getCmp("attributeDates").setValue(true);Ext.getCmp("entitleUsingSC").setValue(true);}else{Ext.getCmp("entitleUsingWarranty").show();Ext.getCmp("entitleUsingBoth").show();Ext.getCmp("attributeCounter").show();Ext.getCmp("attributeBoth").show();}}});};})();