(function(){var a=SVMX.Package("com.servicemax.client.featurepermission.api");a.init=function(){a.Class("Application",com.servicemax.client.lib.api.AbstractApplication,{__constructor:function(){},beforeRun:function(b){var c=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.niservice").getInstance();this.__eventBus=SVMX.create("com.servicemax.client.featurepermission.impl.EventBus",{});c.createNamedInstanceAsync("CONTROLLER",{handler:function(d){c.createNamedInstanceAsync("MODEL",{handler:function(e){d.setModel(e);},context:this});},context:this,additionalParams:{eventBus:this.__eventBus}});b.handler.call(b.context);},getEventBus:function(){return this.__eventBus;},run:function(){this.getMetaData();},getMetaData:function(){this.blockUI();var b=SVMX.create("com.servicemax.client.lib.api.Event","FEATUREPERMISSION.GET_META_DATA",this,{request:{context:this,}});SVMX.getCurrentApplication().getEventBus().triggerEvent(b);},onGetMetaDataComplete:function(b){var c=this;c.unblockUI();c.__processTranslations(b.translations);SVMX.create("com.servicemax.client.featurepermission.root.RootPanel",{collapsible:false,titleAlign:"center",frame:"true",metaData:b,app:c});},__processTranslations:function(e){var c,d=e.length;var b={};for(c=0;c<d;c++){b[e[c].Key]=Ext.String.htmlEncode(e[c].Text);}window.$TR=b;},blockUI:function(){if(this.__spinner){this.__spinner.spin($("#"+SVMX.getDisplayRootId())[0]);}else{var c=window.innerHeight/2-100;var b={lines:25,length:25,width:5,radius:30,corners:1,rotate:0,direction:1,color:"#ffa384",speed:3,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:c};this.__spinner=new Spinner(b).spin($("#"+SVMX.getDisplayRootId())[0]);}},unblockUI:function(){this.__spinner.stop();},});};})();