(function(){var a=SVMX.Package("com.servicemax.client.spm.ui.desktop.api.general");a.init=function(){var c=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SPM");var b=function(d){if(d=="First Time Fix"){return c.T("TAG077","First Time Fix");}else{if(d=="Mean Time To Repair"){return c.T("TAG078","Mean Time To Repair");}else{if(d=="Contract Up Time"){return c.T("TAG079","Contract Up Time");}else{if(d=="Attach Rate"){return c.T("TAG080","Attach Rate");}else{if(d=="Mean Time To Complete"){return c.T("TAG081","Mean Time To Complete");}else{if(d=="Average Response Time"){return c.T("TAG082","Average Response Time");}else{if(d=="Utilization"){return c.T("TAG083","Utilization");}else{if(d=="Repeat Visit"){return c.T("TAG084","Repeat Visit");}else{if(d=="Account Summary"){return c.T("TAG085","Account Summary");}else{return d;}}}}}}}}}};Ext.define("com.servicemax.client.spm.ui.general.General",{extend:"com.servicemax.client.ui.components.composites.impl.SVMXSection",alias:"widget.spm.general",cls:"spm-edit-process-panel",layout:"anchor",header:false,border:false,cls:"spm-genral-tab",initComponent:function(){this.callParent(arguments);var h=this.metaModel.getProcessList()||[];var g,e=h.length,f=[];for(g=0;g<e;g++){var d={xtype:"svmx.tabpanel",anchor:"100% 100%",border:false,title:b(h[g].processName),activeTab:0,defaults:{autoScroll:true,frame:false,border:false,padding:"0 0 0 0"},items:[{xtype:"spm.report",tooltip:b(h[g].processName),cls:"spm-report-general-"+g,title:c.T("TAG005","General"),processId:h[g].processId,tabPanelId:"tabPanel_"+g,__parent:this,listeners:{activate:SVMX.proxy(this,function(j,i){this.metaModel.getProcessConfig(j.processId,function(k){if(j.loadData){j.loadData(k);}});})}},{xtype:"spm.schedule",cls:"spm-report-config-schedule-tab",__parent:this,metaModel:this.metaModel,title:c.T("TAG003","Schedule & Notifications"),processId:h[g].processId,tooltip:c.T("TAG058","Schedule & Notifications"),listeners:{activate:SVMX.proxy(this,function(j,i){this.metaModel.getProcessConfig(j.processId,function(k){if(j.loadRecord){j.loadRecord({data:k.records[0]});}});})}},{xtype:"spm.status",cls:"spm-report-config-status-tab",title:c.T("TAG004","Status"),metaModel:this.metaModel,processId:h[g].processId,tooltip:c.T("TAG059","Status"),listeners:{activate:function(j,i){if(j.onActivate){j.onActivate();}}}}],tabBar:{items:[{xtype:"tbfill"},{xtype:"component",margin:"5 5 5 5",autoEl:{tag:"a",align:"right",target:"_blank",style:"text-decoration: underline !important;",href:"/../../"+h[g].dashboardId,html:(h[g].dashboardId)?c.T("TAG030","Launch Dashboard"):""}}]}};f.push(d);}this.tabPanel=this.add({xtype:"svmx.tabpanel",anchor:"100% 100%",border:false,cls:"spm-tabs-left",tabPosition:"left",itemId:"spm-general-tab-items-container",defaults:{autoScroll:true,frame:false,border:false,padding:"0 0 0 0"},items:f,activeTab:0});},saveProcessConfig:function(d,f){var e=this;if(d.appliesTo||d.scheduleInfo){e.metaModel.saveProcessConfig(d,function(g){Ext.Msg.alert(g.success?"Success":"Failed",g.message);if(g.success){var h=e.tabPanel.getActiveTab().getActiveTab();if(h.loadData){e.metaModel.getProcessConfig(d.processId,function(i){h.loadData(i);},true);}}});}else{Ext.Msg.alert("Failed",c.T("TAG064","Invalid description field value."));}},deleteProcessConfig:function(d,f){var e=this;e.metaModel.deleteProcessConfig(d,function(g){Ext.Msg.alert(g.success?"Success":"Failed",g.message);if(g.success){var h=e.tabPanel.getActiveTab().getActiveTab();if(h.loadData){e.metaModel.getProcessConfig(d.processId,function(i){h.loadData(i);},true);}}});}});};})();