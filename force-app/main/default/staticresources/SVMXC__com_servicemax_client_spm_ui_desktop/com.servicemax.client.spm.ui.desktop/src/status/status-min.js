(function(){var a=SVMX.Package("com.servicemax.client.spm.ui.desktop.api.status");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SPM");Ext.define("com.servicemax.client.spm.ui.status.Status",{extend:"Ext.panel.Panel",alias:"widget.spm.status",title:b.T("TAG004","Status"),layout:"fit",cls:"spm-report-config-status",initComponent:function(){this.callParent(arguments);var c=this.add({itemId:this.itemId+"_grid",anchor:"100%",autoScroll:true,xtype:"gridpanel",title:"SPM Schedule Jobs",disableSelection:true,header:false,columns:[{text:b.T("TAG023","Job"),dataIndex:"recordId",flex:1,renderer:function(f,d,e){return'<a target="_blank" href="{/../../'+f+'">'+e.get("jobName")+"</a>";}},{text:b.T("TAG025","Start Time"),dataIndex:"startTime",flex:1},{text:b.T("TAG026","End Time"),dataIndex:"endTime",flex:1},{text:b.T("TAG027","Job Status"),dataIndex:"status",align:"center",renderer:function(d,e){if(d.toUpperCase()=="SUCCESS"){e.style="background-color:lightgreen;align:center";d=b.T("TAG047","SUCCESS");}else{e.style="background-color:#F75D59;";d=b.T("TAG048","FAILED");}return d;}},{text:b.T("TAG028","Attachment"),dataIndex:"attachment",flex:1,renderer:function(d){if(d&&d.startsWith("068")){return'<a target="_blank" href="{/../../sfc/servlet.shepherd/version/download/'+d+'">'+b.T("TAG046","View")+"</a>";}else{return'<a target="_blank" href="{/../../servlet/servlet.FileDownload?file='+d+'">'+b.T("TAG046","View")+"</a>";}}}],store:Ext.create("Ext.data.Store",{storeId:this.itemId+"_store",fields:["recordId","jobName","processId","reportName","startTime","endTime","status","attachment"],proxy:{type:"memory"}}),});},onActivate:function(){this.metaModel.getSPMJobs(this.processId,SVMX.proxy(this,function(c){this.items.get(this.itemId+"_grid").store.loadData(c);}));}});};})();