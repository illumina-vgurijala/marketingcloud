<!DOCTYPE html>
<!-- 2012 Copyright InGenius Software, Inc. -->
<html>

<head>
	<title>ICE Resiliency</title>

	<script type="text/javascript">
        // Console-polyfill. MIT license.
// https://github.com/paulmillr/console-polyfill
// Make it safe to do console.log() always.
!function(e){"use strict";e.console||(e.console={});for(var o,i,n=e.console,r=function(){},t=["memory"],l="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");o=t.pop();)n[o]||(n[o]={});for(;i=l.pop();)n[i]||(n[i]=r)}("undefined"==typeof window?this:window);
Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var r=Object(this),e=r.length>>>0,i=arguments[1],n=i>>0,o=n<0?Math.max(e+n,0):Math.min(n,e),a=arguments[2],l=void 0===a?e:a>>0,h=l<0?Math.max(e+l,0):Math.min(l,e);o<h;)r[o]=t,o++;return r}});
Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),e=t.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<e;){var i=t[o];if(r.call(n,i,o,t))return i;o++}}});
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(r){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),t=e.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<t;){var i=e[o];if(r.call(n,i,o,e))return o;o++}return-1}});
Array.from||(Array.from=function(){var r=Object.prototype.toString,n=function(n){return"function"==typeof n||"[object Function]"===r.call(n)},t=function(r){var n=Number(r);return isNaN(n)?0:0!==n&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n},e=Math.pow(2,53)-1,o=function(r){var n=t(r);return Math.min(Math.max(n,0),e)};return function(r){var t=this,e=Object(r);if(null==r)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!n(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var u,f=o(e.length),c=n(t)?Object(new t(f)):new Array(f),h=0;h<f;)u=e[h],c[h]=i?void 0===a?i(u,h):i.call(a,u,h):u,h+=1;return c.length=f,c}}());
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(0===n)return!1;for(var i=0|e,o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;){if(function(r,e){return r===e||"number"==typeof r&&"number"==typeof e&&isNaN(r)&&isNaN(e)}(t[o],r))return!0;o++}return!1}});
Number.isFinite=Number.isFinite||function(i){return"number"==typeof i&&isFinite(i)};
Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1);
Number.MIN_SAFE_INTEGER||(Number.MIN_SAFE_INTEGER=-(Math.pow(2,53)-1));
"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},writable:!0,configurable:!0});
"function"!=typeof Object.entries&&Object.defineProperty(Object,"entries",{value:function(e){return Object.keys(e).reduce(function(t,n){t.concat("string"==typeof n?[[n,e[n]]]:[])},[])},writable:!0,configurable:!0});
"function"!=typeof Object.values&&Object.defineProperty(Object,"values",{value:function(e){return Object.keys(e).reduce(function(t,n){return t.concat("string"==typeof n?[e[n]]:[])},[])},writable:!0,configurable:!0});
window.Promise||function(n){function t(){}function e(n){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(n,this)}function o(n,t){for(;3===n._state;)n=n._value;if(0===n._state)return void n._deferreds.push(t);n._handled=!0,e._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null===e)return void(1===n._state?r:i)(t.promise,n._value);var o;try{o=e(n._value)}catch(n){return void i(t.promise,n)}r(t.promise,o)})}function r(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof e)return n._state=3,n._value=t,void u(n);if("function"==typeof o)return void c(bind(o,t),n)}n._state=1,n._value=t,u(n)}catch(t){i(n,t)}}function i(n,t){n._state=2,n._value=t,u(n)}function u(n){2===n._state&&0===n._deferreds.length&&e._immediateFn(function(){n._handled||e._unhandledRejectionFn(n._value)});for(var t=0,r=n._deferreds.length;t<r;t++)o(n,n._deferreds[t]);n._deferreds=null}function f(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function c(n,t){var e=!1;try{n(function(n){e||(e=!0,r(t,n))},function(n){e||(e=!0,i(t,n))})}catch(n){if(e)return;e=!0,i(t,n)}}var s=setTimeout;e.prototype.catch=function(n){return this.then(null,n)},e.prototype.then=function(n,e){var r=new this.constructor(t);return o(this,new f(n,e,r)),r},e.prototype.finally=function(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},e.all=function(n){return new e(function(t,e){function o(n,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(t){o(n,t)},e)}r[n]=u,0==--i&&t(r)}catch(n){e(n)}}if(!n||void 0===n.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(n);if(0===r.length)return t([]);for(var i=r.length,u=0;u<r.length;u++)o(u,r[u])})},e.resolve=function(n){return n&&"object"==typeof n&&n.constructor===e?n:new e(function(t){t(n)})},e.reject=function(n){return new e(function(t,e){e(n)})},e.race=function(n){return new e(function(t,e){for(var o=0,r=n.length;o<r;o++)n[o].then(t,e)})},e._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){s(n,0)},e._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)},n.Promise=e}(window);
String.prototype.endsWith||(String.prototype.endsWith=function(t,n){return(void 0===n||n>this.length)&&(n=this.length),this.substring(n-t.length,n)===t});
String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)});
String.prototype.padEnd||(String.prototype.padEnd=function(t,n){return t>>=0,n=String(void 0!==n?n:" "),this.length>t?String(this):(t-=this.length,t>n.length&&(n+=n.repeat(t/n.length)),String(this)+n.slice(0,t))});
String.prototype.padStart||(String.prototype.padStart=function(t,i){return t>>=0,i=String(void 0!==i?i:" "),this.length>t?String(this):(t-=this.length,t>i.length&&(i+=i.repeat(t/i.length)),i.slice(0,t)+String(this))});
String.prototype.repeat||(String.prototype.repeat=function(t){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var r=""+this;if(t=+t,t!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==r.length||0==t)return"";if(r.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var e="",n=0;n<t;n++)e+=r;return e});
String.prototype.startsWith||(String.prototype.startsWith=function(t,r){return this.substr(!r||r<0?0:+r,t.length)===t});
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Reflect;!function(t){!function(e){function r(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=r(t);void 0===n.Reflect?n.Reflect=t:o=r(n.Reflect,o),function(t){function e(t,e,r,n){if(m(r)){if(!S(t))throw new TypeError;if(!I(e))throw new TypeError;return h(t,e)}if(!S(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(n)&&!m(n)&&!E(n))throw new TypeError;return E(n)&&(n=void 0),r=P(r),p(t,e,r,n)}function r(t,e){function r(r,n){if(!O(r))throw new TypeError;if(!m(n)&&!K(n))throw new TypeError;w(t,e,r,n)}return r}function n(t,e,r,n){if(!O(r))throw new TypeError;return m(n)||(n=P(n)),w(t,e,r,n)}function o(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=P(r)),l(t,e,r)}function i(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=P(r)),v(t,e,r)}function u(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=P(r)),_(t,e,r)}function f(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=P(r)),d(t,e,r)}function a(t,e){if(!O(t))throw new TypeError;return m(e)||(e=P(e)),g(t,e)}function c(t,e){if(!O(t))throw new TypeError;return m(e)||(e=P(e)),b(t,e)}function s(t,e,r){if(!O(e))throw new TypeError;m(r)||(r=P(r));var n=y(e,r,!1);if(m(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var o=et.get(e);return o.delete(r),o.size>0||(et.delete(e),!0)}function h(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],o=n(e);if(!m(o)&&!E(o)){if(!I(o))throw new TypeError;e=o}}return e}function p(t,e,r,n){for(var o=t.length-1;o>=0;--o){var i=t[o],u=i(e,r,n);if(!m(u)&&!E(u)){if(!O(u))throw new TypeError;n=u}}return n}function y(t,e,r){var n=et.get(t);if(m(n)){if(!r)return;n=new Z,et.set(t,n)}var o=n.get(e);if(m(o)){if(!r)return;o=new Z,n.set(e,o)}return o}function l(t,e,r){if(v(t,e,r))return!0;var n=W(e);return!E(n)&&l(t,n,r)}function v(t,e,r){var n=y(e,r,!1);return!m(n)&&M(n.has(t))}function _(t,e,r){if(v(t,e,r))return d(t,e,r);var n=W(e);return E(n)?void 0:_(t,n,r)}function d(t,e,r){var n=y(e,r,!1);if(!m(n))return n.get(t)}function w(t,e,r,n){y(r,n,!0).set(t,e)}function g(t,e){var r=b(t,e),n=W(t);if(null===n)return r;var o=g(n,e);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new $,u=[],f=0,a=r;f<a.length;f++){var c=a[f],s=i.has(c);s||(i.add(c),u.push(c))}for(var h=0,p=o;h<p.length;h++){var c=p[h],s=i.has(c);s||(i.add(c),u.push(c))}return u}function b(t,e){var r=[],n=y(t,e,!1);if(m(n))return r;for(var o=n.keys(),i=L(o),u=0;;){var f=C(i);if(!f)return r.length=u,r;var a=U(f);try{r[u]=a}catch(t){try{F(i)}finally{throw t}}u++}}function k(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function m(t){return void 0===t}function E(t){return null===t}function T(t){return"symbol"==typeof t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function j(t,e){switch(k(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=z(t,q);if(void 0!==n){var o=n.call(t,r);if(O(o))throw new TypeError;return o}return x(t,"default"===r?"number":r)}function x(t,e){if("string"===e){var r=t.toString;if(R(r)){var n=r.call(t);if(!O(n))return n}var o=t.valueOf;if(R(o)){var n=o.call(t);if(!O(n))return n}}else{var o=t.valueOf;if(R(o)){var n=o.call(t);if(!O(n))return n}var i=t.toString;if(R(i)){var n=i.call(t);if(!O(n))return n}}throw new TypeError}function M(t){return!!t}function A(t){return""+t}function P(t){var e=j(t,3);return T(e)?e:A(e)}function S(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function R(t){return"function"==typeof t}function I(t){return"function"==typeof t}function K(t){switch(k(t)){case 3:case 4:return!0;default:return!1}}function z(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!R(r))throw new TypeError;return r}}function L(t){var e=z(t,B);if(!R(e))throw new TypeError;var r=e.call(t);if(!O(r))throw new TypeError;return r}function U(t){return t.value}function C(t){var e=t.next();return!e.done&&e}function F(t){var e=t.return;e&&e.call(t)}function W(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===Q)return e;if(e!==Q)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var o=n.constructor;return"function"!=typeof o?e:o===t?e:o}function V(t){return t.__=void 0,delete t.__,t}var D=Object.prototype.hasOwnProperty,Y="function"==typeof Symbol,q=Y&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",B=Y&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",G="function"==typeof Object.create,H={__proto__:[]}instanceof Array,J=!G&&!H,N={create:G?function(){return V(Object.create(null))}:H?function(){return V({__proto__:null})}:function(){return V({})},has:J?function(t,e){return D.call(t,e)}:function(t,e){return e in t},get:J?function(t,e){return D.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},Q=Object.getPrototypeOf(Function),X="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,Z=X||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){function t(t,e){return t}function e(t,e){return e}function r(t,e){return[t,e]}var n={},o=[],i=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[B]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=o,this._values=o):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=o,this._values=o),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=o,this._values=o),{value:t,done:!0}},t}();return function(){function o(){this._keys=[],this._values=[],this._cacheKey=n,this._cacheIndex=-2}return Object.defineProperty(o.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),o.prototype.has=function(t){return this._find(t,!1)>=0},o.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},o.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},o.prototype.delete=function(t){var e=this._find(t,!1);if(e>=0){for(var r=this._keys.length,o=e+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=n,this._cacheIndex=-2),!0}return!1},o.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=n,this._cacheIndex=-2},o.prototype.keys=function(){return new i(this._keys,this._values,t)},o.prototype.values=function(){return new i(this._keys,this._values,e)},o.prototype.entries=function(){return new i(this._keys,this._values,r)},o.prototype["@@iterator"]=function(){return this.entries()},o.prototype[B]=function(){return this.entries()},o.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},o}()}():Map,$=X||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function t(){this._map=new Z}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[B]=function(){return this.keys()},t}()}():Set,tt=X||"function"!=typeof WeakMap?function(){function t(){var t;do{t="@@WeakMap@@"+o()}while(N.has(u,t));return u[t]=!0,t}function e(t,e){if(!D.call(t,f)){if(!e)return;Object.defineProperty(t,f,{value:N.create()})}return t[f]}function r(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function n(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):r(new Uint8Array(t),t):r(new Array(t),t)}function o(){var t=n(i);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",r=0;r<i;++r){var o=t[r];4!==r&&6!==r&&8!==r||(e+="-"),o<16&&(e+="0"),e+=o.toString(16).toLowerCase()}return e}var i=16,u=N.create(),f=t();return function(){function r(){this._key=t()}return r.prototype.has=function(t){var r=e(t,!1);return void 0!==r&&N.has(r,this._key)},r.prototype.get=function(t){var r=e(t,!1);return void 0!==r?N.get(r,this._key):void 0},r.prototype.set=function(t,r){return e(t,!0)[this._key]=r,this},r.prototype.delete=function(t){var r=e(t,!1);return void 0!==r&&delete r[this._key]},r.prototype.clear=function(){this._key=t()},r}()}():WeakMap,et=new tt;t("decorate",e),t("metadata",r),t("defineMetadata",n),t("hasMetadata",o),t("hasOwnMetadata",i),t("getMetadata",u),t("getOwnMetadata",f),t("getMetadataKeys",a),t("getOwnMetadataKeys",c),t("deleteMetadata",s)}(o)}()}(Reflect||(Reflect={}));
!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=21)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingScopeEnum=i;var r={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.BindingTypeEnum=r;var o={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};e.TargetTypeEnum=o},function(t,e,n){"use strict";function i(t,e,n,i){o(u.TAGGED,t,e,i,n)}function r(t,e,n){o(u.TAGGED_PROP,t.constructor,e,n)}function o(t,e,n,i,r){var o={},a="number"==typeof r,s=void 0!==r&&a?r.toString():n;if(a&&void 0!==n)throw new Error(l.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var c=o[s];if(Array.isArray(c))for(var u=0,h=c;u<h.length;u++){var d=h[u];if(d.key===i.key)throw new Error(l.DUPLICATED_METADATA+" "+d.key)}else c=[];c.push(i),o[s]=c,Reflect.defineMetadata(t,o,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,i){e(n,i,t)}}function c(t,e,n){"number"==typeof n?a([s(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),u=n(0);e.tagParameter=i,e.tagProperty=r,e.decorate=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.METADATA_KEY=i;var r=n(23);e.Container=r.Container;var o=n(3);e.BindingScopeEnum=o.BindingScopeEnum,e.BindingTypeEnum=o.BindingTypeEnum,e.TargetTypeEnum=o.TargetTypeEnum;var a=n(39);e.AsyncContainerModule=a.AsyncContainerModule,e.ContainerModule=a.ContainerModule;var s=n(40);e.injectable=s.injectable;var c=n(41);e.tagged=c.tagged;var l=n(42);e.named=l.named;var u=n(14);e.inject=u.inject,e.LazyServiceIdentifer=u.LazyServiceIdentifer;var h=n(43);e.optional=h.optional;var d=n(44);e.unmanaged=d.unmanaged;var p=n(45);e.multiInject=p.multiInject;var g=n(46);e.targetName=g.targetName;var f=n(47);e.postConstruct=f.postConstruct;var y=n(12);e.MetadataReader=y.MetadataReader;var I=n(6);e.guid=I.guid;var _=n(4);e.decorate=_.decorate;var S=n(17);e.traverseAncerstors=S.traverseAncerstors,e.taggedConstraint=S.taggedConstraint,e.namedConstraint=S.namedConstraint,e.typeConstraint=S.typeConstraint;var m=n(7);e.getServiceIdentifierAsString=m.getServiceIdentifierAsString;var v=n(48);e.multiBindToService=v.multiBindToService},function(t,e,n){"use strict";function i(){function t(){return Math.floor(65536*(Math.random()+1)).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}Object.defineProperty(e,"__esModule",{value:!0}),e.guid=i},function(t,e,n){"use strict";function i(t){if("function"==typeof t){var e=t;return e.name}if("symbol"==typeof t)return t.toString();var e=t;return e}function r(t,e,n){var i="",r=n(t,e);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach(function(t){var e="Object";null!==t.implementationType&&(e=l(t.implementationType)),i=i+"\n "+e,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)})),i}function o(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||o(t.parentRequest,e))}function a(t){function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}return e(t).reverse().join(" --\x3e ")}function s(t){t.childRequests.forEach(function(t){if(o(t,t.serviceIdentifier)){var e=a(t);throw new Error(u.CIRCULAR_DEPENDENCY+" "+e)}s(t)})}function c(t,e){if(e.isTagged()||e.isNamed()){var n="",i=e.getNamedTag(),r=e.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==r&&r.forEach(function(t){n+=t.toString()+"\n"})," "+t+"\n "+t+" - "+n}return" "+t}function l(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1);e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=r,e.circularDependencyToException=s,e.listMetadataForTarget=c,e.getFunctionName=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new i.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(17),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=r.namedConstraint(t),new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=r.taggedConstraint(t)(e),new i.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return r.typeConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return r.namedConstraint(t)(e.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return r.taggedConstraint(t)(e)(n.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,r.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,r.typeConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,r.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,r.namedConstraint(t))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return r.traverseAncerstors(n,r.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!r.traverseAncerstors(n,r.taggedConstraint(t)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return r.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!r.traverseAncerstors(e,t)},new i.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.DETECTING_INITIAL=1]="DETECTING_INITIAL",t[t.DETECTING=2]="DETECTING",t[t.DETECTING_ALTERNATE=3]="DETECTING_ALTERNATE",t[t.BACKINGOFF=4]="BACKINGOFF",t[t.CONNECTED=5]="CONNECTED",t[t.UNLOADING=6]="UNLOADING",t[t.ERROR=7]="ERROR"}(e.ResiliencyState||(e.ResiliencyState={}));!function(t){t[t.Heartbeat=0]="Heartbeat",t[t.Unloading=1]="Unloading",t[t.Timer=2]="Timer",t[t.Reload=3]="Reload",t[t.SetVisible=4]="SetVisible",t[t.HeartbeatLegacy=5]="HeartbeatLegacy"}(e.ResiliencyEvent||(e.ResiliencyEvent={}))},function(t,e,n){"use strict";function i(t,e){Object.keys(e).forEach(function(n){var r=e[n];"string"==typeof r?e[n]=t+"-"+n:r&&"object"==typeof r&&!Array.isArray(r)&&i(t+"-"+n,r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.ioc={Resiliency:{DefaultHeight:"",DefaultWidth:"",IResiliencyUI:"",IframeContainer:"",Mscrm:{IGlobal:"",IXrmApi:"",IXrmApi82:"",IXrmApi91:"",IXrmApi91Uif:"",IODataApi:"",IEntityInfo:"",IEntityInfoClassic:"",IEntityInfoUif:"",ICtdProcessor:"",ICtdProcessorUif:"",ICtdProcessorClassic:"",ISidebar:"",ISidebarClassic:"",ISidebarCif:"",IMscrmInteraction:"",IInGeniusResiliencyClassic:"",IInGeniusResiliencyCif:"",IResiliencyLinkUsd:"",IResiliencyMscrm:"",IResiliencyUICif:"",IResiliencyUIClassic:"",ODataApiTypeSetMap:"",IIceShouldLoad:"",IIceLoaderDataManager:"",IIceLoader:"",WebResourcePath:""},Name:"",Salesforce:{},ServiceNow:{}},IDialer:"",ICallLogRelated:"",IAjaxUtils:"",IArrayUtils:"",IConversations:"",ILayoutManager:"",IAppStateMutatorExtensions:"",IAppStateMutator:"",IDummyCtorArgument:"",InstanceId:"",IPopRecordsMutator:"",IProxyMessageMutator:"",ICrmEntitySearch:"",ICrmEntityCreator:"",IUiMainView:"",IBootstrapper:"",IMain:"",IQsParams:"",ILogger:"",ICrmClickToDial:"",IClickToDial:"",IScreenPop:"",ICallLogContinuation:"",ICrmScreenPopClassic:"",ICrmScreenPopLightning:"",ICrmScreenPop:"",ICrmCallLogger:"",ICrmCallLoggerClassic:"",ICrmCallLoggerLightning:"",ICrmBookmarkSerializer:"",ILoggerSettings:"",ITranslator:"",ITranslatorBase:"",ISearchCrm:"",IServerLink:"",CrmCallLogTypeName:"",IServerLinkSettings:"",IServerPriorityController:"",IProxyMessageManager:"",IceServerUrl:"",IMutablePrimeManager:"",IPrimeManager:"",ICallCenterSettings:"",IUiCallLogRelated:"",IUiCallLogRelatedFactory:"",IUserSettings:"",ICoreStateManager:"",INewCallProcessor:"",ISharedEventStorage:"",IMultiTabEventSystem:"",LocalStorageMultiTabEventSystem:"",IndexedDbMultiTabEventSystem:"",IEventSystem:"",IInterFrameEventSystem:"",IMscrmInteractionPipe:"",IMscrmInteractionPipeWeb:"",IMscrmInteractionPipeUsd:"",ISoftphoneVisibility:"",ICrmSoftphoneVisibility:"",ICrmSessionInfo:"",ICrmEnvironment:"",IOpenCTIAdapter:"",IOpenCtiLighting:"",IOpenCtiClassic:"",IServiceNowInteraction:"",ITabInfo:"",InitialDeviceState:"",InitialClientStateData:"",InitialUserSettingsData:"",InitialCallCenterSettingsData:"",TranslationData:"",InitialTelephonyMonitiorValues:"",TelephonyMonitorParameters:"",DefaultCallCenterSettingsData:"",IsInClassicNonConsole:"",IsInConsole:"",IsInResiliencySetup:"",IsInLightning:"",IsInFixedUi:"",IUiError:"",IUiErrorView:"",IUiBootstrapErrorView:"",ILogicController:"",CtiApiManager:"",IServerConfig:"",IServerLogger:"",IResiliencyPipe:"",IResiliencyCacheManager:"",ResiliencyFrameOrigin:"",ResiliencyTimeout:"",IRedrawUiTrigger:"",IUiAppVertical:"",ResiliencyCallCenter:"",IBrowserDetector:"",IHeartbeatMonitor:"",MscrmNonce:"",IHelpLinkGenerator:"",IUiConnectionInfo:"",ApexFullPath:"",IDataRow:"",Browser:"",Window:"",IClientStatePersistor:"",IUserSettingsMutator:"",IUiLineSelectorFactory:"",IUiLineSelector:"",IUiSizer:"",IUiSizerBase:"",IBootstrapErrorInfo:"",IUiCondensedLines:"",IUiCondensedLinesFactory:"",NativeSessionStorage:"",NativeLocalStorage:"",SessionStorage:"",LocalStorage:"",PrefixlessLocalStorage:"",IUiTimer:"",ITimer:"",IUiAgentPanelFactory:"",IUiAgentPanel:"",SessionStoragePrefix:"",LocalStoragePrefix:"",IUiCrmUtil:"",ISearchRecordsMutator:"",ISaveRecordsMutator:"",AppStateMutationLockKey:"",SearchRecordsMutatorLockKey:"",PopRecordsMutatorLockKey:"",ProxyMessageMutatorLockKey:"",SaveRecordsMutatorLockKey:"",UserSettingsMutatorLockKey:"",GetEventsTimeout:"",InitialServerStatus:"",ICallCenterSettingsDigester:"",ICrmSoftphoneSize:"",IErrorInfo:"",ResiliencyUserId:"",IUiStartMonitorForm:"",IUiBrandingFactory:"",IUiBranding:"",IUiRouter:"",IUiPrimeIndicator:"",ITranslationDataCache:"",ICallCenterSettingsCache:"",IUiHeader:"",IUiSettingsPage:"",ITelephonyMonitor:"",RtaStoragePrefix:"",ProxyMessagesStorageKey:"",LocalStorageCleaner:"",SessionStorageCleaner:"",IUiLineSettings:"",ITelephonyActor:"",IUiTelephonyActionAdditional:"",IUiNumberPad:"",IUiNumberPadFactory:"",IUiDialerSpeedDials:"",IUiDialerSpeedDialsFactory:"",IUiCallLogTemplates:"",IUiCallLogTemplatesFactory:"",IUiCallTimer:"",IUiCallTimerFactory:"",IUiCallLogResults:"",IUiCallLogResultsFactory:"",IUiCallLogHint:"",IUiCallLogHintFactory:"",IUiCallLogButtons:"",IUiCallLogButtonsFactory:"",IUiAllCalls:"",IUiAllCallsFactory:"",IUiConversations:"",IUiConversationsFactory:"",IUiCallsEnded:"",IUiCallsEndedFactory:"",ISaveCrm:"",ICallLogSave:"",IUiClearAll:"",IUiClearAllFactory:"",IUiPrefillCreate:"",IUiPrefillCreateFactory:"",IUiDialer:"",IUiDialerFactory:"",INavigateCrm:"",IUiDialerOptions:"",IUiDialerOptionsFactory:"",IUiCallLogTitle:"",IUiSettingsConnectivity:"",IUiSettingsCallBehavior:"",IUiSettingsGeneral:"",IUiSettingsSpeedDials:"",IUiSettingsTemplates:"",IUiSettingsReset:"",IUiSettingsSupport:"",IBookmarkCrm:"",IUiCallDataRowsAdditional:"",IUiCallDataRowsTransferredBy:"",ICoreStateDeviceDigester:"",ICoreStateClientDigester:"",UiServerPriorityNotification:"",UiServerPriorityNotificationFactory:"",IUiCallEnded:"",IUiCallEndedFactory:"",IUiConversation:"",IUiConversationFactory:"",IUiCallToolbar:"",IUiCallToolbarFactory:"",IUiCallToolbarControl:"",IUiCallToolbarControlFactory:"",IUiCallToolbarConference:"",IUiCallToolbarConferenceFactory:"",IUiCallToolbarWrapup:"",IUiCallToolbarWrapupFactory:"",IUiCallToolbarParticipant:"",IUiCallToolbarParticipantFactory:"",IUiCallToolbarCondensed:"",IUiCallToolbarCondensedFactory:"",IUiDialerNumberPadToggler:"",IUiDialerNumberPadTogglerFactory:"",IUiDialerInput:"",IUiDialerInputFactory:"",IUiDialerButton:"",IUiDialerButtonFactory:"",IUiTelephonyButtonFactory:"",ICreateCrmEntity:"",IUiCallHistoryView:"",IUiCallHistoryCallLog:"",IUiCallHistoryCallLogFactory:"",ICrmFocus:"",IFocusCrm:"",IUiCallLog:"",IUiCallLogFactory:"",IUiCallLogFields:"",IUiCallLogFieldsFactory:"",IUiParameterFactory:"",IParameterHelper:"",IFocusContext:"",IUiDotFactory:"",ICallLogUtil:"",IUiCallParticipant:"",IUiCallParticipantFactory:"",ICrmAutoComplete:"",MaxAutoCompleteRecords:"",IAutoComplete:"",IUiDialerAutoComplete:"",IUiDialerAutoCompleteFactory:"",IDropdownManager:"",IDispositionListGenerator:"",IResiliencyOffsets:"",IScrollPosition:"",IUiCallDataRowsAdditionalFactory:"",IUiCallDataRows:"",IUiCallDataRowsFactory:"",IUiCallDataRowFactory:"",IUiCallDataRowsDebug:"",IAppStyler:"",IBackoffTime:"",IUiCallLogRelateCurrent:"",IUiCallLogRelateCurrentFactory:"",IUiDeviceControl:"",IUiDeviceControlFactory:"",IDeviceControlUtils:"",ICrmPresence:"",IUiSimpleDropdown:"",IUiSimpleDropdownFactory:"",IUiDropdown:"",IUiDropdownFactory:"",IUiDropdownList:"",IUiDropdownListFactory:"",IUiSelect:"",IUiSelectFactory:"",IUiCombobox:"",IUiComboboxFactory:"",IUiCallSummary:"",IUiCallSummaryFactory:"",IUiMultiselect:"",IUiMultiselectFactory:"",IUiInput:"",IUiInputFactory:"",IUiCallDataRowsExpander:"",IUiCallDataRowsExpanderFactory:"",IUiCallAdditionalDataRow:"",IUiCallAdditionalDataRowFactory:"",IWorkItemConfigTypes:"",IOmniChannelSettings:"",ICrmWork:"",IOmniChannelApiAdapter:"",IWorkloadCapacity:"",IOrientationReporter:"",IUiAppButtonsFactory:"",IUiAppButtons:"",ICrmCtiEvents:"",ICtiEventsCrm:"",IUiCallDetail:"",IUiCallDetailFactory:"",IUiCallSummaryList:"",IUiCallSummaryListFactory:"",IAppStyleLoader:"",IActiveBrowser:"",IUiCallDetailTabs:"",IUiCallDetailTabsFactory:"",IUiNewItemNotification:"",IUiNewItemNotificationFactory:"",IHorizontalAppStateMutator:"",IHorizontalAppStateManager:"",IUiPresencePanel:"",IUiPresencePanelFactory:"",ICrmSoftphoneLabel:"",IUiWorkItem:"",IUiWorkItemFactory:"",IUiWorkItemList:"",IUiWorkItemListFactory:"",IOmniAppStateMutator:"",IOmniAppStateManager:"",IPresence:"",IApiUtilities:"",IPresenceSynchronizer:"",IWorkItems:"",ITimeColonsFormatter:"",ITimeLettersFormatter:"",IUserStateRelayer:"",IWorkloadStatusChanger:"",IFileUtils:"",IUiConversationHeader:"",IUiConversationHeaderFactory:"",IAgentStateConsolidator:"",IIntegrationTests:"",IPresenceChangeRouter:"",ITypeUtils:"",CrmName:"",ICrmSetup:"",IStringUtils:"",IGuidUtils:"",IsInMscrmUsd:"",ITelephonyStateMutator:"",ITelephonyStateManager:""},i("ioc-ice",e.ioc),e.default=e.ioc},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(i.TAGGED_PROP,t)||[]},t}();e.MetadataReader=r},function(t,e,n){"use strict";function i(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.isStackOverflowExeption=i},function(t,e,n){"use strict";function i(t){return function(e,n,i){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var c=new a.Metadata(o.INJECT_TAG,t);"number"==typeof i?s.tagParameter(e,n,i,c):s.tagProperty(e,n,c)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),a=n(2),s=n(4),c=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=c,e.inject=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(6),o=n(2),a=n(30),s=function(){function t(t,e,n,s){this.guid=r.guid(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var c=null;"string"==typeof s?c=new o.Metadata(i.NAMED_TAG,s):s instanceof o.Metadata&&(c=s),null!==c&&this.metadata.push(c)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(i.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(i.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(i.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==i.INJECT_TAG&&t.key!==i.MULTI_INJECT_TAG&&t.key!==i.NAME_TAG&&t.key!==i.UNMANAGED_TAG&&t.key!==i.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(i.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===i.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==i.INJECT_TAG&&t.key!==i.MULTI_INJECT_TAG&&t.key!==i.NAME_TAG&&t.key!==i.UNMANAGED_TAG&&t.key!==i.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(i.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var i=0,r=e.metadata;i<r.length;i++){var o=r[i];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(9),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(2),o=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||o(n,e))};e.traverseAncerstors=o;var a=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new r.Metadata(t,e),n}};e.taggedConstraint=a;var s=a(i.NAMED_TAG);e.namedConstraint=s;var c=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t){return n.serviceIdentifier===t}var i=e.bindings[0].implementationType;return t===i}return!1}};e.typeConstraint=c},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(){function t(){this._recordCount=0,this._eventHandlerRecords={}}return t.prototype.AddEventListener=function(t,e,n){var i=this;if("string"!=typeof t||""===t||"function"!=typeof e)throw new TypeError;Array.isArray(this._eventHandlerRecords[t])||(this._eventHandlerRecords[t]=[]),this._eventHandlerRecords[t].push({Id:this._recordCount,Name:t,Handler:e,Options:Object.assign({Filter:null,FilterExclusive:!0},n)});var r=this._recordCount,o=function(){i.removeListener(r,t)};return this._recordCount++,o},t.prototype.removeListener=function(t,e){var n=this._eventHandlerRecords[e];if(n){var i=n.findIndex(function(e){return e.Id===t});i>=0&&(n.splice(i,1),0===n.length&&delete this._eventHandlerRecords[e])}},t.prototype.dispatch=function(t,e,n){var i=this,r=Object.assign({Async:!0,Filter:null},n),o=this._eventHandlerRecords[t];o&&o.forEach(function(n){if(i.shouldExecuteHandler(r.Filter,n.Options.Filter,n.Options.FilterExclusive)){var o=r.Async?function(){setTimeout(function(){n.Handler(e)})}:n.Handler;try{o(e)}catch(e){console.error("Exception thrown while dispatching '"+t+"' event",e)}}})},t.prototype.shouldExecuteHandler=function(t,e,n){return!t&&!e||t&&t===e||!t&&e&&!n},t=i([r.injectable()],t)}();e.EventSystemBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(51),o=n(20);e.LastGoodConnectionKey="InGeniusCTIExtensions.LastGoodConnection",e.ClientStateTimestampKey="InGeniusCTIExtensions.ClientStateTimestampKey",e.ClientStateKey="InGeniusCTIExtensions.ClientStateKey",e.UserSettingsTimestampKey="InGeniusCTIExtensions.UserSettingsTimestampKey",e.UserSettingsKey="InGeniusCTIExtensions.UserSettingsKey";var a=function(){function t(t,e){var n=this;this._options=t,this._resiliencyUI=e,this._state=i.ResiliencyState.INITIALIZING,this._actionStart=0,this._retryShift=0,this._timeout=0,this._iFrameOrigin="",this._reloadReason="",this._forceReconnect=!1,window.addEventListener("storage",function(t){return n.handleLocalStorageEvent(t)}),this._localStorage=new r.LocalStorage("",localStorage),this._currentURL=this.getIceUrlToConnectTo([t.IceUrlA,t.IceUrlB]),this._options.HeartBeatTimeout=1e3*this._options.HeartBeatTimeout}return Object.defineProperty(t.prototype,"CurrentIFrameOrigin",{get:function(){return this._iFrameOrigin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsConnected",{get:function(){return this._state===i.ResiliencyState.CONNECTED},enumerable:!0,configurable:!0}),t.prototype.Start=function(t){t&&(this._state=t),this.updateState(i.ResiliencyEvent.Timer)},t.prototype.HandlePostMessage=function(t){var e=this.getResiliencyMessage(t);if(e&&e.isValidResiliencyMessage){switch(e.type){case"TriggerHeartbeatLegacy":this._resiliencyUI.SetIFrameVisibility(!0);case"TriggerHeartbeat":this.doHeartbeat();break;case"NotifyReload":this.doReload(e.params);break;case"NotifyUnloading":this.doUnload();break;case"SetVisible":this._resiliencyUI.SetIFrameOffsets(e.params),this._resiliencyUI.SetIFrameVisibility(!0);break;case"StoreState":e.params&&e.params.clientStateTimestamp&&e.params.userSettingsTimestamp&&e.params.prefix&&this.storeClientState(e.params.clientState,e.params.clientStateTimestamp,e.params.userSettings,e.params.userSettingsTimestamp,e.params.prefix);break;case"GetState":e.params&&e.params.clientStateTimestamp&&e.params.userSettingsTimestamp&&e.params.requestId&&e.params.prefix&&this.getClientState(e.params.clientStateTimestamp,e.params.userSettingsTimestamp,e.params.requestId,e.params.prefix)}return e.type}return null},t.prototype.getIceUrlToConnectTo=function(t){var e=t[0],n=this.getlastGoodConnection();return n&&t.includes(n)&&(e=n),e},t.prototype.handleLocalStorageEvent=function(t){if(t.key.toLowerCase()===e.LastGoodConnectionKey.toLowerCase()){var n=this.getlastGoodConnection();(this._currentURL!==n||this._currentURL===n&&this._state!==i.ResiliencyState.CONNECTED)&&(this._forceReconnect=!0,this._currentURL=n,this._timeout=(new Date).getTime()+this._options.HeartBeatTimeout,this._state=i.ResiliencyState.DETECTING_INITIAL,this.updateState(i.ResiliencyEvent.Timer),this._resiliencyUI.SetIFrameVisibility(!1))}},t.prototype.doHeartbeat=function(){this.updateState(i.ResiliencyEvent.Heartbeat)},t.prototype.doReload=function(t){this._reloadReason=t,this.updateState(i.ResiliencyEvent.Reload)},t.prototype.doUnload=function(){this.updateState(i.ResiliencyEvent.Unloading)},t.prototype.getResiliencyMessage=function(t){var e=this.parseLegacyResiliencyMessage(t);return e||(e=this.parseResiliencyMessage(t)),e},t.prototype.parseResiliencyMessage=function(t){var e=null;try{e=JSON.parse(t),e.isValidResiliencyMessage||(e=null)}catch(t){e=null}return e},t.prototype.storeClientState=function(t,n,i,r,o){var a=this._localStorage.Get(o+e.ClientStateTimestampKey),s=this._localStorage.Get(o+e.UserSettingsTimestampKey);(n>a&&null!==t||void 0!==t)&&(this._localStorage.Set(o+e.ClientStateTimestampKey,n),this._localStorage.Set(o+e.ClientStateKey,t)),(r>s&&null!==i||void 0!==i)&&(this._localStorage.Set(o+e.UserSettingsTimestampKey,r),this._localStorage.Set(o+e.UserSettingsKey,i))},t.prototype.getClientState=function(t,n,i,r){var o=this._localStorage.Get(r+e.ClientStateTimestampKey),a=this._localStorage.Get(r+e.UserSettingsTimestampKey),s=o>t?this._localStorage.Get(r+e.ClientStateKey):null,c=a>n?this._localStorage.Get(r+e.UserSettingsKey):null,l={type:"StoreState",isValidClientMessage:!0,params:{clientState:s,userSettings:c,requestId:i}};this._resiliencyUI.PostMessageToICEIFrame(l,this.CurrentIFrameOrigin)},t.prototype.parseLegacyResiliencyMessage=function(t){var e=null,n=t.split("=");if(n.length>1&&"ICE"===n[0]){var i=n[1];if(e={isValidResiliencyMessage:!0,nonce:"0",params:4e3,type:i.includes("Mode=Legacy")?"TriggerHeartbeat":"TriggerHeartbeatLegacy"},0===i.indexOf("Unloading"))e.type="NotifyUnloading";else if(0===i.indexOf("Reload")){var r=i.split("-");e.params=r[1],e.type="NotifyReload"}}return e},t.prototype.setLastGoodConnection=function(t){this._forceReconnect||this._localStorage.Set(e.LastGoodConnectionKey,{Timestamp:(new Date).getTime(),Value:t}),this._forceReconnect=!1},t.prototype.getlastGoodConnection=function(){var t=this._localStorage.Get(e.LastGoodConnectionKey);return t?t.Value:null},t.prototype.handleInitializingState=function(t){this._retryShift=0,this._iFrameOrigin=o.ResiliencyUtils.GetOriginFromUrl(this._currentURL),this._resiliencyUI.CreateIFrame(o.ResiliencyUtils.BuildUrl(this._currentURL,this._options.IceUrlQueryString)),this._actionStart=t,this._timeout=t+this._options.HeartBeatTimeout,this._state=i.ResiliencyState.DETECTING_INITIAL},t.prototype.handleDetectingInitialState=function(t,e){e===i.ResiliencyEvent.Heartbeat?(this._actionStart=t,this.setLastGoodConnection(this._currentURL),this._state=i.ResiliencyState.CONNECTED):this._timeout<t&&(this._iFrameOrigin=o.ResiliencyUtils.GetOriginFromUrl(this._currentURL),this._resiliencyUI.SetIFrameSrc(o.ResiliencyUtils.BuildUrl(this._currentURL,this._options.IceUrlQueryString)),this._actionStart=t,this._timeout=t+this._options.HeartBeatTimeout,this._state=i.ResiliencyState.DETECTING)},t.prototype.handleDetectingHeartbeatState=function(t,e,n){n===i.ResiliencyEvent.Heartbeat?(this._actionStart=t,this.setLastGoodConnection(this._currentURL),this._state=i.ResiliencyState.CONNECTED):this._timeout<t&&(e||this._retryShift>0?(this._actionStart=t,this._timeout=this.getBackoffTimeout(t),this._state=i.ResiliencyState.BACKINGOFF):(this._currentURL=this._currentURL===this._options.IceUrlA?this._options.IceUrlB:this._options.IceUrlA,this._iFrameOrigin=o.ResiliencyUtils.GetOriginFromUrl(this._currentURL),this._resiliencyUI.SetIFrameSrc(o.ResiliencyUtils.BuildUrl(this._currentURL,this._options.IceUrlQueryString)),this._actionStart=t,this._timeout=t+this._options.HeartBeatTimeout,this._state=i.ResiliencyState.DETECTING_ALTERNATE))},t.prototype.handleDetectingAlternateState=function(t,e){e===i.ResiliencyEvent.Heartbeat?(this._actionStart=t,this.setLastGoodConnection(this._currentURL),this._state=i.ResiliencyState.CONNECTED):this._timeout<t&&(this._actionStart=t,this._timeout=this.getBackoffTimeout(t),this._state=i.ResiliencyState.BACKINGOFF)},t.prototype.handleBackingOffState=function(t){this._timeout<t&&(this._retryShift<this._options.MaxRetryShift&&this._retryShift++,this._currentURL=this._currentURL===this._options.IceUrlA?this._options.IceUrlB:this._options.IceUrlA,this._iFrameOrigin=o.ResiliencyUtils.GetOriginFromUrl(this._currentURL),this._resiliencyUI.SetIFrameSrc(o.ResiliencyUtils.BuildUrl(this._currentURL,this._options.IceUrlQueryString)),this._actionStart=t,this._timeout=t+this._options.HeartBeatTimeout,this._state=i.ResiliencyState.DETECTING)},t.prototype.handleConnectedState=function(t,e,n){if(n===i.ResiliencyEvent.Unloading)this._state=i.ResiliencyState.UNLOADING;else if(n===i.ResiliencyEvent.Reload){var r=!e&&this._currentURL===this._options.IceUrlA&&("PRIORITY_STANDBY"===this._reloadReason||"SERVER_SHUTDOWN"===this._reloadReason);this._retryShift=0,this._currentURL=r?this._options.IceUrlB:this._options.IceUrlA,this._iFrameOrigin=o.ResiliencyUtils.GetOriginFromUrl(this._currentURL),this._resiliencyUI.SetIFrameSrc(o.ResiliencyUtils.BuildUrl(this._currentURL,this._options.IceUrlQueryString)),this._actionStart=t,this._timeout=t+this._options.HeartBeatTimeout,this._state=r?i.ResiliencyState.DETECTING_ALTERNATE:i.ResiliencyState.DETECTING,this._reloadReason=""}},t.prototype.handleUnloadingState=function(t){t===i.ResiliencyEvent.Heartbeat&&(this._state=i.ResiliencyState.CONNECTED)},t.prototype.updateState=function(t){var e=this,n=this._options.IceUrlA===this._options.IceUrlB,r=(new Date).getTime(),o=this._state;switch(this._options.Debug&&console.log("ICE.Resiliency.updateState:\n   TIME:        "+r+"\n   State:       "+this._state+"\n   RetryShift:  "+this._retryShift+"\n   Event:       "+t+"\n   CurrentURL:  "+this._currentURL+"\n   Timeout in : "+Math.ceil((this._timeout-r)/1e3)+" seconds"),this._state){case i.ResiliencyState.INITIALIZING:this.handleInitializingState(r);break;case i.ResiliencyState.DETECTING_INITIAL:this.handleDetectingInitialState(r,t);break;case i.ResiliencyState.DETECTING:this.handleDetectingHeartbeatState(r,n,t);break;case i.ResiliencyState.DETECTING_ALTERNATE:this.handleDetectingAlternateState(r,t);break;case i.ResiliencyState.BACKINGOFF:this.handleBackingOffState(r);break;case i.ResiliencyState.CONNECTED:this.handleConnectedState(r,n,t);break;case i.ResiliencyState.UNLOADING:this.handleUnloadingState(t)}var a=Math.ceil((this._timeout-this._actionStart)/1e3),s=Math.ceil((this._timeout-r)/1e3);this._resiliencyUI.UpdateUI(this._state,o,a,s,n,this._currentURL===this._options.IceUrlA),t===i.ResiliencyEvent.Timer&&this._state!==i.ResiliencyState.UNLOADING&&setTimeout(function(){e.updateState(i.ResiliencyEvent.Timer)},1e3)},t.prototype.getBackoffTimeout=function(t){return t+Math.floor(Math.random()*(this._options.BaseRetryInterval<<this._retryShift)*1e3)},t.DefaultResiliencyStateMachineOptions={IceUrlA:"",IceUrlB:"",IceUrlQueryString:"",HeartBeatTimeout:10,BaseRetryInterval:10,MaxRetryShift:4,Debug:!1},t}();e.ResiliencyStateMachine=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(52),r=function(){function t(){}return t.ParseUrlQueryString=function(t){var e={};if(!this._type.IsString(t))return e;if("?"===t.charAt(0)&&(t=t.slice(1)),0===t.length)return e;for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0]]=r[1]?decodeURIComponent(r[1]):null}return e},t.BuildQueryString=function(t){var e="",n="";for(var i in t)t.hasOwnProperty(i)&&(e+=n+i+"="+encodeURIComponent(t[i]),n="&");return e},t.GetOriginFromUrl=function(t){var e=new RegExp("^((?:f|ht)tp(?:s)?://)([^/]+)","im"),n=t.match(e);return n?n[1].toString()+n[2].toString().toLowerCase():t},t.prototype.GetWindowOrigin=function(t){return t&&"string"==typeof t.protocol&&"string"==typeof t.hostname?t.protocol+"//"+t.hostname+(t.port?":"+t.port:""):""},t.BuildUrl=function(t,e){var n=t.split("?");if(2===n.length){var i=n[1],r=i.split("#");return n[0]+"?"+r[0]+"&"+e+(2===r.length?"#"+r[1]:"")}return t+"?"+e},t._type=new i.TypeUtils,t}();e.ResiliencyUtils=r},function(t,e,n){"use strict";function i(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){return i(t)?t:"string"!=typeof t?NaN:parseInt(t.trim(),10)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),a=n(10),s=n(49),c=n(50),l=n(19),u=n(53),h=n(20),d=40,p=200,g=260,f=130,y=240,I=function(){};window.console=window.console||{log:I,error:I,info:I,debug:I,warn:I,trace:I,dir:I,dirxml:I,group:I,groupEnd:I,time:I,timeEnd:I,assert:I,profile:I},window.console.debug=window.console.debug||I;var _;!function(t){t[t.Classic=0]="Classic",t[t.Lightning=1]="Lightning"}(_||(_={}));var S={API_VERSION:38,API_TYPE:"opencti"},m=function(){function t(t){var e=this;if(this._resiliencyStateMachineOptions={IceUrlA:"",IceUrlB:"",IceUrlQueryString:"",HeartBeatTimeout:10,BaseRetryInterval:10,MaxRetryShift:4,Debug:!1},this.INTERACTION_API="interactionApi/",this.INTEGRATION_API="integrationApi/",this.PLUGIN_ID="dbdfa0bd-ea02-46e3-bcc6-36b702c469c3",this.BROADCAST_KEY_IFRAME_SIZE=this.PLUGIN_ID+"_IFRAME_SIZE",this.APEX_NAMESPACE_DEFAULT="ingenius",this.APEX_CLASS_DEFAULT="CTIExtensions",this._clientIP="",this._sfdcOrigin="",this._nonce="",this._debug=!1,this._logLevel="",this._inConsole=!1,this._adjustWidth=!0,this._adjustHeight=!0,this._sFMode=_.Classic,this._userId="",this._environmentRestriction="ANY",this.CALL_CENTER_PROFILE="DEFAULT",this.IP_REGEX_PATTERN=".*",this._await={inConsole:!0,getSessionInfo:!0,getCallCenterSettings:!0},this._width=p,this._height=f,console.log("ICE.Resiliency.initialize..."),this._originalParsedQueryString=h.ResiliencyUtils.ParseUrlQueryString(location.search),this._sFMode="Lightning"===this._originalParsedQueryString.mode?_.Lightning:_.Classic,!this._originalParsedQueryString.clientIP||!this._originalParsedQueryString.sfdcIFrameOrigin&&!this._originalParsedQueryString.sfdcIframeOrigin||this._sFMode===_.Classic&&!this._originalParsedQueryString.nonce)throw new Error("Query string passed to resiliency frame is missing required parameters.");this._width=this.IsLightning?g:p,this._height=this.IsLightning?y:f,this._legacyIFrameOffsets={Bottom:this.IsLightning?d:0,Left:0,Right:0,Top:0},this._broadcastEventSystem=this.initializeBroadcastEventSystem(t),this._resiliencyUI=new u.ResiliencyUI(document.body,new s.EventSystem,this._width,this._height,"scc_widget_SoftphoneIframe"),this._resiliencyUI.AddSizeChangeEventListener(function(t){return e.setSoftphoneSize(t.Width,t.Height)}),this._adjustWidth=!0,this._originalParsedQueryString.adjustWidth&&(this._adjustWidth="false"!==this._originalParsedQueryString.adjustWidth),this._adjustHeight=!0,this._originalParsedQueryString.adjustHeight&&(this._adjustHeight="false"!==this._originalParsedQueryString.adjustHeight),this._clientIP=this._originalParsedQueryString.clientIP,this._sfdcOrigin=this.IsLightning?this._originalParsedQueryString.sfdcIframeOrigin:this._originalParsedQueryString.sfdcIFrameOrigin,this.ApexNamespace=this._originalParsedQueryString.apexNamespace,"string"!=typeof this.ApexNamespace&&(this.ApexNamespace=this.APEX_NAMESPACE_DEFAULT),this.ApexClass=this._originalParsedQueryString.apexClass,"string"!=typeof this.ApexClass&&(this.ApexClass=this.APEX_CLASS_DEFAULT),this._nonce=this._originalParsedQueryString.nonce,window.addEventListener("message",function(t){e.processPostMessage(t)},!1),this._resiliencyUI.SetHtmlClass(this.IsLightning?"lightning":"default"),this.IsLightning?(this._await.inConsole=!1,this.invokeOpenCTIMethod("setSoftphonePanelLabel",0,{label:"InGenius"}),this.invokeOpenCTIMethod("setSoftphoneItemLabel",0,{label:"InGenius"})):this.invokeOpenCTIMethod("isInConsole",0,{nonce:this._nonce}),this.invokeOpenCTIMethod("runApex",0,{apexClass:this.ApexNamespace+(""!==this.ApexNamespace?".":"")+this.ApexClass,methodName:"getSessionInfo",methodParams:this.IsLightning?" ":null,nonce:this._nonce}),this.invokeOpenCTIMethod("getCallCenterSettings",0,{nonce:this._nonce})}return Object.defineProperty(t.prototype,"IsLightning",{get:function(){return this._sFMode===_.Lightning},enumerable:!0,configurable:!0}),t.prototype.invokeOpenCTIMethod=function(t,e,n){if(this.IsLightning){var i={methodName:t,callId:e,apiVersion:S.API_VERSION,apiType:S.API_TYPE,isCallbackRegistered:!0,isListenerRegistered:!1,args:n};window.parent.postMessage(i,this._sfdcOrigin)}else n.method=t+"_"+e,window.parent.postMessage(this.INTERACTION_API+h.ResiliencyUtils.BuildQueryString(n),this._sfdcOrigin)},Object.defineProperty(t.prototype,"isInitialized",{get:function(){return!this._await.inConsole&&!this._await.getSessionInfo&&!this._await.getCallCenterSettings},enumerable:!0,configurable:!0}),t.prototype.initializeBroadcastEventSystem=function(t){var e=this,n=new c.LocalStorageEventSystem(window,t.NewGUID());return n.AddEventListener(this.BROADCAST_KEY_IFRAME_SIZE,function(t){e.processBroadcastEvent(t)}),n},t.prototype.processBroadcastEvent=function(t){var e=t.Height,n=t.Width;if(this.IsLightning){var i=r(e),o=r(n);this.setSoftphoneWidth(o),this.setSoftphoneHeight(i)}},t.prototype.setSoftphoneSize=function(t,e){this.setSoftphoneHeight(e),this.setSoftphoneWidth(t)},t.prototype.setSoftphoneHeight=function(t){var e=this.IsLightning?"setSoftphonePanelHeight":"setSoftphoneHeight",n=this.IsLightning?{heightPX:t}:{height:t.toString(),nonce:this._nonce};this.invokeOpenCTIMethod(e,0,n)},t.prototype.setSoftphoneWidth=function(t){var e=this.IsLightning?"setSoftphonePanelWidth":"setSoftphoneWidth",n=this.IsLightning?{widthPX:t}:{width:t.toString(),nonce:this._nonce};this.invokeOpenCTIMethod(e,0,n)},t.prototype.processPostMessage=function(t){if(this._debug&&console.log("ICE.Resiliency.processPostMessage:",{data:t.data,origin:t.origin}),t.origin.toLowerCase()===this._sfdcOrigin.toLowerCase())this._resiliencyStateMachine&&this._resiliencyStateMachine.CurrentIFrameOrigin&&this.isInitialized?this._resiliencyUI.PostMessageToICEIFrame(t.data,this._resiliencyStateMachine.CurrentIFrameOrigin):this.handleInitializationResponse(t);else if(t.origin.toLowerCase()===this._resiliencyStateMachine.CurrentIFrameOrigin.toLowerCase())if(this.isOpenCTIMessage(t.data)){var e=h.ResiliencyUtils.ParseUrlQueryString(t.data);this.updateIFrameSize(e),window.parent.postMessage(t.data,this._sfdcOrigin)}else this.isSfConsoleMessage(t.data)?window.parent.postMessage(t.data,this._sfdcOrigin):"TriggerHeartbeatLegacy"===this._resiliencyStateMachine.HandlePostMessage(t.data)&&this._resiliencyUI.SetIFrameOffsets(this._legacyIFrameOffsets)},t.prototype.updateIFrameSize=function(t){var e="width",n="height",i=!1;if(this.IsLightning){var o=t;e="widthPX",n="heightPX",i=!!(o&&o.methodName&&o.args&&("setSoftphonePanelWidth"===o.methodName&&o.args[e]||"setSoftphonePanelHeight"===o.methodName&&o.args[n])),t=o.args}else{var a=this.INTERACTION_API+"method";i=!!(t&&t[a]&&(0===t[a].indexOf("setSoftphoneHeight")&&t.height||0===t[a].indexOf("setSoftphoneWidth")&&t.width))}if(i){var s=!1,c=this._resiliencyUI.GetICEIframeSize(),l=c.height,u=c.width,h=r(t[n]);isFinite(h)&&l!==h+"px"&&(l=h.toString()+"px",s=!0);var d=r(t[e]);isFinite(d)&&u!==d+"px"&&(u=d.toString()+"px",s=!0),s&&this._broadcastEventSystem.Dispatch(this.BROADCAST_KEY_IFRAME_SIZE,{Height:l.toString(),Width:u.toString()})}},t.prototype.isOpenCTIMessage=function(t){return!this.IsLightning&&0===t.indexOf(this.INTERACTION_API)||t.apiType===S.API_TYPE},t.prototype.isSfConsoleMessage=function(t){return 0===t.indexOf(this.INTEGRATION_API)},t.prototype.handleInitializationResponse=function(t){if(this.isOpenCTIMessage(t.data)){var e=this.digestSforceInteractionResponce(t.data);if("isInConsole_0"===e.Method)e.Result?(this._await.inConsole=!1,this._inConsole="true"===e.Result,this._resiliencyUI.SetHtmlClass(this._inConsole?"console":"default"),this._height=this._inConsole?100:this.IsLightning?y:f,console.log("ICE.Resiliency.CTIExtensions.isInConsole: "+this._inConsole)):(console.log("ICE.Resiliency.CTIExtensions.isInConsole ERROR:",e.Error),this.loadUiError("isInConsole: "+e.Error));else if("runApex_0"===e.Method)if(e.Result){this._await.getSessionInfo=!1;var n=JSON.parse(e.Result);this._userId=n.UserID,console.log("ICE.Resiliency.CTIExtensions.SessionInfo:",{VERSION:n.Version,"ORG ID":n.OrgID,"ORG NAME":n.OrgName,"USER ID":n.UserID,"USER NAME":n.UserName,"USER LOCALE":n.UserLocale,"USER LANGUAGE":n.UserLanguage,"SESSION ID":n.SessionID})}else console.log("ICE.Resiliency.CTIExtensions.SessionInfo ERROR:",e.Error),this.loadUiError("SessionInfo: "+e.Error);else if("getCallCenterSettings_0"===e.Method)if(e.Result){this._await.getCallCenterSettings=!1;var n=this.IsLightning?e.Result:JSON.parse(e.Result);if(n["/profileConfiguration/profileName"]){var i=n["/profileConfiguration/profileName"].split("|");this.CALL_CENTER_PROFILE=i[0],-1!==i.map(function(t){return t.toUpperCase()}).indexOf("DEBUG")&&(this._debug=!0,this._logLevel="DEBUG")}if(n["/availabilityConfiguration/ipRegex"]&&0!==n["/availabilityConfiguration/ipRegex"].replace(/^\s+/,"").replace(/\s+$/,"").length&&(this.IP_REGEX_PATTERN=n["/availabilityConfiguration/ipRegex"]),n["/resiliencyConfiguration/resiliencyIceUrlA"]&&(this._resiliencyStateMachineOptions.IceUrlA=n["/resiliencyConfiguration/resiliencyIceUrlA"],this._resiliencyStateMachineOptions.IceUrlB=n["/resiliencyConfiguration/resiliencyIceUrlA"]),n["/resiliencyConfiguration/resiliencyIceUrlB"]&&(this._resiliencyStateMachineOptions.IceUrlB=n["/resiliencyConfiguration/resiliencyIceUrlB"]),n["/resiliencyConfiguration/resiliencyHeartbeatTimeout"]){var o=r(n["/resiliencyConfiguration/resiliencyHeartbeatTimeout"]);isFinite(o)&&(this._resiliencyStateMachineOptions.HeartBeatTimeout=o)}if(n["/resiliencyConfiguration/resiliencyBaseRetryInterval"]){var a=r(n["/resiliencyConfiguration/resiliencyBaseRetryInterval"]);isFinite(a)&&(this._resiliencyStateMachineOptions.BaseRetryInterval=a)}if(n["/resiliencyConfiguration/resiliencyMaxRetryShift"]){var s=r(n["/resiliencyConfiguration/resiliencyMaxRetryShift"]);isFinite(s)&&(this._resiliencyStateMachineOptions.MaxRetryShift=s)}n["/resiliencyConfiguration/environmentRestriction"]&&(this._environmentRestriction=n["/resiliencyConfiguration/environmentRestriction"]),console.log("ICE.Resiliency.Settings:",{CALL_CENTER_PROFILE:this.CALL_CENTER_PROFILE,IP_REGEX_PATTERN:this.IP_REGEX_PATTERN,ICE_URL_A:this._resiliencyStateMachineOptions.IceUrlA,ICE_URL_B:this._resiliencyStateMachineOptions.IceUrlB,HEART_BEAT_TIMEOUT:this._resiliencyStateMachineOptions.HeartBeatTimeout,BASE_RETRY_INTERVAL:this._resiliencyStateMachineOptions.BaseRetryInterval,MAX_RETRY_SHIFT:this._resiliencyStateMachineOptions.MaxRetryShift,DEBUG:this._debug,LOG_LEVEL:this._logLevel,ENV_RESTRICTION:this._environmentRestriction});try{var c=new RegExp(this.IP_REGEX_PATTERN,"i");if(!c.test(this._clientIP))return void this._resiliencyUI.SetCTINotAvailable()}catch(t){console.warn("ICE.IP_REGEX_PATTERN is invalid. Trying to load CTI integration.")}}else console.log("ICE.Resiliency.getCallCenterSettings ERROR:",e.Error),this.loadUiError("getCallCenterSettings: "+e.Error);this.isInitialized&&(!this._environmentRestriction||"ANY"===this._environmentRestriction||"ONLY_CSC"===this._environmentRestriction&&!this.IsLightning&&this._inConsole||"NO_CSC"===this._environmentRestriction&&(this.IsLightning||!this._inConsole)?(this.loadUi(),document.body.classList.remove("willNotLoad")):(console.warn("InGenius will not be displayed because of environment restrictions configured in the Call Center settings"),document.body.classList.add("willNotLoad"),document.getElementsByTagName("html")[0].style.backgroundColor="white"))}},t.prototype.loadUiError=function(t){this._resiliencyUI.SetErrorMessage(t),this._resiliencyStateMachine=new l.ResiliencyStateMachine(this._resiliencyStateMachineOptions,this._resiliencyUI),this._resiliencyStateMachine.Start(a.ResiliencyState.ERROR)},t.prototype.loadUi=function(){var t={mode:this.IsLightning?"Lightning":"Classic",inConsole:this._inConsole,resiliency:Math.floor(.7*this._resiliencyStateMachineOptions.HeartBeatTimeout),config:this.CALL_CENTER_PROFILE,sfdcIFrameOriginTop:this._sfdcOrigin,debug:this._debug.toString(),loglevel:this._logLevel,apexNamespace:this.ApexNamespace,apexClass:this.ApexClass,userId:this._userId,nonce:this._nonce,sfdcIFrameName:window.name},e=Object.assign({},this._originalParsedQueryString,t),n=h.ResiliencyUtils.GetOriginFromUrl(window.location.href);this.IsLightning?(e.sfdcIframeOrigin=n,delete e.sfdcIFrameOrigin):e.sfdcIFrameOrigin=n,this._resiliencyStateMachineOptions.IceUrlQueryString=h.ResiliencyUtils.BuildQueryString(e),this._resiliencyStateMachine=new l.ResiliencyStateMachine(this._resiliencyStateMachineOptions,this._resiliencyUI),this._resiliencyStateMachine.Start()},t.prototype.digestSforceInteractionResponce=function(t){this.IsLightning||(t=h.ResiliencyUtils.ParseUrlQueryString(t.replace(this.INTERACTION_API,"")));var e=this.IsLightning?t.response:t;return{Method:this.IsLightning?t.methodName+"_"+t.callId:e.method,IsSuccess:this.IsLightning?e.success:!!e.result,Result:this.IsLightning?function(t){return t&&"string"==typeof t.runApex?t.runApex:e.returnValue}(e.returnValue):e.result,Error:this.IsLightning?e.errors:e.error}},t}();window.onload=function(){var t=new o.GuidUtils;try{window.InGeniusCTIExtensions=new m(t)}catch(t){console.error("Unable to load resiliency frame.",t)}}},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(){function t(){}return t.prototype.CleanGUID=function(t){return t?t.toLowerCase().replace(/[\{\}-]/g,""):t},t.prototype.FormatGUID=function(t){var e=t;if(t){if(e=t.replace(/[{}]/g,""),e.length<32)return null;32===e.length&&(e=e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20,32))}return e},t.prototype.NewGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},t=i([r.injectable()],t)}();e.GuidUtils=o},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),a=n(1),s=n(3),c=n(0),l=n(12),u=n(25),h=n(32),d=n(34),p=n(6),g=n(7),f=n(37),y=n(38),I=function(){function t(t){var e=t||{};if("object"!=typeof e)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=s.BindingScopeEnum.Transient;else if(e.defaultScope!==s.BindingScopeEnum.Singleton&&e.defaultScope!==s.BindingScopeEnum.Transient&&e.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.guid=p.guid(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return t.merge=function(e,n){function i(t,e){t.traverse(function(t,n){n.forEach(function(t){e.add(t.serviceIdentifier,t.clone())})})}var r=new t,o=u.getBindingDictionary(r),a=u.getBindingDictionary(e),s=u.getBindingDictionary(n);return i(a,o),i(s,o),r},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,r=t;i<r.length;i++){var o=r[i],a=n(o.guid);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(this,void 0,void 0,function(){var e,n,i,o,a;return r(this,function(r){switch(r.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,i=t,r.label=1;case 1:return n<i.length?(o=i[n],a=e(o.guid),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(t){return function(e){return e.moduleId===t}};e.forEach(function(e){var n=i(e.guid);t._bindingDictionary.removeByCondition(n)})},t.prototype.bind=function(t){var e=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new o.Binding(t,e);return this._bindingDictionary.add(t,n),new d.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(a.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,c.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),o=u.createMockRequest(this,t,e,n);i=r.some(function(t){return t.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},t.prototype.snapshot=function(){this._snapshots.push(f.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,s.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,c.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,s.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,c.NAMED_TAG,e)},t.prototype.resolve=function(e){var n=new t;return n.bind(e).toSelf(),n.parent=this,n.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(i){var r=t.bind.bind(t),o=r(i);return e(o,n),o}},i=function(e){return function(e){t.unbind.bind(t)(e)}},r=function(e){return function(e){return t.isBound.bind(t)(e)}},o=function(n){return function(i){var r=t.rebind.bind(t),o=r(i);return e(o,n),o}};return function(t){return{bindFunction:n(t),isboundFunction:r(),rebindFunction:o(t),unbindFunction:i()}}},t.prototype._get=function(t,e,n,i,r,o){var s=null,c={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:r,serviceIdentifier:i,targetType:n,value:o};if(this._middleware){if(void 0===(s=this._middleware(c))||null===s)throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(c);return s},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=u.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),h.resolve(n)}},t}();e.Container=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(6),o=function(){function t(t,e){this.guid=r.guid(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},function(t,e,n){"use strict";function i(t){return t._bindingDictionary}function r(t,e,n,i,r,o){var a=t?g.MULTI_INJECT_TAG:g.INJECT_TAG,s=new _.Metadata(a,n),c=new C.Target(e,i,n,s);if(void 0!==r){var l=new _.Metadata(r,o);c.metadata.push(l)}return c}function o(t,e,n,i,r){var o=c(n.container,r.serviceIdentifier),s=[];return o.length===h.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(r.serviceIdentifier).toSelf(),o=c(n.container,r.serviceIdentifier)),s=e?o:o.filter(function(t){var e=new v.Request(t.serviceIdentifier,n,i,t,r);return t.constraint(e)}),a(r.serviceIdentifier,s,r,n.container),s}function a(t,e,n,i){switch(e.length){case h.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var r=y.getServiceIdentifierAsString(t),o=d.NOT_REGISTERED;throw o+=y.listMetadataForTarget(r,n),o+=y.listRegisteredBindingsForServiceIdentifier(i,r,c),new Error(o);case h.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case h.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;var r=y.getServiceIdentifierAsString(t),o=d.AMBIGUOUS_MATCH+" "+r;throw o+=y.listRegisteredBindingsForServiceIdentifier(i,r,c),new Error(o)}}function s(t,e,n,i,r,a){var c,l;if(null===r){c=o(t,e,i,null,a),l=new v.Request(n,i,null,c,a);var u=new S.Plan(i,l);i.addPlan(u)}else c=o(t,e,i,r,a),l=r.addChildRequest(a.serviceIdentifier,c,a);c.forEach(function(e){var n=null;if(a.isArray())n=l.addChildRequest(e.serviceIdentifier,e,a);else{if(e.cache)return;n=l}if(e.type===p.BindingTypeEnum.Instance&&null!==e.implementationType){var r=m.getDependencies(t,e.implementationType);if(!i.container.options.skipBaseClassChecks){var o=m.getBaseClassDependencyCount(t,e.implementationType);if(r.length<o){var c=d.ARGUMENTS_LENGTH_MISMATCH(m.getFunctionName(e.implementationType));throw new Error(c)}}r.forEach(function(e){s(t,!1,e.serviceIdentifier,i,n,e)})}})}function c(t,e){var n=[],r=i(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=c(t.parent,e)),n}function l(t,e,n,i,o,a,c,l){void 0===l&&(l=!1);var u=new I.Context(e),h=r(n,i,o,"",a,c);try{return s(t,l,o,u,null,h),u}catch(t){throw f.isStackOverflowExeption(t)&&u.plan&&y.circularDependencyToException(u.plan.rootRequest),t}}function u(t,e,n,i){var r=new C.Target(p.TargetTypeEnum.Variable,"",e,new _.Metadata(n,i)),o=new I.Context(t);return new v.Request(e,o,null,[],r)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(26),d=n(1),p=n(3),g=n(0),f=n(13),y=n(7),I=n(27),_=n(2),S=n(28),m=n(29),v=n(31),C=n(15);e.getBindingDictionary=i,e.plan=l,e.createMockRequest=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};e.BindingCount=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t){this.guid=i.guid(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.parentContext=t,this.rootRequest=e}return t}();e.Plan=i},function(t,e,n){"use strict";function i(t,e){return r(t,g.getFunctionName(e),e,!1)}function r(t,e,n,i){var r=t.getConstructorMetadata(n),o=r.compilerGeneratedMetadata;if(void 0===o){var c=h.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(c)}var l=r.userGeneratedMetadata,u=Object.keys(l),d=0===n.length&&u.length>0,p=d?u.length:n.length,g=a(i,e,o,l,p),f=s(t,n);return g.concat(f)}function o(t,e,n,i,r){var o=r[t.toString()]||[],a=l(o),s=!0!==a.unmanaged,c=i[t],p=a.inject||a.multiInject;if(c=p||c,c instanceof u.LazyServiceIdentifer&&(c=c.unwrap()),s){var g=c===Object,y=c===Function,I=void 0===c,_=g||y||I;if(!e&&_){var S=h.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(S)}var m=new f.Target(d.TargetTypeEnum.ConstructorArgument,a.targetName,c);return m.metadata=o,m}return null}function a(t,e,n,i,r){for(var a=[],s=0;s<r;s++){var c=s,l=o(c,t,e,n,i);null!==l&&a.push(l)}return a}function s(t,e){for(var n=t.getPropertiesMetadata(e),i=[],r=Object.keys(n),o=0,a=r;o<a.length;o++){var c=a[o],u=n[c],h=l(n[c]),p=h.targetName||c,g=h.inject||h.multiInject,y=new f.Target(d.TargetTypeEnum.ClassProperty,p,g);y.metadata=u,i.push(y)}var I=Object.getPrototypeOf(e.prototype).constructor;if(I!==Object){var _=s(t,I);i=i.concat(_)}return i}function c(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var i=g.getFunctionName(n),o=r(t,i,n,!0),a=o.map(function(t){return t.metadata.filter(function(t){return t.key===p.UNMANAGED_TAG})}),s=[].concat.apply([],a).length,l=o.length-s;return l>0?l:c(t,n)}return 0}function l(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[p.INJECT_TAG],multiInject:e[p.MULTI_INJECT_TAG],targetName:e[p.NAME_TAG],unmanaged:e[p.UNMANAGED_TAG]}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(14),h=n(1),d=n(3),p=n(0),g=n(7);e.getFunctionName=g.getFunctionName;var f=n(15);e.getDependencies=i,e.getBaseClassDependencyCount=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e="",n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t,e,n,r,o){this.guid=i.guid(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,i){var r=new t(e,this.parentContext,this,n,i);return this.childRequests.push(r),r},t}();e.Request=r},function(t,e,n){"use strict";function i(t){return u(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(3),a=n(13),s=n(7),c=n(33),l=function(t,e,n){try{return n()}catch(n){throw a.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}},u=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,i=e.childRequests,a=e.target&&e.target.isArray(),h=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(a&&h)return i.map(function(e){return u(t)(e)});var d=null;if(!e.target.isOptional()||0!==n.length){var p=n[0],g=p.scope===o.BindingScopeEnum.Singleton,f=p.scope===o.BindingScopeEnum.Request;if(g&&p.activated)return p.cache;if(f&&null!==t&&t.has(p.guid))return t.get(p.guid);if(p.type===o.BindingTypeEnum.ConstantValue)d=p.cache;else if(p.type===o.BindingTypeEnum.Function)d=p.cache;else if(p.type===o.BindingTypeEnum.Constructor)d=p.implementationType;else if(p.type===o.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)d=l("toDynamicValue",p.serviceIdentifier,function(){return p.dynamicValue(e.parentContext)});else if(p.type===o.BindingTypeEnum.Factory&&null!==p.factory)d=l("toFactory",p.serviceIdentifier,function(){return p.factory(e.parentContext)});else if(p.type===o.BindingTypeEnum.Provider&&null!==p.provider)d=l("toProvider",p.serviceIdentifier,function(){return p.provider(e.parentContext)});else{if(p.type!==o.BindingTypeEnum.Instance||null===p.implementationType){var y=s.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+y)}d=c.resolveInstance(p.implementationType,i,u(t))}return"function"==typeof p.onActivation&&(d=p.onActivation(e.parentContext,d)),g&&(p.cache=d,p.activated=!0),f&&null!==t&&!t.has(p.guid)&&t.set(p.guid,d),d}}};e.resolve=i},function(t,e,n){"use strict";function i(t,e,n){var i=e.filter(function(t){return null!==t.target&&t.target.type===c.TargetTypeEnum.ClassProperty}),r=i.map(n);return i.forEach(function(e,n){var i="";i=e.target.name.value();var o=r[n];t[i]=o}),t}function r(t,e){return new(t.bind.apply(t,[void 0].concat(e)))}function o(t,e){if(Reflect.hasMetadata(l.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(l.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(s.POST_CONSTRUCT_ERROR(t.name,e.message))}}}function a(t,e,n){var a=null;if(e.length>0){a=r(t,e.filter(function(t){return null!==t.target&&t.target.type===c.TargetTypeEnum.ConstructorArgument}).map(n)),a=i(a,e,n)}else a=new t;return o(t,a),a}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),c=n(3),l=n(0);e.resolveInstance=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(35),a=n(16),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=r.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=r.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=r.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(i.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=r.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=r.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},t}();e.BindingToSyntax=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),r=n(8),o=n(9),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(16),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new r.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.of=function(e,n){var i=new t;return i.bindings=e,i.middleware=n,i},t}();e.ContainerSnapshot=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(null===e||void 0===e)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(i.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(i.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach(function(n,i){var r=n.filter(function(e){return!t(e)});r.length>0?e._map.set(i,r):e._map.delete(i)})},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(i.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(t,n){t.forEach(function(t){return e.add(n,t.clone())})}),e},t.prototype.traverse=function(t){this._map.forEach(function(e,n){t(n,e)})},t}();e.Lookup=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t){this.guid=i.guid(),this.registry=t}return t}();e.ContainerModule=r;var o=function(){function t(t){this.guid=i.guid(),this.registry=t}return t}();e.AsyncContainerModule=o},function(t,e,n){"use strict";function i(){return function(t){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(o.PARAM_TYPES,e,t),t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0);e.injectable=i},function(t,e,n){"use strict";function i(t,e){return function(n,i,a){var s=new r.Metadata(t,e);"number"==typeof a?o.tagParameter(n,i,a,s):o.tagProperty(n,i,s)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(4);e.tagged=i},function(t,e,n){"use strict";function i(t){return function(e,n,i){var s=new o.Metadata(r.NAMED_TAG,t);"number"==typeof i?a.tagParameter(e,n,i,s):a.tagProperty(e,n,s)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(4);e.named=i},function(t,e,n){"use strict";function i(){return function(t,e,n){var i=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?a.tagParameter(t,e,n,i):a.tagProperty(t,e,i)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(4);e.optional=i},function(t,e,n){"use strict";function i(){return function(t,e,n){var i=new o.Metadata(r.UNMANAGED_TAG,!0);a.tagParameter(t,e,n,i)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(4);e.unmanaged=i},function(t,e,n){"use strict";function i(t){return function(e,n,i){var s=new o.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof i?a.tagParameter(e,n,i,s):a.tagProperty(e,n,s)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(4);e.multiInject=i},function(t,e,n){"use strict";function i(t){return function(e,n,i){var s=new o.Metadata(r.NAME_TAG,t);a.tagParameter(e,n,i,s)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(4);e.targetName=i},function(t,e,n){"use strict";function i(){return function(t,e,n){var i=new a.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,i,t.constructor)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0),a=n(2);e.postConstruct=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=function(t){return function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach(function(n){return t.bind(n).toService(e)})}}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),a=n(18),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Dispatch=function(e,n,i){t.prototype.dispatch.call(this,e,n,i)},e=r([o.injectable()],e)}(a.EventSystemBase);e.EventSystem=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),c=n(11),l=n(18),u=function(t){function e(e,n){var i=t.call(this)||this;return i._window=e,i._instanceId=n,i.Name="Local Storage",e.addEventListener("storage",function(t){return i.onLocalStorageEvent(t)},!1),i}return i(e,t),e.prototype.Initialize=function(){return Promise.resolve()},e.prototype.Dispatch=function(t,e){var n={InstanceId:this._instanceId,Timestamp:(new Date).getTime(),Data:e};this._window.localStorage.setItem(t,JSON.stringify(n))},e.prototype.onLocalStorageEvent=function(e){try{var n=JSON.parse(e.newValue);n.InstanceId!==this._instanceId&&t.prototype.dispatch.call(this,e.key,n.Data)}catch(e){}},e=r([s.injectable(),a(0,s.inject(c.ioc.Window)),a(1,s.inject(c.ioc.InstanceId)),o("design:paramtypes",[Window,String])],e)}(l.EventSystemBase);e.LocalStorageEventSystem=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),c=n(11),l=function(){function t(t,e){this._storage=e,this._keyPrefix="",this._keyPrefix="string"==typeof t?t:""}return t.prototype.Set=function(t,e){var n="boolean"==typeof e||e?JSON.stringify(e):"";this._storage.setItem(this._keyPrefix+t,n)},t.prototype.GetAll=function(){var t=this;return Object.keys(this._storage).reduce(function(e,n){var i=n.replace(t._keyPrefix,"");return e[i]=t.Get(i),e},{})},t.prototype.Get=function(t){var e=null,n=this._storage.getItem(this._keyPrefix+t);if(n){e=n;try{e=JSON.parse(n)}catch(e){console.warn("STORAGE: ("+this._keyPrefix+"): Failed to parse item with key '"+t+"'",n)}}return e},t.prototype.Remove=function(t){this._storage.removeItem(this._keyPrefix+t)},t.prototype.RemoveAll=function(t){var e=this;Object.keys(this._storage).forEach(function(n){"function"==typeof t&&t(n)&&e._storage.removeItem(n)})},t=r([s.injectable(),o("design:paramtypes",[String,Storage])],t)}();e.StorageBase=l;var u=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e=r([s.injectable(),a(0,s.inject(c.ioc.SessionStoragePrefix)),a(1,s.inject(c.ioc.NativeSessionStorage)),o("design:paramtypes",[String,Storage])],e)}(l);e.SessionStorage=u;var h=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e=r([s.injectable(),a(0,s.inject(c.ioc.LocalStoragePrefix)),a(1,s.inject(c.ioc.NativeLocalStorage)),o("design:paramtypes",[String,Storage])],e)}(l);e.LocalStorage=h;var d=function(t){function e(e,n){return t.call(this,"",n)||this}return i(e,t),e=r([s.injectable(),a(0,s.inject(c.ioc.IDummyCtorArgument)),a(1,s.inject(c.ioc.NativeLocalStorage)),o("design:paramtypes",[Object,Storage])],e)}(h);e.PrefixlessLocalStorage=d},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=function(){function t(){}return t.prototype.IsEmpty=function(t,e){return void 0===e&&(e=!0),(null===t||void 0===t)&&e||Array.isArray(t)&&0===t.length||this.IsString(t)&&0===t.length||this.IsObject(t)&&0===Object.keys(t).length},t.prototype.IsFunction=function(t,e){return void 0===e&&(e=!1),null===t&&e||"function"==typeof t},t.prototype.IsNil=function(t){return null===t||void 0===t},t.prototype.IsObject=function(t,e){return null===t&&e||"object"==typeof t&&!Array.isArray(t)&&null!==t},t.prototype.IsString=function(t,e){return void 0===e&&(e=!1),null===t&&e||"string"==typeof t},t.prototype.IsBoolean=function(t,e){return void 0===e&&(e=!1),null===t&&e||"boolean"==typeof t},t=i([r.injectable()],t)}();e.TypeUtils=o},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=n(10),c=n(11),l=n(19),u=function(){function t(t,e,n,i,r){this._iframeContainer=t,this._eventSystem=e,this._defaultWidth=n,this._defaultHeight=i,this._name=r,this._iframeElement=null,this._headerDiv=null,this._messageDiv=null,this._messageText=null,this._progressDiv=null,this._slider=null,this._contentDiv=null,this._headerDivVisibility=null,this._iframeElementVisibility=null,this._errorMessage="",this._connectingMessage="Trying to connect...",this.CLASS_NORMAL="normalBgrd bgrd boxRound",this.CLASS_WARNING="warningBgrd bgrd boxRound",this.CLASS_ERROR="errorBgrd bgrd boxRound",this._headerDiv=document.getElementById("HEADER"),this._messageDiv=document.getElementById("MESSAGE"),this._messageText=document.getElementById("MESSAGE_TEXT"),this._progressDiv=document.getElementById("PROGRESS"),this._slider=document.getElementById("SLIDER"),this._contentDiv=document.getElementById("ICE_CONTENT"),this._messageDiv.style.width="100%"}return t.prototype.SetHtmlClass=function(t){document.getElementsByTagName("html")[0].className=t},t.prototype.CreateIFrame=function(t){var e=document.createElement("iframe");e.id="ICE_IFRAME",this._name&&(e.name=this._name),e.frameBorder="0",e.src=t,this._iframeContainer.appendChild(e),this._iframeElement=e},t.prototype.SetCTINotAvailable=function(){this.ShowErrorWhileLoadingResiliency("CTI not available at this location")},t.prototype.ShowErrorWhileLoadingResiliency=function(t){this._messageText.textContent=t,this._messageDiv.className=this.CLASS_NORMAL,this._progressDiv.style.display="none",this._messageDiv.style.display="block",this.setSoftphoneSize(this._defaultWidth,this._defaultHeight)},t.prototype.SetErrorMessage=function(t,e){this._errorMessage=t,this._errorReason=e instanceof Error?e.message:e},t.prototype.SetIFrameSrc=function(t){this._iframeElement.src=t},t.prototype.SetIFrameOffsets=function(t){t&&(this._iframeElement.style.paddingTop=Number.isFinite(t.Top)?t.Top+"px":"0",this._iframeElement.style.paddingRight=Number.isFinite(t.Right)?t.Right+"px":"0",this._iframeElement.style.paddingBottom=Number.isFinite(t.Bottom)?t.Bottom+"px":"0",this._iframeElement.style.paddingLeft=Number.isFinite(t.Left)?t.Left+"px":"0")},t.prototype.GetICEIframeSize=function(){var t={width:"0",height:"0"};return this._iframeElement&&(t.width=this._iframeElement.style.width,t.height=this._iframeElement.style.height),t},t.prototype.PostMessageToICEIFrame=function(t,e){if(this._iframeElement&&e)try{this._iframeElement.contentWindow.postMessage(t,e)}catch(t){}},t.prototype.UpdateUI=function(t,e,n,i,r,o){var a=t!==e;switch(t){case s.ResiliencyState.DETECTING_INITIAL:this.doDetectingInitialStateUi();break;case s.ResiliencyState.DETECTING:this.doDetectingStateUi(a,n,i,o,r);break;case s.ResiliencyState.DETECTING_ALTERNATE:this.doDetectingAlternativeStateUi(a,n,i,o,r);break;case s.ResiliencyState.BACKINGOFF:this.doBackingOffStateUi(a,n,i,o,r);break;case s.ResiliencyState.CONNECTED:this.doConnectedStateUi(a,n,i,o,r);break;case s.ResiliencyState.UNLOADING:this.doUnloadingStateUi(a);break;case s.ResiliencyState.ERROR:this.doErrorStateUi(a)}},t.prototype.SetIFrameVisibility=function(t){this.uiSetDisplayVisibility(!t,t)},t.prototype.ShowResiliencyError=function(t,e){this.SetErrorMessage(t,e instanceof Error||"string"==typeof e?e:null),console.error("Resiliency UI Error: "+t+" Details: "+this._errorReason),new l.ResiliencyStateMachine(l.ResiliencyStateMachine.DefaultResiliencyStateMachineOptions,this).Start(s.ResiliencyState.ERROR)},t.prototype.AddSizeChangeEventListener=function(t){return this._eventSystem.AddEventListener("ResiliencyUiSizeChangedEventKey",t)},t.prototype.setSoftphoneSize=function(t,e){this._eventSystem.Dispatch("ResiliencyUiSizeChangedEventKey",{Height:e,Width:t})},t.prototype.doDetectingInitialStateUi=function(){this.uiSetDisplayVisibility(!1,!1)},t.prototype.doDetectingAlternativeStateUi=function(t,e,n,i,r){this.doDetectingStateUi(t,e,n,i,r)},t.prototype.doDetectingStateUi=function(t,e,n,i,r){var o=this;this._progressDiv.title="Waited "+(e-n)+" of "+e+" second"+(1===e?"":"s"),t&&(this.uiSetProgressSlider(0,0),setTimeout(function(){o.uiSetProgressSlider(100,e)},0),this._messageDiv.className=this.CLASS_WARNING,this._messageText.textContent=this._connectingMessage,this.uiSetDisplayVisibility(!0,!1),this.setSoftphoneSize(this._defaultWidth,this._defaultHeight))},t.prototype.doBackingOffStateUi=function(t,e,n,i,r){var o=this;this._progressDiv.title="Waited "+(e-n)+" of "+e+" second"+(1===e?"":"s"),t&&(this.uiSetProgressSlider(0,0),setTimeout(function(){o.uiSetProgressSlider(100,e)},0),this._messageDiv.className=this.CLASS_ERROR,this._messageText.textContent=this._connectingMessage,this.uiSetDisplayVisibility(!0,!1),this.setSoftphoneSize(this._defaultWidth,this._defaultHeight))},t.prototype.doConnectedStateUi=function(t,e,n,i,r){this._messageText.textContent=""},t.prototype.doUnloadingStateUi=function(t){var e=this;this._debug&&t&&(this.uiSetProgressSlider(0,0),setTimeout(function(){e.uiSetProgressSlider(100,2)},0),this._messageDiv.className=this.CLASS_WARNING,this._messageText.textContent="Unloading ...",this.uiSetDisplayVisibility(!0,!1))},t.prototype.doErrorStateUi=function(t){t&&(this._messageDiv.className=this.CLASS_ERROR,this._messageText.textContent="Error: Open CTI API not responding",this._messageText.title=this._errorMessage,this.uiSetDisplayVisibility(!0,!1),this._progressDiv.style.display="none",this.setSoftphoneSize(this._defaultWidth,this._defaultHeight))},t.prototype.uiSetProgressSlider=function(t,e){var n=this._slider;this._progressDiv.className="meter animate";for(var i in{"-webkit-transition-duration":0,"-moz-transition-duration":0,"-ms-transition-duration":0,"-o-transition-duration":0,"transition-duration":0})n.style[i]=e+"s";n.filters&&(n.style.filter="progid:DXImageTransform.Microsoft.Stretch(bands='1',stretchStyle='hide',duration="+e+")",n.style.width="0",n.filters[0].Apply()),n.style.width=t+"%",n.filters&&n.filters[0].Play()},t.prototype.uiSetDisplayVisibility=function(t,e){var n=t?"block":"none";this._progressDiv.style.display=n,this._messageDiv.style.display=n,this._iframeElementVisibility=e?"visible":"hidden",this._iframeElement.style.visibility=this._iframeElementVisibility,this._headerDivVisibility=e?"hidden":"visible",this._headerDiv.style.visibility=this._headerDivVisibility},t=i([a.injectable(),o(0,a.inject(c.ioc.Resiliency.IframeContainer)),o(1,a.inject(c.ioc.IEventSystem)),o(2,a.inject(c.ioc.Resiliency.DefaultWidth)),o(3,a.inject(c.ioc.Resiliency.DefaultHeight)),o(4,a.inject(c.ioc.Resiliency.Name)),r("design:paramtypes",[HTMLElement,Object,Number,Number,String])],t)}();e.ResiliencyUI=u}]);
	</script>

	<style type="text/css">
		body,div,iframe,span{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{width:100%;height:100%}body{overflow:hidden;font-family:Arial,Helvetica,sans-serif;font-size:75%;width:100%;height:100%;margin:0;padding:0}.console body{background-color:#cfeef8}.lightning body{background-color:#f4f6f9}.boxRound{-webkit-border-radius:7px;border-radius:7px;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}iframe#ICE_IFRAME{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.bgrd{position:absolute;top:0;left:0;padding:5px;height:100%;width:100%;z-index:0;width:200px}.default .bgrd{padding-top:37px}.lightning .bgrd{padding:6px;padding-top:12px}.errorBgrd,.normalBgrd,.warningBgrd{background-color:#cfeef8;color:#16325c;font-weight:700}.lightning .errorBgrd,.lightning .normalBgrd,.lightning .warningBgrd{background-color:#f4f6f9}.errorBgrd{text-indent:0}.console .header{color:#cfeef8}.default .header{position:absolute;top:-2px;left:-2px;right:-2px;height:28px;padding:.41667em 9px 0;border:solid 2px #fff;background-color:#1797c0;z-index:2;border-radius:7px;color:#fff;font-weight:700}.default .header:after,.default .header:before{content:"";display:block;position:absolute;top:24px;left:-2px;right:-2px;border:solid 2px #fff;border-bottom:none;height:7px;border-top-left-radius:7px;border-top-right-radius:7px}.default .header:after{border-radius:0}.lightning .header{visibility:hidden;height:0}#MESSAGE{position:absolute;z-index:1;text-align:left}#MESSAGE_TEXT{display:block;padding-bottom:4px}.lightning #MESSAGE_TEXT{padding-top:0}#MESSAGE_TEXT:empty{height:18px}.console .meter,.default .meter{position:relative;height:10px;background:#add2f8;border:1px solid #78b5f2;border-radius:5px;box-shadow:inset 0 -1px 1px rgba(255,255,255,.3);overflow:hidden}.console .meter>span,.default .meter>span{display:block;height:100%;width:0;position:relative;overflow:hidden;background:#0482ff;box-shadow:inset 0 -2px 6px rgba(0,0,0,.4);border-radius:0;border-top-right-radius:3px;border-bottom-right-radius:3px}.console .meter>span>span,.default .meter>span>span{display:none}.console .meter.animate>span:after,.default .meter.animate>span:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden;background-image:linear-gradient(-45deg,rgba(255,255,255,.3) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.3) 50%,rgba(255,255,255,.3) 75%,transparent 75%,transparent);-webkit-background-size:30px 30px;-ms-background-size:30px 30px;-o-background-size:30px 30px;background-size:30px 30px;-webkit-animation:moveFrames 2s linear infinite;-moz-animation:moveFrames 2s linear infinite;-ms-animation:moveFrames 2s linear infinite;-o-animation:moveFrames 2s linear infinite;animation:moveFrames 2s linear infinite}.lightning .meter{width:100%;height:4px;position:relative;margin:5px 0 16px;background:#b3d9fb;border:solid 0 #b3d9fb;padding:0}.lightning .meter>span{display:block;height:4px;width:0;position:relative;overflow:hidden;background-color:#5eb4ff}.envRestriction{display:none;text-align:center;flex-direction:column;justify-content:center;align-items:center}.envRestriction__logo svg{height:80px}.envRestriction__logo svg #logo__path{fill:#a0a0a3}.envRestriction__message{color:#5e5d5f;margin:12px 10px 0}body.willNotLoad{width:100%;height:100%;margin:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.default body.willNotLoad{background-color:#f8f8f8;border:1px solid #eaeaea;border-radius:6px;overflow:hidden}.lightning body.willNotLoad{background-color:#fff;padding-bottom:40px}.console body.willNotLoad{background-color:#e0e8e8}body.willNotLoad .header,body.willNotLoad .message{display:none}body.willNotLoad .envRestriction{display:flex}.nowrap{white-space:nowrap}@-webkit-keyframes moveFrames{0%{background-position:0 0}100%{background-position:30px 30px}}@-moz-keyframes moveFrames{0%{background-position:0 0}100%{background-position:30px 30px}}@-ms-keyframes moveFrames{0%{background-position:0 0}100%{background-position:30px 30px}}@-o-keyframes moveFrames{0%{background-position:0 0}100%{background-position:30px 30px}}@keyframes moveFrames{0%{background-position:0 0}100%{background-position:30px 30px}}
	</style>
</head>

<body>
	<div id="HEADER" class="header">InGenius</div>
	<div id="MESSAGE" class="message bgrd normalBgrd boxRound" style="display: none">
		<span id="MESSAGE_TEXT">Fetching call center settings...</span>
		<div id="PROGRESS" class="meter animate">
			<span id="SLIDER">
				<span></span>
			</span>
		</div>
	</div>
	<div id="envRestriction" class="envRestriction">
		<div class="envRestriction__logo">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 157.58 290.81">
				<defs/>
				<g id="logo__path">
					<path d="M78.53 147.32A40.59 40.59 0 0 0 38 187.92v62.31a40.58 40.58 0 0 0 81.17 0v-62.32a40.59 40.59 0 0 0-40.6-40.59M155.75 114.49l-2.68-5.31-27.84-48.25L97.78 13.4l-3.46-6C91.43 2.11 84.88 0 78.53 0S66.26 2.57 63.14 7.39l-3.84 6-27.45 47.54-27.65 47.9a31.16 31.16 0 0 0-2.83 5.94A18 18 0 0 0 0 121.63c0 9.64 6.2 18.57 15.39 19.71l9.62.45H48.9a4.28 4.28 0 0 0 3-7.33 40.59 40.59 0 1 1 53.31-.09.74.74 0 0 1-.16.11 4.3 4.3 0 0 0 3.09 7.31h23.44l10.79-.5c9.09-.85 15.17-9.82 15.17-19.29a20.8 20.8 0 0 0-1.83-7.5"
					/>
				</g>
			</svg>
		</div>
		<p class="envRestriction__message">InGenius is
			<span class="nowrap">not configured</span>
			<span class="nowrap">for this view</span>
		</p>
	</div>
</body>

</html>
