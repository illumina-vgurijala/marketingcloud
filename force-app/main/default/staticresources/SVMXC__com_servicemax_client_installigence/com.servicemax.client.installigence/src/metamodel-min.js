(function(){var a=SVMX.Package("com.servicemax.client.installigence.metamodel");a.Class("AbstractMetamodel",com.servicemax.client.lib.api.EventDispatcher,{__constructor:function(){this.__base();},initialize:function(){},refresh:function(){}},{});a.Class("Root",com.servicemax.client.installigence.metamodel.AbstractMetamodel,{filters:null,actions:null,mappings:null,profileId:null,profileName:null,ibPriorityFields:null,ibHiddenFields:null,productDisplayFields:null,productSearchFields:null,locPriorityFields:null,locHiddenFields:null,slocPriorityFields:null,slocHiddenFields:null,accPriorityFields:null,accHiddenFields:null,ibDisplayFields:null,ibSearchFields:null,advanceSearch:null,__constructor:function(){this.__base();this.filters=[];this.actions=[];this.ibPriorityFields=[];this.ibHiddenFields=[];this.productSearchFields=[];this.productDisplayFields=[];this.locPriorityFields=[];this.locHiddenFields=[];this.slocPriorityFields=[];this.slocHiddenFields=[];this.accPriorityFields=[];this.accHiddenFields=[];this.ibDisplayFields=[];this.ibSearchFields=[];this.__bindSyncEvents();this.advanceSearch={};},initialize:function(){this.refresh();},refresh:function(){var b=SVMX.create("com.servicemax.client.lib.api.Event","INSTALLIGENCE.GET_METADATA",this,{request:{context:this}});com.servicemax.client.installigence.impl.EventBus.getInstance().triggerEvent(b);},onGetMetadataComplete:function(g){var e,f=Object.keys(g),c=f.length;for(e=0;e<c;e++){var d=f[e];this[d]=g[d];}var b=SVMX.create("com.servicemax.client.lib.api.Event","INSTALLIGENCE.GET_IBSEARCHCONFIG",this,{request:{context:this}});com.servicemax.client.installigence.impl.EventBus.getInstance().triggerEvent(b);this.__notifyUpdate();},onGetMetadataCompleteForAdvanceSearch:function(g){var h=[];var l=[];var d=[];var c;if(g){for(var f=0;f<g.length;f++){var k=g[f].searches;if(k){for(var e=0;e<k.length;e++){var b=k[e].searchfields;d=k[e].searchfields;c=k[e].advancedExpression;}}}}this.advanceSearch=d;this.advancedExpression=c;this.__notifyUpdate();},__notifyUpdate:function(c){var b=SVMX.create("com.servicemax.client.lib.api.Event","MODEL.UPDATE",this,c);this.triggerEvent(b);},__bindSyncEvents:function(){var b=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.installigence.sync").getInstance();b.bind("SYNC.STATUS",function(d){var c=d.data.type;var e=d.data.syncType;if(c==="complete"){if(e==="initial"||e==="reset"||e==="config"){this.refresh();}}},this);}},{});})();