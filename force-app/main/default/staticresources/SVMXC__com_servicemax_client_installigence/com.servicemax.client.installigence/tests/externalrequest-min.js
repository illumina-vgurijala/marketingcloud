var app=SVMX.getCurrentApplication();var page;QUnit.module("ExternalRequestValidator",{setup:function(){},teardown:function(){if(app){app.updateDependentRecords.restore();app.errorFromMFL.restore();}if(page){page.onSaveComplete.restore();}}});test("External Response Validator",function(){var b=SVMX.getClient();var a=false;var d=false;sinon.stub(app,"updateDependentRecords",function(){a=true;});sinon.stub(app,"errorFromMFL",function(){d=true;});var c={action:"SYNC",operation:"INSERT_LOCAL_RECORDS",type:"RESPONSE",data:{insertRecordsMap:{}}};app.externalMessage(c);equal(a,true,"MFL returened without any error");c.data.error="Error from MFL";app.externalMessage(c);equal(d,true,"MFL returned with Error");});test("After Save Record Create Dependent Entry",function(){app=null;page=SVMX.create("com.servicemax.client.installigence.record.PageLayout",{objectName:"SVMXC__Installed_Product__c",root:{}});var a=false;sinon.stub(page,"onSaveComplete",function(){a=true;});page.onSaveComplete({});equal(a,true,"Save Completed with the Dependent Entry Table.");});