(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d053b"],{6803:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("right-page",{attrs:{header:t.rightPageHeader,"hide-content-padding":!0}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("section",{staticClass:"slds-p-around_large"},[n("h3",{staticClass:"slds-section__title slds-theme_shade"},[n("span",{staticClass:"slds-p-horizontal--small slds-truncate"},[t._v("\n              Mainland China Settings\n          ")])]),n("div",{staticClass:"slds-grid slds-p-around_medium slds-p-bottom_large"},[n("div",{staticClass:"slds-form-element slds-size_1-of-2 slds-p-right_large"},[n("label",{staticClass:"slds-form-element__label",attrs:{for:"consumerKey"}},[n("abbr",{staticClass:"slds-required",attrs:{title:"required"}},[t._v("* ")]),t._v("SMS Template\n          ")]),n("div",{staticClass:"slds-form-element__control"},[n("lookup",{attrs:{"ld-selected-item":t.mainlandSmsTemplate,"ld-metadatas":t.smsTemplateMetadata},on:{select:function(e){return t.onMainlandSmsTemplateSelect(e)},remove:function(e){return t.onMainlandSmsTemplateRemove()}}})],1)]),n("div",{staticClass:"slds-form-element slds-size_1-of-2 slds-p-left_large"},[n("label",{staticClass:"slds-form-element__label",attrs:{for:"consumerSecret"}},[n("abbr",{staticClass:"slds-required",attrs:{title:"required"}},[t._v("* ")]),t._v("\n            SMS Signature\n          ")]),n("div",{staticClass:"slds-form-element__control"},[n("lookup",{attrs:{"ld-selected-item":t.mainlandSignature,"ld-metadatas":t.signatureMetadata},on:{select:function(e){return t.onMainlandSmsSignatureSelect(e)},remove:function(e){return t.onMainlandSmsSignatureRemove()}}})],1)])]),n("h3",{staticClass:"slds-section__title slds-theme_shade"},[n("span",{staticClass:"slds-p-horizontal--small slds-truncate"},[t._v("\n              International / Hong Kong, Macao and Taiwan Settings\n          ")])]),n("div",{staticClass:"slds-grid slds-p-around_medium"},[n("div",{staticClass:"slds-form-element slds-size_1-of-2 slds-p-right_large"},[n("span",{staticClass:"slds-form-element__label"},[t._v("SMS Template")]),n("div",{staticClass:"slds-form-element__control"},[n("lookup",{attrs:{"ld-selected-item":t.internationalTemplate,"ld-metadatas":t.smsTemplateMetadata},on:{select:function(e){return t.onInternationalSmsTemplateSelect(e)},remove:function(e){return t.onInternationalSmsTemplateRemove()}}})],1)]),n("div",{staticClass:"slds-form-element slds-size_1-of-2 slds-p-left_large"},[n("span",{staticClass:"slds-form-element__label"},[t._v("SMS Signature")]),n("div",{staticClass:"slds-form-element__control"},[n("lookup",{attrs:{"ld-selected-item":t.internationalSignature,"ld-metadatas":t.signatureMetadata},on:{select:function(e){return t.onInternationalSmsSignatureSelect(e)},remove:function(e){return t.onInternationalSmsSignatureRemove()}}})],1)])])]),n("footer",{staticClass:"slds-modal__footer"},[n("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:!t.hasChanged||t.isSaving},on:{click:t.onClickCancel}},[t._v("Cancel")]),n("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!t.hasChanged||t.isSaving||!t.canSave},on:{click:t.onClickSave}},[t._v("Save")])])])])},a=[],i=(n("96cf"),n("3b8d")),l=(n("7f7f"),n("456d"),n("ac6a"),n("d801")),r=n("8e44"),o={components:{Lookup:l["a"]},data:function(){return{rightPageHeader:{label:"CHARKET SMS",name:"Verification Code Settings"},isSaving:!1,selected:{},smsTemplateMetadata:{name:"CharketApp__SmsTemplate__c",label:"SMS Template",labelPural:"SMS Template",icon:"SMS_template",linkField:{name:"Name",label:"Name"},fields:[]},signatureMetadata:{name:"CharketApp__SmsSignature__c",label:"SMS Signature",labelPural:"SMS Signature",icon:"SMS_signature",linkField:{name:"Name",label:"Name"},fields:[]},settings:{MainlandSettings:{SmsTemplate:{Id:null,Name:null},SmsSignature:{Id:null,Name:null}},InternationalSettings:{SmsTemplate:{Id:null,Name:null},SmsSignature:{Id:null,Name:null}}},sourceSettings:{MainlandSettings:{SmsTemplate:{Id:null,Name:null},SmsSignature:{Id:null,Name:null}},InternationalSettings:{SmsTemplate:{Id:null,Name:null},SmsSignature:{Id:null,Name:null}}}}},computed:{canSave:function(){return this.settings.MainlandSettings.SmsTemplate.Id&&this.settings.MainlandSettings.SmsSignature.Id},mainlandSmsTemplate:function(){return this.settings.MainlandSettings.SmsTemplate.Id?this.settings.MainlandSettings.SmsTemplate:null},mainlandSignature:function(){return this.settings.MainlandSettings.SmsSignature.Id?this.settings.MainlandSettings.SmsSignature:null},internationalTemplate:function(){return this.settings.InternationalSettings.SmsTemplate.Id?this.settings.InternationalSettings.SmsTemplate:null},internationalSignature:function(){return this.settings.InternationalSettings.SmsSignature.Id?this.settings.InternationalSettings.SmsSignature:null},hasChanged:function(){var t=this,e=!1;return Object.keys(this.settings).forEach((function(n){var s=t.sourceSettings[n].SmsTemplate?t.sourceSettings[n].SmsTemplate.Id:null,a=t.settings[n].SmsTemplate?t.settings[n].SmsTemplate.Id:null,i=t.sourceSettings[n].SmsSignature?t.sourceSettings[n].SmsSignature.Id:null,l=t.settings[n].SmsSignature?t.settings[n].SmsSignature.Id:null;s===a&&i===l||(e=!0)})),e}},created:function(){this.getSettings()},methods:{onClickCancel:function(){this.settings=JSON.parse(JSON.stringify(this.sourceSettings))},onMainlandSmsTemplateSelect:function(t){this.settings.MainlandSettings.SmsTemplate={Id:t.id,Name:t.name}},onMainlandSmsSignatureSelect:function(t){this.settings.MainlandSettings.SmsSignature={Id:t.id,Name:t.name}},onInternationalSmsTemplateSelect:function(t){this.settings.InternationalSettings.SmsTemplate={Id:t.id,Name:t.name}},onInternationalSmsSignatureSelect:function(t){this.settings.InternationalSettings.SmsSignature={Id:t.id,Name:t.name}},onMainlandSmsTemplateRemove:function(t){this.settings.MainlandSettings.SmsTemplate={Id:null,Name:null}},onMainlandSmsSignatureRemove:function(t){this.settings.MainlandSettings.SmsSignature={Id:null,Name:null}},onInternationalSmsTemplateRemove:function(t){this.settings.InternationalSettings.SmsTemplate={Id:null,Name:null}},onInternationalSmsSignatureRemove:function(t){this.settings.InternationalSettings.SmsSignature={Id:null,Name:null}},onClickSave:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isSaving=!0,t.next=4,r["b"].saveVerificationCodeSettings(this.settings);case 4:this.$bus.emit("success",{content:"Verification Code Settings was saved.",type:"success"}),this.sourceSettings=JSON.parse(JSON.stringify(this.settings)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$bus.emit("error",{content:t.t0.message,type:"error"});case 11:return t.prev=11,this.isSaving=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[0,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}(),getSettings:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$bus.emit("show-loading"),t.next=4,r["b"].getVerificationCodeSettings();case 4:this.settings=t.sent,this.sourceSettings=JSON.parse(JSON.stringify(this.settings)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$bus.emit("error",{content:t.t0.msg,type:"error"});case 11:return t.prev=11,this.$bus.emit("hide-loading"),t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[0,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}()}},m=o,u=n("2877"),d=Object(u["a"])(m,s,a,!1,null,"41ef0ba0",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d053b.js.map