(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42fb41be"],{"37ff":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("right-page",{attrs:{header:t.rightPageHeader,"hide-content-padding":!0}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"slds-form-element section"},[n("toggle",{ref:"Toggle",attrs:{"label-info":"Enable Pardot Integration",statuses:t.toggleStatuses,"is-new-opened":t.isNewOpened,disabled:t.isSaving||!t.isEditable},on:{toggle:t.onToggle,over:function(e){return t.showTooltip(e)},out:t.hideTooltip}}),t.showInfo?n("div",{staticClass:"slds-popover slds-popover_tooltip slds-nubbin_bottom-left tooltip",style:{position:"fixed",left:t.infoTooltipPosition.left,top:t.infoTooltipPosition.top},attrs:{role:"tooltip"}},[n("div",{staticClass:"slds-popover__body"},[t._v(t._s(t.tooltipContent))])]):t._e()],1)])])},o=[],s=(n("7f7f"),n("96cf"),n("3b8d")),r=n("8e44"),a={name:"PardotSettings",data:function(){return{rightPageHeader:{label:"CHARKET SETTINGS",name:"Pardot Settings"},isPardotEnabled:!1,toggleStatuses:["Enabled","Disabled"],isNewOpened:!1,isEditable:!0,showInfo:!1,infoTooltipPosition:{left:0,top:0},tooltipContent:"",isSaving:!1}},created:function(){this.fetchPardotSettings()},methods:{onToggle:function(t){!this.isSaving&&this.isEditable&&(this.isPardotEnabled=t,this.savePardotSettings())},fetchPardotSettings:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$bus.emit("show-loading"),t.next=3,this.$try(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["d"].getSettings();case 2:n=t.sent,i=n.isPardotEnabled,o=n.isEditable,s=n.message,e.isPardotEnabled=i,e.isEditable=o,e.tooltipContent=s,e.isNewOpened=e.isPardotEnabled;case 10:case"end":return t.stop()}}),t)}))));case 3:this.$bus.emit("hide-loading");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),savePardotSettings:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSaving=!0,t.prev=1,t.next=4,r["d"].saveSettings(this.isPardotEnabled);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),"RemoteAPIError"===t.t0.name&&this.$refs.Toggle.reverse(),this.$handleError(t.t0);case 10:return t.prev=10,this.isSaving=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,6,10,13]])})));function e(){return t.apply(this,arguments)}return e}(),showTooltip:function(t){var e=this;this.isEditable||(this.showInfo=!0,this.$nextTick((function(){var n=t.currentTarget.getBoundingClientRect(),i=document.querySelector(".tooltip");e.infoTooltipPosition.left="".concat(n.left-16,"px"),e.infoTooltipPosition.top="".concat(n.top-i.clientHeight-12,"px")})))},hideTooltip:function(){this.showInfo=!1}}},l=a,c=(n("9b19"),n("2877")),d=Object(c["a"])(l,i,o,!1,null,"b5f0e790",null);e["default"]=d.exports},"6cee":function(t,e,n){},"9b19":function(t,e,n){"use strict";var i=n("6cee"),o=n.n(i);o.a}}]);
//# sourceMappingURL=chunk-42fb41be.js.map