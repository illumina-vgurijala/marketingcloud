(function(){var a=SVMX.Package("com.servicemax.client.iot.admin.app");a.Class("Application",com.servicemax.client.lib.api.AbstractApplication,{__eventBus:null,__constructor:function(){},beforeRun:function(b){var c=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.niservice").getInstance();this.__eventBus=SVMX.create("com.servicemax.client.iot.admin.impl.IoTAdminEventBus",{});c.createNamedInstanceAsync("CONTROLLER",{handler:function(d){c.createNamedInstanceAsync("MODEL",{handler:function(e){d.setModel(e);},context:this});},context:this,additionalParams:{eventBus:this.__eventBus}});b.handler.call(b.context);},getEventBus:function(){return this.__eventBus;},getSetupMetadata:function(){var c=this;var b=SVMX.create("com.servicemax.client.lib.api.Event","IOT.GET_SETUP_METADATA",c,{request:{context:c}});SVMX.getCurrentApplication().getEventBus().triggerEvent(b);},onGetSetupMetadataComplete:function(c){var d=c.sforceObjectDescribes;for(var e=0;e<d.length;e++){c[d[e].objectAPIName]=d[e];}c.context=this;this.__processTranslations(c.translations);var b=SVMX.create("com.servicemax.client.iot.admin.root.RootPanel",{collapsible:false,titleAlign:"center",frame:"true",style:"margin:10px",layout:{padding:"0"},metadata:c});},__processTranslations:function(e){var c,d=e.length;var b={};for(c=0;c<d;c++){b[e[c].Key]=Ext.String.htmlEncode(e[c].Text);}window.$TR=b;},run:function(){this.getSetupMetadata();},showQuickMessage:function(b,c,d){if(b==="confirm"){typeMessage=$TR.MESSAGE_CONFIRM;Ext.Msg.confirm(typeMessage,c,d);}else{switch(b){case"success":typeMessage=$TR.MESSAGE_SUCCESS;break;case"error":typeMessage=$TR.MESSAGE_ERROR;break;case"info":default:typeMessage=$TR.MESSAGE_INFO;break;}Ext.Msg.alert({cls:"piq-setup-info-alert",title:typeMessage,message:c,buttonText:{ok:$TR.OK},closable:false});}},blockUI:function(){var b={lines:25,length:25,width:5,radius:30,corners:1,rotate:0,direction:1,color:"#ffa384",speed:3,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000};this.__spinner=new Spinner(b).spin($("#"+SVMX.getDisplayRootId())[0]);},unblockUI:function(){this.__spinner.stop();}});})();