(function(){var a=SVMX.Package("com.servicemax.client.spareparts.engine");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SPAREPARTS");a.Class("DeliveryEngineImpl",com.servicemax.client.sfmconsole.api.AbstractDeliveryEngine,{__metaModel:null,__root:null,__loadMask:null,__isContainerExternal:null,__parent:null,__translation:null,__view:null,__constructor:function(){this.__base();this.__isContainerExternal=false;},initAsync:function(c){var d=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.niservice").getInstance();this.__eventBus=SVMX.create("com.servicemax.client.spareparts.impl.SPAREPARTSEngineEventBus",{});d.createNamedInstanceAsync("CONTROLLER",{handler:function(e){d.createNamedInstanceAsync("MODEL",{handler:function(f){e.setModel(f);d.createNamedInstanceAsync("SPAREPARTS.VIEW",{handler:function(g){this.__view=g;c.handler.call(c.context);},context:this,additionalParams:{eventBus:this.getEventBus()}});},context:this});},context:this,additionalParams:{eventBus:this.__eventBus}});},getEventBus:function(){return this.__eventBus;},translate:function(c){return b.T(c);},getAllTranslation:function(){return this.__translation;},__appCurrentState:"",changeApplicationState:function(c){if(this.__appCurrentState===c){return;}this.__appCurrentState=c;if(c=="block"){if(!this.__loadMask){this.__loadMask=new com.servicemax.client.ui.components.utils.LoadMask({parent:this.__root});}this.__loadMask.show({});this.__loadMask.setZIndex(50000);}else{if(c=="unblock"&&this.__loadMask!==null){if(this.__loadMask!==null){this.__loadMask.hide();}}}},reset:function(){this.getRoot().destroy();this.__root=null;this.run(this.options);},triggerEvent:function(c){this.__eventBus.triggerEvent(c);},run:function(d){this.changeApplicationState("block");this.options=d||{};var c={};evt=SVMX.create("com.servicemax.client.lib.api.Event","SPAREPARTS.GET_PROFILE_DATA",this,{request:c,responder:SVMX.create("com.servicemax.client.spareparts.responders.GetProfileData",this)});this.triggerEvent(evt);},onGetProfileDataCompleted:function(c){this.changeApplicationState("unblock");this.__profileData=null;if(c.success){this.__profileData=c.profilelist;}this.__metaModel=SVMX.create("com.servicemax.client.spareparts.engine.SPAREPARTSMetaModel",this,c);this.__root=this.__view.createComponent("ROOTCONTAINER",{deliveryEngine:this,__engine:this});this.__root.render(SVMX.getDisplayRootId());},getSparePartConfig:function(d,e){this.changeApplicationState("block");var c={};c.profileId=d;evt=SVMX.create("com.servicemax.client.lib.api.Event","SPAREPARTS.GET_SPAREPART_CONFIG",this,{request:c,responder:SVMX.create("com.servicemax.client.spareparts.responders.GetSparePartConfig",this,e)});this.triggerEvent(evt);},onGetSparePartConfigCompleted:function(c,d){this.changeApplicationState("unblock");d&&d(c);},saveSparePartConfig:function(c,d){this.changeApplicationState("block");evt=SVMX.create("com.servicemax.client.lib.api.Event","SPAREPARTS.SAVE_SPAREPART_CONFIG",this,{request:c,responder:SVMX.create("com.servicemax.client.spareparts.responders.SaveSparePartConfig",this,d)});this.triggerEvent(evt);},onSaveSparePartConfigCompleted:function(c,d){this.changeApplicationState("unblock");d&&d(c);},getMetaModel:function(){return this.__metaModel;},getRoot:function(){return this.__root;},onResize:function(c){this.getRoot().resize(c);}},{});a.Class("SPAREPARTSMetaModel",com.servicemax.client.lib.api.Object,{__parent:null,__data:null,__constructor:function(c,d){this.__parent=c;this.__data=d;},destroy:function(){this.__data=null;}},{});};})();