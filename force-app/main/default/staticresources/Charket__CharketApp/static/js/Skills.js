(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+9ZA":function(e,t,s){"use strict";s.r(t);var a=s("RGvt"),l=s("692z"),i=s("jkSJ"),n=s("SLhn"),o=s.n(n),r=s("cybb"),c={props:{rows:{type:Array,default:()=>[]}},inject:["openEditModal"],methods:{isRelatedToSurvey:e=>"Survey"===e.knowledgeSource,getRelatedToLabel:e=>e?e.name:"",getRelatedToDetailUrl:e=>e?"/".concat(e.id):"javascript: void(0);",onClickRelatedToSurveyLink(e){this.$router.push({name:"survey-editor",params:{surveyId:e.relatedTo.id}})},getDisplayedTextOfLastModifiedBy(e){var t;const s=Object(r.e)(e.lastModifiedDate,this.$user.TimeZoneSidKey);return e.lastModifiedBy.name?o()(t="".concat(e.lastModifiedBy.name,", ")).call(t,s):s},getMenuItems(e){const t=[{value:"Edit",label:this.$t("global.editBtn"),target:e}];return e.isActive?t.push({value:"Deactivate",label:this.$t("global.deactivateBtn"),target:e}):t.push({value:"Activate",label:this.$t("global.activateBtn"),target:e}),t.push({value:"Delete",label:this.$t("global.deleteBtn"),target:e}),t},onClickMenuItem(e){const{value:t,target:s}=e;"Edit"===t?this.openEditModal(s.id):"Deactivate"===t?this.deactivate(s.id):"Activate"===t?this.activate(s.id):"Delete"===t&&this.delete(s.id)},activate(e){const t=this.$confirm({title:this.$t("activateModalTitleLabel"),content:this.$t("activateModalContentLabel")});t.$on("ok",async()=>{try{await i.r.activate(e),this.$toast({type:"success",content:this.$t("activateSuccessLabel")}),t.close(),this.$emit("remote-updated")}catch(e){this.$handleError(e),t.resume()}})},deactivate(e){const t=this.$confirm({title:this.$t("deactivateModalTitleLabel"),content:this.$t("deactivateModalContentLabel")});t.$on("ok",async()=>{try{await i.r.deactivate(e),this.$toast({type:"success",content:this.$t("deactivateSuccessLabel")}),t.close(),this.$emit("remote-updated")}catch(e){this.$handleError(e),t.resume()}})},delete(e){const t=this.$confirm({title:this.$t("deleteModalTitleLabel"),content:this.$t("deleteModalContentLabel")});t.$on("ok",async()=>{try{await i.r.delete(e),this.$toast({type:"success",content:this.$t("deleteSuccessLabel")}),t.close(),this.$emit("remote-updated")}catch(e){this.$handleError(e),t.resume()}})}}},d=(s("qE/q"),s("KHd+")),u=s("LRZg"),v=Object(d.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"data-table"},[s("table",{staticClass:"slds-table slds-table_bordered slds-table--header-fixed skill-table",attrs:{role:"grid"}},[s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{staticClass:"slds-cell-wrap column--10-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--10-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("nameLabel")}},[e._v("\n              "+e._s(e.$t("nameLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--10-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--10-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("knowledgeSourceLabel")}},[e._v("\n              "+e._s(e.$t("knowledgeSourceLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--12-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--12-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("relatedToLabel")}},[e._v("\n              "+e._s(e.$t("relatedToLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--12-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--12-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("descriptionLabel")}},[e._v("\n              "+e._s(e.$t("descriptionLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--10-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--10-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("validForLabel")}},[e._v("\n              "+e._s(e.$t("validForLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--10-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--10-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("displayInLiveChatLabel")}},[e._v("\n              "+e._s(e.$t("displayInLiveChatLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--9-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--9-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("internalLabel")}},[e._v("\n              "+e._s(e.$t("internalLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--9-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--9-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("activeLabel")}},[e._v("\n              "+e._s(e.$t("activeLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap column--13-percent",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-cell-fixed column--13-percent"},[s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("lastModifiedByLabel")}},[e._v("\n              "+e._s(e.$t("lastModifiedByLabel"))+"\n            ")])])]),e._v(" "),s("th",{staticClass:"slds-cell-wrap",staticStyle:{width:"54px"},attrs:{scope:"col"}})])]),e._v(" "),s("tbody",{staticStyle:{transform:"none"}},e._l(e.rows,(function(t){return s("tr",{key:t.id,staticClass:"slds-hint-parent"},[s("th",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("a",{attrs:{href:"/"+t.id,title:t.name,target:"_blank"}},[e._v("\n              "+e._s(t.name)+"\n            ")])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate",attrs:{title:t.knowledgeSource}},[e._v("\n            "+e._s(t.knowledgeSource)+"\n          ")])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[e.isRelatedToSurvey(t)?s("a",{attrs:{title:e.getRelatedToLabel(t.relatedTo),href:"javascript: void(0);"},domProps:{textContent:e._s(e.getRelatedToLabel(t.relatedTo))},on:{click:function(s){return e.onClickRelatedToSurveyLink(t)}}}):s("a",{attrs:{title:e.getRelatedToLabel(t.relatedTo),href:e.getRelatedToDetailUrl(t.relatedTo),target:"_blank"},domProps:{textContent:e._s(e.getRelatedToLabel(t.relatedTo))}})])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate",attrs:{title:t.description}},[e._v("\n            "+e._s(t.description)+"\n          ")])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate",attrs:{title:t.validFor}},[e._v("\n            "+e._s(t.validFor)+"\n          ")])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{attrs:{type:"checkbox",name:"options",disabled:"",value:"on"},domProps:{checked:t.isDisplayInLiveChat}}),e._v(" "),e._m(0,!0)])])])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{attrs:{type:"checkbox",name:"options",disabled:"",value:"on"},domProps:{checked:t.isInternal}}),e._v(" "),e._m(1,!0)])])])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{attrs:{type:"checkbox",name:"options",disabled:"",value:"on"},domProps:{checked:t.isActive}}),e._v(" "),e._m(2,!0)])])])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("span",{attrs:{title:e.getDisplayedTextOfLastModifiedBy(t)},domProps:{textContent:e._s(e.getDisplayedTextOfLastModifiedBy(t))}})])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("ld-action-menu",{attrs:{items:e.getMenuItems(t)},on:{click:function(t){return e.onClickMenuItem(t)}}})],1)])})),0)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label"},[t("span",{staticClass:"slds-checkbox_faux"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label"},[t("span",{staticClass:"slds-checkbox_faux"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label"},[t("span",{staticClass:"slds-checkbox_faux"})])}],!1,null,"39b74d43",null);"function"==typeof u.default&&Object(u.default)(v);var h=v.exports,p=s("8Vev"),b=s.n(p),m=s("vQrK"),_=s.n(m),f=s("wG3i"),k=s.n(f),C=s("L2JU");const g={filter:{KnowledgeSource:"All",IsActive:!0},sortBy:'{ "Field": "LastModifiedDate", "Order": "DESC" }',searchKey:""};var L={props:{count:{type:Number,default:()=>0},hasMore:{type:Boolean,default:()=>!1}},watch:{conditions:{handler(e){this.$emit("change",e)},deep:!0}},data:()=>({defaultStatus:!0,defaultKnowledgeSource:"",defaultOrder:'{ "Field": "LastModifiedDate", "Order": "DESC" }',conditions:JSON.parse(k()(g)),knowledgeSourceOptions:[]}),computed:_()({},Object(C.e)({knowledgeSources:e=>e.skill.knowledgeSources}),{countLabel(){return this.count<=1?this.$tc("global.itemLabel",1):this.$tc("global.itemLabel",2)},statusOptions(){return[{label:this.$t("activeLabel"),value:!0},{label:this.$t("inactiveLabel"),value:!1}]},orderOptions(){return[{label:this.$t("alphabeticallyLabel"),value:'{ "Field": "Name", "Order": "ASC" }'},{label:this.$t("reverseAlphabeticallyLabel"),value:'{ "Field": "Name", "Order": "DESC" }'},{label:this.$t("lastDateLabel"),value:'{ "Field": "LastModifiedDate", "Order": "DESC" }'},{label:this.$t("oldestDateLabel"),value:'{ "Field": "LastModifiedDate", "Order": "ASC" }'}]}}),async created(){try{await this.$store.dispatch("skill/getKnowdledgeSources"),this.knowledgeSourceOptions=JSON.parse(k()(this.knowledgeSources))}catch(e){this.$handleError(e)}},methods:{onSearchKeyClear(){this.conditions.searchKey=""},onSearch(e){this.conditions.searchKey=e},onStatusChange(e){b()(this.conditions).IsActive=e.value},onKnowledgeSourceChange(e){b()(this.conditions).KnowledgeSource=e?e.value:"All"},onOrderChange(e){this.conditions.sortBy=e.value},getConditions(){return this.conditions},reset(){this.$refs.StatusPicklist.reset(!0),this.$refs.KnowledgeSourcePicklist.reset(!0),this.$refs.OrderPicklist.reset(!0),this.$refs.SearchInput.reset(),this.conditions=JSON.parse(k()(g))}}},w=(s("FT9A"),s("Rnk7")),y=Object(d.a)(L,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-border_bottom skill-filter"},[s("div",{staticClass:"skill-count"},[e._v("\n    "+e._s(e._f("addSeparators")(e.count))),e.hasMore?s("i",{staticClass:"has-more-icon"},[e._v("+")]):e._e(),e._v(" "+e._s(e.countLabel)+"\n  ")]),e._v(" "),s("div",{staticClass:"skill-status"},[s("ld-picklist",{ref:"StatusPicklist",staticClass:"skill-status__picklist",attrs:{options:e.statusOptions,value:e.defaultStatus},on:{change:function(t){return e.onStatusChange(t)}}})],1),e._v(" "),s("div",{staticClass:"skill-knowledge-source"},[s("ld-picklist",{ref:"KnowledgeSourcePicklist",attrs:{options:e.knowledgeSourceOptions,value:e.defaultKnowledgeSource,placeholder:e.$t("knowledgeSourceLabel"),"invert-select":!0},on:{change:function(t){return e.onKnowledgeSourceChange(t)}}})],1),e._v(" "),s("div",{staticClass:"slds-col_bump-left skill-search"},[s("search-input",{ref:"SearchInput",attrs:{placeholder:e.$t("searchskillLabel")},on:{search:function(t){return e.onSearch(t)},clear:function(t){return e.onSearchKeyClear()}}})],1),e._v(" "),s("div",{staticClass:"skill-order"},[s("ld-picklist",{ref:"OrderPicklist",attrs:{options:e.orderOptions,"option-header":e.$t("sortByLabel"),value:e.defaultOrder},on:{change:function(t){return e.onOrderChange(t)}}})],1)])}),[],!1,null,"1ba18434",null);"function"==typeof w.default&&Object(w.default)(y);var S=y.exports;var $={components:{"no-record":l.a,"data-table":h,"skill-filter":S},data:()=>({count:0,hasMore:!1,skills:[],conditions:null,isLoading:!0,pageNumber:1}),computed:{noRecordVisible(){return!this.isLoading&&0===this.skills.length},dataTableVisible(){return!this.isLoading&&this.skills.length>0},paginationVisible(){return!this.isLoading&&this.pageCount>1},pageCount(){return Math.ceil(this.count/20)}},async mounted(){this.$logger.trace("SkillListView","mounted"),this.conditions=this.$refs.Filter.getConditions(),this.load()},methods:{async onFilterChange(e){this.$logger.trace("SkillListView","onFilterChange > conditions",e),this.conditions=e,this.pageNumber=1,await this.load()},async load(){const e=this.$route.name;this.isLoading=!("skills-new"===e),await this.$try(async()=>{const e=await i.r.getSkills({pageNumber:this.pageNumber,pageSize:20,conditions:this.conditions});this.$logger.trace("SkillListView","load > result",e),this.skills=e.records,this.count=e.totalRowCount,this.hasMore=e.hasMore}),this.isLoading=!1},async onPaginationChange(e){this.pageNumber=e,await this.load()},reset(){this.pageNumber=1,this.$refs.Filter.reset(),this.conditions=this.$refs.Filter.getConditions()}}},x=(s("l8Pg"),Object(d.a)($,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-view"},[s("skill-filter",{ref:"Filter",attrs:{count:e.count,"has-more":e.hasMore},on:{change:function(t){return e.onFilterChange(t)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"list-view__loading slds-spinner_container"},[s("ld-loading",{attrs:{size:"medium",type:"brand"}})],1),e._v(" "),s("div",{staticClass:"list-view__wrapper"},[e.noRecordVisible?s("no-record"):e._e(),e._v(" "),e.dataTableVisible?s("div",{staticClass:"slds-table--header-fixed_container"},[s("div",{staticClass:"slds-scrollable_y scroll-content"},[s("data-table",{attrs:{rows:e.skills},on:{"remote-updated":function(t){return e.load()}}}),e._v(" "),e.paginationVisible?s("pagination",{attrs:{"page-count":e.pageCount},on:{change:function(t){return e.onPaginationChange(t)}},model:{value:e.pageNumber,callback:function(t){e.pageNumber=t},expression:"pageNumber"}}):e._e()],1)]):e._e()],1)],1)}),[],!1,null,"5808bbb4",null).exports),D=s("4LGG"),T=s.n(D),A=s("M2K/"),M=s.n(A),N=s("dUVM"),I=s.n(N),O={name:"skill-related-to-field",components:{Lookup:s("2AFw").a},props:{knowledgeSource:{type:String,required:!0,validator(e){var t;return I()(t=["Survey","Apex"]).call(t,e)}},selected:{type:Object,default:()=>({})}},data(){return{hasApexPermission:!0,apexClassName:"",metadata:{Survey:{name:"Survey__c",label:this.$tc("surveyLabel",1),labelPural:this.$tc("surveyLabel",2),icon:"custom.survey",linkField:{name:"Name",label:this.$t("relatedToLabel")},fields:[]},Apex:{name:"ApexClass",label:"Apex",labelPural:this.$t("apexPuralLabel"),icon:"apex",linkField:{name:"Name",label:this.$t("relatedToLabel")},fields:[]}}}},computed:_()({},Object(C.c)({currentUser:"user/currentUser"}),{isInputVisible(){return!("Apex"!==this.knowledgeSource||this.hasApexPermission||this.selected&&this.selected.Id)},selectedMetadata(){return this.metadata[this.knowledgeSource]}}),watch:{selected(e){this.isInputVisible&&!e&&(this.apexClassName="")}},created(){this.hasApexPermission=this.currentUser.Permissions.Objects.ApexClass&&this.currentUser.Permissions.Objects.ApexClass.IsReadable,this.isInputVisible&&this.selected&&(this.apexClassName=this.selected.Name)},methods:{onSelectObject(e){this.$emit("change",{Id:e.id,Name:e.name})},onSelectedObjectRemoved(){this.$emit("change",null)},onInput(){var e;M()(e=this.apexClassName).call(e)?this.$emit("change",{Id:"",Name:this.apexClassName}):this.$emit("change",null)},reset(){this.$refs.Lookup&&this.$refs.Lookup.clear(),this.apexClassName=""}}},E=s("HCAY"),F=Object(d.a)(O,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isInputVisible?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.apexClassName,expression:"apexClassName"}],staticClass:"slds-input",attrs:{type:"text",placeholder:e.$t("apexClassNameLabel")},domProps:{value:e.apexClassName},on:{input:[function(t){t.target.composing||(e.apexClassName=t.target.value)},function(t){return e.onInput()}]}})]):s("div",[s("lookup",{ref:"Lookup",attrs:{"ld-selected-item":e.selected,"ld-metadatas":e.selectedMetadata},on:{select:function(t){return e.onSelectObject(t)},remove:function(t){return e.onSelectedObjectRemoved()}}})],1)])}),[],!1,null,"3b6079f0",null);"function"==typeof E.default&&Object(E.default)(F);var P={name:"skill-edit-layout",components:{RelatedToField:F.exports},model:{prop:"skillData",event:"changed"},props:{skillData:{type:Object,required:!0,default:()=>({})},knowledgeSources:{type:Array,required:!0,default:()=>[]}},methods:{onKnowledgeSourceChanged(e){this.skillData.relatedTo=null,this.skillData.knowledgeSource=e.value,this.$refs.RelatedToField.reset()},onRelatedToChanged(e){this.skillData.relatedTo=e},reset(){this.$refs.RelatedToField.reset()},onKeydownValid(e,t){let s;s=t?/\d/:/^[1-9]$/,e.returnValue=s.test(e.key)||8===e.keyCode}}},K=(s("76Hr"),s("Iv7+")),R=Object(d.a)(P,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"skill-edit-layout"},[s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control skill-field__control"},[s("div",{staticClass:"slds-form-element__row skill-field__row"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"name"}},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("nameLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.skillData.name,expression:"skillData.name"}],staticClass:"slds-input",attrs:{type:"text",id:"name"},domProps:{value:e.skillData.name},on:{input:function(t){t.target.composing||e.$set(e.skillData,"name",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"slds-size_1-of-2 skill-field__left"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"active"}},[e._v(e._s(e.$t("activeLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_standalone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.skillData.isActive,expression:"skillData.isActive"}],attrs:{type:"checkbox",id:"active"},domProps:{checked:Array.isArray(e.skillData.isActive)?e._i(e.skillData.isActive,null)>-1:e.skillData.isActive},on:{change:function(t){var s=e.skillData.isActive,a=t.target,l=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.skillData,"isActive",s.concat([null])):i>-1&&e.$set(e.skillData,"isActive",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.skillData,"isActive",l)}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])])])])])]),e._v(" "),s("div",{staticClass:"slds-form-element__control skill-field__control"},[s("div",{staticClass:"slds-form-element__row skill-field__row"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("knowledgeSourceLabel")))]),e._v(" "),s("ld-picklist",{ref:"knowledgeSource",attrs:{options:e.knowledgeSources,value:e.skillData.knowledgeSource},on:{change:function(t){return e.onKnowledgeSourceChanged(t)}}})],1)]),e._v(" "),s("div",{staticClass:"slds-size_1-of-2 skill-field__left"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"dispaly-in-live-chat"}},[e._v(e._s(e.$t("displayInLiveChatLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_standalone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.skillData.isDisplayInLiveChat,expression:"skillData.isDisplayInLiveChat"}],attrs:{type:"checkbox",id:"dispaly-in-live-chat"},domProps:{checked:Array.isArray(e.skillData.isDisplayInLiveChat)?e._i(e.skillData.isDisplayInLiveChat,null)>-1:e.skillData.isDisplayInLiveChat},on:{change:function(t){var s=e.skillData.isDisplayInLiveChat,a=t.target,l=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.skillData,"isDisplayInLiveChat",s.concat([null])):i>-1&&e.$set(e.skillData,"isDisplayInLiveChat",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.skillData,"isDisplayInLiveChat",l)}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])])])])])]),e._v(" "),s("div",{staticClass:"slds-form-element__control skill-field__control"},[s("div",{staticClass:"slds-form-element__row skill-field__row"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("relatedToLabel")))])]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("related-to-field",{ref:"RelatedToField",attrs:{"knowledge-source":e.skillData.knowledgeSource,selected:e.skillData.relatedTo},on:{change:e.onRelatedToChanged}})],1)]),e._v(" "),s("div",{staticClass:"slds-size_1-of-2 skill-field__left"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"internal"}},[e._v(e._s(e.$t("internalLabel")))]),e._v(" "),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("internalHintLabel")},expression:"{content: $t('internalHintLabel') }"}],staticClass:"slds-form-element__icon"},[s("button",{staticClass:"slds-button slds-button_icon"},[s("icon",{attrs:{name:"info","class-name":"slds-button__icon"}})],1)]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_standalone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.skillData.isInternal,expression:"skillData.isInternal"}],attrs:{type:"checkbox",id:"internal"},domProps:{checked:Array.isArray(e.skillData.isInternal)?e._i(e.skillData.isInternal,null)>-1:e.skillData.isInternal},on:{change:function(t){var s=e.skillData.isInternal,a=t.target,l=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&e.$set(e.skillData,"isInternal",s.concat([null])):i>-1&&e.$set(e.skillData,"isInternal",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.skillData,"isInternal",l)}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])])])])])]),e._v(" "),s("div",{staticClass:"slds-form-element__control skill-field__control"},[s("div",{staticClass:"slds-form-element__row skill-field__row"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"valid-for"}},[e._v(e._s(e.$t("validForLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.skillData.validFor,expression:"skillData.validFor",modifiers:{number:!0}}],staticClass:"slds-input",attrs:{id:"valid-for",type:"number",step:"1",min:"1",max:"100000"},domProps:{value:e.skillData.validFor},on:{keydown:function(t){return e.onKeydownValid(t,e.skillData.validFor)},input:function(t){t.target.composing||e.$set(e.skillData,"validFor",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])])])]),e._v(" "),s("div",{staticClass:"slds-form-element__control skill-field__control"},[s("div",{staticClass:"slds-form-element__row skill-field__row"},[s("div",{staticClass:"slds-size_1-of-1"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"description"}},[e._v(e._s(e.$t("descriptionLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.skillData.description,expression:"skillData.description"}],staticClass:"slds-textarea",attrs:{id:"description",maxlength:"255"},domProps:{value:e.skillData.description},on:{input:function(t){t.target.composing||e.$set(e.skillData,"description",t.target.value)}}})])])])])])])])}),[],!1,null,"4bd7886c",null);"function"==typeof K.default&&Object(K.default)(R);var j=R.exports,B=s("HAvB");const V={name:"",description:"",isInternal:!1,validFor:null,isActive:!0,isDisplayInLiveChat:!1,knowledgeSource:"Survey",relatedTo:null};var z={name:"skill-edit-modal",components:{EditLayout:j},data:()=>({title:"",isSaving:!1,isLoading:!1,skill:{},knowledgeSourceOptions:[]}),created(){this.skill=new B.a(JSON.parse(k()(V)))},computed:_()({},Object(C.e)({knowledgeSources:e=>e.skill.knowledgeSources}),{isEditMode(){return!!this.skill.id},isNameValid(){return!!this.skill.name},isRelatedToValid(){return!!this.skill.relatedTo},isSaveButtonDisabled(){return this.isSaving||!this.isNameValid||!this.isRelatedToValid}}),methods:{async open(e){if(this.reset(),this.initTitle(e),this.$refs.Modal.open(),this.isLoading=!0,await this.initDefaultKnowledgeSource(),e)try{const t=await i.r.getSkill(e);this.skill=t}catch(e){this.$handleError(e)}this.isLoading=!1},async initDefaultKnowledgeSource(){if(0===this.knowledgeSources.length)try{await this.$store.dispatch("skill/getKnowdledgeSources"),this.skill.knowledgeSource=this.getSkillKnowledgeSource()}catch(e){this.$handleError(e)}else this.skill.knowledgeSource=this.getSkillKnowledgeSource()},getSkillKnowledgeSource(){return this.knowledgeSourceOptions=JSON.parse(k()(this.knowledgeSources)),this.knowledgeSourceOptions.length>1?this.skill.knowledgeSource:"Apex"},initTitle(e){this.title=e?this.$t("editTitle"):this.$t("newTitle")},async onClickSave(){this.isSaving=!0,this.skill.validFor=this.skill.validFor||null;try{this.isEditMode?await this.update():await this.create(),this.$refs.Modal.close(),this.$emit("save-skill-success")}catch(e){if("RemoteAPIError"===e.name)if(e.data){const t=e.data.pageErrors,s=T()(t).call(t,e=>e.message);this.handleError(s.join(" "))}else this.handleError(e.message);else this.handleError(e.message);this.$emit("save-skill-failed",e)}finally{this.isSaving=!1}},handleError(e){this.$refs.Modal.showError(e),this.$refs.Modal.handleScroll()},async create(){this.skill,await i.r.saveSkill(this.skill.toPascalData()),this.$toast({content:this.$t("createSuccessLabel"),type:"success"})},async update(){await i.r.saveSkill(this.skill.toPascalData()),this.$toast({content:this.$t("updateSuccessLabel"),type:"success"})},onClickCancel(){this.$refs.Modal.close(),this.$emit("cancel")},reset(){this.skill=new B.a(JSON.parse(k()(V))),this.$refs.EditLayout.reset()},onClose(){this.$emit("cancel")}}},H=(s("htKz"),s("E/tQ")),q=Object(d.a)(z,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ld-modal",{ref:"Modal",staticClass:"skill-modal",attrs:{width:840,title:e.title},on:{close:function(t){return e.onClose()}},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"scroll-container slds-scrollable_y"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"skill-modal__loading"},[s("ld-loading")],1),e._v(" "),s("edit-layout",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"EditLayout",attrs:{"skill-data":e.skill,"knowledge-sources":e.knowledgeSourceOptions}})],1)]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSaving},on:{click:function(t){return e.onClickCancel()}}},[e._v("\n      "+e._s(e.$t("global.cancelBtn"))+"\n    ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",attrs:{disabled:e.isSaveButtonDisabled},on:{click:function(t){return e.onClickSave()}}},[e._v("\n      "+e._s(e.$t("global.saveBtn"))+"\n    ")])]},proxy:!0}])})}),[],!1,null,"80d9fc0c",null);"function"==typeof H.default&&Object(H.default)(q);var J=q.exports,U={components:{CommonPageHeader:a.a,ListView:x,EditModal:J},provide(){return{openEditModal:this.openEditModal}},mounted(){const e=this.$route.name;"skills"!==e&&("skills-new"!==e?this.$router.replace({name:"skills"}):this.openEditModal())},methods:{onClickNew(){this.openEditModal()},openEditModal(e){e?this.$router.replace({name:"skills-edit"}):this.$router.replace({name:"skills-new"}),this.$refs.EditModal.open(e)},async onSaveSkillSuccess(){this.$refs.ListView.reset(),this.$router.replace({name:"skills"}),await this.$refs.ListView.load()},onClickCancel(){this.$router.replace({name:"skills"})}}},G=(s("EFja"),s("lkAY")),Z=Object(d.a)(U,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"skill-view"},[s("common-page-header",{attrs:{"page-title":e.$t("skillsLabel")},on:{"create-new":function(t){return e.onClickNew()}}}),e._v(" "),s("div",{staticClass:"skill-view-content"},[s("list-view",{ref:"ListView"})],1),e._v(" "),s("edit-modal",{ref:"EditModal",on:{cancel:function(t){return e.onClickCancel()},"save-skill-success":function(t){return e.onSaveSkillSuccess()}}})],1)}),[],!1,null,"30ad0c25",null);"function"==typeof G.default&&Object(G.default)(Z);var Q=Z.exports;t.default=Q},"4Sxw":function(e,t,s){},"76Hr":function(e,t,s){"use strict";var a=s("nt7g");s.n(a).a},"E/tQ":function(e,t,s){"use strict";var a=s("gGe9"),l=s.n(a);t.default=l.a},EFja:function(e,t,s){"use strict";var a=s("pXB5");s.n(a).a},FT9A:function(e,t,s){"use strict";var a=s("xoHD");s.n(a).a},HCAY:function(e,t,s){"use strict";var a=s("gbFx"),l=s.n(a);t.default=l.a},"Iv7+":function(e,t,s){"use strict";var a=s("QvxK"),l=s.n(a);t.default=l.a},JnFD:function(e,t,s){},LRZg:function(e,t,s){"use strict";var a=s("wXEa"),l=s.n(a);t.default=l.a},QvxK:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"nameLabel":"技能名称","activeLabel":"启用","knowledgeSourceLabel":"知识源","displayInLiveChatLabel":"在 Live Chat 中显示","relatedToLabel":"相关","internalLabel":"内部","validForLabel":"有效时间 (分钟)","descriptionLabel":"描述","internalHintLabel":"关注者需要在微信中登陆了 Salesforce 使用这个技能。"},"en":{"nameLabel":"Name","activeLabel":"Active","knowledgeSourceLabel":"Knowledge Source","displayInLiveChatLabel":"Display in Live Chat","relatedToLabel":"Related To","internalLabel":"Internal","validForLabel":"Valid For (mins)","descriptionLabel":"Description","internalHintLabel":"To use this skill, a follower needs to log in Salesforce in the WeChat app."}}'),delete e.options._Ctor}},RGvt:function(e,t,s){"use strict";var a={components:{Icon:s("za7x").a},props:{pageTitle:String,hasNewButton:{type:Boolean,default:!0}},methods:{createNew(){this.$emit("create-new")},showNavBox(){this.$root.$emit("show-nav-box")}}},l=(s("zMKj"),s("KHd+")),i=Object(l.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-border_bottom header-tab"},[s("a",{staticClass:"down-btn",on:{click:e.showNavBox}},[s("icon",{attrs:{name:"menuIcon","class-name":"down-icon",width:"18px",height:"18px"}})],1),e._v(" "),s("span",{staticClass:"header-line"}),e._v(" "),s("span",{staticClass:"tab-value"},[e._v(e._s(e.pageTitle))]),e._v(" "),e.hasNewButton?s("div",{staticClass:"header-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.createNew()}}},[e._v(e._s(e.$t("global.newBtn")))])]):e._e()])}),[],!1,null,"4381808b",null);t.a=i.exports},Rnk7:function(e,t,s){"use strict";var a=s("bl2q"),l=s.n(a);t.default=l.a},bl2q:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"searchskillLabel":"搜索技能","knowledgeSourceLabel":"知识源","sortByLabel":"排序","activeLabel":"已启用","inactiveLabel":"已禁用","alphabeticallyLabel":"字母升序","reverseAlphabeticallyLabel":"字母降序","lastDateLabel":"最近修改日期","oldestDateLabel":"最早修改日期"},"en":{"searchskillLabel":"Search Skills","knowledgeSourceLabel":"Knowledge Source","sortByLabel":"Sort by","activeLabel":"Active","inactiveLabel":"Inactive","alphabeticallyLabel":"Alphabetically","reverseAlphabeticallyLabel":"Reverse Alphabetically","lastDateLabel":"Last Modified Date","oldestDateLabel":"First Modified Date"}}'),delete e.options._Ctor}},gGe9:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newTitle":"新建技能","editTitle":"编辑技能","createSuccessLabel":"技能创建成功。","updateSuccessLabel":"技能更新成功。"},"en":{"newTitle":"New Skill","editTitle":"Edit Skill","createSuccessLabel":"The skill was created.","updateSuccessLabel":"The skill was saved."}}'),delete e.options._Ctor}},gbFx:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"surveyLabel":"问卷","nameLabel":"名称","noteLabel":"说明","statusLabel":"状态","namespacePrefixLabel":"命名空间前缀","apiVersionLabel":"API 版本","apexClassNameLabel":"Apex 类名","apexPuralLabel":" Apex","relatedToLabel":"相关"},"en":{"surveyLabel":"Survey | Surveys","nameLabel":"Name","noteLabel":"Note","statusLabel":"Status","namespacePrefixLabel":"Namespace Prefix","apiVersionLabel":"API Version","apexClassNameLabel":"Apex Class Name","apexPuralLabel":"Apex","relatedToLabel":"Related To"}}'),delete e.options._Ctor}},htKz:function(e,t,s){"use strict";var a=s("JnFD");s.n(a).a},l8Pg:function(e,t,s){"use strict";var a=s("ugIZ");s.n(a).a},lkAY:function(e,t,s){"use strict";var a=s("mzVN"),l=s.n(a);t.default=l.a},mzVN:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"skillsLabel":"技能"},"en":{"skillsLabel":"Skills"}}'),delete e.options._Ctor}},nt7g:function(e,t,s){},pWn3:function(e,t,s){},pXB5:function(e,t,s){},"qE/q":function(e,t,s){"use strict";var a=s("pWn3");s.n(a).a},ugIZ:function(e,t,s){},wXEa:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"nameLabel":"技能名称","knowledgeSourceLabel":"知识源","relatedToLabel":"相关项","descriptionLabel":"描述","validForLabel":"有效时间 (分钟)","displayInLiveChatLabel":"在 Live Chat 中显示","internalLabel":"内部","activeLabel":"启用","lastModifiedByLabel":"上次修改人","deactivateModalTitleLabel":"禁用技能","deactivateModalContentLabel":"确定要禁用这个技能吗?","deactivateSuccessLabel":"技能已被禁用。","activateModalTitleLabel":"启用技能","activateModalContentLabel":"确定要启用这个技能吗?","activateSuccessLabel":"技能已启用。","deleteModalTitleLabel":"删除技能","deleteModalContentLabel":"确定要删除这个技能吗?","deleteSuccessLabel":"技能已删除。"},"en":{"nameLabel":"Name","knowledgeSourceLabel":"Knowledge Source","relatedToLabel":"Related To","descriptionLabel":"Description","validForLabel":"Valid For (mins)","displayInLiveChatLabel":"Display in Live Chat","internalLabel":"Internal","activeLabel":"Active","lastModifiedByLabel":"Last Modified By","deactivateModalTitleLabel":"Deactivate Skill","deactivateModalContentLabel":"Are you sure you want to deactivate this skill?","deactivateSuccessLabel":"The skill was deactivated.","activateModalTitleLabel":"Activate Skill","activateModalContentLabel":"Are you sure you want to activate this skill?","activateSuccessLabel":"The skill was activated.","deleteModalTitleLabel":"Delete Skill","deleteModalContentLabel":"Are you sure you want to delete this skill?","deleteSuccessLabel":"The skill was deleted."}}'),delete e.options._Ctor}},xoHD:function(e,t,s){},zMKj:function(e,t,s){"use strict";var a=s("4Sxw");s.n(a).a}}]);