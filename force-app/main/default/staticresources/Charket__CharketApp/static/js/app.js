(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+2/o":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACWUlEQVRoQ+2ZO24UQRCGvz8BJJ4BEg/7AiAkIDE+AYnFCcgNiTkMJuCRwg0ggBMACSAQBJCBeYkEjIXspFBb01Z76PHM7vbM9IiZcHe2+/+6qrpqq8TAHw1cPyNA3xYcLZCdBcxsH3ANuAqcAw72LHIdeAvcB+5J2gz17HIhM5sDHgHnexZdtf0L4IqkNf/CDoCZ7QeeAhcyFe9lvQIWJG25D0KAFeBm5uK9vBuSVssA7vQvBQDOla5L+tQnlJmdBu4CS4GOZ5IWywC/gMPBS3OSPvcp3u9tZvPAx0DLhqRDZQDbFd1SVjnCzKL6whgYAdp0t04sYGanAHdXn6iA+QZclPRlUtguAd4BRysE/gTOZAvgRJvZAvAkAuHEX5b0fNLTL9btLogjEDOJTwpQ+Dl1bhBAuP1rT75u3WQxYGZfgQMpRAWJyrvdpqToBZASwPvizG4RixlVJNA2ANz+M0HEAr5rAA8x8dVoZseBD+XbamgA74FjTWqw0YWCG2PwQTzJNer83OWMH3tl3yCY/0hy9dQ/T0oX2t6gYSJ7XPxtbZLI9oRNBtCkjsm6lKgDGHQxV3W3B9B5l9MFwGvgZIWlvru+U138tBrEdS7U1vedBnEbEP8FwO9SJ3o+bKK2capN1yy6czsNXWBd0pHtfBSUCLHW4nLf3bmiK3e7SWtxSM3dFUm3yhZwgw3XMch1NuCd5SWw6AcdsQHHw4xnBG42sBQdcASx4AYdy8WI6WypY9007lK+twG8AR4Ad/xgw2+QVQd6GuoRYJpTS/mb0QIpT3OatQZvgb/56L5AwUbyMQAAAABJRU5ErkJggg=="},"+BhS":function(e,t,s){"use strict";var i=s("SLhn"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("jkSJ"),r=s("CjVY"),c=s.n(r),d=s("692z");const h={images:"Image",videos:"Video",news:"Structured Message",voices:"Voice",text:"Text Message",miniProgramPage:"Mini Program Page"};var u={props:{accountId:{type:String,default:""},selectMessages:{type:Array,default:()=>[]}},components:{NoRecord:d.a},watch:{loading(e){this.isLoading=e}},data:()=>({searchKey:"",messages:[],messagesCount:0,hasMoreToLoad:!0,loading:!1,realSelectedMessage:"",messageSize:{images:30,text:30,voices:30,videos:10,news:10,miniProgramPage:10},isNoRecordsShow:!1,isLoadingMoreText:!1,isLoading:!1}),methods:{async getCurrentMessages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.loading=!0;try{var n;const o=await l.k.getMessages({type:h[e],wechatAccountId:this.accountId,offset:this.messagesCount*this.messageSize[e],limit:this.messageSize[e],keyword:this.searchKey},{structuredType:t});this.loading=!1,this.isNoRecordsShow=0===o.length;for(const t of o){if(this.$set(t,"isSelectedShow",i),i&&(this.selectMessages.shift(),this.selectMessages.push(t),i=!1),"voices"===e){const e=s("iTeh");this.$set(t,"imageIcon",e)}else"text"===e&&(t.textBodyTitle=c.a.decorateText(t.textBody,"Plain Text"));if(this.selectMessages.length>0){(()=>t.id?t.id===this.selectMessages[0].id:t.cardId?t.cardId===this.selectMessages[0].cardId:t.messageId?t.messageId===this.selectMessages[0].messageId||t.messageId===this.selectMessages[0].id:void 0)()&&(t.isSelectedShow=!0,this.realSelectedMessage=t,this.$emit("select",[t]))}}this.messages=a()(n=this.messages).call(n,o),o.length===this.messageSize[e]?(this.hasMoreToLoad=!0,this.messagesCount++):this.hasMoreToLoad=!1}catch(e){this.loading=!1,this.isNoRecordsShow=!0,this.$handleError(e)}finally{this.$emit("action-end")}},selectMessage(e){this.realSelectedMessage?this.realSelectedMessage!==e?(this.realSelectedMessage.isSelectedShow=!1,e.isSelectedShow=!0):e.isSelectedShow=!e.isSelectedShow:e.isSelectedShow=!0,this.realSelectedMessage=e;const t=this.realSelectedMessage.isSelectedShow?[this.realSelectedMessage]:[];this.$emit("select",t)},scrollToGetMore(e,t,s){const i=e.target,a=i.scrollTop>=i.scrollHeight-i.clientHeight;this.hasMoreToLoad&&a&&(this.isLoadingMoreText="text"===t&&!0,this.loading||this.getCurrentMessages(t,s))},beforeSearch(e){this.hasMoreToLoad=!0,this.isNoRecordsShow=!1,this.messages=[],this.messagesCount=0},resetData(){this.searchKey="",this.hasMoreToLoad=!0,this.isNoRecordsShow=!1,this.messages=[],this.messagesCount=0},clearSearchKey(e,t){this.resetData(),this.$emit("action-start"),this.getCurrentMessages(e,t)}}},p=s("w2Vt"),m={mixins:[u],inject:["showErrorImg"],async mounted(){this.$emit("action-start"),await this.getCurrentMessages("images")},components:{LoadingSpinner:p.a},data:()=>({}),methods:{search(){this.getMessage()},getMessage(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beforeSearch(),this.$emit("action-start"),this.getCurrentMessages("images","",e)},load(){this.getMessage(!0)},viewDetail(e){this.$emit("view-image-detail",e)}}},g=(s("8cDQ"),s("KHd+")),f=Object(g.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img-content"},[s("div",{staticClass:"search-bar"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("images")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("div",{staticClass:"slds-scrollable_y scroll-content",on:{scroll:function(t){return e.scrollToGetMore(t,"images")}}},[e.messages.length>0?s("ul",{staticClass:"slds-grid slds-wrap select-img-ul"},e._l(e.messages,(function(t){return s("li",{key:t.url,staticClass:"select-img-li"},[s("div",{on:{click:function(s){return e.selectMessage(t)}}},[s("div",{staticClass:"li-img",class:{"li-img-bg":!t.url}},[s("img",{attrs:{src:e._f("imgFilter")(t.url)},on:{error:function(t){return e.showErrorImg(t)}}})]),e._v(" "),s("div",{staticClass:"slds-truncate li-desc",attrs:{title:t.name}},[e._v(e._s(t.name))]),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-img"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"48px",height:"48px"}})],1)]):e._e()]),e._v(" "),t.url?s("div",{staticClass:"slds-grid slds-grid_align-center message-actions-container"},[s("div",{staticClass:"open-icon",attrs:{title:e.$t("global.openLabel")},on:{click:function(s){return e.viewDetail(t)}}},[s("icon",{attrs:{name:"newWindow",width:"20px",height:"20px","fill-color":"#ecebea"}})],1)]):e._e()])})),0):e._e(),e._v(" "),e.messages.length<=0&&e.isNoRecordsShow?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%;"}}):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,"custom-style":"position: relative; padding: 30px; background-color: white"}})],1)])}),[],!1,null,"10f2eea4",null).exports,v=s("8Vev"),_=s.n(v),C=s("YjsE"),b={props:{struMsgType:{type:String,default:"mpnews"}},mixins:[u],async mounted(){this.$emit("action-start"),await this.getCurrentMessages("news",this.struMsgType),this.resizePopupPage(),this.$nextTick((function(){window.addEventListener("resize",this.resizePopupPage),window.addEventListener("mousewheel",this.resizePopupPage),window.addEventListener("DOMMouseScroll",this.resizePopupPage)}))},destroyed(){window.removeEventListener("resize",this.resizePopupPage),window.removeEventListener("mousewheel",this.resizePopupPage),window.removeEventListener("DOMMouseScroll",this.resizePopupPage)},components:{StruMessageDetail:C.a,LoadingSpinner:p.a},data:()=>({showOtherList:!0,showOtherListMinWidth:726}),computed:{messagesInColumnOne(){var e;return _()(e=this.messages).call(e,(e,t)=>t%2==0&&this.showOtherList||!this.showOtherList)},messagesInColumnTwo(){var e;return _()(e=this.messages).call(e,(e,t)=>t%2>0)}},methods:{search(){this.beforeSearch(),this.$emit("action-start"),this.getCurrentMessages("news",this.struMsgType,!1)},resizePopupPage(){let e=document.querySelector(".news-content").getBoundingClientRect().width;this.showOtherList=e>this.showOtherListMinWidth}}},w=(s("M0cT"),Object(g.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"news-content"},[s("div",{staticClass:"search-news"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("news",e.struMsgType)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("div",{staticClass:"slds-scrollable_y scroll-content",on:{scroll:function(t){return e.scrollToGetMore(t,"news",e.struMsgType)}}},[s("div",{staticClass:"slds-grid slds-grid_align-center ul-container"},[s("ul",{staticClass:"select-news-ul"},e._l(e.messagesInColumnOne,(function(t){return s("li",{key:t.Id,staticClass:"select-news-li"},[s("div",{on:{click:function(s){return e.selectMessage(t)}}},[s("stru-message-detail",{attrs:{"structure-message":t,"show-view-icon":!0}}),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-news"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon-news"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"64px",height:"64px"}})],1)]):e._e()],1)])})),0),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOtherList,expression:"showOtherList"}],staticClass:"select-news-ul"},e._l(e.messagesInColumnTwo,(function(t){return s("li",{key:t.Id,staticClass:"select-news-li"},[s("div",{on:{click:function(s){return e.selectMessage(t)}}},[s("stru-message-detail",{attrs:{"structure-message":t,"show-view-icon":!0}}),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-news"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon-news"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"64px",height:"64px"}})],1)]):e._e()],1)])})),0)]),e._v(" "),e.messages.length<=0&&e.isNoRecordsShow?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%;"}}):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,"custom-style":"position: relative; padding: 30px; background-color: white"}})],1)])}),[],!1,null,"c7942fe6",null).exports),y=s("L2JU"),T=s("NAIw"),L=s("xxvK"),I=s("cybb"),k={mixins:[u],async mounted(){this.$emit("action-start"),await this.getCurrentMessages("videos")},components:{VideoDetailCard:T.VideoDetailCard,VideoPlayModal:L.a,LoadingSpinner:p.a},data:()=>({currentPlayVideo:""}),computed:o()({},Object(y.c)({currentUser:"user/currentUser"})),methods:{search(){this.getMessage()},getMessage(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beforeSearch(),this.$emit("action-start"),this.getCurrentMessages("videos","",e)},getDisplayedDatetime(e){return Object(I.e)(e,this.currentUser.TimeZoneSidKey)},load(){this.getMessage(!0)},playVideo(e){e.url&&(this.currentPlayVideo=e)},closePlayVideo(){this.currentPlayVideo=""}}},S=(s("f1LM"),Object(g.a)(k,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"video-content"},[s("div",{staticClass:"search-bar"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("videos")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("div",{staticClass:"slds-scrollable_y scroll-content",on:{scroll:function(t){return e.scrollToGetMore(t,"videos")}}},[e.messages.length<=0&&e.isNoRecordsShow?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%;"}}):e._e(),e._v(" "),e.messages.length>0?s("ul",{staticClass:"slds-grid slds-wrap select-img-ul select-video-ul"},e._l(e.messages,(function(t){return s("li",{key:t.url,staticClass:"select-video-li"},[s("div",{on:{click:function(s){return e.selectMessage(t)}}},[s("video-detail-card",{attrs:{title:t.name,date:e.getDisplayedDatetime(t.updateDateTime),description:t.description},on:{play:function(s){return e.playVideo(t)}}}),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-video"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"64px",height:"64px"}})],1)]):e._e()],1),e._v(" "),t.url?s("div",{staticClass:"slds-grid slds-grid_align-center message-actions-container"},[s("div",{staticClass:"open-icon",attrs:{title:e.$t("global.openLabel")},on:{click:function(s){return e.playVideo(t)}}},[s("icon",{attrs:{name:"newWindow",width:"20px",height:"20px","fill-color":"#ecebea"}})],1)]):e._e()])})),0):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,"custom-style":"position: relative; padding: 30px; background-color: white"}})],1),e._v(" "),""!==e.currentPlayVideo?s("video-play-modal",{attrs:{"current-play-video":e.currentPlayVideo},on:{close:function(t){return e.closePlayVideo()}}}):e._e()],1)}),[],!1,null,"e50cd15a",null).exports),M=s("pqUP"),A=s.n(M),x=s("autp"),N=s.n(x),E={mixins:[u],components:{VoiceDetailCard:s("ZKhp").VoiceDetailCard,LoadingSpinner:p.a},async mounted(){this.$emit("action-start"),await this.getCurrentMessages("voices")},data:()=>({currentPlayAudio:{},voiceImgTag:0,audioStart:!1,audioPause:!1,voiceAnimationTimer:null}),methods:{search(){this.getMessage()},getMessage(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beforeSearch(),this.$emit("action-start"),this.getCurrentMessages("voices","",e)},load(){this.getMessage(!0)},playAudio(e){const t=this;clearInterval(this.voiceAnimationTimer),this.voiceImgTag=0;const i=document.querySelector("#voicePopupAudio");(function(e){for(let t in e)if(t)return!1;return!0})(this.currentPlayAudio)||(this.currentPlayAudio.imageIcon=s("iTeh"));const a=function s(){clearInterval(t.voiceAnimationTimer),e.imageIcon=t.defaultVoiceIcon,t.audioStart=!1,t.audioPause=!0,i.removeEventListener("ended",s)},n=function e(){i.play(),i.addEventListener("ended",a),i.removeEventListener("canplay",e)};this.currentPlayAudio.mediaId!==e.mediaId&&(this.audioPause=!1,this.audioStart=!1),this.currentPlayAudio=e,N()(()=>{if(null!==i)if(i.paused){this.audioPause?(i.play(),i.addEventListener("ended",a),this.audioPause=!1):i.addEventListener("canplay",n);const e=[];e[0]=s("iTeh"),e[1]=s("JCFT"),e[2]=s("oA5C"),e[3]=s("xnJK"),this.audioStart?(i.removeEventListener("canplay",n),this.audioStart=!1,this.currentPlayAudio={}):(this.voiceAnimationTimer=A()(()=>{this.currentPlayAudio.imageIcon=e[this.voiceImgTag],this.voiceImgTag++,this.voiceImgTag>3&&(this.voiceImgTag=0)},500),this.audioStart=!0)}else this.audioPause=!0,this.audioStart=!1,i.pause(),clearInterval(this.voiceAnimationTimer),this.currentPlayAudio.imageIcon=this.defaultVoiceIcon},100)},clearPlayAudio(){const e=document.querySelector("#voicePopupAudio");e&&!e.paused&&e.pause(),this.voiceAnimationTimer&&clearInterval(this.voiceAnimationTimer),this.currentPlayAudio={}}}},D=(s("qYYU"),Object(g.a)(E,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"voice-content"},[s("div",{staticClass:"search-bar"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("voices")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("div",{staticClass:"slds-scrollable_y scroll-content",on:{scroll:function(t){return e.scrollToGetMore(t,"voices")}}},[e.messages.length<=0&&e.isNoRecordsShow?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%;"}}):e._e(),e._v(" "),e.messages.length>0?s("ul",{staticClass:"select-video-ul select-voice-ul"},e._l(e.messages,(function(t){return s("li",{staticClass:"slds-grid select-voice-li",on:{click:function(s){return e.selectMessage(t)}}},[s("voice-detail-card",{attrs:{title:t.name,image:t.imageIcon,date:e._f("formatDatetimeFilter")(t.updateDateTime,e.$user.TimeZoneSidKey)},on:{play:function(s){return e.playAudio(t)}}}),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-voice"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"64px",height:"64px"}})],1)]):e._e()],1)})),0):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,"custom-style":"position: relative; padding: 30px; background-color: white"}})],1),e._v(" "),s("audio",{attrs:{src:e.currentPlayAudio.url,id:"voicePopupAudio"}})])}),[],!1,null,"391055b4",null).exports),P=s("Ip10"),R=s.n(P),O=s("XmpP"),B=s("HnSg"),$={mixins:[u,O.a],components:{LimitedTextarea:B.a,LoadingSpinner:p.a},props:{pageName:{type:String,default:""},enableMiniProgramPage:{type:Boolean,default:()=>!0},enableAction:{type:Boolean,default:()=>!0}},watch:{textPopupContent(e){if(e){const t=this.enabledOkButton?[{type:"Text Message",content:e,id:null}]:[];this.$emit("select",t)}else this.$emit("select",[])}},data:()=>({textTab:"new",textPopupContent:"",enabledOkButton:!0,textLimit:2e3}),created(){this.selectMessages.length>0&&(this.selectMessages[0].id||this.selectMessages[0].messageId?this.changeTextTab("select"):this.textPopupContent=this.selectMessages[0].content)},methods:{decorateTextMessage:e=>c.a.decorateText(e),changeTextTab(e){if(this.textTab=e,"select"===e&&0===this.messages.length&&this.getCurrentMessages("text"),"new"===e)this.textPopupContent?this.$emit("select",[{type:"Text Message",content:this.textPopupContent,id:null}]):this.$emit("select",[]),this.$emit("changeHeader",this.$t("global.popupHeader.createTextMessage"));else if("select"===e){var t;const e=R()(t=this.messages).call(t,e=>!!e.isSelectedShow);e?this.$emit("select",[e]):this.$emit("select",[]),this.$emit("changeHeader",this.$t("global.popupHeader.selectTextMessage"))}},search(){1===this.searchKey.length?this.actionNotificationMsg("Your search term must have 2 or more characters.","error"):(this.beforeSearch(),this.getCurrentMessages("text","",!1))},onLimitedTextareaChange(e){let{content:t,size:s}=e;this.textPopupContent=t,this.enabledOkButton=!(0===s||s>this.textLimit)},selectMergeField(e){this.textPopupContent=this.textPopupContent+e,this.enabledOkButton=!!this.textPopupContent,this.$root.$emit("merge-field-value",this.textPopupContent),this.closeMergeField()}}},F=(s("qmDu"),s("PB24")),U=Object(g.a)($,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid text-content"},[s("div",{staticClass:"slds-border_right text-left"},[s("ul",{staticClass:"text-tab"},[s("li",{class:{"text-tab-selected":"new"===e.textTab},on:{click:function(t){return e.changeTextTab("new")}}},[e._v(e._s(e.$t("newTextMessage")))]),e._v(" "),s("li",{class:{"text-tab-selected":"select"===e.textTab},on:{click:function(t){return e.changeTextTab("select")}}},[e._v(e._s(e.$t("textMessages")))])])]),e._v(" "),s("div",{staticClass:"text-right"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"new"===e.textTab,expression:"textTab === 'new'"}],staticClass:"text-area"},[s("limited-textarea",{attrs:{"custom-style":"height:100%;",content:e.textPopupContent,sum:e.textLimit,"double-modal":!0,"show-merge-field":!!e.pageName,"show-mini-program-page":e.enableMiniProgramPage,"show-action":e.enableAction},on:{change:e.onLimitedTextareaChange,"open-field":e.openMergeField}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"select"===e.textTab,expression:"textTab === 'select'"}],staticClass:"text-select"},[s("div",{staticClass:"slds-border_bottom text-search"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("text")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("ul",{staticClass:"text-list slds-scrollable_y",on:{scroll:function(t){return e.scrollToGetMore(t,"text")}}},[e._l(e.messages,(function(t){return s("li",{staticClass:"slds-truncate slds-border_bottom",class:{"text-selected":t.isSelectedShow},on:{click:function(s){return e.selectMessage(t)}}},[s("div",{staticClass:"text-body",attrs:{title:t.textBodyTitle},domProps:{innerHTML:e._s(e.decorateTextMessage(t.textBody))}})])})),e._v(" "),e.hasMoreToLoad&&!e.isLoadingMoreText&&e.loading?s("loading-spinner",{attrs:{"is-loading":!0,"custom-style":"padding : 20px"}}):e._e(),e._v(" "),e.hasMoreToLoad&&e.isLoadingMoreText&&e.loading?s("loading-spinner",{attrs:{"is-loading":!0,"custom-style":"position: relative; padding : 20px"}}):e._e(),e._v(" "),e.messages.length<=0&&e.isNoRecordsShow&&!e.hasMoreToLoad?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%"}}):e._e()],2)])])])}),[],!1,null,"33ae7225",null);"function"==typeof F.default&&Object(F.default)(U);var V=U.exports,j=s("WE60"),z=s.n(j),W=s("UPjd"),H=s("9IDl"),G={props:{accountId:{type:String,default:""},selectMessages:{type:Array,default:()=>[]}},components:{LdTable:W.LdTable,NoRecord:d.a},computed:{isTableVisible(){return this.coupons.length>0},noRecordVisible(){return 0===this.coupons.length&&!this.isLoading}},data(){return{coupons:[],size:50,page:0,isLoading:!1,isLoadingMore:!1,searchKey:"",headers:[{text:this.$t("type"),value:"type"},{text:this.$t("name"),value:"name"},{text:this.$t("expirationDate"),value:"expirationDate"},{text:this.$t("quantity"),value:"quantity"},{text:this.$t("status"),value:"status"}],selectedCoupon:null,selectedIndex:-1,infiniteDisabled:!1}},async mounted(){this.selectedCoupon=this.selectMessages[0],this.$emit("action-start"),this.isLoading=!0,await this.getCoupons()},watch:{coupons(){this.selectedIndex=this.getSelectedIndex()}},methods:{formatDatetimeFilter:()=>I.e,search(){this.coupons=[],this.page=0,this.isLoading=!0,this.$emit("action-start"),this.getCoupons()},clearSearchKey(){this.searchKey="",this.search()},async getCoupons(){try{var e;const t=await H.a.getWeChatCoupons({wechatAccountId:this.accountId,offset:this.page*this.size,limit:this.size,keyword:this.searchKey});this.coupons=a()(e=this.coupons).call(e,t),this.page++,this.infiniteDisabled=0===t.length||t.length<this.size}catch(e){this.$handleError(e)}this.isLoading=!1,this.isLoadingMore=!1,this.$emit("action-end")},onSelect(e){this.selectedCoupon=e,this.selectedIndex=this.getSelectedIndex(),this.$emit("select",[this.selectedCoupon])},getSelectedIndex(){var e;return this.selectedCoupon?z()(e=this.coupons).call(e,e=>e.couponId===this.selectedCoupon.couponId):-1},onInfinite(){this.isLoadingMore||(this.isLoadingMore=!0,this.coupons.length===this.page*this.size&&this.getCoupons())}}},Z=(s("FG3Y"),s("au77")),X=Object(g.a)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"coupon-modal",class:{"min-height-content":e.isTableVisible}},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-border_bottom coupon-modal__header"},[s("div",{staticClass:"coupon-modal__search"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:e.clearSearchKey},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)]),e._v(" "),s("div",{staticClass:"coupon-modal__list-view"},[e.isLoading?s("div",{staticClass:"loading-wrapper"},[s("ld-loading")],1):e._e(),e._v(" "),e.noRecordVisible?s("div",{staticClass:"no-record-wrapper"},[s("no-record")],1):e._e(),e._v(" "),e.isTableVisible?s("ld-table",{staticClass:"scroll-content",attrs:{headers:e.headers,rows:e.coupons,"infinite-disabled":e.infiniteDisabled,"single-select":!0,"selected-index":e.selectedIndex},on:{infinite:e.onInfinite,select:e.onSelect},scopedSlots:e._u([{key:"item.expirationDate",fn:function(t){var i=t.item;return["Fixed Time Range"===i.dateType?s("div",{staticClass:"slds-truncate",attrs:{title:e.formatDatetimeFilter()(i.beginDate,e.$user.TimeZoneSidKey)+" "+(i.endDate?e.$t("to"):"")+" "+e.formatDatetimeFilter()(i.endDate,e.$user.TimeZoneSidKey)}},[e._v("\n          "+e._s(e._f("formatDatetimeFilter")(i.beginDate,e.$user.TimeZoneSidKey))+" "+e._s(i.endDate?e.$t("to"):"")+" "+e._s(e._f("formatDatetimeFilter")(i.endDate,e.$user.TimeZoneSidKey))+"\n        ")]):s("div",[i.fixedDaysValidAfter>0?s("p",{staticClass:"slds-truncate",attrs:{title:e.$t("validInfo",[i.fixedDaysValidAfter,i.fixedDaysValidFor])},domProps:{innerHTML:e._s(e.$t("validInfo",["<span>"+i.fixedDaysValidAfter+"<span>","<span>"+i.fixedDaysValidFor+"<span>"]))}}):s("p",{staticClass:"slds-truncate",attrs:{title:e.$t("validInfo1",[i.fixedDaysValidFor])},domProps:{innerHTML:e._s(e.$t("validInfo1",["<span>"+i.fixedDaysValidFor+"<span>"]))}})])]}},{key:"item.quantity",fn:function(t){var i=t.item;return[s("div",{staticClass:"slds-truncate row-item slds-grid slds-grid_vertical-align-center",attrs:{title:i.inventory+" / "+i.quantity}},[e._v("\n          "+e._s(e._f("addSeparators")(i.inventory))+" / "+e._s(e._f("addSeparators")(i.quantity))+"\n        ")])]}},{key:"item.status",fn:function(t){var i=t.item;return[s("div",{staticClass:"slds-truncate",attrs:{title:i.status.Label}},[e._v("\n          "+e._s(i.status.Label)+"\n        ")])]}}],null,!1,728196221)}):e._e()],1)])}),[],!1,null,"a866b9c2",null);"function"==typeof Z.default&&Object(Z.default)(X);var Q=X.exports,Y={mixins:[u],async mounted(){this.$emit("action-start"),await this.getCurrentMessages("miniProgramPage")},components:{MiniProgramDetail:s("Y/WH").a,LoadingSpinner:p.a},methods:{search(){this.beforeSearch(),this.$emit("action-start"),this.getCurrentMessages("miniProgramPage","",!1)}}},q=(s("zTBQ"),Object(g.a)(Y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mini-program-page-content"},[s("div",{staticClass:"search-mini-program-page"},[s("div",{staticClass:"slds-global-header__item slds-global-header__item_search"},[s("div",{staticClass:"slds-form-element slds-lookup"},[s("div",{staticClass:"slds-form-element__control input-middle"},[s("search-input",{attrs:{placeholder:e.$t("global.searchPlaceholder")},on:{search:e.search,clear:function(t){return e.clearSearchKey("miniProgramPage")}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])])]),e._v(" "),s("div",{staticClass:"slds-scrollable_y scroll-content",on:{scroll:function(t){return e.scrollToGetMore(t,"miniProgramPage")}}},[s("div",{staticClass:"slds-grid slds-grid_align-center ul-container"},[e.messages.length>0?s("ul",{staticClass:"slds-grid slds-wrap select-mini-program-page-ul"},e._l(e.messages,(function(t){return s("li",{staticClass:"select-mini-program-page-li",on:{click:function(s){return e.selectMessage(t)}}},[s("mini-program-detail",{attrs:{"mini-program-page":t}}),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-mini-program-page"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon-mini-program-page"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"64px",height:"64px"}})],1)]):e._e()],1)})),0):e._e()]),e._v(" "),e.messages.length<=0&&e.isNoRecordsShow?s("no-record",{attrs:{"custom-style":"position: relative; height: 100%;"}}):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,"custom-style":"position: relative; padding: 30px; background-color: white"}})],1)])}),[],!1,null,"440d41a9",null).exports),J=s("20nU"),K=s("4B+h"),ee=s("xEMq"),te=s("XIlo"),se=s("OB6B"),ie=s("Ktw+"),ae=s("xt0/"),ne=s("LQ5e"),oe=s.n(ne),le={props:{accId:{type:String,default:()=>""},headerContent:{type:String,default:""},okButton:{type:String,default(){return this.$t("OK")}},negativeButtonContent:{type:String,default(){return this.$t("Cancel")}},popupType:{type:String,default:""},isMultiSelect:{type:Boolean,default:!1},struMsgType:{type:String,default:"mpnews"},pageName:{type:String,default:""},enableMiniProgramPage:{type:Boolean,default:()=>!0},enableAction:{type:Boolean,default:()=>!0}},computed:o()({},Object(y.c)({followers:"livechat/followers",currentThread:"livechat/currentThread"}),{messagePopupClass(){return{"no-transform":"image"===this.openedPopupType||"video"===this.openedPopupType||"voice"===this.openedPopupType||"text"===this.openedPopupType||"structureMessage"===this.openedPopupType}},isMessageUploaderVisible(){return"image"===this.openedPopupType||"video"===this.openedPopupType||"voice"===this.openedPopupType}}),data:()=>({accountId:"",headerContentVal:"",openedPopupType:"",selectMessage:[],isModalOpen:!1,notification:{show:!1,content:"",type:"normal"},enabledOkButton:!1,isNewText:!1,currentViewImage:{},isFetchingData:!1}),components:{ImagePopup:f,StructurePopup:w,VideoPopup:S,VoicePopup:D,TextPopup:V,CouponPopup:Q,MiniProgramPagePopup:q,MessageUploader:ie.a,ImagePreview:ae.ImagePreview},mounted(){this.$router.app.$on("close-toast-notification",()=>{this.notification.show=!1})},watch:{headerContent:function(e,t){this.headerContentVal=e}},methods:{openModal(e,t,s){this.headerContentVal=this.headerContent,("chat-follower"===this.$router.currentRoute.name||"chat"===this.$router.currentRoute.name||"console-message"===this.$router.currentRoute.name)&&this.currentThread&&this.followers[this.currentThread.Follower.Id]?this.accountId=this.followers[this.currentThread.Follower.Id].WeChatAccount.Id:this.accountId=this.accId||this.$route.params.accountId,this.isModalOpen=!0,this.openedPopupType=t,this.selectMessage=s||[]},closeModal(e){this.openedPopupType="",this.enabledOkButton=!1,this.isModalOpen=!1,this.selectMessage=[],this.$emit("close")},onUploadCompleted(e){this.$root.$emit("upload-file-success");this.uploadMsg({image:"Image",video:"Video",voice:"Voice Message"}[this.openedPopupType]),this.$root.$emit("open-toast-notification",{content:this.$t("fileSaveLabel"),type:"success"})},cancelSelect(){this.closeModal()},async saveSelect(){if("text"===this.openedPopupType&&this.selectMessage[0].messageId)this.selectMessage=[{type:"Text Message",content:this.selectMessage[0].textBody,id:this.selectMessage[0].messageId}];else if("text"===this.openedPopupType&&!this.selectMessage[0].id)try{this.selectMessage[0].content=this.selectMessage[0].content.replace(/\starget="_blank"/g,""),this.isNewText=!0,this.accountId=this.accountId||null;const e=await Object(ee.g)(this.accountId,this.selectMessage[0].content,"");if(this.isNewText=!1,e.ok){const t=JSON.parse(oe.a.unescape(e.data));this.selectMessage=[{type:"Text Message",content:this.selectMessage[0].content,id:t.messageId}]}else this.selectMessage=[],this.$router.app.$emit("open-toast-notification",{content:e.error,type:"error"})}catch(e){this.selectMessage=[],this.isNewText=!1,Object(K.f)(e)}this.$emit("getSelectedMessage",this.selectMessage),this.closeModal()},getSelectedMsg(e){this.selectMessage=e},changeHeader(e){this.headerContentVal=e},uploadMsg(e){this.$refs[e].load()},goToStructuredMsg(){if(window.location,te.a.isInLightningConsole){var e;const t=J.a.sfdc_namespace?"".concat(J.a.sfdc_namespace,"__"):"";return void se.a.openWindow(a()(e="/apex/".concat(t,"CharketApp?isdtp=p1#/")).call(e,this.accountId,"/message/structured-messages/new"))}const t=window.location.href.split(this.$route.path)[0]+"/"+this.accountId+"/message/structured-messages/new";window.open(t)},viewImageDetail(e){this.currentViewImage=e,this.$refs.ImagePreview.open()}}},re=(s("dpZH"),s("md81"),s("bZcZ")),ce=Object(g.a)(le,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"charket-msgPopup"}},[s("div",{staticClass:"slds-modal slds-modal_large",class:{"slds-fade-in-open":e.isModalOpen},attrs:{id:"messagePopup","aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container message-popup__container",class:e.messagePopupClass,attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.cancelSelect()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("close")))])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.headerContentVal))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium message-content-section",class:{"slds-col only-text-section":"text"===e.popupType,"message-content-section--loaded":!e.isFetchingData}},[e.isMessageUploaderVisible?s("message-uploader",{staticClass:"add-new slds-button slds-button_neutral upload-btn",attrs:{type:e.openedPopupType,"wechat-account-id":e.accountId},on:{completed:e.onUploadCompleted}}):e._e(),e._v(" "),"structureMessage"===e.openedPopupType?s("div",{staticClass:"add-new upload-btn slds-button slds-button_neutral",attrs:{title:e.$t("newStructuredMessage")},on:{click:e.goToStructuredMsg}},[s("icon",{attrs:{name:"add","fill-color":"#0070D2",width:"12px",height:"12px"}})],1):e._e(),e._v(" "),"image"===e.openedPopupType?s("image-popup",{ref:"Image",attrs:{"account-id":e.accountId,"select-messages":e.selectMessage},on:{select:e.getSelectedMsg,"view-image-detail":e.viewImageDetail,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e(),e._v(" "),"video"===e.openedPopupType?s("video-popup",{ref:"Video",attrs:{"account-id":e.accountId,"select-messages":e.selectMessage},on:{select:e.getSelectedMsg,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e(),e._v(" "),"structureMessage"===e.openedPopupType?s("structure-popup",{attrs:{"account-id":e.accountId,"select-messages":e.selectMessage,"stru-msg-type":e.struMsgType},on:{select:e.getSelectedMsg,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e(),e._v(" "),"voice"===e.openedPopupType?s("voice-popup",{ref:"Voice Message",attrs:{"account-id":e.accountId,"select-messages":e.selectMessage},on:{select:e.getSelectedMsg,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e(),e._v(" "),"text"===e.openedPopupType?s("text-popup",{attrs:{"account-id":e.accountId,"select-messages":e.selectMessage,"page-name":e.pageName,"enable-mini-program-page":e.enableMiniProgramPage,"enable-action":e.enableAction},on:{select:e.getSelectedMsg,changeHeader:e.changeHeader}}):e._e(),e._v(" "),"coupon"===e.openedPopupType?s("coupon-popup",{attrs:{"account-id":e.accountId,"select-messages":e.selectMessage},on:{select:e.getSelectedMsg,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e(),e._v(" "),"miniProgramPage"===e.openedPopupType?s("mini-program-page-popup",{attrs:{"account-id":e.accountId,"select-messages":e.selectMessage},on:{select:e.getSelectedMsg,"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}):e._e()],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.cancelSelect()}}},[e._v(e._s(e.negativeButtonContent))]),e._v(" "),e._t("negative",[s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",attrs:{disabled:0===e.selectMessage.length||e.isNewText},on:{click:function(t){return e.saveSelect()}}},[e._v(e._s(e.okButton))])])],2)]),e._v(" "),s("image-preview",{ref:"ImagePreview",attrs:{url:e._f("imgFilter")(e.currentViewImage.url),name:e.currentViewImage.name}})],1),e._v(" "),s("div",{staticClass:"slds-backdrop",class:{"slds-backdrop_open":e.isModalOpen},attrs:{id:"Modal"}})])}),[],!1,null,"b6224a82",null);"function"==typeof re.default&&Object(re.default)(ce);t.a=ce.exports},"+Qg/":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 64 64" id="form_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#6488E3;} .st1{fill:#FFFFFF;} </style> <g id="form_icon_XMLID_1_"> <path id="form_icon_XMLID_418_" class="st0" d="M59.6,63.6H4.4c-2.2,0-4-1.8-4-4V4.4c0-2.2,1.8-4,4-4h55.2c2.2,0,4,1.8,4,4v55.2\n    C63.6,61.8,61.8,63.6,59.6,63.6z" fill=""/> <g id="form_icon_XMLID_395_"> <g id="form_icon_XMLID_416_"> <path id="form_icon_XMLID_417_" class="st1" d="M46,53.2H17.2c-1.4,0-2.6-1.2-2.6-2.6V15.3c0-1.4,1.2-2.6,2.6-2.6h4.3\n        c0.5,0,0.9,0.4,0.9,0.9c0,0.5-0.4,0.9-0.9,0.9h-4.3c-0.4,0-0.8,0.4-0.8,0.8v35.2c0,0.4,0.4,0.8,0.8,0.8H46c0.9,0,1.6-0.7,1.6-1.6\n        V15.3c0-0.4-0.4-0.8-0.8-0.8h-4.3c-0.5,0-0.9-0.4-0.9-0.9c0-0.5,0.4-0.9,0.9-0.9h4.3c1.4,0,2.6,1.2,2.6,2.6v34.4\n        C49.4,51.6,47.9,53.2,46,53.2z" fill=""/> </g> <g id="form_icon_XMLID_414_"> <path id="form_icon_XMLID_415_" class="st1" d="M38.4,14.5H25.6c-0.5,0-0.9-0.4-0.9-0.9c0-0.5,0.4-0.9,0.9-0.9h12.8c0.5,0,0.9,0.4,0.9,0.9\n        C39.3,14.1,38.9,14.5,38.4,14.5z" fill=""/> </g> <g id="form_icon_XMLID_412_"> <path id="form_icon_XMLID_413_" class="st1" d="M34.7,14.2c-0.5,0-0.9-0.4-0.9-0.9c0-1.2-1-2.2-2.2-2.2s-2.2,1-2.2,2.2\n        c0,0.5-0.4,0.9-0.9,0.9s-0.9-0.4-0.9-0.9c0-2.2,1.8-4,4-4s4,1.8,4,4C35.6,13.8,35.2,14.2,34.7,14.2z" fill=""/> </g> <g id="form_icon_XMLID_410_"> <path id="form_icon_XMLID_411_" class="st1" d="M40.9,23.6H22.7c-0.5,0-0.9-0.4-0.9-0.9s0.4-0.9,0.9-0.9h18.2c0.5,0,0.9,0.4,0.9,0.9\n        S41.4,23.6,40.9,23.6z" fill=""/> </g> <g id="form_icon_XMLID_408_"> <path id="form_icon_XMLID_409_" class="st1" d="M40.9,28.2H22.7c-0.5,0-0.9-0.4-0.9-0.9c0-0.5,0.4-0.9,0.9-0.9h18.2c0.5,0,0.9,0.4,0.9,0.9\n        C41.8,27.8,41.4,28.2,40.9,28.2z" fill=""/> </g> <g id="form_icon_XMLID_406_"> <path id="form_icon_XMLID_407_" class="st1" d="M40.9,32.9H22.7c-0.5,0-0.9-0.4-0.9-0.9s0.4-0.9,0.9-0.9h18.2c0.5,0,0.9,0.4,0.9,0.9\n        S41.4,32.9,40.9,32.9z" fill=""/> </g> <g id="form_icon_XMLID_404_"> <path id="form_icon_XMLID_405_" class="st1" d="M40.9,37.5H22.7c-0.5,0-0.9-0.4-0.9-0.9s0.4-0.9,0.9-0.9h18.2c0.5,0,0.9,0.4,0.9,0.9\n        S41.4,37.5,40.9,37.5z" fill=""/> </g> <g id="form_icon_XMLID_401_"> <path id="form_icon_XMLID_402_" class="st1" d="M34.4,42.1H22.7c-0.5,0-0.9-0.4-0.9-0.9c0-0.5,0.4-0.9,0.9-0.9h11.7c0.5,0,0.9,0.4,0.9,0.9\n        C35.4,41.7,34.9,42.1,34.4,42.1z" fill=""/> </g> </g> </g> </symbol>',"form_icon")},"+SX9":function(e,t,s){"use strict";var i={props:{content:{type:String,default:""}}},a=(s("RGxF"),s("KHd+")),n=s("b6s1"),o=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"charket-error-toast"}},[t("div",{staticClass:"toast-container"},[t("div",{staticClass:"slds-notify slds-theme_error notify-toast-error",attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[this._v(this._s(this.$t("infoLabel")))]),this._v(" "),t("div",{staticClass:"slds-notify__content"},[t("h2",{staticClass:"slds-text-heading_small"},[this._v(this._s(this.content))])])])])])}),[],!1,null,"234b67d1",null);"function"==typeof n.default&&Object(n.default)(o);t.a=o.exports},"+YkF":function(e,t,s){"use strict";var i=s("PMRD");s.n(i).a},"+bKK":function(e,t,s){"use strict";var i=s("7wj+");s.n(i).a},"+lIE":function(e,t,s){"use strict";var i=s("5eV/");s.n(i).a},"/ByR":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 469 469" id="edit_dot" xmlns:xlink="http://www.w3.org/1999/xlink"> <path fill-rule="evenodd" clip-rule="evenodd" fill="" d="M456.035,71.134l-58.531-58.53\r\n    c-10.138-10.138-25.807-10.138-35.947,0l-46.086,46.088l97.244,97.243l43.32-48.853C466.175,96.94,466.175,81.275,456.035,71.134\r\n    L456.035,71.134z M3,368.394v97.244h97.246L381.835,181.28l-97.243-97.243L3,368.394L3,368.394z M208.79,416.607\r\n    c-14.207,0-25.724,11.517-25.724,25.725c0,14.207,11.517,25.724,25.724,25.724c14.208,0,25.725-11.517,25.725-25.724\r\n    C234.515,428.124,222.998,416.607,208.79,416.607L208.79,416.607z M311.687,416.607c-14.207,0-25.724,11.517-25.724,25.725\r\n    c0,14.207,11.517,25.724,25.724,25.724c14.208,0,25.725-11.517,25.725-25.724C337.412,428.124,325.895,416.607,311.687,416.607\r\n    L311.687,416.607z M414.585,416.607c-14.207,0-25.724,11.517-25.724,25.725c0,14.207,11.517,25.724,25.724,25.724\r\n    c14.208,0,25.725-11.517,25.725-25.724C440.31,428.124,428.793,416.607,414.585,416.607L414.585,416.607z"/> </symbol>',"edit_dot")},"/Dks":function(e,t,s){"use strict";var i=s("TFQa"),a=s.n(i);t.default=a.a},"/GJs":function(e,t,s){"use strict";var i=s("oG9Y"),a=s.n(i),n=s("4LGG"),o=s.n(n),l=s("+Bun"),r=s.n(l),c=s("CjVY"),d=s.n(c);const h=(e,t)=>{let s=t.value.content.replace(/<br [^>]*>/g,"");if(-1===r()(s).call(s,"<img"))return void(e.innerHTML=s);e.innerHTML="";const i=e.cloneNode();i.innerHTML=s;const n=e.clientWidth,l=i.childNodes,c=[];for(const e of l){if(1===e.nodeType&&("IMG"!==e.nodeName&&"A"!==e.nodeName||c.push(e),"A"===e.nodeName)){var d;const t=e.textContent,s=o()(d=t.split("")).call(d,e=>"<span>".concat(e,"</span>"));e.innerHTML=s.join("")}if(3===e.nodeType){const t=e.textContent.split("");for(let e of t){e=e.replace(" ","&nbsp;");const t=document.createElement("SPAN");t.innerHTML=e,c.push(t)}}}let h=0;const u=document.createElement("SPAN");u.innerHTML="...",e.appendChild(u);const p=u.getBoundingClientRect().width;e.removeChild(u);const m=n-p-5,g=e=>{const t=e.parentNode;if(h+=e.getBoundingClientRect().width,h>m){t.removeChild(e);const s=document.createElement("SPAN");return s.innerHTML="...",t.appendChild(s),!0}return!1};let f=!1;for(const t of c){if(e.appendChild(t),"A"===t.nodeName){const e=t.parentNode,s=a()(t.childNodes),i=t.cloneNode();e.replaceChild(i,t);for(const e of s)if(i.appendChild(e),g(e))return void(f=!0)}if(f||g(t))return}e.innerHTML=e.innerHTML.replace(/<span>/g,"").replace(/<\/span>/g,"")};var u={props:{content:{type:String,default:""},ellipsis:{type:Boolean,default:!1}},directives:{ellipsis:{inserted:h,update:h}},computed:{result(){return d.a.decorateText(this.content)}}},p=(s("Ysrs"),s("KHd+")),m=Object(p.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return this.ellipsis?t("div",{directives:[{name:"ellipsis",rawName:"v-ellipsis",value:{content:this.result},expression:"{content: result}"}],staticClass:"text-unit thread"}):t("div",{staticClass:"text-unit",domProps:{innerHTML:this._s(this.result)}})}),[],!1,null,"3b102a58",null);t.a=m.exports},"/JXY":function(e,t,s){"use strict";var i=s("CdkD");s.n(i).a},"/T/s":function(e,t,s){"use strict";var i=s("o0tz");s.n(i).a},"/fVh":function(e,t,s){},"/hwY":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 17 16" id="red_exclamation_mark" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#FFFFFF;} .st1{fill:#D4504C;} </style> <g id="red_exclamation_mark_Live-Chat"> <g id="red_exclamation_mark_Live-Chat---No-Messages--Copy" transform="translate(-402.000000, -319.000000)"> <g id="red_exclamation_mark_&#x5206;&#x7EC4;-3" transform="translate(319.000000, 289.000000)"> <g id="red_exclamation_mark_&#x5206;&#x7EC4;-2" transform="translate(52.000000, 30.000000)"> <g id="red_exclamation_mark_&#x53F9;&#x53F7;" transform="translate(31.000000, 0.000000)"> <circle id="red_exclamation_mark_&#x692D;&#x5706;&#x5F62;" class="st0" cx="8.5" cy="8" r="8"/> <g> <path d="M8.5,0c-4.4,0-8,3.6-8,8s3.6,8,8,8s8-3.6,8-8S12.9,0,8.5,0z M8.5,15c-3.9,0-7-3.1-7-7s3.1-7,7-7\n\t\t\t\t\t\t\ts7,3.1,7,7S12.4,15,8.5,15z" fill=""/> <path d="M8.5,3.6c-0.9,0-1,0.9-1,0.9L8,9.8h1l0.5-5.3C9.5,4.5,9.4,3.6,8.5,3.6z" fill=""/> <circle cx="8.5" cy="11.8" r="1"/> </g> </g> </g> </g> </g> </g> </symbol>',"red_exclamation_mark")},"/mP/":function(e,t,s){"use strict";var i=s("IhKO");s.n(i).a},0:function(e,t){},"00Ee":function(e,t,s){"use strict";var i=s("0G99"),a=s.n(i),n=s("+Bun"),o=s.n(n),l=s("ExbJ"),r=s.n(l),c=s("Yvyk"),d=s.n(c),h=s("wG3i"),u=s.n(h),p=s("20nU"),m=s("XIlo"),g=s("IBQE"),f=s.n(g);const v=e=>new d.a((t,s)=>{window.setTimeout(()=>{e.forceFail&&s(new Error),t()},100)}),_=(e,t,s,i)=>new d.a((n,l)=>{let c=p.a.sfdc_namespace?p.a.sfdc_namespace:"";e.args=r()(e.args)?e.args:[];const d={buffer:s,escape:!0,timeout:i},h=(e,s)=>{var i;s.status?n(c&&!t?function(e,t){if(e&&e.length>0){var s=new RegExp("(&quot;)"+(e+"__")+"(\\w+&quot;:)","g");return JSON.parse(u()(t).replace(s,"$1$2"))}return t}(c,e):e):(-1!==o()(i=s.message).call(i,"Logged in?")&&window.location.reload(),l(new Error(s.message)))};let g;if(m.a.isInLightningConsole){let t="LightningContainerRemoteActions.callRemoting",s=""!==c?c+"."+t:t,i={ClassName:e.method.split(".")[0],Method:e.method.split(".")[1],Arguments:e.args};f.a.callApex(s,u()(i),h,d)}else{var v;const t=""!==c?c+"."+e.method:e.method;g=[t],a()(v=e.args).call(v,e=>{g.push(e)}),g.push(h),g.push(d),Visualforce.remoting.timeout=12e4,Visualforce.remoting.Manager.invokeAction.apply(Visualforce.remoting.Manager,g)}});t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4;return"object"!=typeof e.actions&&(window.cs=window.cs||{},window.cs.actions=window.cs.actions||{},e.actions=window.cs.actions),window.Visualforce?_(e,t,s,i):v(p.a)}},"0EVj":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"noRecords":"没有记录"},"en":{"noRecords":"No Records"}}'),delete e.options._Ctor}},"0Gvj":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAA8CAMAAADxNwKKAAABd1BMVEUAAACZzMxV1aqZ5syO48ZKyqqT2M6M3sWN3cOM4chKyqWK28eJ38hLyqeR4MiO3shKyqZJy6iP38xIyqiQ38pIyaaN3MlIyqZIyqiO3chIyKZJyaeS4MtJyKeU38tKyKeW4M1JyqdJyac+wZlJyaiY4M1JyKea4s9Jyaec4c6d4tBJyadJyadJyaef4tCe4dBJyaeg49JJyaeg4tGi49NJyaeh49Gi5NKh49Kj5NOj5NOk5NM4vJI5vJQ+wZpGxqNHyKZIyKZIyaVJyaZJyadKyadKyahLyqhNyqlPy6pUzKxVza1Zzq9azq9cz7Bez7Fh0LJi0LNjzrBm0bVn0LRt1Lhx1bpy1bt417572L982MB+176G28WM3MaO3ciQ3sqU3sqY4M2c4s+f4tCh49Gk5NOn5dWs5te16du56t27696869++7ODM8Oba9O3c9e7d9e7e9e/i9vHl9/Ln+PTs+fbt+vbx+/j1/Pr2/Pv6/v37/v3///9FVItHAAAAPHRSTlMABQYKEhgaHyYqMDI4OkFGSElQUldZZ2p4eHmIipqdn62xs7S1vcTJ09Xd3+Pm5unr7O3v8fT09fj6/f4D2I8LAAABRklEQVRIx+3UVVNDMRCG4cXd3d2LU9z5oBR395KixYvuj+eOnvbM0E3ukPc280wyyU6IKKPS4fyutkyyV4Rw9aTaUHpYBNWVFKoqBEq1x4coh0Splthg5RQp1RhtolRDlIlSdREmStUYKVVupFSpkVLFRmqgwESp/lypGrMo1ZctVONHVtabJjzhmlWp7mSZGt0NYp0JIoWxlf1TC2uNEylgZHhoMFCVUAGYCFQoV5by/9VPVYsb9qbDKi/bmxeoR19wHyLlCVn0C9XW5ba+mnzmFxcAzGntdcHXAOC+39FRmAUAnPPD2aaGAgDsMTOf6KiFQ9fyKzPzlYZaeuKbO2ZmvpWrVf/XWLy7pGrq2BtoRvM29F7Z5wnuTaTMZv53qvUDe+6/9os2G6g8qjZQKZSlj+ojiUp0UUciEVFOrc6NNJXFEH0CT5lWikALzoMAAAAASUVORK5CYII="},"0TXy":function(e,t,s){"use strict";var i=s("Ptgk");s.n(i).a},"0TzP":function(e){e.exports={cn:{appPermissionLabel:"Charket需要你的允许才能",appDesktopNotifyLabel:"启用桌面通知",netWorkErrorTip:"请检查当前网络并重试。",offlineTip:"网络连接不可用。",netWorkOfflineTip:"网络连接不可用。正在尝试重新连接。",reconnecting:"重新连接...",limitErrorTip:"服务器资源超出限制，当前请求被拒绝。请稍后重试。",checkInternetTip:"检查您的互联网连接，并重试。",tryAgain:"重试",weChatAccTitle:"微信公众号",wechatCampaignTitle:"微信市场活动",liveChatTitle:"Live Chat",monitorTitle:"Live Chat Monitor",editFormTitle:"编辑表单",formListTitle:"表单",surveyListTitle:"问卷",surveyEditorTitle:"问卷编辑器",badgeTitle:"名牌模板",homeTitle:"首页",followerTitle:"关注者",tagTitle:"标签",qrCodesTitle:"二维码",weChatCouponTitle:"卡券",weChatPassTitle:"凭证",createPassTitle:"创建凭证",editPassTitle:"编辑凭证",massMsgTitle:"群发消息",msgLibrayTitle:"素材库",notifiesTitle:"模板消息",editMenuTitle:"编辑个性化菜单",cloneCMenuTitle:"复制个性化菜单",cloneMenuTitle:"复制默认菜单",defaultMenuTitle:"默认菜单",customMenuTitle:"个性化菜单",newMenuTitle:"新建个性化菜单",srResponseTitle:"自动回复",wmResponseTitle:"欢迎消息",agentsTitle:"专员",quickReplyTitle:"快捷回复",urlShortenerTitle:"短网址",disconnected:"失去连接",skillStartedMessage:"{0}开启了“{1}”技能"},en:{appPermissionLabel:"Charket needs your permission to",appDesktopNotifyLabel:"enable desktop notifications",netWorkErrorTip:"Check your Internet connection and try again.",offlineTip:"You are currently offline.",netWorkOfflineTip:"You are currently offline. We'll keep trying to reconnect.",reconnecting:"Reconnecting...",limitErrorTip:"Your request has been denied because this limit has been exceeded. Please try again later.",checkInternetTip:"Check your Internet connection and try again.",tryAgain:"Try Again",weChatAccTitle:"WeChat Accounts",wechatCampaignTitle:"WeChat Campaigns",liveChatTitle:"Live Chat",monitorTitle:"Live Chat Monitor",editFormTitle:"Form Editor",formListTitle:"Forms",surveyListTitle:"Surveys",surveyEditorTitle:"Survey Editor",badgeTitle:"Name Badge Templates",homeTitle:"Home",followerTitle:"Followers",tagTitle:"Tags",qrCodesTitle:"QR Codes",weChatCouponTitle:"Coupons",weChatPassTitle:"Passes",createPassTitle:"Create Pass",editPassTitle:"Edit Pass",massMsgTitle:"Mass Message",msgLibrayTitle:"Message Library",notifiesTitle:"Notifications",editMenuTitle:"Edit Custom Menu",cloneCMenuTitle:"Clone Custom Menu",cloneMenuTitle:"Clone Default Menu",defaultMenuTitle:"Default Menu",customMenuTitle:"Custom Menus",newMenuTitle:"New Custom Menu",srResponseTitle:"Smart Replies",wmResponseTitle:"Welcome Message",agentsTitle:"Agents",quickReplyTitle:"Quick Replies",urlShortenerTitle:"URL Shortener",disconnected:"Disconnected",skillStartedMessage:'{0} started the skill "{1}" '}}},"0Z8u":function(e,t,s){"use strict";var i=s("Qoyb");s.n(i).a},"0gf0":function(e,t,s){"use strict";var i=s("Udgq");s.n(i).a},"0hVY":function(e,t,s){},"0t5J":function(e,t,s){"use strict";var i=s("Gq5s");s.n(i).a},"0yRZ":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"week0":"周日","week1":"周一","week2":"周二","week3":"周三","week4":"周四","week5":"周五","week6":"周六","month1":"一月","month2":"二月","month3":"三月","month4":"四月","month5":"五月","month6":"六月","month7":"七月","month8":"八月","month9":"九月","month10":"十月","month11":"十一月","month12":"十二月","errorContent":"日期和时间无效。","timeLabel":"上午{0} | 下午{0}"},"en":{"week0":"Sun","week1":"Mon","week2":"Tue","week3":"Wed","week4":"Thu","week5":"Fri","week6":"Sat","month1":"January","month2":"February","month3":"March","month4":"April","month5":"May","month6":"June","month7":"July","month8":"August","month9":"September","month10":"October","month11":"November","month12":"December","errorContent":"Date and time is invalid.","timeLabel":"{0} AM | {0} PM"}}'),delete e.options._Ctor}},"1/Jy":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_picklist" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_picklist_XMLID_34_"> <g id="form_picklist_XMLID_41_"> <path id="form_picklist_XMLID_92_" d="M5.3,7.5H3.9c-1,0-1.8-0.8-1.8-1.8V4.3c0-1,0.8-1.8,1.8-1.8h1.4c1,0,1.8,0.8,1.8,1.8v1.4\r\n\t\t\tC7.1,6.7,6.3,7.5,5.3,7.5z M3.9,3.5c-0.4,0-0.8,0.4-0.8,0.8v1.4c0,0.4,0.4,0.8,0.8,0.8h1.4c0.4,0,0.8-0.4,0.8-0.8V4.3\r\n\t\t\tc0-0.4-0.4-0.8-0.8-0.8H3.9z" fill=""/> </g> <g id="form_picklist_XMLID_40_"> <path id="form_picklist_XMLID_89_" d="M5.3,13.5H3.9c-1,0-1.8-0.8-1.8-1.8v-1.4c0-1,0.8-1.8,1.8-1.8h1.4c1,0,1.8,0.8,1.8,1.8v1.4\r\n\t\t\tC7.1,12.7,6.3,13.5,5.3,13.5z M3.9,9.5c-0.4,0-0.8,0.4-0.8,0.8v1.4c0,0.4,0.4,0.8,0.8,0.8h1.4c0.4,0,0.8-0.4,0.8-0.8v-1.4\r\n\t\t\tc0-0.4-0.4-0.8-0.8-0.8H3.9z" fill=""/> </g> <g id="form_picklist_XMLID_39_"> <path id="form_picklist_XMLID_83_" d="M5.3,19.5H3.9c-1,0-1.8-0.8-1.8-1.8v-1.4c0-1,0.8-1.8,1.8-1.8h1.4c1,0,1.8,0.8,1.8,1.8v1.4\r\n\t\t\tC7.1,18.7,6.3,19.5,5.3,19.5z M3.9,15.5c-0.4,0-0.8,0.4-0.8,0.8v1.4c0,0.4,0.4,0.8,0.8,0.8h1.4c0.4,0,0.8-0.4,0.8-0.8v-1.4\r\n\t\t\tc0-0.4-0.4-0.8-0.8-0.8H3.9z" fill=""/> </g> <g id="form_picklist_XMLID_38_"> <path id="form_picklist_XMLID_82_" d="M18.9,5.8H9.3c-0.6,0-1-0.4-1-1s0.4-1,1-1h9.6c0.6,0,1,0.4,1,1S19.4,5.8,18.9,5.8z" fill=""/> </g> <g id="form_picklist_XMLID_36_"> <path id="form_picklist_XMLID_81_" d="M18.9,11.8H9.3c-0.6,0-1-0.4-1-1s0.4-1,1-1h9.6c0.6,0,1,0.4,1,1S19.4,11.8,18.9,11.8z" fill=""/> </g> <g id="form_picklist_XMLID_35_"> <path id="form_picklist_XMLID_80_" d="M18.9,17.8H9.3c-0.6,0-1-0.4-1-1s0.4-1,1-1h9.6c0.6,0,1,0.4,1,1S19.4,17.8,18.9,17.8z" fill=""/> </g> </g> </symbol>',"form_picklist")},"11pw":function(e,t,s){"use strict";let i=null;const a="".concat("Charket");class n{static get current(){return i||(i=new n),i}get charketNamespace(){return a}get isInLightningConsole(){return window.IS_IN_LIGHTNING_COMPONENT}}var o=n,l=s("GONd");s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return l.a}))},"1B6c":function(e,t,s){},"1FbI":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="loading_image" xmlns:xlink="http://www.w3.org/1999/xlink"> <path transform="translate(-477.000000, -546.000000)" d="M493.5,550.1c0,0.6-0.2,1.2-0.7,1.7c-0.5,0.5-1,0.7-1.6,0.7c-0.6,0-1.2-0.2-1.6-0.7\n\t\tc-0.5-0.5-0.7-1-0.7-1.7c0-0.6,0.2-1.2,0.7-1.6c0.5-0.5,1-0.7,1.6-0.7c0.6,0,1.2,0.2,1.6,0.7C493.3,549,493.5,549.5,493.5,550.1\n\t\t\tM488,548c0,0.6-0.2,1-0.6,1.4c-0.4,0.4-0.9,0.6-1.4,0.6c-0.6,0-1-0.2-1.4-0.6c-0.4-0.4-0.6-0.9-0.6-1.4c0-0.6,0.2-1,0.6-1.4\n\t\tc0.4-0.4,0.9-0.6,1.4-0.6c0.6,0,1,0.2,1.4,0.6C487.8,547,488,547.4,488,548 M494.6,555.3c0,0.4-0.1,0.7-0.4,0.9\n\t\tc-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4c-0.3-0.3-0.4-0.6-0.4-0.9c0-0.4,0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4\n\t\tc0.4,0,0.7,0.1,0.9,0.4C494.5,554.7,494.6,555,494.6,555.3 M482.5,550.1c0,0.5-0.2,0.9-0.5,1.2c-0.3,0.3-0.7,0.5-1.2,0.5\n\t\tc-0.5,0-0.8-0.2-1.2-0.5c-0.3-0.3-0.5-0.7-0.5-1.2c0-0.5,0.2-0.9,0.5-1.2c0.3-0.3,0.7-0.5,1.2-0.5c0.5,0,0.8,0.2,1.2,0.5\n\t\tC482.4,549.3,482.5,549.7,482.5,550.1 M492.5,560.5c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4\n\t\ts-0.4-0.6-0.4-0.9c0-0.4,0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4c0.4,0,0.7,0.1,0.9,0.4C492.4,559.8,492.5,560.2,492.5,560.5\n\t\t\tM480.1,555.3c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4c-0.3-0.3-0.4-0.6-0.4-0.9\n\t\tc0-0.4,0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4c0.4,0,0.7,0.1,0.9,0.4C479.9,554.7,480.1,555,480.1,555.3 M487.4,562.7\n\t\tc0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4c-0.3-0.3-0.4-0.6-0.4-0.9c0-0.4,0.1-0.7,0.4-0.9\n\t\tc0.3-0.3,0.6-0.4,0.9-0.4c0.4,0,0.7,0.1,0.9,0.4C487.2,562,487.4,562.3,487.4,562.7 M482.2,560.5c0,0.4-0.1,0.7-0.4,0.9\n\t\ts-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4c-0.3-0.3-0.4-0.6-0.4-0.9c0-0.4,0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4\n\t\tc0.4,0,0.7,0.1,0.9,0.4C482.1,559.8,482.2,560.2,482.2,560.5" fill=""/> </symbol>',"loading_image")},"1LJL":function(e,t,s){"use strict";var i=s("vL7M"),a=s.n(i);t.default=a.a},"1Pii":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 180 234" id="insufficient_privileges" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --\x3e <title>Insufficient Privileges</title> <desc>Created with Sketch.</desc> <defs> <rect id="insufficient_privileges_path-1" x="10" y="107" width="160" height="120" rx="2"/> <filter x="-3.1%" y="-4.2%" width="106.2%" height="108.3%" filterunits="objectBoundingBox" id="insufficient_privileges_filter-2"> <feOffset dx="0" dy="10" in="SourceAlpha" result="shadowOffsetInner1"/> <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/> <feColorMatrix values="0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 1 0" type="matrix" in="shadowInnerInner1"/> </filter> <path d="M90,197 C106.568542,197 120,183.568542 120,167 C120,150.431458 106.568542,137 90,137 C73.4314575,137 60,150.431458 60,167 C60,183.568542 73.4314575,197 90,197 Z" id="insufficient_privileges_path-3" fill=""/> <filter x="-11.7%" y="-11.7%" width="123.3%" height="123.3%" filterunits="objectBoundingBox" id="insufficient_privileges_filter-4"> <feOffset dx="0" dy="8" in="SourceAlpha" result="shadowOffsetInner1"/> <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/> <feColorMatrix values="0 0 0 0 0.933333333   0 0 0 0 0.945098039   0 0 0 0 0.964705882  0 0 0 1 0" type="matrix" in="shadowInnerInner1"/> </filter> </defs> <g id="insufficient_privileges_Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="insufficient_privileges_Illustration---Insufficient-Privileges" transform="translate(0.000000, 3.000000)"> <g id="insufficient_privileges_Insufficient-Privileges"> <path d="M30,60 C30,26.862915 56.862915,0 90,0 C123.137085,0 150,26.862915 150,60 L124.99995,60 C124.999982,59.9792607 125,59.9585172 125,59.9377695 C125,40.6278518 109.329966,24.9740706 90,24.9740706 C70.6700338,24.9740706 55,40.6278518 55,59.9377695 C55,59.9585172 55.0000181,59.9792607 55.0000543,60 L30,60 Z M30,60 L55,60 L55,110 L30,110 L30,60 Z M125,60 L150,60 L150,110 L125,110 L125,60 Z" id="insufficient_privileges_Oval-46" stroke="#CFD7E6" stroke-width="6" fill=""/> <rect id="insufficient_privileges_Rectangle-1576" fill="#EEF1F6" x="0" y="223" width="180" height="8" rx="2"/> <rect id="insufficient_privileges_Rectangle-171" fill="#FFFFFF" x="33" y="56" width="19" height="7"/> <rect id="insufficient_privileges_Rectangle-172" fill="#FFFFFF" x="128" y="56" width="19" height="7"/> <g id="insufficient_privileges_Rectangle-170"> <use fill="#EEF1F6" fill-rule="evenodd" xlink:href="#insufficient_privileges_path-1"/> <use fill="black" fill-opacity="1" filter="url(#insufficient_privileges_filter-2)" xlink:href="#insufficient_privileges_path-1"/> <rect stroke="#CFD7E6" stroke-width="6" x="13" y="110" width="154" height="114" rx="2"/> </g> <path d="M16,218 L16,209 L25.0003297,209 L22.0006595,209 C18.6865868,209 16,211.693034 16,215 L16,218 Z" id="insufficient_privileges_Rectangle-189-Copy-10" fill="" transform="translate(20.500165, 215.000000) scale(1, -1) translate(-20.500165, -215.000000) "/> <path d="M155,218 L155,209 L164.00033,209 L161.000659,209 C157.686587,209 155,211.693034 155,215 L155,218 Z" id="insufficient_privileges_Rectangle-189-Copy-10" fill="" transform="translate(159.500165, 215.000000) scale(-1, -1) translate(-159.500165, -215.000000) "/> <path d="M16,122 L16,113 L25.0003297,113 L22.0006595,113 C18.6865868,113 16,115.693034 16,119 L16,122 Z" id="insufficient_privileges_Rectangle-189-Copy-10" fill=""/> <path d="M155,122 L155,113 L164.00033,113 L161.000659,113 C157.686587,113 155,115.693034 155,119 L155,122 Z" id="insufficient_privileges_Rectangle-189-Copy-10" fill="" transform="translate(159.500165, 119.000000) scale(-1, 1) translate(-159.500165, -119.000000) "/> <circle id="insufficient_privileges_Oval-51" stroke="#FFFFFF" stroke-width="6" cx="90" cy="170" r="30"/> <g id="insufficient_privileges_Oval-52"> <use fill="#EEF1F6" fill-rule="evenodd" xlink:href="#insufficient_privileges_path-3"/> <use fill="black" fill-opacity="1" filter="url(#insufficient_privileges_filter-4)" xlink:href="#insufficient_privileges_path-3"/> <use stroke="#CFD7E6" stroke-width="6" xlink:href="#insufficient_privileges_path-3"/> </g> <circle id="insufficient_privileges_Oval-308" fill="#CFD7E6" cx="90" cy="161" r="9"/> <rect id="insufficient_privileges_Rectangle-178" fill="#CFD7E6" x="86" y="162" width="8" height="20" rx="4"/> <circle id="insufficient_privileges_Oval-49" cx="90" cy="59" r="37"/> </g> </g> </g> </symbol>',"insufficient_privileges")},"1X+l":function(e,t,s){"use strict";var i=s("7gPf");s.n(i).a},"1amv":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUU0OTkwNUZFODk5MTFFODkwMzBDQkY5NkIzQjdEMjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUU0OTkwNjBFODk5MTFFODkwMzBDQkY5NkIzQjdEMjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRTQ5OTA1REU4OTkxMUU4OTAzMENCRjk2QjNCN0QyMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRTQ5OTA1RUU4OTkxMUU4OTAzMENCRjk2QjNCN0QyMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn3MJJkAAALtSURBVHjanFZbTxNBFD4svdALItAKLVBAjSZINEZjeNAHEh+MRojGCBoTffXJ+GDkH6gPavwLGqFaowk+kgg8EBOjRhOqwUTFcomhpYWWlpbtxXOmM8u228viSb7O9Ozsd2bOnMvWRGNRqCAexFVEP6IH4UTIiEXEH8QU4gXidzmCmjIGiPg+4jKiFipLlhsZQQSKH0olXhhAzCKu6CAXHLTWz8eKBm4h3iDqYediRzxH3FYrDar5EOIxua0aUzKZgfmFBCRTWXA2m8DdaoGa/Fv0+xCxzN2m3IGHH9FejfzT1zWYmgmCnM4pOgcaGTzjQmNmodpAHKI7ES66p4f821wMJqZXCshJQqtbMPZ6kZ1M5a4HwkWdiGE9Tn7/MczGFqcZBnDHzY0mCCxtwqu3S5DYzMAX/zr0HWsSyykCRyROLlUjT+Oug6spNj/V52DkzLdtFjjc08Dmq+Gt4gAalngSVZV0Ztst9XZDwbN4Ip2PGINmn/2k6S1HGo2l1X7VSAaNTs2E4PuPGPvf2WEpXtJLW3GUCsOJ6SD456LQsMsIN290lzTgG19i4UriaqmDA3s1ceI0aMhTGXjqW4BwJO9Ps0mCXK70CTbiedfs67LB2dOtIEnaFCIDIUSbUHz4HGHklDj9J51w/MhukUQauT7kYSFrtZStKEGJJ5gikXWZjQf318OJo43KrrLZ7WMYDXmd0ShVIieZJQPv1Bobf0GWswUrI2uyMjebJb31aVLiNUNh6+60sfHnfJxdMu2c4p8ymKS5yQQ2q0EPOSvjohaNiWymC33mC8Dy36S2eaBnhgbboctj1WPAS+VbnPUuL1CM5NL5Nmh3Fca0BV138ZxbL/kG5yzoaHSCUXW5plOshFLoklro6rCyS9UhOd5mvcX9gBQtiEeiNrlb6xh2IER+R5CX6mhPEBcQsf/oaOSWa7zhVOzJ47w+edXRVSVavLzBjOr9qij12UIEe7h+hSfoJOIl4lc5gn8CDADfXOzFTN7r3wAAAABJRU5ErkJggg=="},"1ehG":function(e,t,s){"use strict";var i=s("rn8t");s.n(i).a},"1gOi":function(e,t,s){},"1pHb":function(e,t,s){"use strict";var i=s("u6OF"),a=s.n(i);t.default=a.a},"1t9N":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="edit_icon" ><path fill="" d="m9.5 33.4l8.9 8.9c0.4 0.4 1 0.4 1.4 0l22.2-22.3c0.4-0.4 0.4-1 0-1.4l-8.8-8.8c-0.4-0.4-1-0.4-1.4 0l-22.3 22.3c-0.4 0.4-0.4 1 0 1.3z m26.6-27.7c-0.4 0.4-0.4 1 0 1.4l8.8 8.8c0.4 0.4 1 0.4 1.4 0l2.5-2.5c1.6-1.5 1.6-3.9 0-5.5l-4.7-4.7c-1.6-1.6-4.1-1.6-5.7 0l-2.3 2.5z m-34 42.5c-0.2 1 0.7 1.9 1.7 1.7l10.9-2.6c0.4-0.1 0.7-0.3 0.9-0.5l0.2-0.2c0.2-0.2 0.3-0.9-0.1-1.3l-9-9c-0.4-0.4-1.1-0.3-1.3-0.1l-0.2 0.2c-0.3 0.3-0.4 0.6-0.5 0.9l-2.6 10.9z"/></symbol>',"edit_icon")},"1vmL":function(e,t,s){"use strict";var i=s("8vhV"),a=s.n(i);t.default=a.a},"2/Dp":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"reload":"重新加载","receivingVideo":"正在接收视频..."},"en":{"reload":"Reload","receivingVideo":"Receiving video..."}}'),delete e.options._Ctor}},"20nU":function(e,t,s){"use strict";t.a={sfdc_namespace:"".concat("Charket")}},"22bM":function(e,t,s){"use strict";var i=s("j5tF"),a=s.n(i);t.default=a.a},"265K":function(e,t,s){"use strict";var i=s("dh31");s.n(i).a},"26Ys":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 82 82" id="mini_pro_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M54.7,12.4c-3.3,0-6.4,0.9-9,2.5c-5.2,2.9-8.3,8.1-8.3,13.8v27c0,3-1.7,5.7-4.6,7.4c-1.7,0.9-3.6,1.4-5.4,1.4\n\tc-5.5,0-10-3.9-10-8.8c0-1.5,0.4-2.9,1.2-4.1c1.2-2,3.3-3.5,6-4.3c0.2-0.1,0.4-0.1,0.5-0.1c2.1,0,3.7-1.6,3.7-3.7s-1.6-3.7-3.7-3.7\n\tc-0.8,0-1.6,0.1-2.9,0.5c-4.2,1.3-7.8,3.9-10,7.5c-1.5,2.5-2.3,5.3-2.3,8c0,9,7.8,16.3,17.5,16.3c3.2,0,6.4-0.8,9.1-2.4\n\tc5.2-2.9,8.3-8.1,8.3-13.8V28.6c0-3,1.7-5.7,4.6-7.4c1.7-0.9,3.6-1.4,5.4-1.4c5.5,0,10,3.9,10,8.8c0,1.5-0.4,2.9-1.2,4.1\n\tc-1.2,2-3.3,3.6-6,4.3c-0.2,0.1-0.4,0.1-0.5,0.1c-2.1,0-3.7,1.6-3.7,3.7s1.6,3.7,3.7,3.7c0.8,0,1.8-0.2,2.9-0.5\n\tc4.2-1.3,7.8-3.9,10-7.5c1.5-2.5,2.3-5.3,2.3-8C72.2,19.7,64.3,12.4,54.7,12.4z" fill=""/> <path d="M9.3,41.6" fill=""/> </symbol>',"mini_pro_icon")},"26m3":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"chatting":"对话中","waiting":"等待接入","history":"已结束","noRecordLabel":"没有记录","unreadMessages":"有未读消息"},"en":{"chatting":"Chatting","waiting":"Waiting","history":"History","noRecordLabel":"No Records","unreadMessages":"Has Unread Messages"}}'),delete e.options._Ctor}},"2ABW":function(e,t,s){"use strict";s.d(t,"e",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"h",(function(){return o})),s.d(t,"a",(function(){return l})),s.d(t,"l",(function(){return r})),s.d(t,"i",(function(){return c})),s.d(t,"s",(function(){return d})),s.d(t,"k",(function(){return h})),s.d(t,"r",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"b",(function(){return m})),s.d(t,"q",(function(){return g})),s.d(t,"n",(function(){return f})),s.d(t,"p",(function(){return v})),s.d(t,"o",(function(){return _})),s.d(t,"t",(function(){return C})),s.d(t,"f",(function(){return b})),s.d(t,"g",(function(){return w})),s.d(t,"m",(function(){return y})),s.d(t,"j",(function(){return T}));var i=s("00Ee");function a(){return Object(i.a)({method:"LiveChatRemoteActions.getCurrentSessionId",args:[]})}function n(){return Object(i.a)({method:"LiveChatRemoteActions.getAgentStatuses",args:[]})}async function o(e,t,s){return Object(i.a)({method:"LiveChatRemoteActions.getThreads",args:[e,t,s]})}function l(e){let{transcriptId:t}=e;return Object(i.a)({method:"LiveChatRemoteActions.completeChat",args:[t]})}function r(e){return Object(i.a)({method:"LiveChatRemoteActions.markReadTime",args:[e]})}function c(e,t,s){return Object(i.a)({method:"LiveChatRemoteActions.getTranscriptItems",args:[e,t,s]})}function d(e){return Object(i.a)({method:"LiveChatRemoteActions.updateAgentStatus",args:[e]})}function h(){return Object(i.a)({method:"LiveChatRemoteActions.initAgentStatus",args:[]})}async function u(e){return Object(i.a)({method:"LiveChatRemoteActions.updateAgentLastDesktopActiveTime",args:[e]})}async function p(e){return Object(i.a)({method:"LiveChatRemoteActions.createNewThread",args:[e]})}function m(e,t,s){return Object(i.a)({method:"LiveChatRemoteActions.createNewCase",args:[e,t,s]})}async function g(e){return Object(i.a)({method:"LiveChatRemoteActions.transferChat",args:[e.transcriptId,e.newAgentId,e.content]})}function f(e,t,s,a,n){return Object(i.a)({method:"LiveChatRemoteActions.saveImage",args:[e,t,s,a,n]})}function v(e,t,s,a,n){return Object(i.a)({method:"LiveChatRemoteActions.saveVoice",args:[e,t,s,a,n]})}function _(e,t,s,a,n,o){return Object(i.a)({method:"LiveChatRemoteActions.saveVideo",args:[e,t,s,a,n,o]})}function C(e,t,s){return Object(i.a)({method:"LiveChatRemoteActions.uploadFileToWeChat",args:[e,t,s]})}function b(e,t){return Object(i.a)({method:"LiveChatRemoteActions.searchQuickReplyMessage",args:[e,t]})}function w(){return Object(i.a)({method:"LiveChatRemoteActions.getSubscriptionURI"})}function y(){return Object(i.a)({method:"LiveChatRemoteActions.reconnect",args:[]})}function T(e){return Object(i.a)({method:"LiveChatRemoteActions.getTranscriptItemsAfterSpecifiedCreatedDate",args:[e]})}},"2AFw":function(e,t,s){"use strict";var i=s("ExbJ"),a=s.n(i),n=s("R9hF"),o=s.n(n),l=s("+Bun"),r=s.n(l),c=s("0G99"),d=s.n(c),h=s("3O4B"),u=s.n(h),p=s("autp"),m=s.n(p),g=s("M2K/"),f=s.n(g),v=s("rZkV"),_=s.n(v),C=s("7aFC");var b={data(){return{showMenu:!1,currentItem:{icon:""},btnId:_()(e=Math.random().toString(36)).call(e,4)};var e},props:{objects:{default:()=>null},current:{type:Object,default:()=>null}},computed:{showDropdown:function(){return this.objects.length>1}},mounted(){this.currentItem=this.current;const e=document.getElementById(this.btnId);document.addEventListener("click",t=>{e&&!e.contains(t.target)&&(this.showMenu=!1)})},watch:{current(e){this.currentItem=e}},methods:{select(e){this.currentItem!==e&&(this.currentItem=e,this.$emit("select",e))},getIconType:e=>"Case"===e.name?"case":"ApexClass"===e.name?"apex":e.icon}},w=(s("2FVR"),s("KHd+")),y=Object(w.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showDropdown?s("div",{staticClass:"slds-dropdown_trigger slds-dropdown-trigger_click slds-align-middle slds-m-left_xx-small slds-shrink-none",class:{"slds-is-open":e.showMenu},attrs:{id:"charket-lookup-dropdown"}},["ApexClass"===e.currentItem.name?s("span",{staticClass:"slds-icon slds-icon_small apex-icon slds-icon-standard-apex"},[s("svg",{staticStyle:{width:"24px",height:"24px",padding:"4px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#apex"}})])]):[s("icon",{staticClass:"slds-icon slds-icon_small dropdown-icon",class:"slds-icon-standard-"+e.getIconType(e.currentItem),attrs:{name:e.currentItem.icon,width:"24px",height:"24px"}})],e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-small",staticStyle:{"box-shadow":"none"},attrs:{id:e.btnId,"aria-haspopup":"true"},on:{click:function(t){e.showMenu=!e.showMenu}}},[s("icon",{staticClass:"slds-button__icon slds-icon-text-default",attrs:{name:"down",width:"16px",height:"16px","charket-icon":""}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Filter by object")])],1),e._v(" "),s("div",{staticClass:"slds-dropdown slds-dropdown_left"},[s("ul",{staticClass:"slds-dropdown__list",attrs:{role:"menu"}},e._l(e.objects,(function(t){return s("li",{key:t.name,staticClass:"slds-dropdown__item",attrs:{role:"presentation"},on:{click:function(s){return e.select(t)}}},[s("a",{attrs:{href:"javascript:void(0);",role:"menuitem",tabindex:"-1"}},["ApexClass"===t.name?s("span",{staticClass:"slds-truncate"},[s("span",{staticClass:"slds-icon slds-icon_small slds-media__figure slds-icon-standard-apex apex-icon"},[s("svg",{staticStyle:{width:"24px",height:"24px",padding:"4px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#apex"}})])]),e._v(" "),s("p",[e._v(e._s(t.labelPural))])]):s("span",{staticClass:"slds-truncate"},[s("icon",{staticClass:"slds-icon slds-icon_small slds-m-right_small dropdown-icon",class:"slds-icon-standard-"+e.getIconType(t),attrs:{name:t.icon,width:"24px",height:"24px"}}),e._v(" "),s("p",[e._v(e._s(t.labelPural))])],1)])])})),0)])],2):e._e()}),[],!1,null,"35756fcc",null).exports,T=s("qGaL");var L={components:{Dropdown:y},filters:{capitalize:C.b,lowercase:C.f},props:{ldSelectedItem:{default:()=>null},ldMetadatas:{default:()=>null},ldSearchItems:{type:Function,default:()=>(function(){})},ldKeyword:{type:String,default:()=>""},ldTypeahead:{type:Function,default:()=>(function(){})},ldShowDropdwon:{type:Boolean,default:()=>!0},ldShowTitle:{type:Boolean,default:()=>!1},isDisabled:{type:Boolean,default:()=>!1},isDanger:{type:Boolean,default:()=>!1}},data(){return{inputId:_()(e=Math.random().toString(36)).call(e,4),current:null,text:"",items:[],showLookupList:!1,typeaheadHandle:null,ldMetadata:{label:"",labelPural:"",icon:"",linkField:{name:"",label:""},fields:[]},ldItems:[],showLoading:!1};var e},computed:{objectIcon(){let e="",t="";if(this.ldMetadata.icon){const s=this.ldMetadata.icon.split(".");1===s.length?(t="standard",e=s[0]):(t=s[0],e=s[1])}let s="slds-icon-"+t+"-"+e;return"custom"===t&&(s="slds-icon-custom slds-icon-standard-custom ".concat(e,"-custom")),{name:e,category:t,className:s}},iconStyle(){return"apex"===this.objectIcon.name?{padding:"4px"}:{}},iconLink(){return"caseIcon"===this.objectIcon.name?"#case":"#".concat(this.objectIcon.name)},iconClass(){return"caseIcon"===this.objectIcon.name?"slds-icon-standard-case":this.objectIcon.className},textSize(){var e;return Object(T.getSizeOfUTF8Text)(f()(e=this.text).call(e))}},watch:{ldKeyword(e){this.text=e},ldSelectedItem(e){this.text="",this.current=e},text(e){this.typeaheadHandle&&clearTimeout(this.typeaheadHandle),this.textSize>=2&&this.showLookupList&&(this.typeaheadHandle=m()(()=>{this.typeahead()},600))},ldMetadatas(e){"[object Array]"===Object.prototype.toString.call(this.ldMetadatas)?this.ldMetadata=this.ldMetadatas[0]:this.ldMetadata=this.ldMetadatas}},mounted(){this.current=this.ldSelectedItem,this.searchBox=this.$el.getElementsByTagName("input")[0],document.addEventListener("click",e=>{m()(()=>{e.target!==this.searchBox&&(this.showLookupList=!1)},100)}),"[object Array]"===Object.prototype.toString.call(this.ldMetadatas)?this.ldMetadata=this.ldMetadatas[0]:this.ldMetadata=this.ldMetadatas},methods:{clickSeach(){const e={keyword:this.text,metadata:this.ldMetadata};this.$emit("search",e)},async typeahead(){this.showLoading=!0;try{var e;const t=await this.ldTypeahead(f()(e=this.text).call(e),this.ldMetadata);this.filterItems(t||[])}catch(e){this.$handleError(e)}finally{this.showLoading=!1}},filterItems(e){var t,s;const i=[...e];u()(t=this.items).call(t,0,this.items.length);const a=this.text?f()(s=this.text.toLowerCase()).call(s):"";d()(i).call(i,e=>{var t;const s=e.id,i=e.name,n=r()(t=i.toLowerCase()).call(t,a);if(n>-1){const e=[i.substring(0,n),"<mark>",i.substring(n,n+a.length),"</mark>",i.substring(n+a.length)].join("");this.items.push({id:s,name:i,rawHtml:e})}})},up(e){"Escape"===e.code||"Enter"===e.code||(this.textSize<2?(this.filterItems(this.ldItems),this.showLookupList=!0):this.textSize>=2?(this.filterItems(this.items),this.showLookupList=!0):this.showLookupList=!0)},enter(e){this.textSize>=2&&(e.target.blur(),m()(()=>{this.showLookupList=!1},100),this.clickSeach())},esc(e){e.preventDefault(),this.showLookupList=!1},focus(){m()(async()=>{this.items=[],this.showLookupList=!0,this.showLoading=!0,this.$emit("opened");try{this.ldItems=await this.ldSearchItems(this.ldMetadata),this.filterItems(this.ldItems||[])}catch(e){this.$handleError(e)}finally{this.showLoading=!1}},100)},close(){this.showLookupList=!1},remove(){this.current=null,this.filterItems(this.ldItems),this.$emit("remove")},select(e){this.current=e,this.showLookupList=!1,delete e.rawHtml,this.$emit("select",e)},goToLink(){"Self Link"===this.ldMetadata.newObjectLink?this.$emit("self-link"):window.open(this.ldMetadata.newObjectLink)},setObject(e){this.ldMetadata=e,this.$emit("selectObj",this.ldMetadata)}}},I=(s("eJlX"),s("3bzW"),s("mCSQ")),k=Object(w.a)(L,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"charket-typeahead"}},[s("div",{staticClass:"slds-form-element slds-lookup",class:{"slds-is-open":e.showLookupList},attrs:{"data-select":"single"}},[e.ldShowTitle||!e.ldShowDropdwon?s("label",{staticClass:"slds-form-element__label",attrs:{for:e.inputId}},[s("span",[e._v(e._s(e.ldMetadata.linkField.label))])]):e._e(),e._v(" "),s("div",{staticClass:"slds-form-element__control slds-grid",class:{"slds-box_border":e.ldShowDropdwon&&!e.current,"select-warn-border":!e.showLookupList&&!e.current&&e.ldShowDropdwon&&e.text}},[s("dropdown",{directives:[{name:"show",rawName:"v-show",value:!e.current&&e.ldShowDropdwon&&e.ldMetadatas.length>1,expression:"!current && ldShowDropdwon && ldMetadatas.length > 1"}],attrs:{objects:e.ldMetadatas,current:e.ldMetadata},on:{select:function(t){return e.setObject(t)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.current||!e.ldShowDropdwon,expression:"!current || !ldShowDropdwon"}],staticClass:"slds-input-has-icon slds-input-has-icon_right slds-grow"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"slds-lookup__search-input slds-input search-input",class:{"slds-input_bare":e.ldShowDropdwon,"is-danger":e.isDanger},staticStyle:{"min-height":"30px"},attrs:{id:e.inputId,type:"search",placeholder:e.ldMetadata.labelPural?""+e.$t("searchLabel")+e.ldMetadata.labelPural+"...":"",role:"combobox","aria-activedescendent":"","aria-expanded":"true","aria-autocomplete":"list",autocomplete:"disabled"},domProps:{value:e.text},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.esc(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enter(t)}],keyup:function(t){return e.up(t)},focus:function(t){return e.focus()},input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),s("span",{staticClass:"slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right"},[s("icon",{attrs:{"class-name":"slds-icon slds-icon_x-small slds-icon-text-default",name:"search","charket-icon":""}})],1)]),e._v(" "),e.current&&e.ldShowDropdwon?s("div",{staticClass:"slds-pill_container selected-item slds-size_1-of-1",class:{"selected-item-disabeld":e.isDisabled}},[s("span",{staticClass:"slds-pill slds-size_1-of-1 selected-item-pill",class:{"pill-disabled":e.isDisabled}},["apex"===e.objectIcon.name?s("span",{staticClass:"slds-icon slds-icon_small slds-media__figure slds-icon-standard-apex"},[s("svg",{staticStyle:{width:"24px",height:"24px",padding:"4px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#apex"}})])]):s("span",{staticClass:"slds-icon_container slds-pill__icon_container",class:e.iconClass},[s("icon",{attrs:{name:e.objectIcon.name}})],1),e._v(" "),s("span",{staticClass:"slds-pill__label",attrs:{title:e.current.name||e.current.Name}},[e._v(e._s(e.current.name||e.current.Name))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-pill_remove",staticStyle:{"margin-left":"auto"},attrs:{title:"Remove"},on:{click:function(t){return e.remove()}}},[s("svg",{staticClass:"slds-button__icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#close"}})]),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Remove")])])])]):e._e()],1),e._v(" "),!e.showLookupList&&!e.current&&e.ldShowDropdwon&&e.text?s("div",{staticClass:"select-warn-notification"},[e._v(e._s(e.$t("errorLabel")))]):e._e(),e._v(" "),s("div",{staticClass:"slds-lookup__menu",class:{"charket-lookup-menu":e.showLoading}},[s("ul",{staticClass:"slds-lookup__list",attrs:{role:"listbox"}},[e.textSize>=2?s("li",{attrs:{role:"presentation"},on:{click:function(t){return e.clickSeach()}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("icon",{staticClass:"slds-icon slds-icon_x-small slds-icon-text-default",attrs:{name:"search",width:"16px",height:"16px","charket-icon":""}}),e._v(" "),s("span",{staticClass:"slds-truncate"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.text,expression:"text"}]},[e._v(e._s(e.$t("searchIn",['"'+e.text+'"',""+e.ldMetadata.labelPural])))])])],1)]):e._e(),e._v(" "),e.showLoading?s("li",{attrs:{role:"presentation"}},[e._m(0)]):e._e(),e._v(" "),e._l(e.items,(function(t,i){return s("li",{directives:[{name:"show",rawName:"v-show",value:e.items.length>0||e.textSize>=2,expression:"items.length > 0 || textSize >= 2"}],key:i,attrs:{role:"presentation"},on:{click:function(s){return e.select(t)}}},[s("span",{staticClass:"slds-lookup__item-action slds-media",attrs:{role:"option"}},[s("span",{staticClass:"slds-icon slds-icon_small slds-media__figure",class:e.iconClass},[s("svg",{staticStyle:{width:"24px",height:"24px"},style:e.iconStyle,attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.iconLink,"xmlns:xlink":"http://www.w3.org/1999/xlink"}})])]),e._v(" "),s("div",{staticClass:"slds-media__body"},[s("div",{staticClass:"slds-lookup__result-text",attrs:{title:t.name,value:t.id},domProps:{innerHTML:e._s(t.rawHtml||t.name)}}),e._v(" "),s("span",{staticClass:"slds-lookup__result-meta slds-text-body_small"},[s("span",[e._v(e._s(e._f("capitalize")(e.ldMetadata.label)))])])])])])})),e._v(" "),e.ldMetadata.newObjectLink?s("li",{attrs:{role:"presentation"},on:{click:function(t){return e.goToLink()}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("icon",{staticClass:"slds-icon slds-icon_x-small slds-icon-text-default",attrs:{name:"add",width:"16px",height:"16px","charket-icon":""}}),e._v(" "),s("span",{staticClass:"slds-truncate"},[e._v(e._s(e.$t("newLabel"))+e._s(e._f("capitalize")(e.ldMetadata.label)))])],1)]):e._e()],2)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner_container"},[t("div",{staticClass:"slds-spinner_brand slds-spinner slds-spinner_small",attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[this._v("Loading")]),this._v(" "),t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])])}],!1,null,"6718cd24",null);"function"==typeof I.default&&Object(I.default)(k);var S=k.exports,M=s("SLhn"),A=s.n(M),x=s("vQrK"),N=s.n(x),E=s("hOMy"),D=s("cybb"),P=s("L2JU"),R=s("jkSJ"),O={props:{condition:{type:String,default:()=>null},orderBy:{type:String,default:()=>null}},methods:{search(e,t){return R.p.searchRecords(e,t.name,this.condition,this.orderBy)},searchWithFields(e,t){return R.p.searchRecordsWithLayoutFields(e,t.name,this.condition,this.orderBy)},searchRecentItems(e){return R.p.getRecentItems(e.name,this.condition)}}},B={mixins:[O],components:{Typeahead:S,LdModal:E.LdModal},props:{ldMetadata:{type:Object,default:()=>({fields:[]})},ldKeyword:{type:String,default:()=>""},ldShow:{type:Number,default:()=>-1},ldSearch:{type:Function},ldSearchItems:{type:Function}},data:()=>({showLoading:!1,keyword:"",message:"",items:[],fields:[],linkField:{},showDropdown:!1}),computed:N()({},Object(P.c)({currentUser:"user/currentUser"}),{modalTitle(){var e;return A()(e="".concat(this.ldMetadata.label)).call(e,this.$t("global.resultLabel"))}}),watch:{ldShow(){this.linkField=this.ldMetadata.linkField,this.items=[],this.message="",this.$refs.modal.open(),this.search({keyword:this.ldKeyword,metadata:this.ldMetadata})}},methods:{getCamelCaseKey:e=>e.substring(0,1).toLowerCase()+e.substring(1),async search(e){let{keyword:t,metadata:s}=e;this.keyword=t,this.showLoading=!0;try{const{columns:e,records:a}=await this.searchWithFields(f()(t).call(t),s);this.ldMetadata.fields=e,this.items=a;for(const e of this.ldMetadata.fields){const t=this.getCamelCaseKey(e.name);if(r()(t).call(t,"Date")>-1)for(const e of this.items)e[t]=Object(D.e)(e[t],this.currentUser.TimeZoneSidKey)}if(1===this.items.length)this.message="1 ".concat(this.$tc("resultLabel",1));else if(this.items.length>1){var i;this.message=A()(i="".concat(this.items.length," ")).call(i,this.$t("orderLabel"))}else this.message="0 ".concat(this.$tc("resultLabel",2))}catch(e){this.$refs.modal.showError(e.message)}finally{this.showLoading=!1}},select(e){this.$emit("select",e),this.keyword="",this.$refs.modal.close()},onModalClose(){this.keyword=""},onClickCancelBtn(){this.keyword="",this.$refs.modal.close()}}},$=(s("8VZ3"),s("vtZj"),s("1pHb")),F=Object(w.a)(B,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ld-modal",{ref:"modal",attrs:{title:e.modalTitle,width:960},on:{close:e.onModalClose}},[s("template",{slot:"content"},[s("div",{staticClass:"slds-lookup slds-scrollable_y"},[s("div",{staticClass:"ld-lookup-typeahead"},[s("typeahead",{attrs:{"ld-keyword":e.keyword,"ld-metadatas":e.ldMetadata,"ld-typeahead":e.ldSearch,"ld-search-items":e.ldSearchItems,"ld-show-dropdwon":e.showDropdown},on:{search:function(t){return e.search(t)},select:function(t){return e.select(t)}}})],1),e._v(" "),s("div",{staticClass:"ld-lookup-result-header",attrs:{tabindex:"-1"}},[s("div",{staticClass:"slds-page-header page-header-space"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("div",{staticClass:"slds-col"},[s("h2",{staticClass:"slds-m-bottom_xx-small"},[s("div",{staticClass:"slds-text-heading_medium slds-text-color_default"},[e._v("\n                  "+e._s(e.ldMetadata.labelPural)+"\n                ")])]),e._v(" "),s("div",{staticClass:"slds-text-body_small slds-text-color_weak"},[s("div",[s("p",[e._v(e._s(e.message))])])])])])])]),e._v(" "),s("div",{staticClass:"ld-lookup-table"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"slds-spinner_container"},[s("div",{staticClass:"slds-spinner_brand slds-spinner slds-spinner_medium",attrs:{role:"alert"}},[s("span",{staticClass:"slds-assistive-text"},[e._v("Loading")]),e._v(" "),s("div",{staticClass:"slds-spinner__dot-a"}),e._v(" "),s("div",{staticClass:"slds-spinner__dot-b"})])]),e._v(" "),s("table",{directives:[{name:"show",rawName:"v-show",value:e.items.length>0,expression:"items.length > 0"}],staticClass:"slds-table slds-table_bordered slds-table_cell-buffer slds-no-row-hover lookup-table",attrs:{role:"listbox"}},[s("thead",[s("tr",{staticClass:"slds-line-height_reset",staticStyle:{height:"2rem"}},e._l(e.ldMetadata.fields,(function(t,i){return s("th",{key:i,attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate"},[e._v(e._s(t.label))])])})),0)]),e._v(" "),s("tbody",e._l(e.items,(function(t,i){return s("tr",{key:i,staticClass:"ld-lookup-result-row"},e._l(e.ldMetadata.fields,(function(i,a){return s("td",{key:a,attrs:{scope:"row"}},[0===a?s("a",{attrs:{href:"javascript:void(0);",role:"option"},on:{click:function(s){return e.select(t)}}},[s("div",{staticClass:"slds-truncate"},[e._v("\n                    "+e._s(t[e.getCamelCaseKey(i.name)])+"\n                  ")])]):e._e(),e._v(" "),0!==a?s("div",{staticClass:"slds-truncate"},[e._v("\n                  "+e._s(t[e.getCamelCaseKey(i.name)])+"\n                ")]):e._e()])})),0)})),0)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.items.length,expression:"items.length === 0"}],staticClass:"slds-p-around_large slds-text-body_regular"},[s("div",{},[e._v(e._s(e.$t("noResultLabel",[""+e.keyword,""+e.ldMetadata.label])))])])])])]),e._v(" "),s("template",{slot:"footer"},[s("div",[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{"aria-live":"off",type:"button"},on:{click:function(t){return e.onClickCancelBtn()}}},[s("span",{attrs:{dir:"ltr"}},[e._v(e._s(e.$t("global.cancelBtn")))])])])])],2)}),[],!1,null,"6b916609",null);"function"==typeof $.default&&Object($.default)(F);var U={mixins:[O],components:{Typeahead:S,LookupAdvancedModal:F.exports},data:()=>({selected:null,keyword:"",showAdvancedModal:-1,ldMetadata:{label:"",labelPural:"",icon:"",linkField:{name:"",label:""},fields:[]}}),props:{ldSelectedItem:{default:()=>null},ldMetadatas:{default:()=>null},ldShowTitle:{type:Boolean,default:()=>!1},isDisabled:{type:Boolean,default:()=>!1},isDanger:{type:Boolean,default:()=>!1}},mounted(){"[object Array]"===Object.prototype.toString.call(this.ldMetadatas)?this.ldMetadata=this.ldMetadatas[0]:this.ldMetadata=this.ldMetadatas,this.selected=this.ldSelectedItem?o()({},this.ldSelectedItem):null},methods:{openSearch(e){this.keyword=e.keyword,this.showAdvancedModal=(new Date).getTime()},select(e){this.selected=e,this.$emit("select",e,this.ldMetadata)},remove(){this.$emit("remove",this.ldMetadata)},clear(){this.$refs.typeahead.text="",this.$refs.typeahead.remove()},selectObj(e){this.ldMetadata=e,this.$emit("selectObj",e)},lookupListOpened(){this.$emit("opened")},close(){this.$refs.typeahead.close()},goToSelfLink(){this.$emit("self-link")}},watch:{ldSelectedItem(){this.selected=this.ldSelectedItem?o()({},this.ldSelectedItem):null},ldMetadatas(e){a()(e)?this.ldMetadata=e[0]:this.ldMetadata=e}}},V=Object(w.a)(U,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("typeahead",{ref:"typeahead",attrs:{"is-danger":e.isDanger,"ld-selected-item":e.selected,"ld-metadatas":e.ldMetadatas,"ld-search-items":e.searchRecentItems,"ld-typeahead":e.search,"ld-show-title":e.ldShowTitle,"is-disabled":e.isDisabled},on:{select:function(t){return e.select(t)},remove:function(t){return e.remove()},selectObj:function(t){return e.selectObj(t)},search:function(t){return e.openSearch(t)},opened:e.lookupListOpened,"self-link":e.goToSelfLink}}),e._v(" "),s("lookup-advanced-modal",{attrs:{"ld-show":e.showAdvancedModal,"ld-metadata":e.ldMetadata,"ld-keyword":e.keyword,"ld-search-items":e.searchRecentItems,"ld-search":e.search,condition:e.condition,"order-by":e.orderBy},on:{select:function(t){return e.select(t)}}})],1)}),[],!1,null,null,null);t.a=V.exports},"2FVR":function(e,t,s){"use strict";var i=s("/fVh");s.n(i).a},"2I5Q":function(e,t,s){"use strict";var i=s("S9rk"),a=s.n(i);t.default=a.a},"2mf0":function(e,t,s){"use strict";var i=s("ExbJ"),a=s.n(i),n=s("iP86"),o=s.n(n),l=s("4LGG"),r=s.n(l),c=s("kZKX"),d=s.n(c),h=s("DInU"),u=s("rVwK");const p=new d.a([["Image","getImages"],["Video","getVideos"],["Voice","getVoices"],["Text Message","getTextMessages"],["Structured Message","getStructuredMessages"],["Notification Template","getNotificationTemplates"],["Mini Program Page","getMiniProgramPages"]]),m=new h.k,g=new h.p;t.a=class{static sync(e){let{type:t,wechatAccountId:s,count:i}=e;const a={"STRUCTURED MESSAGES":"syncNews",IMAGES:"syncImages","VOICE CLIPS":"syncVoices",VIDEOS:"syncVideos"}[t];if(!a)throw new Error("Not supported type. (".concat(t,")"));return m[a](s,i)}static uploadImage(e){let{wechatAccountId:t,name:s,data:i,type:a,attachmentId:n}=e;return m.saveImage(t,s,i,a,n)}static uploadVoice(e){let{wechatAccountId:t,name:s,data:i,type:a,attachmentId:n}=e;return m.saveVoice(t,s,i,a,n)}static uploadVideo(e){let{wechatAccountId:t,name:s,description:i,data:a,type:n,attachmentId:o}=e;return m.saveVideo(t,s,i,a,n,o)}static delete(e){return m.deleteMessage(e)}static uploadFileToWeChat(e){let{wechatAccountId:t,attachmentId:s,type:i}=e;return m.uploadFileToWeChat(t,s,i)}static async getMessagesWithPaging(e){var t;let{wechatAccountId:s,pageNumber:i,pageSize:a,type:n,keyword:o,filter:l=null}=e;const{messages:c,paging:d}=await m.getMessages(s,i,a,n,o,l);return{messages:r()(t=c||[]).call(t,e=>new u.e(e)),paging:d}}static async getById(e){const t=await m.getWeChatMessage(e);return new u.e(t)}static async getMessages(e){let{type:t,wechatAccountId:s,offset:i=0,limit:n=20,keyword:l=""}=e,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=m[p.get(t)],h=await o()(d).call(d,m)(s,i,n,l,c);return a()(h)?r()(h).call(h,e=>new u.e(e)):[]}static async getMessagesById(e){const t=await g.getWeChatMessages(e);return a()(t)?r()(t).call(t,e=>new u.e(e)):[]}static async getMessagesByIds(e){const t=await g.getWeChatMessages(e);return a()(t)?r()(t).call(t,e=>new u.e(e)):[]}static getMiniProgramAppId(e){return m.getMiniProgramAppId(e)}static async createTextMessage(e){let{wechatAccountId:t,content:s}=e;const{messageId:i}=await m.saveTextMessage(t,s);return new u.e({messageId:i,textBody:s,type:"Text Message"})}static updateTextMessage(e){let{id:t,content:s}=e;return m.updateTextMessage(t,s)}}},"2udy":function(e,t,s){"use strict";var i=s("5jxK");s.n(i).a},"2vGw":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"acceptBtn":"接受","startBtn":"开始","structureMessageLabel":"[图文消息]","miniProgramPageLabel":"[小程序卡片]","imageLabel":"[图片]","voiceLabel":"[语音]","videoLabel":"[视频]","shortVideoLabel":"[小视频]","locationLabel":"[地理位置]","linkLabel":"[链接]","couponLabel":"[卡券]","passLabel":"[门票]","subscribeLabel":"[关注]","unsubscribeLabel":"[取消关注]","scanLabel":"[扫描]","templateLabel":"[模板通知]","transferLabel":"[转发]","lockLabel":"[锁定]","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","mpChatOpenedMsg":"点击{0}按钮进入小程序聊天窗口，","unsupportedFileMessageLabel":"[不支持的消息类型 - 文件]","mpChatNoBtnOpenedMsg":"进入小程序聊天窗口，","sendingError":"当前有未送达的消息。关闭当前会话有可能会中断送达。","askToClose":"关闭会话？","yes":"是","no":"否","skillStartedMessage":"{0}开启了“{1}”技能","skillInitiation":"技能开启"},"en":{"acceptBtn":"Accept","startBtn":"Start","structureMessageLabel":"[STRUCTURED MESSAGE]","miniProgramPageLabel":"[MINI PROGRAM PAGE]","imageLabel":"[IMAGE]","voiceLabel":"[VOICE]","videoLabel":"[VIDEO]","shortVideoLabel":"[SHORT VIDEO]","locationLabel":"[LOCATION]","linkLabel":"[LINK]","couponLabel":"[COUPON]","passLabel":"[PASS]","subscribeLabel":"[SUBSCRIBE]","unsubscribeLabel":"[UNSUBSCRIBE]","scanLabel":"[SCAN]","templateLabel":"[TEMPLATE]","transferLabel":"[TRANSFER]","lockLabel":"[LOCK]","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","mpChatOpenedMsg":"Mini program chat window opened from the {0} button","unsupportedFileMessageLabel":"[Unsupported Message - File]","mpChatNoBtnOpenedMsg":"Mini program chat window opened","sendingError":"Some messages have not been delivered. Ending this conversation may interrupt the delivery of those messages.","askToClose":"Mark as done?","yes":"Yes","no":"No","skillStartedMessage":"{0} started the skill \\"{1}\\" ","skillInitiation":"Skill Initiation"}}'),delete e.options._Ctor}},"31W2":function(e,t,s){"use strict";var i=s("jMrX"),a=s.n(i);t.default=a.a},"3KLK":function(e,t,s){"use strict";var i=s("dUVM"),a=s.n(i),n=s("8Vev"),o=s.n(n),l=s("4LGG"),r=s.n(l),c=s("4Wlx"),d=s("4B+h"),h=s("LQ5e"),u=s.n(h),p={mixins:[s("j2po").a],props:{isLoadingData:{type:Boolean,default:()=>!1},allTags:{type:Array,default:()=>[]},canEdit:{type:Boolean,default:()=>!0},follower:{type:Object,default:()=>({})}},computed:{noTagsTipVisible(){return!this.isLoadingData&&!this.assignTagsPicklistVisible&&this.follower.WeChatTags&&0===this.follower.WeChatTags.length}},methods:{toggleAssignTagsPicklist(e){e.IsFollowing?this.toggle():this.$root.$emit("open-toast-notification",{content:this.$t("notifyContent"),type:"normal"})},async onUpdateFollowerTags(e,t){var s;this.assignTagsPicklistBtnDisabled=!0;const i=r()(s=this.follower.WeChatTags).call(s,e=>e.Id);if(0===(e=o()(e).call(e,e=>!a()(i).call(i,e))).length&&0===t.length)return this.assignTagsPicklistBtnDisabled=!1,void this.closeAssignTagsPicklist();const n=this.follower.Id;try{const s=await Object(c.n)([n],e,t);if(s.ok){this.closeAssignTagsPicklist();const e=JSON.parse(u.a.unescape(s.data))[0].WeChatTags;this.$store.dispatch("livechat/storeFollower",{Id:n,WeChatTags:e})}else Object(d.f)(s)}catch(e){Object(d.f)(e)}finally{this.assignTagsPicklistBtnDisabled=!1}}}},m=(s("aKmg"),s("KHd+")),g=s("kk2Z"),f=s("LXIl"),v=Object(m.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follower-tag"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center follower-tag-header"},[s("div",{staticClass:"tag-icon-wrapper slds-grid slds-grid_vertical-align-center slds-grid_align-center"},[s("icon",{staticClass:"tag-icon",attrs:{name:"tagGrey",width:"15px",height:"15px","fill-color":"#fff"}})],1),e._v(" "),s("span",{staticClass:"slds-m-left_small slds-col_bump-right tags-title"},[e._v(e._s(e.$t("tags")))]),e._v(" "),e.canEdit?s("button",{staticClass:"slds-button edit-btn",on:{click:function(t){return e.toggleAssignTagsPicklist(e.follower)}}},[e._v(e._s(e.$t("edit")))]):e._e()]),e._v(" "),e.assignTagsPicklistVisible?s("assign-tags-picklist",{attrs:{tags:e.allTags,"button-disabled":e.assignTagsPicklistBtnDisabled,"selected-follower-list":[e.follower]},on:{save:e.onUpdateFollowerTags,cancel:e.closeAssignTagsPicklist}}):e._e(),e._v(" "),e.noTagsTipVisible?s("div",{staticClass:"no-tag-tip slds-m-top_small slds-text-color_weak"},[e._v("\n    "+e._s(e.$t("noTags"))+"\n  ")]):e._e(),e._v(" "),e.assignTagsPicklistVisible?e._e():s("ul",{staticClass:"slds-grid slds-wrap slds-m-top_small tag-list"},e._l(e.follower.WeChatTags,(function(t){return s("li",{key:t.Id,staticClass:"tag-item slds-m-left_x-small slds-m-bottom_x-small"},[e._v(e._s(t.Name))])})),0)],1)}),[],!1,null,"c643acee",null);"function"==typeof g.default&&Object(g.default)(v),"function"==typeof f.default&&Object(f.default)(v);t.a=v.exports},"3bzW":function(e,t,s){"use strict";var i=s("QDlg");s.n(i).a},"3hyf":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 41.2 39.1" id="multi_msg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path d="M39.2,15.1h-28c-1.1,0-2,0.9-2,2v20c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2V17C41.2,15.9,40.3,15.1,39.2,15.1z M32.9,21\r\n\t\tc1.2,0,2.2,1,2.2,2.2c0,1.2-1,2.2-2.2,2.2s-2.2-1-2.2-2.2C30.6,21.9,31.6,21,32.9,21z M15,34.1l5.9-12.5l5.3,10.1l4.5-4.9l4.7,7.3\r\n\t\tH15z" fill=""/> <path d="M10.7,14.5h1.8l-2.9-4.2l7,0.4l-1.3,3.8h10.6l0.5-0.4c0.6-0.4,0.8-1.3,0.4-1.9l-8-11.6c-0.4-0.6-1.3-0.8-1.9-0.4L0.6,11.5\r\n\t\tc-0.6,0.4-0.8,1.3-0.4,1.9l8,11.6c0.1,0.1,0.2,0.3,0.4,0.4v-8.8C8.6,15.4,9.5,14.5,10.7,14.5z" fill=""/> </g> </symbol>',"multi_msg")},"3lTr":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="paragraph_margin_bottom" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="paragraph_margin_bottom_XMLID_33_"> <rect id="paragraph_margin_bottom_XMLID_34_" y="7.5" fill="#aaa" width="18" height="2"/> <rect id="paragraph_margin_bottom_XMLID_51_" y="15.5" fill="#aaa" width="18" height="2"/> <rect id="paragraph_margin_bottom_XMLID_53_" y="11.5" fill="#aaa" width="18" height="2"/> <polygon id="paragraph_margin_bottom_XMLID_54_" fill="#aaa" points="12.9,0.5 5.1,0.5 9,5.5 \t"/> </g> </symbol>',"paragraph_margin_bottom")},"3zUd":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"uploading":"上传中...","waiting":"等待中..."},"en":{"uploading":"Uploading...","waiting":"Waiting..."}}'),delete e.options._Ctor}},"4B+h":function(e,t,s){"use strict";s.d(t,"b",(function(){return g})),s.d(t,"f",(function(){return f})),s.d(t,"e",(function(){return v})),s.d(t,"a",(function(){return _})),s.d(t,"g",(function(){return C})),s.d(t,"c",(function(){return b})),s.d(t,"d",(function(){return w}));var i=s("wG3i"),a=s.n(i),n=s("WE60"),o=s.n(n),l=s("rZkV"),r=s.n(l),c=s("ejTr"),d=s.n(c),h=(s("SLhn"),s("4LGG"),s("Yvyk")),u=s.n(h),p=(s("20nU"),s("LQ5e")),m=s.n(p);const g=(e,t)=>{let s=0;for(let i=0;i<t.length;i++){let a;a=null!==t[i].match(/[^x00-xff]/gi)&&" "!==t[i]?2:1,s+a>e?t=t.substr(0,i):s+=a}return{value:t,count:s}},f=e=>{if(e)if(null===e.result)!e.statusCode&&(e.xhr.isTimeout||"onLine"in navigator&&!1===navigator.onLine)&&("en"===window.app.$i18n.locale?window.app.$emit("open-toast-notification",{content:"Check your Internet connection and try again.",type:"error"}):window.app.$emit("open-toast-notification",{content:"请检查当前网络并重试。",type:"error"}));else{let t="";e.message?t=e.message:e.error&&e.error.message?t=e.error.message:e.error&&(t=e.error),t&&window.app.$emit("open-toast-notification",{content:m.a.unescape(t),type:"error"})}};function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new u.a(t=>{window.setTimeout(()=>{t()},e)})}const _=(e,t)=>{const s=(e,t)=>{if(e instanceof Array&&t instanceof Array&&e.length!==t.length)return!1;if(null!==e&&null!==t){for(const i of d()(e)){if("object"==typeof e[i]&&"object"==typeof t[i]){if(s(e[i],t[i]))continue;return!1}if(e[i]!==t[i])return!1}return!0}return e===t};return s(e,t)},C=function(e){const t={success:!1,data:null};if("string"!=typeof e)return t;try{t.data=JSON.parse(e),"object"==typeof t.data&&t.data&&(t.success=!0)}catch(e){t.success=!1,t.data=null}return t};function b(e){const t=r()(e).call(e,-2).toUpperCase(),s=t.split("")[0],i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a=o()(i).call(i,e=>s===e),n=["#29a49c","#eb6e66","#655df0","#42ac5e","#116fd2"];return{Name:t,BgColor:a<=7?n[0]:a<=17?n[1]:a<=21?n[2]:a<=28?n[3]:n[4]}}function w(e,t){if(e&&e.length>0){var s=new RegExp('(")'+(e+"__")+'(\\w+":)',"g");return JSON.parse(a()(t).replace(s,"$1$2"))}return t}},"4MOm":function(e,t,s){"use strict";var i=s("R9w4"),a=s.n(i),n=s("SLhn"),o=s.n(n),l=s("i+Lc"),r=s.n(l);const c=s("20nU").a.sfdc_namespace;class d{static getQualifiedName(e){var t;return!d.isCustomObject(e)||r()(e).call(e,"".concat(c,"__"))?e:c?o()(t="".concat(c,"__")).call(t,e):e}static isCustomObject(e){return a()(e).call(e,"__c")}static getQualifiedField(e){var t;return d.isCustomField(e)&&c?o()(t="".concat(c,"__")).call(t,e):e}static isCustomField(e){return a()(e).call(e,"__c")}}var h=d;s.d(t,"a",(function(){return h}))},"4No8":function(e,t,s){"use strict";var i=s("WE60"),a=s.n(i),n=s("SLhn"),o=s.n(n),l=s("sI2A"),r=s.n(l),c=s("+Bun"),d=s.n(c),h=s("cybb"),u={props:{value:{type:String,default:""},x:{type:Number,default:0},y:{type:Number,default:0},weeks:{type:Array,default:function(){return["一","二","三","四","五","六","日"]}},months:{type:Array,default:function(){return["01","02","03","04","05","06","07","08","09","10","11","12"]}}},data:()=>({show:!1,currentYear:0,currentMonth:0,currentDay:0,formatDate:"",days:[],selectedDay:[],monthString:"",sep:"-"}),created(){this.init()},watch:{show(){this.init()},value(){this.init()}},methods:{open(){this.show=!0;const e=()=>{this.cancel(),document.removeEventListener("click",e)};document.addEventListener("click",e)},padding:e=>e<10?"0"+e:e,init(){let e=[];if(""!==this.value){var t,s,i;-1!==d()(t=this.value).call(t,"-")&&(this.sep="-"),-1!==d()(s=this.value).call(s,".")&&(this.sep="."),-1!==d()(i=this.value).call(i,"/")&&(this.sep="/"),e=this.value.split(this.sep),this.currentYear=r()(e[0]),this.currentMonth=r()(e[1])-1,this.currentDay=r()(e[2])}else{const e=Object(h.b)(new Date,this.$user.TimeZoneSidKey);this.sep=this.sep||"/",this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth(),this.currentDay=e.getDate()}this.monthString=this.months[this.currentMonth],this.renderCalendar(this.currentYear,this.currentMonth)},renderCalendar(e,t){const s=new Date(e,t,1).getDay(),i=new Date(e,t+1,0).getDate(),a=new Date(e,t,0).getDate();this.currentYear=e;const n=this.value.split(" ")[0].split(this.sep);let o=0;const l=[],c=Object(h.b)(new Date,this.$user.TimeZoneSidKey),d=c.getFullYear(),u=c.getMonth(),p=c.getDate();l[o]=[];let m=a-s+1;for(let e=0;e<s;e++)l[o].push({day:m,disabled:!0}),m++;for(let e=1;e<=i;e++){7===l[o].length&&(o++,l[o]=[]);let t={};const s=()=>{l[o].push({day:e,selected:!0}),this.selectedDay=[o,l[o].length-1]};d===this.currentYear&&u===this.currentMonth&&e===this.currentDay&&""===this.value?s():r()(n[0])===this.currentYear&&r()(n[1])-1===this.currentMonth&&r()(n[2])===e?s():d===this.currentYear&&u===this.currentMonth&&e===p?l[o].push({day:e,selected:!1,today:!0}):(t={day:e,selected:!1},l[o].push(t))}if(l[o]&&l[o].length<7){let e=1;const t=7-l[o].length;for(;e<=t;)l[o].push({day:e,disabled:!0}),e++}this.days=l},prev(e){e.stopPropagation(),0===this.currentMonth?(this.currentMonth=11,this.currentYear=r()(this.currentYear)-1):this.currentMonth=r()(this.currentMonth)-1,this.monthString=this.months[this.currentMonth],this.renderCalendar(this.currentYear,this.currentMonth),this.$emit("month-change")},next(e){e.stopPropagation(),11===this.currentMonth?(this.currentMonth=0,this.currentYear=r()(this.currentYear)+1):this.currentMonth=r()(this.currentMonth)+1,this.monthString=this.months[this.currentMonth],this.renderCalendar(this.currentYear,this.currentMonth),this.$emit("month-change")},select(e,t,s,i){void 0!==i&&i.stopPropagation(),this.days[e][t].selected=!0,this.currentDay=this.days[e][t].day,this.selectedDay=[e,t],s.disabled&&(s.day>=25&&s.day<=31?0===this.currentMonth?(this.currentYear--,this.currentMonth=11):this.currentMonth--:s.day>=1&&s.day<=7&&(11===this.currentMonth?(this.currentYear++,this.currentMonth=0):this.currentMonth++)),this.formatDate=this.currentYear+this.sep+this.padding(this.currentMonth+1)+this.sep+this.padding(this.days[e][t].day),this.show=!1,this.$emit("picked-date",this.formatDate)},cancel(){this.show=!1},output(e){var t,s,i,a;return o()(t=o()(s=o()(i=o()(a="".concat(e[0])).call(a,this.sep)).call(i,this.padding(e[1]+1))).call(s,this.sep)).call(t,this.padding(e[2]))}}},p=(s("cbFz"),s("KHd+")),m=s("1vmL"),g=Object(p.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"slds-datepicker slds-dropdown slds-dropdown_left",style:{left:e.x+"px",top:e.y+"px"},attrs:{transition:"calendar","transition-mode":"out-in"},on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"slds-datepicker__filter slds-grid"},[s("div",{staticClass:"slds-datepicker__filter_month slds-grid slds-grid_align-spread slds-grow"},[s("div",{staticClass:"slds-align-middle"},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:function(t){return e.prev(t)}}},[s("icon",{staticClass:"slds-button__icon",attrs:{name:"left","fill-color":"#706e6b",width:".8125rem",height:".8125rem"}})],1)]),e._v(" "),s("h2",{staticClass:"slds-align-middle"},[e._v(" "+e._s(e.monthString)+" ")]),e._v(" "),s("div",{staticClass:"slds-align-middle"},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:function(t){return e.next(t)}}},[s("icon",{staticClass:"slds-button__icon",attrs:{name:"right","fill-color":"#706e6b",width:".8125rem",height:".8125rem"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-shrink-none"},[s("div",{staticClass:"slds-select_container text-center"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.currentYear,expression:"currentYear"}],staticClass:"slds-select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.currentYear=t.target.multiple?s:s[0]},function(t){return e.renderCalendar(e.currentYear,e.currentMonth)}]}},e._l(2047,(function(t){return t>=1917?s("option",{domProps:{value:t,selected:t===e.currentYear}},[e._v(e._s(t))]):e._e()})),0)])])]),e._v(" "),s("table",{staticClass:"slds-datepicker__month",attrs:{cellpadding:"5"}},[s("thead",[s("tr",e._l(e.weeks,(function(t){return s("th",{staticClass:"week"},[e._v(e._s(t))])})),0)]),e._v(" "),s("tbody",e._l(e.days,(function(t,i){return s("tr",e._l(t,(function(t,a){return s("td",{class:{"slds-is-selected":t.selected,"slds-disabled-text":t.disabled,"slds-is-today":t.today},on:{click:function(s){return e.select(i,a,t,s)},touchstart:function(s){return e.select(i,a,t,s)}}},[s("span",{staticClass:"slds-day"},[e._v(e._s(t.day))])])})),0)})),0)])])}),[],!1,null,"a3f84406",null);"function"==typeof m.default&&Object(m.default)(g);var f=g.exports,v=s("sWYD");const _=e=>{var t;const s=d()(e).call(e,"AM")>-1||d()(e).call(e,"上午")>-1;let i=0,a=0;const n=e.split(":"),l=r()(n[0].replace(/[^0-9]/gi,""));return s?12!==l&&(i=l):i=l>=12?l:l+12,a=r()(n[1]),o()(t="2019-09-12 ".concat(i,":")).call(t,a)};var C={props:{customSettings:{type:Object,default:()=>({onlyDay:!1,defaultTime:""})},customErrors:{type:Array,default:()=>[]},keepWatch:{type:Boolean,default:!0},tips:{type:Array,default:()=>[]},autoSetPosition:{type:Boolean,default:!0}},components:{DatePicker:f},computed:{allErrors(){var e;return o()(e=this.dateErrorList).call(e,this.customErrors)}},mounted(){this.setDateData(),this.$root.$on("close-all-dropdown",this.closeAllList),this.keepWatch&&(this.customSettingsWatcher=this.$watch("customSettings",this.initData))},watch:{showTimeList(e){!0===e?this.$emit("open-time-list"):this.$emit("close-time-list")},allErrors(e,t){this.$emit("set-error-count",e.length)},dateTime(e){e?Object(h.k)(e)?this.showedDateTime=Object(h.g)(e,"date"):this.showedDateTime=e:this.showedDateTime=""},clockTime(e){e?Object(h.k)(_(e))?this.showedClockTime=Object(h.g)(_(e),"time"):this.showedClockTime=e:this.showedClockTime=""}},data(){return{showedDateTime:"",showedClockTime:"",dateTime:"",clockTime:"",calendar:{x:0,y:32,picker:"",value:"",sep:"-",weeks:[this.$t("week0"),this.$t("week1"),this.$t("week2"),this.$t("week3"),this.$t("week4"),this.$t("week5"),this.$t("week6")],months:[this.$t("month1"),this.$t("month2"),this.$t("month3"),this.$t("month4"),this.$t("month5"),this.$t("month6"),this.$t("month7"),this.$t("month8"),this.$t("month9"),this.$t("month10"),this.$t("month11"),this.$t("month12")]},timeList:[{label:this.$tc("timeLabel",1,["12:00"]),value:"12:00 AM"},{label:this.$tc("timeLabel",1,["12:30"]),value:"12:30 AM"},{label:this.$tc("timeLabel",1,["1:00"]),value:"1:00 AM"},{label:this.$tc("timeLabel",1,["1:30"]),value:"1:30 AM"},{label:this.$tc("timeLabel",1,["2:00"]),value:"2:00 AM"},{label:this.$tc("timeLabel",1,["2:30"]),value:"2:30 AM"},{label:this.$tc("timeLabel",1,["3:00"]),value:"3:00 AM"},{label:this.$tc("timeLabel",1,["3:30"]),value:"3:30 AM"},{label:this.$tc("timeLabel",1,["4:00"]),value:"4:00 AM"},{label:this.$tc("timeLabel",1,["4:30"]),value:"4:30 AM"},{label:this.$tc("timeLabel",1,["5:00"]),value:"5:00 AM"},{label:this.$tc("timeLabel",1,["5:30"]),value:"5:30 AM"},{label:this.$tc("timeLabel",1,["6:00"]),value:"6:00 AM"},{label:this.$tc("timeLabel",1,["6:30"]),value:"6:30 AM"},{label:this.$tc("timeLabel",1,["7:00"]),value:"7:00 AM"},{label:this.$tc("timeLabel",1,["7:30"]),value:"7:30 AM"},{label:this.$tc("timeLabel",1,["8:00"]),value:"8:00 AM"},{label:this.$tc("timeLabel",1,["8:30"]),value:"8:30 AM"},{label:this.$tc("timeLabel",1,["9:00"]),value:"9:00 AM"},{label:this.$tc("timeLabel",1,["9:30"]),value:"9:30 AM"},{label:this.$tc("timeLabel",1,["10:00"]),value:"10:00 AM"},{label:this.$tc("timeLabel",1,["10:30"]),value:"10:30 AM"},{label:this.$tc("timeLabel",1,["11:00"]),value:"11:00 AM"},{label:this.$tc("timeLabel",1,["11:30"]),value:"11:30 AM"},{label:this.$tc("timeLabel",2,["12:00"]),value:"12:00 PM"},{label:this.$tc("timeLabel",2,["12:30"]),value:"12:30 PM"},{label:this.$tc("timeLabel",2,["1:00"]),value:"1:00 PM"},{label:this.$tc("timeLabel",2,["1:30"]),value:"1:30 PM"},{label:this.$tc("timeLabel",2,["2:00"]),value:"2:00 PM"},{label:this.$tc("timeLabel",2,["2:30"]),value:"2:30 PM"},{label:this.$tc("timeLabel",2,["3:00"]),value:"3:00 PM"},{label:this.$tc("timeLabel",2,["3:30"]),value:"3:30 PM"},{label:this.$tc("timeLabel",2,["4:00"]),value:"4:00 PM"},{label:this.$tc("timeLabel",2,["4:30"]),value:"4:30 PM"},{label:this.$tc("timeLabel",2,["5:00"]),value:"5:00 PM"},{label:this.$tc("timeLabel",2,["5:30"]),value:"5:30 PM"},{label:this.$tc("timeLabel",2,["6:00"]),value:"6:00 PM"},{label:this.$tc("timeLabel",2,["6:30"]),value:"6:30 PM"},{label:this.$tc("timeLabel",2,["7:00"]),value:"7:00 PM"},{label:this.$tc("timeLabel",2,["7:30"]),value:"7:30 PM"},{label:this.$tc("timeLabel",2,["8:00"]),value:"8:00 PM"},{label:this.$tc("timeLabel",2,["8:30"]),value:"8:30 PM"},{label:this.$tc("timeLabel",2,["9:00"]),value:"9:00 PM"},{label:this.$tc("timeLabel",2,["9:30"]),value:"9:30 PM"},{label:this.$tc("timeLabel",2,["10:00"]),value:"10:00 PM"},{label:this.$tc("timeLabel",2,["10:30"]),value:"10:30 PM"},{label:this.$tc("timeLabel",2,["11:00"]),value:"11:00 PM"},{label:this.$tc("timeLabel",2,["11:30"]),value:"11:30 PM"}],showTimeList:!1,timeListPosition:{x:0,y:32},dateErrorList:[],customSettingsWatcher:null}},methods:{initData(){this.dateErrorList=[],this.setDateData()},addOpenListener(){this.$root.$off("close-all-dropdown",this.closeAllList);const e=()=>{this.$root.$on("close-all-dropdown",this.closeAllList),this.$root.$off("close-all-dropdown",e)};this.$root.$on("close-all-dropdown",e),this.$root.$emit("close-all-dropdown")},closeAllList(){this.showTimeList=!1,this.$refs.datePicker&&this.$refs.datePicker.cancel(),this.$root.$off("close-all-dropdown",this.closeAllList)},setDateData(){if(this.customSettings.defaultTime&&"0"!==this.customSettings.defaultTime)if(this.customSettings.onlyDay)this.dateTime=this.customSettings.defaultTime,this.clockTime="12:00 AM";else{var e;const t=Object(v.a)(new Date(this.customSettings.defaultTime),"M/d/yyyy h:mm a").split(" ");this.dateTime=t[0],this.calendar.value=t[0],this.clockTime=o()(e="".concat(t[1]," ")).call(e,t[2])}else this.dateTime="",this.clockTime=""},openDatePicker(){this.addOpenListener();const e=this.dateTime,t=this.checkValidDay(e);if(t){var s,i;const{year:e,month:a,dayTime:n}=t;this.calendar.value=o()(s=o()(i="".concat(e,"-")).call(i,a,"-")).call(s,n)}else this.calendar.value="";this.$refs.datePicker.open(),this.$emit("show-date-picker"),this.setTimePickerPosition(),this.showTimeList=!1},openSelectTimeList(){this.addOpenListener(),this.setTimePickerPosition(),this.showTimeList=!0,this.$refs.datePicker.cancel(),this.$emit("close-date-picker"),this.$nextTick(()=>{var e;const t=a()(e=this.timeList).call(e,e=>e.value===this.clockTime);if(t>0)this.$refs.timeList.scrollTop=46*t;else{if(new RegExp("((0?[1-9]|1[0-2]):(0?[0-9]|[1-5][0-9]) (AM|PM))","g").test(this.clockTime)){var s,i,n;const e=this.clockTime.split(" "),t=e[0].split(":");let[l,r]=[String(t[0]),"00"];Number(t[1])>=45?l=String(Number(t[0])+1):Number(t[1])>=15&&Number(t[1])<45&&(r="30");const c=o()(s=o()(i="".concat(l,":")).call(i,r," ")).call(s,e[1]),d=a()(n=this.timeList).call(n,e=>e.value===c);this.$refs.timeList.scrollTop=46*d}}});const e=()=>{this.showTimeList=!1,window.removeEventListener("click",e)};window.addEventListener("click",e)},setTimePickerPosition(){if(!this.autoSetPosition)return;const e=document.querySelector(".date-select-box"),t=e.getBoundingClientRect().bottom,s=e.offsetHeight;(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-t>264?(this.calendar.x=0,this.calendar.y=s,this.timeListPosition.x=0,this.timeListPosition.y=s):(this.calendar.x=0,this.$nextTick(()=>{this.calendar.y=-(this.$refs.datePicker.$el.offsetHeight+3)}),this.timeListPosition.x=0,this.timeListPosition.y=-219)},suspendedWatcher(){this.customSettingsWatcher&&this.customSettingsWatcher();const e=this.$watch("customSettings",()=>{e(),this.customSettingsWatcher=this.$watch("customSettings",this.initData)})},getDate(e){e&&(this.dateTime=this.formatDay(e));const t=this.checkInputTime();(this.customSettings.onlyDay?!!this.dateTime:!(!this.dateTime||!this.clockTime))&&(this.suspendedWatcher(),this.$emit("get-time",t))},formatDay(e){var t,s;let i=[];return d()(e).call(e,"-")>-1?i=e.split("-"):d()(e).call(e,"/")>-1&&(i=e.split("/")),o()(t=o()(s="".concat(Number(i[1]),"/")).call(s,Number(i[2]),"/")).call(t,Number(i[0]))},selectValidTime(e){this.clockTime=e.target.title,this.showTimeList=!1;const t=this.checkInputTime();t&&(this.suspendedWatcher(),this.$emit("get-time",t))},checkValidDay(e){var t,s;const i=e.split("/"),a=Number(i[2]),n=Number(i[0]),l=Number(i[1]),r=o()(t=o()(s="".concat(a,"/")).call(s,n,"/")).call(t,l);return Object(h.k)(r)?{year:a,month:n,dayTime:l}:0},checkInputTime(){const e=this.customSettings.onlyDay?!!this.dateTime:!(!this.dateTime||!this.clockTime);if(this.customSettings.onlyDay&&""===this.dateTime?(this.suspendedWatcher(),this.$emit("get-time","")):this.customSettings.onlyDay||""!==this.dateTime||""!==this.clockTime||(this.suspendedWatcher(),this.$emit("get-time","")),e){this.dateErrorList=[];const e=this.formatDate(this.dateTime,this.clockTime);return 0===e?(this.dateErrorList.push(this.$t("errorContent")),!1):e}},setDateTimeByInput(){if(this.showedDateTime){var e,t;let l=null;if(d()(e=this.showedDateTime).call(e,"-")>=0){var s,i;const e=this.showedDateTime.split("-");l=o()(s=o()(i="".concat(Number(e[1]),"/")).call(i,Number(e[2]),"/")).call(s,Number(e[0]))}else if(d()(t=this.showedDateTime).call(t,"/")>=0){var a,n;const e=this.showedDateTime.split("/");l=o()(a=o()(n="".concat(Number(e[0]),"/")).call(n,Number(e[1]),"/")).call(a,Number(e[2]))}else l=this.showedDateTime;Object(h.k)(l)?this.dateTime=Object(v.a)(new Date(l),"M/d/yyyy"):this.dateTime=l}else this.dateTime=""},setClockTimeByInput(){if(this.showedClockTime){const e=_(this.showedClockTime);this.clockTime=Object(h.k)(e)?Object(v.a)(new Date(e),"h:mm a"):this.showedClockTime}else this.clockTime=""},blurFromInput(){this.setDateTimeByInput(),this.setClockTimeByInput();const e=this.checkInputTime();e&&(this.suspendedWatcher(),this.$emit("get-time",e))},formatDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=this.checkValidDay(e),i=new RegExp("((0?[1-9]|1[0-2]):(0?[0-9]|[1-5][0-9]) (AM|PM))","g"),a=!t||i.test(t);if(s&&a){const{year:e,month:i,dayTime:a}=s,m=t.split(" ")[0].split(":");let g=0;const f=Number(m[1]),_=0,C=(e,t)=>{const s="000000000"+String(e);return s.substr(s.length-t)};d()(t).call(t,"PM")>-1?g=Number(m[0])<12?Number(m[0])+12:Number(m[0]):d()(t).call(t,"AM")>-1&&(g=12===Number(m[0])?0:Number(m[0]));let b="";var n,l,r,c,h,u,p;return this.customSettings.onlyDay?(b=new Date(o()(n=o()(l="".concat(e,"/")).call(l,C(i,2),"/")).call(n,C(a,2))),Object(v.a)(b,"M/d/yyyy")):(b=new Date(o()(r=o()(c=o()(h=o()(u=o()(p="".concat(e,"/")).call(p,C(i,2),"/")).call(u,C(a,2)," ")).call(h,C(g,2),":")).call(c,C(f,2),":")).call(r,C(_,2))),b.getTime())}return 0},beforeDestroy(){this.$root.$off("close-all-dropdown",this.closeAllList)}}},b=(s("FDUV"),s("4pMr")),w=Object(p.a)(C,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical common-date-wrapper"},[s("div",{staticClass:"slds-grid date-select-box"},[s("div",{staticClass:"slds-col date-section",on:{click:function(t){return t.stopPropagation(),e.openDatePicker(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showedDateTime,expression:"showedDateTime"}],staticClass:"slds-input",class:{"error-border":e.allErrors.length>0},attrs:{type:"text"},domProps:{value:e.showedDateTime},on:{blur:function(t){return t.stopPropagation(),e.blurFromInput()},input:function(t){t.target.composing||(e.showedDateTime=t.target.value)}}}),e._v(" "),s("div",{staticClass:"time-icon"},[s("icon",{attrs:{name:"event",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("date-picker",{ref:"datePicker",attrs:{x:e.calendar.x,y:e.calendar.y,weeks:e.calendar.weeks,months:e.calendar.months,sep:e.calendar.sep},on:{"month-change":e.setTimePickerPosition,"picked-date":e.getDate},model:{value:e.calendar.value,callback:function(t){e.$set(e.calendar,"value",t)},expression:"calendar.value"}})],1),e._v(" "),e.customSettings.onlyDay?e._e():s("div",{staticClass:"slds-col time-section",on:{click:function(t){return t.stopPropagation(),e.openSelectTimeList(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showedClockTime,expression:"showedClockTime"}],staticClass:"slds-input",class:{"error-border":e.allErrors.length>0},attrs:{type:"text"},domProps:{value:e.showedClockTime},on:{blur:function(t){return t.stopPropagation(),e.blurFromInput()},input:function(t){t.target.composing||(e.showedClockTime=t.target.value)}}}),e._v(" "),s("div",{staticClass:"time-icon"},[s("icon",{attrs:{name:"clock",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showTimeList,expression:"showTimeList"}],ref:"timeList",staticClass:"slds-box select-time-list",style:{top:e.timeListPosition.y+"px",left:e.timeListPosition.x+"px"},on:{click:function(t){return t.stopPropagation(),e.selectValidTime(t)}}},e._l(e.timeList,(function(t,i){return s("li",{key:i,class:{"active-li":e.clockTime===t.value},attrs:{title:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)])]),e._v(" "),e._l(e.tips,(function(t,i){return s("span",{key:i+1,staticClass:"date-tip"},[e._v("\n    "+e._s(t)+"\n  ")])})),e._v(" "),e._l(e.allErrors,(function(t,i){return s("span",{key:i+2,staticClass:"date-error-box"},[e._v("\n    "+e._s(t)+"\n  ")])}))],2)}),[],!1,null,"8dfbbcd2",null);"function"==typeof b.default&&Object(b.default)(w);t.a=w.exports},"4PFF":function(e,t,s){"use strict";var i=s("d55s"),a=s.n(i);t.default=a.a},"4SbG":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 36 36" id="wechat_account_miniprogram" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M16.4,27.3c-1.6,0.1-3.2-0.1-4.7-0.6L11,26.6l-3.4,1.7l1-2.9l-0.9-0.6c-2.8-2-4.4-4.8-4.4-7.9c0-2.3,0.9-4.5,2.6-6.3\n\t\tc2.4-2.6,5.9-4.1,9.7-4.1c0.8,0,1.6,0.1,2.5,0.2c0.2,0,0.3,0.1,0.5,0.1L19,6.9c3.1,0.7,5.8,2.4,7.5,4.8c0.1,0.2,0.3,0.4,0.4,0.6\n\t\tc0.1,0.1,0.2,0.3,0.2,0.4c0,0.1,0.1,0.2,0.1,0.3c0.3,0.7,0.6,1.3,0.7,2l0,0.1c0.2,0.8,1,1.3,1.8,1.1c0.8-0.2,1.3-1,1.1-1.8\n\t\tc-0.2-0.9-0.5-1.8-0.9-2.6c-0.1-0.1-0.1-0.3-0.2-0.4c-0.1-0.2-0.2-0.4-0.3-0.5c-0.2-0.3-0.3-0.5-0.5-0.8c-2.1-3-5.4-5.1-9.2-6\n\t\tc-0.1,0-0.2-0.1-0.3-0.1l-0.2,0c-0.2,0-0.4-0.1-0.6-0.1c-1-0.2-2-0.3-3-0.3c-4.7,0-9,1.8-12,5.1c-2.2,2.4-3.4,5.3-3.4,8.3\n\t\tC0.3,20.6,2,24,5,26.5l-0.7,2.1c-0.3,0.9,0,1.9,0.7,2.6c0.4,0.4,1,0.6,1.6,0.6c0.4,0,0.7-0.1,1.1-0.3l3.7-1.9\n\t\tc1.7,0.4,3.4,0.6,5.1,0.5c0.8,0,1.5-0.7,1.4-1.6C17.9,27.9,17.2,27.2,16.4,27.3z" fill=""/> <path d="M23.3,13.3c0-1.4-1-2.4-2.4-2.4c-0.7,0-1.4,0.2-1.9,0.6c-0.6,0.5-0.9,1.1-0.9,1.8c0,1.5,1.5,2.4,2.8,2.4\n\t\tC22.3,15.7,23.3,14.7,23.3,13.3z" fill=""/> <path d="M8.6,13.3c0,1.5,1.5,2.4,2.8,2.4c1.4,0,2.4-1,2.4-2.4c0-1.4-1-2.4-2.4-2.4C10,10.9,8.6,11.8,8.6,13.3z" fill=""/> <path d="M34.8,19.3c-1.3-1.5-3.6-2.1-5.5-1.4c-2,0.7-3.1,2.2-3.1,4.4c0,1.9,0,3.6,0,5.3c0,1-0.4,1.6-1.2,1.9\n\t\tc-0.5,0.2-1.9,0.5-2.5-0.9c-0.2-0.5-0.3-0.9-0.1-1.2c0.2-0.4,0.6-0.8,1.3-1.1c0.4-0.2,1-0.4,1.2-0.9c0.1-0.3,0.1-0.6-0.1-1\n\t\tc-0.3-0.6-0.9-1.2-2.1-0.6c-1.9,0.8-3,2.1-3.1,3.4v0c0,2.9,1.9,5.1,4.6,5.2c0,0,0.1,0,0.1,0c2.4,0,4.7-2.1,4.9-4.3\n\t\tc0.1-1.3,0.1-2.7,0-4c0-0.6,0-1.3,0-1.9c0-1.1,0.5-1.7,1.6-1.9c1.1-0.1,1.8,0.2,2.2,1c0.3,0.8,0,1.4-1.1,2l-0.2,0.1\n\t\tc-0.2,0.1-0.4,0.2-0.5,0.3c-0.3,0.2-0.9,0.8-0.6,1.7c0.2,0.5,0.7,1,1.8,0.8c1.4-0.3,2.7-1.4,3.2-2.9C36,21.9,35.8,20.4,34.8,19.3z" fill=""/> </symbol>',"wechat_account_miniprogram")},"4UW6":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"close":"关闭","newStructuredMessage":"新建图文消息","Cancel":"取消","OK":"确定","fileSaveLabel":"文件保存成功！"},"en":{"close":"Close","newStructuredMessage":"New Structured Message","Cancel":"Cancel","OK":"OK","fileSaveLabel":"The file was saved."}}'),delete e.options._Ctor}},"4Wlx":function(e,t,s){"use strict";s.d(t,"l",(function(){return a})),s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return o})),s.d(t,"k",(function(){return l})),s.d(t,"j",(function(){return r})),s.d(t,"a",(function(){return c})),s.d(t,"m",(function(){return d})),s.d(t,"n",(function(){return h})),s.d(t,"i",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"g",(function(){return g})),s.d(t,"h",(function(){return f})),s.d(t,"f",(function(){return v}));var i=s("00Ee");async function a(e,t,s){try{e(await Object(i.a)({method:"FollowerRemoteActions.updateFollowerAlias",args:[t,s]}))}catch(e){}}async function n(e,t,s){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=await Object(i.a)({method:"TagRemoteActions.createTag",args:[t,s,a]});return e(n),n}async function o(e,t,s){return await Object(i.a)({method:"TagRemoteActions.assignTag",args:[e,t,s]})}async function l(e,t,s){return await Object(i.a)({method:"TagRemoteActions.unassignTag",args:[e,t,s]})}async function r(e,t){e((await Object(i.a)({method:"FollowerRemoteActions.syncFollowers",args:[t]})).ok)}async function c(e,t,s,a){try{return await Object(i.a)({method:"FollowerRemoteActions.addFollowersToCampaign",args:[e,t,s,a]})}catch(e){}}async function d(e,t,s){try{return await Object(i.a)({method:"FollowerRemoteActions.updateFollowerRelated",args:[e,t,s]})}catch(e){}}function h(e,t,s){return Object(i.a)({method:"FollowerRemoteActions.updateFollowerTags",args:[e,t,s]})}function u(e,t){return Object(i.a)({method:"FollowerRemoteActions.getOpportunities",args:[e,t]})}function p(e,t){return Object(i.a)({method:"FollowerRemoteActions.getCampaignMembers",args:[e,t]})}function m(e,t){return Object(i.a)({method:"FollowerRemoteActions.getCases",args:[e,t]})}function g(e,t){return Object(i.a)({method:"FollowerRemoteActions.getFollowerRelatedObjectCounts",args:[e,t]})}async function f(e){return Object(i.a)({method:"FollowerRemoteActions.getLead",args:[e]})}async function v(e){return Object(i.a)({method:"FollowerRemoteActions.getContact",args:[e]})}},"4fD3":function(e,t,s){},"4iiW":function(e,t,s){},"4l+G":function(e,t,s){},"4pMr":function(e,t,s){"use strict";var i=s("0yRZ"),a=s.n(i);t.default=a.a},"4rBI":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 140 105" id="placeholder_figure" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#F3F3F3;} .st1{fill:#FFFFFF;} </style> <title>Rectangle 2</title> <desc>Created with Sketch.</desc> <g id="placeholder_figure_Page-1"> <g id="placeholder_figure_Artboard-Copy-3" transform="translate(-322.000000, -504.000000)"> <path id="placeholder_figure_Rectangle-2" class="st0" d="M328,504h128c3.3,0,6,2.7,6,6v93c0,3.3-2.7,6-6,6H328c-3.3,0-6-2.7-6-6v-93\n\t\t\tC322,506.7,324.7,504,328,504z" fill=""/> </g> </g> <g> <path class="st1" d="M104.2,55.3c-1.7-2.9-5.4-3.8-8.2-2.1c-0.8,0.5-1.5,1.2-2.1,2L81.6,75.1L56.3,32.2c-1.7-2.9-5.4-3.8-8.2-2.1\n\t\tc-0.8,0.5-1.5,1.2-2.1,2L17.4,78.2c-1.7,2.8-0.9,6.5,1.9,8.3c0.9,0.6,2,0.9,3.2,0.9l89.9-0.2c3.3,0,6-2.7,6-6c0-1.1-0.3-2.1-0.8-3\n\t\tL104.2,55.3z" fill=""/> <path class="st1" d="M113.1,19.9c-6.2,0-11.2,5-11.2,11.2c0,6.2,5,11.2,11.2,11.2c6.2,0,11.2-5,11.2-11.2\n\t\tC124.3,24.9,119.3,19.9,113.1,19.9z" fill=""/> </g> </symbol>',"placeholder_figure")},"4rhz":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_number" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_number_XMLID_235_"> <path id="form_number_XMLID_279_" d="M21,5.7C21,4.2,19.8,3,18.3,3H3.7C2.2,3,1,4.2,1,5.7v10.6C1,17.8,2.2,19,3.7,19h14.6\r\n\t\tc1.5,0,2.7-1.2,2.7-2.7V5.7z M20,16.3c0,0.9-0.8,1.7-1.7,1.7H3.7C2.8,18,2,17.2,2,16.3V5.7C2,4.8,2.8,4,3.7,4h14.6\r\n\t\tC19.2,4,20,4.8,20,5.7V16.3z" fill=""/> <polygon id="form_number_XMLID_281_" points="4,8 4,9.3 5.5,8 6,8 6,14 7,14 7,7 5.6,7 \t"/> <path id="form_number_XMLID_282_" d="M10,13l1.6-1.7c0.8-0.8,1.3-1.5,1.3-2.3c0-1.2-0.9-2.1-2.4-2.1C9,6.9,8,7.9,8,9.2V9h1v0.2\r\n\t\tc0-0.7,0.6-1.1,1.3-1.1c0.6,0,1.1,0.4,1.1,1c0,0.5-0.2,0.9-0.9,1.6L8,13.2V14h5v-1L10,13L10,13z" fill=""/> <path id="form_number_XMLID_283_" d="M17,10.5L17,10.5c1-0.2,1.5-0.8,1.5-1.7c0-1.1-0.9-2-2.3-2c-1.5,0-2.4,1.1-2.5,2.1h1.3c0-1,0.5-1,1.1-1\r\n\t\tc0.7,0,1.1,0.4,1.1,1c0,0.6-0.4,1-1.1,1H15v1h1.2c0.8,0,1.2,0.5,1.2,1.1c0,0.6-0.5,1-1.2,1C15.5,13.1,15,13,15,12h-1.4\r\n\t\tc0.1,2,1.1,2.3,2.6,2.3c1.6,0,2.6-0.8,2.6-2.1C18.8,11.2,18,10.6,17,10.5z" fill=""/> </g> </symbol>',"form_number")},"4toV":function(e,t,s){},"4x3s":function(e,t,s){"use strict";var i=s("owmz"),a=s.n(i);t.default=a.a},"52sM":function(e,t,s){"use strict";var i=s("i71i"),a=s.n(i);t.default=a.a},"5Hwo":function(e,t,s){"use strict";var i=s("mlV6");s.n(i).a},"5JQ8":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 26 26" id="do_not_accept" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#c23934;} </style> <path id="do_not_accept_XMLID_249_" d="M13,1.2c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12c6.6,0,12-5.4,12-12C25,6.6,19.6,1.2,13,1.2z\r\n\t M21,13.2c0,1.5-0.4,2.9-1.1,4.1L8.9,6.3c1.2-0.7,2.6-1.1,4.1-1.1C17.4,5.2,21,8.8,21,13.2z M5,13.2c0-1.5,0.4-2.9,1.1-4.1L17,20.1\r\n\tc-1.2,0.7-2.6,1.1-4.1,1.1C8.6,21.2,5,17.6,5,13.2z" fill=""/> </symbol>',"do_not_accept")},"5NyU":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="new_window" ><path d="m48.7 2h-19.1c-0.8 0-1.6 0.5-1.6 1.3v3c0 0.8 0.7 1.7 1.6 1.7h7.9c0.9 0 1.4 1 0.7 1.6l-17 17c-0.6 0.6-0.6 1.5 0 2.1l2.1 2.1c0.6 0.6 1.5 0.6 2.1 0l17-17c0.6-0.6 1.6-0.2 1.6 0.7v7.9c0 0.8 0.8 1.7 1.6 1.7h2.9c0.8 0 1.5-0.9 1.5-1.7v-19c0-0.9-0.5-1.4-1.3-1.4z m-12.4 23.5l-3.4 3.5c-0.6 0.6-0.9 1.3-0.9 2.1v11.4c0 0.8-0.7 1.5-1.5 1.5h-21c-0.8 0-1.5-0.7-1.5-1.5v-21c0-0.8 0.7-1.5 1.5-1.5h11.5c0.8 0 1.6-0.3 2.1-0.9l3.4-3.4c0.6-0.6 0.2-1.7-0.7-1.7h-19.8c-2.2 0-4 1.8-4 4v28c0 2.2 1.8 4 4 4h28c2.2 0 4-1.8 4-4v-19.8c0-0.9-1.1-1.3-1.7-0.7z" fill=""/></symbol>',"new_window")},"5RF3":function(e,t,s){"use strict";var i=s("REAY"),a=s.n(i);t.default=a.a},"5SPU":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 55 55" id="live_chat_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Live Chat</title> <desc>Created with Sketch.</desc> <path d="M30,2.1c-0.1,0-4.4,0-4.7,0c-11.1,0-21.1,7.9-22,20.1c0,0.3,0.1-0.4,0,0C1.2,37,14.8,48.8,25.3,52.5\n\tc-0.3-2.8-1.6-6.4,2-6.4c0.1,0,2.3,0,2.8,0c12.2,0,21.6-9.9,22-22C52.4,12.2,42.8,2.5,30,2.1z M30,42.5c-0.4,0-3.4,0.1-4.1,0.2\n\tc-0.5,0.1-1.1,0.2-1.8,0.6c-0.5,0.3-1,0.7-1.3,1.1c-0.7,0.8-1,1.6-1.2,2.4C13.5,42.1,5.4,33.1,6.9,22.6c0-0.3,0,0,0,0\n\tc1-10.2,9.3-17,18.4-17c0.3,0,4.4,0,4.4,0C40.4,6,48.7,14,48.4,23.9C48.3,34.4,40,42.5,30,42.5z" fill=""/> <path d="M17.5,21.1c-1.7,0-3.1,1.4-3.1,3.2c0,1.7,1.4,3.2,3.1,3.2s3.1-1.4,3.1-3.2S19.2,21.1,17.5,21.1z" fill=""/> <path d="M27.3,21.1c-1.7,0-3.1,1.4-3.1,3.2c0,1.7,1.4,3.2,3.1,3.2s3.1-1.4,3.1-3.2S29,21.1,27.3,21.1z" fill=""/> <path d="M37.2,21.1c-1.7,0-3.1,1.4-3.1,3.2c0,1.7,1.4,3.2,3.1,3.2c1.7,0,3.1-1.4,3.1-3.2S38.9,21.1,37.2,21.1z" fill=""/> </symbol>',"live_chat_icon")},"5XP1":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},"5Z0+":function(e,t,s){},"5eV/":function(e,t,s){},"5jxK":function(e,t,s){},"5kNm":function(e,t,s){"use strict";var i=s("SLhn"),a=s.n(i),n=s("rZkV"),o=s.n(n),l=s("UX+f"),r=s("w2Vt"),c={components:{CktLink:l.a},props:{campaigns:{type:Array,default:()=>[]},currentUser:{type:Object,default:()=>({})}}},d=(s("IEyd"),s("KHd+")),h=s("twFZ"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.campaigns,(function(t){return s("dl",{key:t.Id,staticClass:"slds-dl_horizontal related-item"},[s("dt",{staticClass:"slds-dl_horizontal__label dl-label"},[s("ckt-link",{attrs:{href:"/"+t.Campaign.Id,label:t.Campaign.Name,"is-console-tab-active":!0,"console-primary-tab-name":t.Campaign.Id}})],1),e._v(" "),s("dd",{}),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("typeLabel")}},[e._v(e._s(e.$t("typeLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Campaign.Type))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("statusLabel")}},[e._v(e._s(e.$t("statusLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Campaign.Status))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("startDateLabel")}},[e._v(e._s(e.$t("startDateLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDateFilter")(t.Campaign.StartDate,e.currentUser.TimeZoneSidKey)))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("endDateLabel")}},[e._v(e._s(e.$t("endDateLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDateFilter")(t.Campaign.EndDate,e.currentUser.TimeZoneSidKey)))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("respondLabel")}},[e._v(e._s(e.$t("respondLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.HasResponded,expression:"campaign.HasResponded"}],attrs:{type:"checkbox",disabled:"true"},domProps:{checked:Array.isArray(t.HasResponded)?e._i(t.HasResponded,null)>-1:t.HasResponded},on:{change:function(s){var i=t.HasResponded,a=s.target,n=!!a.checked;if(Array.isArray(i)){var o=e._i(i,null);a.checked?o<0&&e.$set(t,"HasResponded",i.concat([null])):o>-1&&e.$set(t,"HasResponded",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t,"HasResponded",n)}}})]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("memberStatusLabel")}},[e._v(e._s(e.$t("memberStatusLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDatetimeFilter")(t.LastModifiedDate,e.currentUser.TimeZoneSidKey)))])])})),0)}),[],!1,null,"7429fb5c",null);"function"==typeof h.default&&Object(h.default)(u);var p=u.exports,m={components:{CktLink:l.a},props:{cases:{type:Array,default:()=>[]},currentUser:{type:Object,default:()=>({})}}},g=(s("gOnx"),s("4PFF")),f=Object(d.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.cases,(function(t){return s("dl",{key:t.Id,staticClass:"slds-dl_horizontal related-item"},[s("dt",{staticClass:"slds-dl_horizontal__label dl-label"},[s("ckt-link",{attrs:{href:"/"+t.Id,label:t.CaseNumber,"is-console-tab-active":!0,"console-primary-tab-name":t.Id}})],1),e._v(" "),s("dd",{}),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("subjectLabel")}},[e._v(e._s(e.$t("subjectLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Subject))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("ownerLabel")}},[e._v(e._s(e.$t("ownerLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Owner.Name))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("statusLabel")}},[e._v(e._s(e.$t("statusLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Status))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("timeOpenLabel")}},[e._v(e._s(e.$t("timeOpenLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDatetimeFilter")(t.CreatedDate,e.currentUser.TimeZoneSidKey)))])])})),0)}),[],!1,null,"26862c23",null);"function"==typeof g.default&&Object(g.default)(f);var v=f.exports,_={components:{CktLink:l.a},props:{opportunities:{type:Array,default:()=>[]},currentUser:{type:Object,default:()=>({})}}},C=(s("v4Qw"),s("EVdn")),b=Object(d.a)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.opportunities,(function(t){return s("dl",{key:t.Id,staticClass:"slds-dl_horizontal related-item"},[s("dt",{staticClass:"slds-dl_horizontal__label dl-label"},[s("ckt-link",{attrs:{href:"/"+t.Id,label:t.Name,"is-console-tab-active":!0,"console-primary-tab-name":t.Id}})],1),e._v(" "),s("dd",{}),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("ownerLabel")}},[e._v(e._s(e.$t("ownerLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.Owner.Name))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("accountNameLabel")}},[e._v(e._s(e.$t("accountNameLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[t.Account?[s("ckt-link",{attrs:{href:"/"+t.Account.Id,label:t.Account.Name,"is-console-tab-active":!0,"console-primary-tab-name":t.Account.Id}})]:e._e()],2),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("stageLabel")}},[e._v(e._s(e.$t("stageLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(t.StageName))]),e._v(" "),s("dt",{staticClass:"slds-dl_horizontal__label",attrs:{title:e.$t("closeDateLabel")}},[e._v(e._s(e.$t("closeDateLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDateFilter")(t.CloseDate,e.currentUser.TimeZoneSidKey)))])])})),0)}),[],!1,null,"760a3781",null);"function"==typeof C.default&&Object(C.default)(b);var w=b.exports,y=s("OB6B"),T=s("4Wlx"),L=s("4B+h"),I=s("LQ5e"),k=s.n(I),S={components:{CktLink:l.a,LoadingSpinner:r.a,CampaignList:p,CaseList:v,OpportunityList:w},computed:{pageInfo(){return this.pageUsedMap[this.type]}},props:{leadOrContact:{type:Object,default:()=>({})},currentUser:{type:Object,default:()=>({})},isInCard:{type:Boolean,default:!1},type:{type:String,default:"Campaign"},limit:{type:Number,default:9}},watch:{type(){this.clearData(),this.initData()}},mounted(){this.$root.$on("refresh-tab",this.initData),this.initData()},data(){return{pageUsedMap:{campaign:{requestMethod:T.d,iconName:"campaign",iconClass:"slds-icon-standard-campaign",title:this.$tc("global.campaignName",2),rlName:"CampaignMembers"},opportunity:{requestMethod:T.i,iconName:"opportunity",iconClass:"slds-icon-standard-opportunity",title:this.$tc("opportunityLabel",2),rlName:"Opportunities"},case:{requestMethod:T.e,iconName:"caseIcon",iconClass:"slds-icon-standard-case",title:this.$tc("caseLabel",2),rlName:"Cases"}},count:0,listData:[],isLoading:!1,viewAllButtonVisible:!1}},methods:{async initData(){this.leadOrContact;const e=this.leadOrContact.Id;if(!e)return;this.isLoading=!0;const t=this.pageInfo.requestMethod;try{const s=await t(e,this.limit+1);if(s.ok){const e=JSON.parse(k.a.unescape(s.data));this.viewAllButtonVisible=e.length>this.limit,this.$emit("data-loaded",e.length),this.count=this.viewAllButtonVisible?"".concat(this.limit,"+"):e.length,this.listData=o()(e).call(e,0,this.limit)}else Object(L.f)(s)}catch(e){Object(L.f)(e)}this.isLoading=!1},viewAll(){const e=this.pageInfo.rlName;let t;var s,i;this.isLightningPage?t=a()(s=a()(i="".concat(window.location.origin,"/lightning/r/")).call(i,this.leadOrContact.Id,"/related/")).call(s,e,"/view"):t="/".concat(this.leadOrContact.Id);if(this.isInClassicConsole){let e="Contact"===this.leadOrContact.Type?"Contact: ".concat(this.leadOrContact.Name):"Lead: ".concat(this.leadOrContact.Name);y.a.openTab({url:t,tabLabel:e,callback:e=>{e.success||y.a.focusTabByName(this.leadOrContact.Id)},name:this.leadOrContact.Id})}else window.open(t)},clearData(){this.listData=[]}},beforeDestroy(){this.$root.$off("refresh-tab",this.initData)}},M=(s("ujln"),s("Riyu")),A=Object(d.a)(S,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follower-item slds-text-body_regular"},[e.isInCard?e._e():s("loading-spinner",{attrs:{size:"medium","is-loading":e.isLoading,"custom-style":"position: absolute; left: 0; top: 0; right: 0; bottom: 0;"}}),e._v(" "),!e.isLoading||e.isInCard?s("div",{staticClass:"slds-grid slds-grid_align-spread follower-item-header",class:{"slds-m-bottom_small":!e.isLoading&&e.listData.length>0}},[s("span",{staticClass:"slds-grid"},[s("loading-spinner",{attrs:{size:"x-small","is-loading":e.isLoading,"custom-style":"position: relative;width: 24px;height: 24px;"}}),e._v(" "),e.isLoading?e._e():s("span",{staticClass:"slds-icon_container",class:e.pageInfo.iconClass},[s("icon",{attrs:{name:e.pageInfo.iconName,size:"small"}})],1),e._v(" "),s("h1",{staticClass:"slds-m-left_small slds-card__header-link slds-card__header-title slds-grid slds-grid_vertical-align-center secondary-title"},[e._v("\n        "+e._s(e.pageInfo.title)+" "),e.isLoading?e._e():s("span",[e._v("("+e._s(e.count)+")")])])],1)]):e._e(),e._v(" "),e.isLoading||0!==e.listData.length||e.isInCard?e._e():s("div",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center no-record-content"},[s("span",[e._v(e._s(e.$t("global.noRecords")))])]),e._v(" "),e.isLoading?e._e():["campaign"===e.type?s("campaign-list",{attrs:{campaigns:e.listData,"current-user":e.currentUser}}):e._e(),e._v(" "),"opportunity"===e.type?s("opportunity-list",{attrs:{opportunities:e.listData,"current-user":e.currentUser}}):e._e(),e._v(" "),"case"===e.type?s("case-list",{attrs:{cases:e.listData,"current-user":e.currentUser}}):e._e(),e._v(" "),e.viewAllButtonVisible?s("section",{staticClass:"view-all-container",on:{click:e.viewAll}},[s("ckt-link",{attrs:{href:"javascript: void(0);",label:e.$t("viewAllLabel"),"is-console-tab-active":!0,"console-primary-tab-name":e.leadOrContact.Id}})],1):e._e()]],2)}),[],!1,null,"0cdaed34",null);"function"==typeof M.default&&Object(M.default)(A);t.a=A.exports},"5nLN":function(e,t,s){"use strict";var i=s("WCBH");s.n(i).a},"5wGD":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="quick_reply" xmlns:xlink="http://www.w3.org/1999/xlink"> <desc>Created with Sketch.</desc> <path d="M11,0C11,0,10.9,0,11,0c-0.2,0-0.4,0-0.5,0c-0.2,0-0.4,0-0.6,0C9.7,0,9.6,0,9.4,0C9.3,0,9.2,0,9.1,0\n\tC4.5,0,0.8,3.3,0.2,7.5c0,0.1-0.1,0.3-0.1,0.4c-0.9,5.9,4.7,10.6,9,12c0.1-1.4-0.7-2.5,0.8-2.5c0,0,0.1,0,0.1,0l0,0\n\tc0.2,0,0.3,0,0.5,0c0.2,0,0.4,0,0.5,0c5,0,8.8-3.9,9-8.7C20.1,4,16.2,0.2,11,0z M14.3,8.4L8.9,15c-0.1,0.1-0.2,0.1-0.3,0.1\n\tc-0.2,0-0.3-0.2-0.3-0.3L9,9.9H6.2c0,0-0.1,0-0.1,0C6,9.8,6,9.7,6,9.6L11.5,3c0.1-0.1,0.2-0.1,0.3-0.1C11.9,2.9,12,3,12,3.2\n\tl-0.6,4.9h2.8c0,0,0.1,0,0.1,0C14.4,8.2,14.4,8.3,14.3,8.4z" fill=""/> </symbol>',"quick_reply")},"692z":function(e,t,s){"use strict";var i={props:{customStyle:{type:String,default:""}}},a=(s("oDwF"),s("KHd+")),n=s("t/6k"),o=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"no-record-section",style:this.customStyle},[t("span",[this._v(this._s(this.$t("noRecords")))])])}),[],!1,null,"bd5e5c0e",null);"function"==typeof n.default&&Object(n.default)(o);t.a=o.exports},"6JFi":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"filterLabel":"依照标签过滤","searchLabel":"搜索标签","createLabel":"新建标签","noTagLabel":"无标签","nameLabel":"名称","successLabel":"标签已创建。","okButton":"确认"},"en":{"filterLabel":"Filter by tag","searchLabel":"Search Tags","createLabel":"New Tag","noTagLabel":"No Tag","nameLabel":"Name","successLabel":"The tag was created.","okButton":"OK"}}'),delete e.options._Ctor}},"6SjL":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 14 15" id="reply_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <desc>Created with Sketch.</desc> <path d="M6.4,4.1V1c0-0.1,0-0.3-0.1-0.4C6,0.5,5.7,0.5,5.5,0.6L0.6,6.1C0.5,6.2,0.5,6.4,0.5,6.5s0,0.3,0.1,0.4l4.8,5.4\n\tc0.1,0.1,0.2,0.2,0.4,0.2c0.1,0,0.2,0,0.3-0.1c0.1-0.1,0.1-0.2,0.1-0.4V9c3.2,0,6.1,2.3,6.7,5.5c0.4-0.9,0.6-1.9,0.6-3\n\tC13.7,7.4,10.4,4.1,6.4,4.1z" fill=""/> </symbol>',"reply_icon")},"6aOF":function(e,t,s){},"6g5z":function(e,t,s){"use strict";var i=s("W5f9"),a=s.n(i);t.default=a.a},"6mw6":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 30 30" id="wechat_account_subscription" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <g id="wechat_account_subscription_XMLID_425_"> <path d="M21.6,20.4c-0.2-0.4-0.9-0.4-1.2,0c-0.4,0.4-0.4,0.9,0,1.2l1.7,1.7c0.4,0.2,0.9,0.2,1.2-0.2l2.8-2.8\n      c0.4-0.4,0.4-0.9,0-1.2c-0.4-0.4-0.9-0.4-1.2,0l-2.3,2.3L21.6,20.4z" fill=""/> </g> <g id="wechat_account_subscription_XMLID_421_"> <path d="M4.4,27.6c-0.7-0.6-1-1.5-0.7-2.4l0.7-2C1.6,20.9,0,17.7,0,14.3c0-2.8,1.1-5.5,3.1-7.7c2.7-3,6.7-4.7,11.1-4.7\n      c1.4,0,3.7,0.4,3.8,0.5c3.6,0.8,6.6,2.8,8.5,5.5c0,0,1.4,2,1.8,4.1c0.2,0.8-0.3,1.5-1.1,1.6c-0.7,0.2-1.5-0.3-1.6-1.1\n      c-0.3-1.3-1.2-2.7-1.4-3c-1.5-2.2-4-3.8-6.9-4.5c-0.3-0.1-2.2-0.4-3.2-0.4c-3.5,0-6.8,1.4-9,3.8c-1.6,1.7-2.4,3.7-2.4,5.8\n      c0,2.8,1.5,5.4,4,7.3l0.8,0.6l-0.9,2.6l3.2-1.6l0.7,0.2c1.2,0.5,3.2,0.5,4.2,0.5c0.8,0,1.4,0.6,1.4,1.3c0,0.8-0.6,1.4-1.3,1.4\n      c-0.5,0-2.9,0.1-4.8-0.5c0,0-2.3,1.2-3.2,1.7C6.4,27.9,5.3,28.3,4.4,27.6z" fill=""/> </g> <g id="wechat_account_subscription_XMLID_423_"> <path d="M19.1,13.2c-1.2,0-2.6-0.9-2.6-2.2c0-0.6,0.3-1.2,0.8-1.6c0.5-0.4,1.1-0.6,1.8-0.6c1.3,0,2.2,0.9,2.2,2.2\n      S20.4,13.2,19.1,13.2L19.1,13.2z" fill=""/> </g> <g id="wechat_account_subscription_XMLID_422_"> <path d="M10.3,13.2c-1.3,0-2.6-0.9-2.6-2.2c0-1.4,1.4-2.2,2.6-2.2c1.3,0,2.2,0.9,2.2,2.2S11.6,13.2,10.3,13.2L10.3,13.2z" fill=""/> </g> <g id="wechat_account_subscription_XMLID_420_"> <path d="M23.1,27.6c-3.8,0-6.9-3.1-6.9-6.9s3.1-6.9,6.9-6.9s6.9,3.1,6.9,6.9S26.9,27.6,23.1,27.6z M23.1,16.5\n      c-2.3,0-4.1,1.9-4.1,4.1s1.9,4.1,4.1,4.1s4.1-1.9,4.1-4.1S25.4,16.5,23.1,16.5z" fill=""/> </g> </g> </symbol>',"wechat_account_subscription")},"77eL":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 30 30" id="wechat_account_service" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="wechat_account_service_XMLID_433_"> <path id="wechat_account_service_XMLID_1_" d="M17,4c-0.1,0-0.3-0.1-0.4-0.1c-0.8-0.1-1.6-0.2-2.3-0.2c-3.6,0-6.8,1.4-9,3.8c-1.6,1.7-2.4,3.7-2.4,5.8\n    c0,2.8,1.5,5.5,4,7.3l0.8,0.6l-0.9,2.6l3.2-1.6l0.5,0.1c1.5,0.4,3,0.6,4.4,0.5c0.8,0,1.4,0.6,1.4,1.3c0,0.8-0.6,1.4-1.3,1.4\n    c-1.6,0.1-3.2-0.1-4.7-0.5l-3.4,1.7c-0.3,0.2-0.7,0.2-1,0.2c-0.5,0-1.1-0.2-1.5-0.5c-0.7-0.6-0.9-1.5-0.7-2.4l0.7-2\n    C1.6,19.9,0,16.7,0,13.4c0-2.8,1.1-5.5,3.1-7.7C5.8,2.7,9.9,1,14.2,1C15.1,1,16.1,1,17,1.2c0.2,0,0.3,0.1,0.5,0.1l0.1,0\n    c0.2,0,0.3,0.1,0.4,0.1c3.6,0.8,6.6,2.8,8.5,5.5c0.2,0.3,0.3,0.5,0.5,0.8c0.1,0.2,0.2,0.3,0.3,0.5c0.1,0.2,0.1,0.3,0.2,0.4\n    c0.4,0.8,0.7,1.6,0.9,2.4c0.2,0.7-0.3,1.5-1,1.7c-0.7,0.2-1.5-0.3-1.7-1l0-0.1c-0.1-0.6-0.4-1.2-0.7-1.8c0-0.1-0.1-0.2-0.1-0.3\n    c-0.1-0.2-0.2-0.3-0.2-0.4c-0.1-0.2-0.2-0.4-0.4-0.6l0,0c-1.5-2.2-4-3.8-6.9-4.4l-0.3-0.1" fill=""/> </g> <g id="wechat_account_service_XMLID_432_"> <path id="wechat_account_service_XMLID_9_" d="M19.1,12.2c-1.2,0-2.6-0.9-2.6-2.2c0-0.6,0.3-1.2,0.8-1.6c0.5-0.4,1.1-0.6,1.8-0.6c1.3,0,2.2,0.9,2.2,2.2\n    C21.4,11.3,20.4,12.2,19.1,12.2L19.1,12.2z" fill=""/> </g> <g id="wechat_account_service_XMLID_431_"> <path id="wechat_account_service_XMLID_8_" d="M10.3,12.2c-1.3,0-2.6-0.9-2.6-2.2c0-1.4,1.4-2.2,2.6-2.2c1.3,0,2.2,0.9,2.2,2.2\n    C12.5,11.3,11.6,12.2,10.3,12.2L10.3,12.2z" fill=""/> </g> <g id="wechat_account_service_XMLID_424_"> <path id="wechat_account_service_XMLID_5_" d="M23.9,22.6c-2.6,0-4.7-2.1-4.7-4.7s2.1-4.7,4.7-4.7s4.7,2.1,4.7,4.7S26.5,22.6,23.9,22.6z M23.9,15.9\n    c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C25.9,16.7,25,15.9,23.9,15.9z" fill=""/> </g> <g id="wechat_account_service_XMLID_419_"> <path id="wechat_account_service_XMLID_2_" d="M28,27.3h-7.9c-0.7,0-1.3-0.3-1.7-0.8c-0.4-0.5-0.6-1.1-0.5-1.8c0.5-2.9,3.1-5,6-5c3,0,5.6,2.2,6,5.1\n    c0.1,0.6-0.1,1.2-0.5,1.6C29.1,27,28.6,27.3,28,27.3z M20.9,24.5H27c-0.5-1.2-1.7-1.9-3-1.9C22.6,22.6,21.4,23.4,20.9,24.5z" fill=""/> </g> </symbol>',"wechat_account_service")},"7Cta":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAIAAACxN37FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2YmZkOWYwZi1lYTI3LTRhMGMtYTZkNi1kZjZjZDM1ZTA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUEwNDA4N0ExQjYxMTFFN0IwMjBGNzE5QjIzQjA4NjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUEwNDA4NzkxQjYxMTFFN0IwMjBGNzE5QjIzQjA4NjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NmJmZDlmMGYtZWEyNy00YTBjLWE2ZDYtZGY2Y2QzNWUwNjU5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZiZmQ5ZjBmLWVhMjctNGEwYy1hNmQ2LWRmNmNkMzVlMDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqVb5KUAAAbPSURBVHja7N1pcxJpFIBRISELDSLR//8HNYskkAWi3uFO9SCDDTSR0Mk5HyzLbF3w5PX2QtO6v7//AG9F20OAoEHQIGgQNIIGQYOgQdAgaAQNggZBg6BB0AgaBA2CBkGDoBE0CBoEDYIGQSNoEDQIGgQNgkbQIGgQNAgaBI2gQdAgaBA0ggZBg6BB0CBoBA2CBkGDoEHQCBoEDYIGQYOgETQIGgQNggZBI2gQNAgaBA2CRtAgaBA0CBoEjaBB0CBoEDQIGkGDoEHQIGgEDYIGQYOgQdAIGgQNggZBwzrHHoJN/Pz583FuOp0+Pz//+PFjT+tNu310dNTpdE7nWq2W56Ja6/7+3qNQIfIdj8eTySSafuWnqtXqdrtFUUTinhdB13E39+opL2Xdm/PsCHq7hfn6+joGjMPcvBhChsOhpdpO4UZms9nl5eXB1hxi22ILYzs9WYJevzZfXV3Fn7ZT0G9BTBpNqSTnIk+ZoKv2Ag950lg5e8Q2e+IEvXrBa2Icsc0GD0GvMB6PD+oI3YZim2PLPX2CXs5iMpk0dOMP4bzPgXDq+1+Pj4+v0kSn0zk7O4s/P8wPFz48PDw9PdX4bYztj+/jeRT0f0Hv+Se2Wq3BYHB+fl7+y+npaVEUsSU3NzfbXi4iaCPH8uGCPf/E4XC4WPNi1hcXF9teh9SsgzOC/uv2fKAgVuIIt2IO6ff7h7z9gj50e7siNK29uqjb7W61SO95+wXNbwtwu91eO2FXLOEI+pAe9Hb7BT8NQTdjvDFFCLoZZrPZJse8HbgQdDNEzWtfV/Hw8ODAhaAb4/b2tqLXGDZGo5FHSdBNGqP/9JITV+7vwqnvVxPJfv36tSiKs7Oz4+PjVquV13I09KI/QfOP8ZzHQdCvr9PpnJycxMo6nU73f20Tgn4xR0dHg8Fg8UxezA+xn+eeEHYKG7kwf/nyZem8dCT+6dOn4XDobl2CbtT/aMfHFxcXeVI6X/v0/fv32JPLj8buXbTu/i9GjsbU/Pnz56x5NptdX1/ncbfJZBILdqzQ8aH4nGj66upq9/N8eehjn/eGFPT7mpsXa146VBw7hZeXlzFyRIXxOfGZsXLXHql7vV5RFOXFSU9PT6PRyJlwI8eeak7x79++fcvDHbGyxoJd45aK8YWxwPf7/cVL7U5OTuKne4WVoF+y5pyMq0/jxVQdHy2PK0eXkfVWNceAni+YjW8Vo/nd3V0s8/H3+FAs/91u19Nh5Ni15oisrDnmirUnpWM8iNV6MBjE38/Pz+NrY9reZA6O+mMxXhrQcxui5gg9vmes3G6VZIWu++i021FzjMWb15xiNzGW6ow4Go0pIr9JhY8fP+ZQEV8VX7t4mUf+6Jyh+3OeGkHXqTkmjQwxI9vqgqHcTcwvyaGl4iVVxVw5tPz/B8W/x3fLW3bEaJ7LP4KuWXO9mzHnbmJWmIv9yiE4FuZYnsua/3Q0Iz+aO53xfbaazgX9ruXO2Y41p1zay+N3sbJmu4tHMMo0b25uqm+blE3neZyYzmOw9mQJen3NsTaXhxqWxtka4ptEqeWeXIwW5Rny+J0p/754xrFa7C/mZ8bSXuOWNIJ+d2tzWfMLvjHF7e1tJFvOGPk7EzXn8ebRaLTVrSKj6Vz1691mSdDvqOY8cFY9ztaThz7y4v28wimnmnqXRMeqn78DedrFPQ8Evaw8DBzNxRJY4y6gmxz6iN3ExYMYsdDWfvlgLPnZdPx6RNOewQ/e1q0UU2keBs6Rd8NxtvYhlBxsou9Ys3f8brGXmYf8EHTVLtffHm96vd5Lvatnv9/3VpyCXj2YNvQBiaCdQTRDL4+kzf31doGHoFfvYCHot0DNggZBg6D38UA0/EybM4WC/k3T7z3g3gmC/k1ekGT7Bf1GNP0derzDkKCXg2juRZjeMkvQK5po7k0Ctn1TQ0G/C0VRNDGL2GZX2wl69YGCJl6zFtvsEIeg/xhHsw4XxNa6cFTQVYbDYVMWvLyjkqdM0GsqKe/9ZTsF/RbkfaAPefbIFxGuvb3YO+QVK1Xu5g7qTdbytVvmZkHX9Pz8PB6PJ5PJq2edR8qLojBmCHpXUfPj3HQ63ed7RLTb7cg3BozTOWdPBI2dQhA0CBoEDYJG0CBoEDQIGgSNoEHQIGgQNAgaQYOgQdAgaBA0ggZBg6BB0AgaBA2CBkGDoBE0CBoEDYIGQSNoEDQIGgQNgkbQIGgQNAgaBI2gQdAgaBA0CBpBg6BB0CBoEDSCBkGDoEHQIGgEDYIGQYOgETQIGgQNggZBI2gQNAgaBA2CRtAgaBA0CBoEjaBB0CBoEDQIGkGDoEHQsLtfAgwAYcU9gUx8PdMAAAAASUVORK5CYII="},"7DWr":function(e,t,s){"use strict";var i=s("nLMK"),a=s.n(i);t.default=a.a},"7Xy1":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 46 46" id="qrcode" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .qrcode-icon {fill: #fff;} </style> <g> <path class="qrcode-icon" d="M4.6,0H1.5C0.7,0.3,0.2,0.8,0,1.6v3.1h4.6C4.7,3.3,4.6,1.6,4.6,0z" fill=""/> </g> <g> <path class="qrcode-icon" d="M11.3,38c2.8-0.5,2.7-4.9,0-5.3C7,32,6.9,38.8,11.3,38z" fill=""/> </g> <g> <path class="qrcode-icon" d="M35.7,13.3c1.3-0.1,2.1-0.9,2.3-1.9c1-3.6-4.1-4.7-5.2-1.8C32.1,11.6,33.7,13.5,35.7,13.3z" fill=""/> </g> <g> <path class="qrcode-icon" d="M40.3,24.8h-9.8c-1.2,0-3.8-0.3-4.8,0.1c-1.5,0.6-1.1,3.3-1.1,5.5v10.1c0,2.1-0.5,5.4,1.4,5.6h18.4\nc0.7-0.2,1.2-0.7,1.4-1.4V26.2C45.7,24.2,42.6,24.8,40.3,24.8z M42,41.9c0,0.1,0,0.2-0.1,0.2H28.7V28.7H42V41.9z" fill=""/> </g> <g> <path class="qrcode-icon" d="M13.2,0H8.8v4.8h4.4C13.3,3.3,13.2,1.6,13.2,0z" fill=""/> </g> <g> <path class="qrcode-icon" d="M21.3,30.7c0-2.2,0.5-5.4-1.2-5.9c-1.2-0.4-3.3-0.1-4.7-0.1H5.9c-1.4,0-3.4-0.3-4.6,0.1\n  C0.6,25,0.2,25.7,0,26.4v17.9c0.2,0.9,0.7,1.4,1.4,1.6h18.4c2-0.4,1.4-3.4,1.4-5.9V30.7z M17.3,41.9L17.3,41.9c0,0.1,0,0.2-0.1,0.2\n  H4V28.7h13.3V41.9z" fill=""/> </g> <g> <path class="qrcode-icon" d="M44.5,0H26.3c-2.1,0.2-1.5,3.3-1.5,5.7v9.7c0,2.2-0.5,5.3,1.2,5.8c1.3,0.4,3.3,0.1,4.7,0.1h9.5\n  c1.4,0,3.4,0.3,4.6-0.1c0.6-0.2,1.1-0.8,1.2-1.3V1.5C45.8,0.7,45.3,0.2,44.5,0z M42,17.1c0,0.1,0,0.2-0.1,0.2H28.7V4H42V17.1z" fill=""/> </g> <g> <path class="qrcode-icon" d="M36,38c2.6-0.5,2.7-4,0.7-5.1c-1.8-0.9-4.1,0.3-4,2.5C32.7,37.1,34.1,38.4,36,38z" fill=""/> </g> <g> <path class="qrcode-icon" d="M21.3,5.9c0-2.4,0.6-5.5-1.5-5.9h-2.4c0,4,0.1,8.1-0.1,12c-1.3,0-2.8,0.1-4.1-0.1v-3H0.1\n  c0,1.8,0.1,3.8-0.1,5.6v5.1c0.1,1.7,2,1.8,4,1.6c0.1-2.6,0-5.4,0.1-8.1h4.1v8.1h9c1.8,0,3.7,0.2,4.1-1.2c0.4-1.1,0.1-3.3,0.1-4.7\n  V5.9z" fill=""/> </g> </symbol>',"qrcode")},"7aFC":function(e,t,s){"use strict";s.d(t,"b",(function(){return v})),s.d(t,"f",(function(){return _})),s.d(t,"c",(function(){return C})),s.d(t,"a",(function(){return b})),s.d(t,"d",(function(){return w})),s.d(t,"e",(function(){return y}));var i=s("SLhn"),a=s.n(i),n=s("WE60"),o=s.n(n),l=s("sI2A"),r=s.n(l),c=s("+Bun"),d=s.n(c),h=s("3O4B"),u=s.n(h),p=s("oG9Y"),m=s.n(p),g=s("4LGG"),f=s.n(g);const v=function(e){let t="";if(e&&"string"==typeof e){const s=e.split(" ");t=f()(s).call(s,e=>{if(""===e)return"";const t=m()(e);return u()(t).call(t,0,1,e.charAt(0).toUpperCase()),t.join("")}).join(" ")}return t},_=function(e){return e&&"string"==typeof e?e.toLowerCase():""},C=function(e){const t=s("GHCX");return e?"string"==typeof e&&(d()(e).call(e,"?file=undefined")>-1||d()(e).call(e,"?file=null")>-1)?t:e:t},b=function(e){const t=(e||0).toString(),s=t.split("."),i=s[0],a=s[1]?"."+s[1]:"";return r()(i)>0?i.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+a:t},w=e=>{if(!e)return"";const t=e.split(""),s=/^[A-Za-z]*$/;if(s.test(t[0])){const e=o()(t).call(t,e=>" "===e);var i;if(e>0&&s.test(t[e+1]))return a()(i="".concat(t[0].toUpperCase())).call(i,t[e+1].toUpperCase())}return t[0].toUpperCase()},y=e=>e?e.HasMore?"3+":e.Count?"".concat(e.Count):"0":"0"},"7gPf":function(e,t,s){},"7iCX":function(e,t,s){"use strict";var i=s("wG3i"),a=s.n(i),n=s("R9hF"),o=s.n(n),l=s("q4g7"),r=s.n(l),c=s("4LGG"),d=s.n(c),h=s("dUVM"),u=s.n(h),p=s("0G99"),m=s.n(p),g=s("ejTr"),f=s.n(g),v=s("WE60"),_=s.n(v),C=s("kZKX");const b=new(s.n(C).a),w=e=>{const t=e.split("",e.length),s=_()(t).call(t,e=>!/[A-Z]/.test(e));if(-1===s){const t=e.toLowerCase();return b.set(t,e),t}if(0===s)return e;if(1===s)return e.substring(0,1).toLowerCase()+e.substring(1);{const t=e.substring(0,s-1).toLowerCase()+e.substring(s-1);return b.set(t,e),t}},y=e=>b.get(e)||e.substring(0,1).toUpperCase()+e.substring(1),T=(e,t,s)=>{if(!e||"string"==typeof e)return e;const i={},a=f()(e);return m()(a).call(a,a=>{const n=e[a],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return e;if("camel"===t.toLowerCase())return w(e);if("pascal"===t.toLowerCase())return y(e);throw new Error("Invalid style. (".concat(t,")"))}(a,t);u()(s).call(s,o)?i[o]=n:"[object Array]"===toString.apply(n)?i[o]=d()(n).call(n,e=>T(e,t,s)):"[object Object]"===toString.apply(n)?i[o]=T(n,t,s):i[o]=n}),i},L=(e,t)=>T(e,"Camel",t),I=(e,t)=>T(e,"Pascal",t),k=r()("EXCEPT_KEYS");t.a=class{constructor(e,t){this[k]=t||[],o()(this,L(e,this[k]))}toPascalData(){return I(this,this[k])}getData(){return JSON.parse(a()(this))}}},"7uru":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_email" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_email_XMLID_1_"> <g id="form_email_XMLID_59_"> <g id="form_email_XMLID_84_"> <path id="form_email_XMLID_122_" d="M18.3,4C19.2,4,20,4.8,20,5.7v10.6c0,0.9-0.8,1.7-1.7,1.7H3.7C2.8,18,2,17.2,2,16.3V5.7\r\n\t\t\t\tC2,4.8,2.8,4,3.7,4H18.3 M18.3,3H3.7C2.2,3,1,4.2,1,5.7v10.6C1,17.8,2.2,19,3.7,19h14.6c1.5,0,2.7-1.2,2.7-2.7V5.7\r\n\t\t\t\tC21,4.2,19.8,3,18.3,3L18.3,3z" fill=""/> </g> </g> <g id="form_email_XMLID_52_"> <g id="form_email_XMLID_53_"> <path id="form_email_XMLID_117_" d="M14.7,10.8c0,1.4-0.7,2.3-1.8,2.3c-0.6,0-1-0.2-1.2-0.7h-0.1c-0.2,0.4-0.5,0.7-1,0.7\r\n\t\t\t\tc-0.9,0-1.5-0.7-1.5-1.9c0-1.1,0.6-1.8,1.5-1.8c0.5,0,0.9,0.2,1,0.6h0.1V9.5h1.1v2.2c0,0.3,0.1,0.5,0.3,0.5\r\n\t\t\t\tc0.3,0,0.6-0.5,0.6-1.2c0-1.6-1-2.6-2.6-2.6c-1.7,0-2.9,1.2-2.9,2.9c0,1.7,1.2,2.8,3.1,2.8c0.4,0,0.7,0,0.9-0.1\r\n\t\t\t\tc0,0,0.3,0.1,0.3,0.4s-0.3,0.5-0.3,0.5c-0.3,0.1-0.7,0.1-1.1,0.1c-2.4,0-4-1.5-4-3.7c0-2.2,1.6-3.7,3.9-3.7\r\n\t\t\t\tC13.2,7.5,14.7,8.8,14.7,10.8z M10.4,11.2c0,0.5,0.2,0.8,0.6,0.8c0.4,0,0.6-0.3,0.6-0.8c0-0.5-0.2-0.8-0.6-0.8\r\n\t\t\t\tC10.6,10.4,10.4,10.7,10.4,11.2z" fill=""/> </g> </g> <g id="form_email_XMLID_51_"> <path id="form_email_XMLID_101_" d="M6.8,9.1c-0.1,0-0.3,0-0.4-0.1L1.9,4.4c-0.2-0.2-0.2-0.5,0-0.7s0.5-0.2,0.7,0l4.5,4.5\r\n\t\t\tc0.2,0.2,0.2,0.5,0,0.7C7.1,9.1,6.9,9.1,6.8,9.1z" fill=""/> </g> <g id="form_email_XMLID_50_"> <path id="form_email_XMLID_100_" d="M15.3,9.2c-0.1,0-0.3,0-0.4-0.1c-0.2-0.2-0.2-0.5,0-0.7l4.6-4.6c0.2-0.2,0.5-0.2,0.7,0\r\n\t\t\ts0.2,0.5,0,0.7l-4.6,4.6C15.5,9.2,15.4,9.2,15.3,9.2z" fill=""/> </g> <g id="form_email_XMLID_49_"> <path id="form_email_XMLID_99_" d="M2.4,18.5c-0.1,0-0.3,0-0.4-0.1c-0.2-0.2-0.2-0.5,0-0.7l4.3-4.3c0.2-0.2,0.5-0.2,0.7,0\r\n\t\t\ts0.2,0.5,0,0.7l-4.3,4.3C2.6,18.5,2.5,18.5,2.4,18.5z" fill=""/> </g> <g id="form_email_XMLID_48_"> <path id="form_email_XMLID_98_" d="M19.6,18.5c-0.1,0-0.3,0-0.4-0.1L14.8,14c-0.2-0.2-0.2-0.5,0-0.7s0.5-0.2,0.7,0l4.4,4.4\r\n\t\t\tc0.2,0.2,0.2,0.5,0,0.7C19.8,18.4,19.7,18.5,19.6,18.5z" fill=""/> </g> </g> </symbol>',"form_email")},"7vEM":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"imageTitle":"上传图片","videoTitle":"上传视频","voiceTitle":"上传音频","titleLabel":"标题","descriptionLabel":"说明","cancelBtn":"取消","uploadBtn":"上传","uploadingBtn":"上传中","tooLarge":"最大文件大小为 2 MB。"},"en":{"imageTitle":"Upload Image","videoTitle":"Upload Video","voiceTitle":"Upload Voice Clip","titleLabel":"Title","descriptionLabel":"Description","cancelBtn":"Cancel","uploadBtn":"Upload","uploadingBtn":"Uploading","tooLarge":"The maximum file size is 2 MB."}}'),delete e.options._Ctor}},"7wj+":function(e,t,s){},"80ck":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="image_float_right" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="image_float_right_XMLID_8_"> <rect id="image_float_right_XMLID_18_" x="0" y="8" width="8.9" height="2"/> <rect id="image_float_right_XMLID_17_" x="0" y="11" width="8.9" height="2"/> <rect id="image_float_right_XMLID_15_" x="0" y="5" width="8.9" height="2"/> <rect id="image_float_right_XMLID_14_" x="0" y="1" width="18" height="2"/> <rect id="image_float_right_XMLID_12_" x="0" y="15" width="18" height="2"/> <rect id="image_float_right_XMLID_9_" x="11" y="5" width="7" height="8"/> </g> </symbol>',"image_float_right")},"8BRU":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="preview" ><path d="m51.8 25.1c-4.7-9.5-14.5-16.1-25.8-16.1s-21.1 6.6-25.8 16.1c-0.3 0.6-0.3 1.3 0 1.8 4.7 9.5 14.5 16.1 25.8 16.1s21.1-6.6 25.8-16.1c0.3-0.6 0.3-1.2 0-1.8z m-25.8 11.9c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z m0-18c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7z" fill=""/></symbol>',"preview")},"8EMR":function(e,t,s){"use strict";var i=s("LK4V"),a=s.n(i);t.default=a.a},"8I+z":function(e,t,s){},"8VLx":function(e,t,s){"use strict";var i=s("shFL");s.n(i).a},"8VZ3":function(e,t,s){"use strict";var i=s("5Z0+");s.n(i).a},"8cDQ":function(e,t,s){"use strict";var i=s("aiNn");s.n(i).a},"8gHK":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 1792 1792" id="battery-full" ><path d="M1664 512v768h-1664v-768h1664zm128 576h128v-384h-128v-288q0-14-9-23t-23-9h-1856q-14 0-23 9t-9 23v960q0 14 9 23t23 9h1856q14 0 23-9t9-23v-288zm256-384v384q0 53-37.5 90.5t-90.5 37.5v160q0 66-47 113t-113 47h-1856q-66 0-113-47t-47-113v-960q0-66 47-113t113-47h1856q66 0 113 47t47 113v160q53 0 90.5 37.5t37.5 90.5z" fill=""/></symbol>',"battery-full")},"8nl0":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="quot_block" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="quot_block_XMLID_42_"> <path id="quot_block_XMLID_43_" fill="" d="M10,1.1v8h5.6c0,4.3-2.1,5.6-5.6,5.6v2.2c4.4,0,8-1.3,8-8V1.1H10z"/> <path id="quot_block_XMLID_46_" fill="" d="M0,9.1h5.6c0,4.3-2.1,5.6-5.6,5.6v2.2c4.4,0,8-1.3,8-8V1.1H0V9.1z"/> </g> </symbol>',"quot_block")},"8ofr":function(e,t,s){"use strict";var i=s("6JFi"),a=s.n(i);t.default=a.a},"8pXr":function(e,t,s){},"8q59":function(e,t,s){"use strict";var i=s("SBr0"),a=s.n(i);t.default=a.a},"8vhV":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"hourLabel":"时","minuteLabel":"分","secondLabel":"秒"},"en":{"hourLabel":"h","minuteLabel":"m","secondLabel":"s"}}'),delete e.options._Ctor}},"92OZ":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="upload_icon" ><g><path d="m48.5 31h-3c-0.8 0-1.5 0.8-1.5 1.5v10c0 0.8-0.7 1.5-1.5 1.5h-33c-0.8 0-1.5-0.7-1.5-1.5v-10c0-0.7-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.8-1.5 1.5v13.5c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4v-13.5c0-0.7-0.7-1.5-1.5-1.5z m-21.5-28.6c-0.6-0.6-1.5-0.6-2.1 0l-13.5 13.5c-0.6 0.6-0.6 1.5 0 2.1l2.1 2.1c0.6 0.6 1.5 0.6 2.1 0l5.6-5.6c0.6-0.6 1.8-0.2 1.8 0.7v21.2c0 0.8 0.6 1.5 1.4 1.5h3c0.8 0 1.6-0.8 1.6-1.5v-21.1c0-0.9 1-1.3 1.7-0.7l5.6 5.6c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1c0.6-0.6 0.6-1.5 0-2.1l-13.5-13.6z" fill=""/></g></symbol>',"upload_icon")},"95P7":function(e,t,s){},"9IDl":function(e,t,s){"use strict";var i=s("4LGG"),a=s.n(i),n=s("DInU"),o=s("rVwK");const l=new n.d;t.a=class{static async getWeChatCoupons(e){let{wechatAccountId:t,offset:s,limit:i,keyword:n}=e;const r=await l.getWeChatCoupons(t,s,i,n);return a()(r).call(r,e=>new o.b(e))}static async getByIds(e){const t=await l.getWeChatCouponsByIds(e);return a()(t).call(t,e=>new o.b(e))}}},"9eMe":function(e,t,s){"use strict";var i=s("eoaT"),a=s.n(i);t.default=a.a},"9iEE":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="image_float_center" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="image_float_center_XMLID_3_"> <rect id="image_float_center_XMLID_16_" y="1" width="18" height="2"/> <rect id="image_float_center_XMLID_36_" y="15" width="18" height="2"/> <rect id="image_float_center_XMLID_37_" y="12" width="18" height="2"/> <rect id="image_float_center_XMLID_38_" x="3" y="4" width="12" height="7"/> </g> </symbol>',"image_float_center")},"9s3J":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 40 40" id="agent" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .agentSt0{fill-rule:evenodd;clip-rule:evenodd;} </style> <g id="agent_XMLID_7_"> <path id="agent_XMLID_5_" class="agentSt0" d="M20.9,20.8c2.2-1.8,3.6-4.4,3.6-7.4c0-5.3-4.3-9.6-9.6-9.6c-5.3,0-9.6,4.3-9.6,9.6\r\n\t\tc0,3.1,1.5,5.8,3.7,7.5c-2.3,0.8-4.4,2.2-5.9,4.1c-1.9,2.3-2.8,5.5-3.1,8.8c-0.1,1.2,0.9,2.3,2.1,2.3h25.4c1.3,0,2.4-1.1,2.3-2.5\r\n\t\tc-0.4-3.7-1.5-7.2-3.7-9.6C24.7,22.6,22.9,21.5,20.9,20.8z" fill=""/> <path id="agent_XMLID_8_" class="agentSt0" d="M33.1,6.5c-3.8,0-6.9,3.1-6.9,6.9c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n\t\tc0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n\t\tc0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n\t\tc0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n\t\tc0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\r\n\t\tc0,0.1,0.1,0.2,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0\r\n\t\tc0,0.1,0.1,0.2,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0.1,0.1,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1\r\n\t\tc0,0,0,0,0,0c0,0.1,0.1,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0.1,0.1,0.1,0.1L26.2,19l-0.3,0.3l-0.4,0.4c0,0-0.2,0.2-0.1,0.4\r\n\t\tc0,0.1,0.1,0.2,0.3,0.2c1.4,0,6.4,0,6.4,0c0,0,0,0,0,0h1c0,0,0,0,0,0c3.8,0,6.9-3.1,6.9-6.9C40,9.6,36.9,6.5,33.1,6.5z M30.3,14.5\r\n\t\tc-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1C31.5,14,31,14.5,30.3,14.5z M33.3,14.5\r\n\t\tc-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1C34.4,14,33.9,14.5,33.3,14.5z M36.3,14.5c-0.6,0-1.1-0.5-1.1-1.1\r\n\t\tc0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1C37.4,14,36.9,14.5,36.3,14.5z" fill=""/> </g> </symbol>',"agent")},"9xVO":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAFRUlEQVRoQ9VaachVVRRdq8FGf5Q0ERWRYVrQhGVFEQ0GZSNNEhGVkaWUKE00ECRBQYORlKUSNCcNRtmMPwqafiSRUZaNNpAUURnNK1ac+3G879577rvfu+99bXh/3t1nn73uOWfvtfe5REsiaRcAFwO4huSfLU0zZJZtTSBpVwCfAHgbwFSSq9uay3b7AcTz/AxgOsmH2gLTLyCZ//cBmElyXa8B9RuI/V8F4EyS7/QSzCCA2P8/AFxB8vZegRkUkMz/ZwGcS3LtcAH1FIikUQD2ArA/gEMBnF3DwW+sR/KVGrqlKsMGImkDAEcDuADAFACbNHDoHwA3AbiO5F8NxjcPv5I2BDADwGwATn69kOcAHEdS3RprtCKSJgJYAGDfbies0H/STIDkt01sdgVEkvVvAHAVAG+pIvGefx3AxwAur+HUdyG3LKmhO/wzImkjAAsBnFNg7XcAjwG4k+Rbfh5RlCr/HgRwKcnv80rh7JHk33UA1loRST7Aj3v/Fhi1M7NJ+s0OSQLImkBZHH47RNIpABaHVZ9B8v4UmLpA7gZwYc6Y9/L5JJeVOJORxvXwAbgXwGUkfypzTpKB7hiee0WmkHy+CkwSiKSzADyQM/KpQ24Voy1YETPhaSSXp96uJNOY3SM9k85JJN8vG1sJRNJYACsAbBEZ+AjA4SS/rnIoAuIccQeAq0n+mgIRztdkAF5ph/hMfPYOIml7HZICYto9NRr1G4ADSb6bcigA8Rk4j+QbKf38c0kuyubn/p9Fcl5XQCSNB/BeLsy6pnD+SEoIECDpiNZIJD0K4PRo8BqSO3UL5GHT7WjQCpK9TIBJcJK2A+BzsXVQXkVyXG0gknwmfgBgEpjJySSfSs7eYwVJBzs/BbOXkHytGyAnAFgaDfABH9eEA/UYV6m5wsMuKZ83biNpcjhipQzIB16ByOvJJF8asSjKuiiSnIC2jBwfTfKX/xWQcNBjp9eRjEGNSDwdW0vSboGCZw6vJukMP1AJbNik1UXXsnyGLwKyZ0iEmeMrSboOH6hIWmSWEJxYRHJa7FARkG0AxJR8LcltB4ki1ELe7lk/oGO7FwFx5ee+U0bYTNJG1S1w2gAsyUzYjDiTL0nuXLkifijJzHaHSHHvOkSxDRDBH5+NZyL7y0keUQeIq0FXaZnMIXlrW46m7Eq6JXRrMtX5JGfWATIdwF2R4oskj0lN2NZzSSsBTIjsd/C+sszucGt+lYnPyR4k4//a8ns9u6Fz41Jg4/DAl0ZjSDppD0lpYSXpTQAHRLoLSHql+i6S3PM6KUw8j+SsvBNVQE4FEPeaXB3uQ/LDfiMJPeUzQmnxQlFbtQqIw7CdjrO6V+mQQYbispeYqtlPC423ePxcktf2e1VS89VpBz0CwMsaS2kTIDVhW8/rABkTuNf2OSdayS2SjgXg5t6SfPey6iUkgXiwJEevlwGMzhl7InQbfxzum5ZkPufe8vHBlpuAE0g6yCSlFpAA5jAAvr/YPGf1q9ChX9zkwwBJzg9mstcDyJPT/epemtYGEsAcGULyVgWv6DMA9wB4mqQzcVJCh8TtWG+lvHwRGh69XZFslvBphgPApApPvS0Mxqvln/u+S/PlsiT/XwTi1XCv+HnybQSFrlYkAuPt4BA8p2Crlc3tHvLEOJlJ8r1I1nzzOH9IMBfAzWU93jLjjYBEgLynrwRwEYBNa7y98STdoflPJDmsuwXrRqC35Y3dRKp4vmEBiRxyVelocyKAo0pWyVtsbD4KhcPumykXc42lJ0Di2SVtZqYcLmp8WeOf6c5Ckg4Irci/ShrRQKotixkAAAAASUVORK5CYII="},"A+w4":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="chat_history" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path fill-rule="evenodd" clip-rule="evenodd" d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C20,4.5,15.5,0,10,0z M10,18\n\t\tc-4.4,0-8-3.6-8-8c0-4.4,3.6-8,8-8c4.4,0,8,3.6,8,8C18,14.4,14.4,18,10,18z" fill=""/> <path fill-rule="evenodd" clip-rule="evenodd" d="M15.6,9.4h-4.9V4.3c0-0.6-0.4-1-1-1s-1,0.4-1,1v7.1h6.9c0.6,0,1-0.4,1-1\n\t\tC16.6,9.9,16.1,9.4,15.6,9.4z" fill=""/> </g> </symbol>',"chat_history")},A3Hv:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="brush_format" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="brush_format_XMLID_1_"> <path id="brush_format_XMLID_6_" d="M2.5,13.5c-0.3,1.8-1.5,4.5-1.5,4.5h10.6c0,0,0.6-0.8,1-1.7c0.4-0.9,0.7-2.1,0.7-2.1\r\n\t\ts0.2,1.1,0.6,2.1c0.4,1,0.9,1.8,0.9,1.8h2.1v-10h-14C2.9,8.1,2.8,11.7,2.5,13.5z" fill=""/> <polygon id="brush_format_XMLID_13_" points="10.9,4.9 10.9,-0.1 8.9,-0.1 8.9,4.9 2.9,4.9 2.9,6.9 16.9,6.9 16.9,4.9 \t"/> </g> </symbol>',"brush_format")},A7Yf:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="skill_response" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 59.1 (86144) - https://sketch.com --\x3e <path d="M11.2990453,0.384615385 C15.1696359,0.384615385 18.4500282,3.56856031 18.4615755,7.33610024 C18.4648214,8.16588223 18.2497353,9.14816539 17.9748305,10.2011589 L17.715547,11.1657364 C17.462916,12.0927843 17.2358747,13.0571998 17.0621909,13.9007199 C16.9100725,14.6375127 16.9697371,15.5283148 17.0129773,15.9484876 L17.0442236,16.1999303 C17.2742049,17.177996 16.6622036,18.149478 15.7087126,18.3875309 L15.5877839,18.413415 L8.94914113,19.6031355 C8.53955943,19.6769916 8.15226927,19.4090581 8.06305341,19.0097702 L8.0485986,18.9222747 L7.88253725,17.3836061 C7.88304282,17.112141 7.64787906,16.7895028 7.41244704,16.8358726 L7.35821895,16.853315 L6.31284915,17.1566525 C5.57988036,17.5455937 4.47279574,17.0137369 4.38255748,16.1047774 L4.37673715,15.9982549 L4.37945947,13.5759509 C4.37945947,13.3029288 4.17449923,13.0788525 3.91303768,13.0493283 L3.84044066,13.0462093 L2.07855697,13.0940179 C1.68872114,13.1039093 1.42302298,12.6994593 1.58853987,12.3428179 L2.56921937,10.2464807 L3.44877246,8.39268837 C3.5240438,8.23538023 3.59935865,8.07837854 3.67437931,7.92244288 L3.67220146,7.79165605 C3.67056807,7.6246006 3.66947914,7.49381377 3.68581304,7.3800622 C3.75160715,3.76122167 7.1261195,0.551328837 10.9985733,0.391351937 L11.2064866,0.385714434 L11.2990453,0.384615385 Z M11.7075587,3.11804369 L11.1128388,3.1174007 C10.8859609,3.10256354 10.6824568,3.24707749 10.615447,3.45960499 L10.5983209,3.53284121 L10.4954173,4.25986212 C10.2054905,4.36015034 9.93295632,4.50546904 9.68758227,4.69009401 L9.5436952,4.80553994 L8.82337007,4.54561486 C8.76620141,4.51923768 8.70576597,4.5016529 8.64369714,4.49341003 C8.48082479,4.48775778 8.32675275,4.56042959 8.22605399,4.68616336 L8.18035875,4.75333512 L7.923372,5.19460329 C7.80915567,5.38803591 7.84034469,5.63140063 7.99017147,5.78884355 L8.64369714,6.36289236 C8.5995956,6.53269543 8.57346135,6.7068947 8.56638333,6.88219301 C8.57073904,7.0045538 8.58380616,7.12667035 8.60526205,7.24740292 L8.64369714,7.42732131 L8.05186538,7.92024478 C7.8727974,8.05457299 7.80902124,8.29137056 7.88730448,8.49478357 L7.923372,8.56923321 L8.18035875,8.98467373 C8.27455092,9.13909011 8.43843442,9.23635595 8.61756289,9.24459881 C8.66402377,9.24679691 8.71048465,9.24337765 8.7559776,9.23499231 L8.82337007,9.21877116 L9.5436952,8.95884608 C9.77463845,9.15850664 10.0384764,9.31428157 10.3226056,9.42012864 L10.4954173,9.4775972 L10.5983209,10.2309953 C10.6423619,10.4493397 10.8184723,10.6116733 11.031436,10.6411923 L11.1128388,10.6458863 L11.6273568,10.6458863 C11.848046,10.6507709 12.0437839,10.5132406 12.1193546,10.3100989 L12.1418747,10.2309953 L12.2703681,9.4775972 C12.5770825,9.37547723 12.8648919,9.22374741 13.1224534,9.02876798 L13.2732698,8.90664125 L13.9424153,9.16656633 C14.0006729,9.18415112 14.0611084,9.19294351 14.1220883,9.19239399 C14.2788938,9.19427807 14.428099,9.13075752 14.535417,9.0187891 L14.5854267,8.95884608 L14.8424134,8.54340556 C14.9595335,8.34313441 14.9290974,8.09206277 14.7767253,7.92643051 L14.71392,7.86858948 L14.1220883,7.37511648 C14.1580229,7.20476389 14.1749012,7.0300151 14.1738123,6.85581583 C14.1756272,6.7338214 14.1684887,6.61207119 14.1525581,6.49121651 L14.1220883,6.31068754 L14.71392,5.81721454 C14.8963758,5.67507087 14.9600982,5.43089204 14.8794668,5.220146 L14.8424134,5.14294798 L14.5854267,4.72750747 C14.4863343,4.56484822 14.3110171,4.46648333 14.1220883,4.46758238 C14.0807091,4.47307763 14.0398138,4.4824806 14.0003705,4.49611695 L13.9424153,4.51978721 L13.2220902,4.77916277 C12.9866098,4.58637126 12.7235281,4.43174117 12.4416674,4.32099672 L12.2703681,4.25986212 L12.1418747,3.50701356 C12.0963818,3.29257689 11.9179591,3.13719036 11.7075587,3.11804369 Z M11.5970914,5.38572555 C12.4119821,5.4170675 13.0609448,6.07832118 13.0769231,6.89321188 C13.0769231,7.75911006 12.3757238,8.46153846 11.509211,8.46153846 L11.4803273,8.46092391 C10.6310219,8.42896742 9.96915367,7.71424805 10.0011102,6.86494267 C10.0330667,6.01563728 10.747786,5.35376905 11.5970914,5.38572555 Z" fill=""/> </symbol>',"skill_response")},"ACT/":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 70 80" id="stru_link" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="stru_link_XMLID_4_"> <path id="stru_link_XMLID_26_" d="M64,0H6C2.7,0,0,2.7,0,6v68c0,3.3,2.7,6,6,6h58c3.3,0,6-2.7,6-6V6C70,2.7,67.3,0,64,0z M4,8.7\r\n\t\th25v4H4V8.7z M66,73.1c0,1.9-1.5,3.4-3.4,3.4H7.4c-1.9,0-3.4-1.5-3.4-3.4V15.9h62V73.1z" fill=""/> <path id="stru_link_XMLID_17_" d="M62,19.9H8v32h54V19.9z M37.7,41.4l-4.1,4.1c-1.1,1.1-2.5,1.7-4.1,1.7c-1.5,0-3-0.6-4.1-1.7\r\n\t\tc-1.1-1.1-1.7-2.5-1.7-4.1s0.6-3,1.7-4.1l1.9-1.9c0.6-0.6,1.7-0.6,2.3,0c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.5,1.1l-1.9,1.9\r\n\t\tc-0.5,0.5-0.7,1.1-0.7,1.8s0.3,1.3,0.7,1.8c0.9,0.9,2.6,0.9,3.5,0l4.1-4.1c0.5-0.5,0.7-1.1,0.7-1.8s-0.3-1.3-0.7-1.8\r\n\t\tc-0.6-0.6-0.6-1.7,0-2.3c0.6-0.6,1.7-0.6,2.3,0C39.9,35.5,39.9,39.1,37.7,41.4z M44.5,34.5l-1.9,1.9C42,37,41,37,40.4,36.4\r\n\t\tc-0.3-0.3-0.5-0.7-0.5-1.1c0-0.4,0.2-0.8,0.5-1.1l1.9-1.9c0.5-0.5,0.7-1.1,0.7-1.8s-0.3-1.3-0.7-1.8c-0.9-0.9-2.6-0.9-3.5,0\r\n\t\tl-4.1,4.1c-0.5,0.5-0.7,1.1-0.7,1.8s0.3,1.3,0.7,1.8c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.5,1.1c-0.3,0.3-0.7,0.5-1.1,0.5h0\r\n\t\tc-0.4,0-0.8-0.2-1.1-0.5c-2.2-2.2-2.2-5.9,0-8.1l4.1-4.1c1.1-1.1,2.5-1.7,4.1-1.7c1.5,0,3,0.6,4.1,1.7c1.1,1.1,1.7,2.5,1.7,4.1\r\n\t\tS45.6,33.4,44.5,34.5z" fill=""/> <rect id="stru_link_XMLID_16_" x="8" y="55.9" width="54" height="4"/> <rect id="stru_link_XMLID_5_" x="8" y="63.9" width="28" height="4"/> </g> </symbol>',"stru_link")},AHF6:function(e,t,s){"use strict";var i=s("iRzN");s.n(i).a},AJ8a:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"noneLabel":"--无--","selectLabel":"选项被选择"},"en":{"noneLabel":"--None--","selectLabel":"options selected"}}'),delete e.options._Ctor}},AKja:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"sorryToInterrupt":"似乎出现了问题","needRefreshContent":"Live Chat 出现错误，需要重新刷新页面。","reload":"重新加载"},"en":{"sorryToInterrupt":"Sorry to interrupt","needRefreshContent":"Live Chat has an error. You might just need to refresh it.","reload":"Reload"}}'),delete e.options._Ctor}},ATNP:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newLabel":"新建","errorLabel":"无效的选项.","searchLabel":"搜索","searchIn":"{0}在{1}之中","noResultLabel":"没有结果"},"en":{"newLabel":"New ","errorLabel":"An invalid option has been chosen.","searchLabel":"Search ","searchIn":"{0} in {1}","noResultLabel":"No Result"}}'),delete e.options._Ctor}},AkMO:function(e,t,s){"use strict";var i=s("Gyrm"),a=s.n(i);t.default=a.a},Atv9:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 60 60" id="transfer" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill-rule:evenodd;clip-rule:evenodd;} </style> <g> <path d="M59.1,27.4c0-0.4-0.2-0.7-0.4-1L52.5,20c0,0,0,0,0,0c0,0-0.1-0.1-0.1-0.1c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1\n\t\tl-0.2-0.1c0,0-0.1,0-0.1,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0l-0.1,0l0,0c0,0-0.1,0-0.2,0l0,0\n\t\tc0,0-0.1,0-0.1,0c0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0,0,0-0.1,0l-0.1,0c0,0-0.1,0-0.1,0c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0l0,0\n\t\tc0,0,0,0,0,0c0,0-0.1,0-0.1,0c0,0,0,0-0.1,0c0,0-0.1,0-0.1,0.1c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0.1c0,0,0,0,0,0\n\t\tc0,0,0,0,0,0L50.1,20c0,0,0,0,0,0c0,0,0,0-0.1,0.1c0,0,0,0,0,0.1l-0.1,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0\n\t\tc0,0,0,0.1,0,0.1l0,0.1c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1\n\t\tc0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0l0,0c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1\n\t\tc0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0c0.5,1.1,0.8,2.2,1.1,3.4c1.1,5.3,0.1,11-2.9,15.6\n\t\tc-6.3,9.8-19.3,12.6-29.1,6.4c-1.3-0.8-2.5-1.8-3.6-2.9c-0.6-0.6-1.7-0.6-2.3,0c-0.5,0.5-0.6,1.1-0.4,1.7c0,0.4,0.2,0.7,0.5,1\n\t\tc1.3,1.3,2.7,2.4,4.2,3.4c11.3,7.2,26.4,3.9,33.6-7.4c3.1-4.8,4.4-10.5,3.7-16.1l1.8,1.8c0.1,0.1,0.2,0.2,0.3,0.3\n\t\tc0.6,0.4,1.5,0.3,2-0.2C59.2,28.6,59.3,28,59.1,27.4z" fill=""/> <path d="M10.3,36.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.5-0.3-1-0.4-1.4c-1.1-5.4-0.1-11,2.9-15.6C19,9.1,32.1,6.2,41.8,12.5\n\t\tc0.7,0.4,1.3,0.9,1.9,1.4c0.7,0.6,1.7,0.5,2.3-0.2c0.4-0.4,0.4-1,0.3-1.6c0-0.4-0.2-0.8-0.6-1.1c-0.7-0.6-1.4-1.1-2.2-1.6\n\t\tC32.2,2.1,17.2,5.4,9.9,16.7c-2.9,4.5-4.2,9.8-3.8,15L3.6,29C3,28.4,2,28.4,1.3,29c-0.5,0.5-0.6,1.1-0.4,1.7c0,0.4,0.2,0.7,0.4,1\n\t\tl6.1,6.4c0.1,0.1,0.2,0.2,0.3,0.3c0.6,0.4,1.5,0.3,2-0.2C9.9,38,10,37.9,10,37.8C10.4,37.4,10.5,36.8,10.3,36.2\n\t\tC10.3,36.3,10.3,36.2,10.3,36.2z" fill=""/> <path d="M20.9,31.9c-1.6,1.9-2.3,4.6-2.6,7.3c-0.1,1,0.7,1.9,1.8,1.9h21c1.1,0,2-0.9,1.9-2c-0.3-3-1.2-6-3.1-8\n\t\tc-1.1-1.2-2.6-2.1-4.3-2.7c1.8-1.4,2.9-3.7,2.9-6.1c0-4.4-3.5-7.9-7.9-7.9s-7.9,3.5-7.9,7.9c0,2.5,1.2,4.8,3.1,6.2\n\t\tC23.9,29.3,22.2,30.4,20.9,31.9z" fill=""/> </g> </symbol>',"transfer")},B7A8:function(e,t,s){},BADP:function(e,t,s){"use strict";var i=s("kQ0q");s.n(i).a},BEhI:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"enableContent":"为 Charket 启用桌面通知。","enableButton":"启用桌面通知","allowBrowserNotificationTip":"在你的浏览器弹框中点击允许启用通知。","enableSuccess":"桌面通知已启动。","disallowedTip":"你已经禁用通知功能在你的浏览器中。你需要打开浏览器设置进行修改。","closePage":"关闭页面"},"en":{"enableContent":"Enable desktop notifications for Charket.","enableButton":"Enable Desktop Notifications","allowBrowserNotificationTip":"Click Allow in your browser\'s pop-up to enable notifications.","enableSuccess":"Desktop notifications was enabled.","disallowedTip":"You\'ve disallowed notifications in your browser. You\'ll need to open your browser preferences to change that.","closePage":"Close Page"}}'),delete e.options._Ctor}},BPOx:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="rows" ><path fill="" d="m46.5 14h-41c-0.8 0-1.5-0.7-1.5-1.5v-3c0-0.8 0.7-1.5 1.5-1.5h41c0.8 0 1.5 0.7 1.5 1.5v3c0 0.8-0.7 1.5-1.5 1.5z m0 14.9h-41c-0.8 0-1.5-0.7-1.5-1.5v-3c0-0.7 0.7-1.4 1.5-1.4h41c0.8 0 1.5 0.7 1.5 1.5v3c0 0.7-0.7 1.4-1.5 1.4z m0 15.1h-41c-0.8 0-1.5-0.7-1.5-1.5v-3c0-0.8 0.7-1.5 1.5-1.5h41c0.8 0 1.5 0.7 1.5 1.5v3c0 0.8-0.7 1.5-1.5 1.5z"/></symbol>',"rows")},BSw6:function(e,t,s){},BXKR:function(e,t,s){"use strict";var i=s("4B+h"),a={props:{sum:{type:Number,default:0},content:{type:String,default:""},customStyle:{type:String,default:""},placeLabel:{type:String,default:""},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},created(){this.textContent=this.content},watch:{content(e){this.textContent=e},textContent(e){this.textContent=e;const t=Object(i.b)(this.sum,this.textContent);this.textContent=t.value,this.textContentCount=t.count,this.$emit("formated-text",this.textContent)}},data:()=>({textContent:"",textContentCount:0}),methods:{focus(){this.$refs.input.focus()}}},n=(s("+lIE"),s("KHd+")),o=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"count-section",style:e.customStyle},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.textContent,expression:"textContent"}],ref:"input",staticClass:"slds-input",class:{"error-border":e.error},attrs:{type:"text",placeholder:e.placeLabel,disabled:e.disabled},domProps:{value:e.textContent},on:{input:function(t){t.target.composing||(e.textContent=t.target.value)}}}),e._v(" "),s("div",{staticClass:"limit-count-section"},[e._v(e._s(e.textContentCount)+"/"+e._s(e.sum))])])}),[],!1,null,"1d44ed81",null);t.a=o.exports},BYG8:function(e,t,s){},BenJ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_phone" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_phone_XMLID_42_"> <path id="form_phone_XMLID_95_" d="M16.2,20C10.5,20,2,10.7,2,5.9C2,3.9,4.6,2,5.8,2l0,0c0,0,0,0,0,0C6.1,2,6.5,2.2,7,2.6\r\n\t\tC8,3.7,9.6,6.3,9.6,7c0,0.6-0.3,1-0.5,1.4C8.9,8.7,8.8,8.9,8.8,9.2c0.1,0.7,3.1,3.7,3.8,3.9c0.2,0,0.5-0.1,0.8-0.3\r\n\t\tc0.4-0.2,0.9-0.5,1.5-0.5c0.9,0,5.1,2.8,5.1,3.9C20,18.2,17.9,20,16.2,20z M5.8,3C5.1,3,3,4.5,3,5.9C3,10.2,11.2,19,16.2,19\r\n\t\tc1.2,0,2.8-1.4,2.8-2.9c-0.3-0.5-3.5-2.8-4.1-2.9c-0.3,0-0.7,0.2-1,0.4c-0.4,0.2-0.8,0.4-1.3,0.4c-1.1,0-4.7-3.8-4.7-4.8\r\n\t\tc0-0.6,0.2-1,0.5-1.3C8.4,7.6,8.6,7.4,8.6,7C8.5,6.4,6.5,3.2,5.8,3z" fill=""/> </g> </symbol>',"form_phone")},BxAR:function(e,t,s){},C54g:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"supervisorComment":"管理员内部留言","internalComment":"内部留言","autoResponse":"自动回复","transferLabel":"[转发]","unsupportedFileMessageLabel":"[不支持的消息类型 - 文件]","showMore":"显示更多...","viewVoiceFile":"查看音频文件","convertVoice":"转文字","receivingVoice":"正在接收语音...","linkMsgType":"链接","locationMsgType":"地理位置","receivingTemplate":"正在接收模板消息...","receivingStrucMsg":"正在接收图文消息...","receivingLinkMsg":"正在接收链接消息...","receivingMiniProgram":"正在接收小程序...","msgDeliveredError":"消息发送失败，你可以","hasRunningSkillError":"Charket chatbot 正在和当前关注者通过技能 “{0}” 对话。发送当前消息可能会导致关注者误解。确定要发送吗？","resend":"重发","discard":"丢弃","send":"发送","cancel":"取消","subscribeLabel":"[关注]","unSubscribeLabel":"[取消关注]"},"en":{"supervisorComment":"Supervisor internal comment","internalComment":"Internal comment","autoResponse":"Auto response to follower","transferLabel":"[TRANSFER]","unsupportedFileMessageLabel":"[Unsupported Message - File]","showMore":"Show more...","viewVoiceFile":"View voice file","convertVoice":"Convert the voice to text","receivingVoice":"Receiving voice message...","linkMsgType":"LINK","locationMsgType":"LOCATION","receivingTemplate":"Receiving template...","receivingStrucMsg":"Receiving structured message...","receivingLinkMsg":"Receiving link message...","receivingMiniProgram":"Receiving Mini Program...","msgDeliveredError":"The message could not be delivered, would you like to","hasRunningSkillError":"The Charket chatbot is currently chatting with this WeChat follower using the skill \\"{0}\\". Sending this message may confuse the the WeChat follower. Are you sure to send it?","resend":"resend","discard":"discard","send":"Send","cancel":"Cancel","subscribeLabel":"[SUBSCRIBE]","unSubscribeLabel":"[UNSUBSCRIBE]"}}'),delete e.options._Ctor}},CLQa:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="paragraph_margin_top" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="paragraph_margin_top_XMLID_20_"> <rect id="paragraph_margin_top_XMLID_22_" y="7.5" class="st0" width="18" height="2"/> <rect id="paragraph_margin_top_XMLID_40_" y="15.5" class="st0" width="18" height="2"/> <rect id="paragraph_margin_top_XMLID_44_" y="11.5" class="st0" width="18" height="2"/> <polygon id="paragraph_margin_top_XMLID_45_" class="st0" points="9,0.5 5.1,5.5 12.9,5.5 \t"/> </g> </symbol>',"paragraph_margin_top")},CPBz:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="sort" ><path d="m27.5 16c0.6-0.6 0.6-1.5 0-2.1l-11.4-11.5c-0.6-0.6-1.5-0.6-2.1 0l-11.5 11.5c-0.6 0.6-0.6 1.5 0 2.1l2.1 2.1c0.6 0.6 1.5 0.6 2.1 0l3.6-3.6c0.6-0.6 1.7-0.2 1.7 0.7v21.2c0 0.8 0.7 1.5 1.5 1.5h3c0.8 0 1.5-0.8 1.5-1.5v-21.2c0-0.9 1.1-1.3 1.7-0.7l3.6 3.6c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1z m22 20l-2.1-2c-0.6-0.6-1.5-0.6-2.1 0l-3.6 3.6c-0.6 0.6-1.7 0.2-1.7-0.7v-21.4c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.8-1.5 1.5v21.2c0 0.9-1.1 1.3-1.7 0.7l-3.6-3.6c-0.6-0.6-1.5-0.6-2.1 0l-2.1 2.2c-0.6 0.6-0.6 1.5 0 2.1l11.5 11.5c0.6 0.6 1.5 0.6 2.1 0l11.5-11.5c0.5-0.6 0.5-1.6-0.1-2.1z" fill=""/></symbol>',"sort")},Cb9X:function(e,t,s){"use strict";var i=s("Ip10"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("+dyS"),r=s.n(l),c=s("Yvyk"),d=s.n(c),h=s("WE60"),u=s.n(h),p=s("autp"),m=s.n(p),g=s("+Bun"),f=s.n(g),v=s("2ABW"),_=s("4B+h"),C=s("LQ5e"),b=s.n(C),w=s("XIlo"),y=s("OB6B"),T=s("pweZ"),L=s("suXn"),I=s.n(L),k=s("w2Vt"),S=s("L2JU"),M=s("icGI"),A=s.n(M),x={created(){var e,t;w.a.isInClassicConsole||w.a.isInLightningConsole?y.a.addEventListener("acceptWaitingChat",e=>{this.$store.dispatch("livechat/acceptChat",e),this.switchTab("chattingThread")}):f()(e=this.$route.name).call(e,"wait")>-1?this.tabName="waitingThread":f()(t=this.$route.name).call(t,"history")>-1?this.tabName="historyThread":this.tabName="chattingThread"},async mounted(){var e,t;if("consoleThread"===y.a.componentName){let e=null;window.addEventListener("resize",()=>{this.hiddenTextContent=!0,e&&clearTimeout(e),e=m()(()=>{this.hiddenTextContent=!1},500)})}this.$root.$on("close-thread",e=>{let t=null;var s;this.currentThread&&e===this.currentThread.Id&&(t=u()(s=this.orderedThreads).call(s,t=>t.Id===e),t===this.orderedThreads.length-1&&(t=0));this.$store.dispatch("livechat/closeSpecialChat",e),"console-thread"===this.$route.name&&y.a.fireEvent("close-message",e),this.updateRouter(t)}),this.$root.$on("switch-chatting",()=>{this.switchTab("chattingThread")}),this.$root.$on("reload-livechat",async()=>{this.isLoadingThreads=!0;const e=this.$watch("hasLoadedData",t=>{t&&(this.isLoadingThreads=!1,this.setUnreadCount(),(w.a.isInClassicConsole||w.a.isInLightningConsole)&&y.a.fireEvent("reload-livechat"),this.$emit("start-redirection"),e())})}),this.$on("start-redirection",()=>{this.redirectAction(),this.setCurrentThread()}),this.setThreadListHeight(),window.addEventListener("resize",this.setThreadListHeight),this.hasLoadedData||(this.isLoadingThreads=!0,await new d.a(e=>{const t=this.$watch("hasLoadedData",async()=>{"historyThread"===this.tabName&&await this.switchTab("historyThread"),this.setUnreadCount(),e(),t()})})),this.isLoadingThreads=!1;const s=this.$route.params.followerId;if(!s||"chattingThread"!==this.tabName||r()(e=this.chattingThreads).call(e,e=>e.Follower.Id===s)||r()(t=this.waitingThreads).call(t,e=>e.Follower.Id===s))this.resetTabName();else{this.isLoadingThreads=!0;const e=await this.addNewThread(s);if(e){this.wechatAccounts[e.WeChatAccount.Id].LiveChatEnabled&&this.$store.commit("livechat/SET_TO_THREADS",{thread:e,isChatting:!0})}this.isLoadingThreads=!1}this.$emit("start-redirection"),this.setUnreadInfo()},computed:o()({},Object(S.c)({currentUser:"user/currentUser",chatsLimit:"chatsettings/chatsLimit",chattingThreads:"livechat/chattingThreads",currentTranscriptId:"livechat/currentTranscriptId",currentThread:"livechat/currentThread",waitingThreads:"livechat/waitingThreads",historyThreads:"livechat/historyThreads",hasLoadedData:"livechat/hasLoadedData",userStatus:"user/userStatus",unreadCount:"livechat/unreadCount",wechatAccounts:"sidebar/wechatAccounts"}),{orderedThreads(){return"waitingThread"===this.tabName?0===this.waitingThreads.length?[]:I.a.orderBy(this.waitingThreads,e=>new Date(e.RequestTime).getTime(),"asc"):"historyThread"===this.tabName?0===this.historyThreads.length?[]:I.a.orderBy(this.historyThreads,e=>new Date(e.EndTime).getTime(),"desc"):0===this.chattingThreads.length?[]:I.a.orderBy(this.chattingThreads,e=>{const t=e.LastItem.WeChatCreatedTime||e.RequestTime;return new Date(t).getTime()},"desc")},itemCount(){return this.orderedThreads.length},showTopUnreadTip(){return this.unreadInfo.firstUnreadHeight>0&&this.threadListScrollTop>this.unreadInfo.firstUnreadHeight-this.threadItemHeight/2},showBottomUnreadTip(){return this.unreadInfo.lastUnreadHeight>0&&this.threadListScrollTop+this.threadListHeight<this.unreadInfo.lastUnreadHeight-this.threadItemHeight/2},isLoading(){return this.isLoadingThreads||this.isLoadingHistory}}),watch:{$route(e){var t,s;f()(t=this.$route.name).call(t,"wait")>-1?this.tabName="waitingThread":f()(s=this.$route.name).call(s,"history")>-1?this.tabName="historyThread":this.tabName="chattingThread",this.setCurrentThread()},orderedThreads(e,t){"historyThread"!==this.tabName&&this.hasLoadedData&&e.length>0&&0===t.length&&this.redirectAction(),e.length>0&&(this.setUnreadInfo(),this.$nextTick(()=>{const e=this.$refs.virtualList;this.threadListScrollTop=e?e.$el.scrollTop:0}))},tabName(){this.setUnreadInfo(),this.threadListScrollTop=0,this.$nextTick(()=>{this.scrollToCurrentThread()})},unreadCount(){this.setUnreadInfo()},currentThread(e,t){var s,i;if(!e||t&&e.Id===t.Id)return;const a=r()(s=this.chattingThreads).call(s,t=>t.Id===e.Id),n=r()(i=this.waitingThreads).call(i,t=>t.Id===e.Id);this.tabName=a?"chattingThread":n?"waitingThread":"historyThread",this.changeRouter(e.Follower.Id)}},data(){return{isInConsole:w.a.isInClassicConsole&&("console-message"===this.$route.name||"console-thread"===this.$route.name),tabName:"chattingThread",loadingStyle:"position: relative;margin: auto;z-index: 0;height: 100%",isLoadingThreads:!1,isLoadingHistory:!1,threadListHeight:560,threadListRemain:20,virtualItemHeight:80,isLoadMoreHistoryThreads:!1,unreadInfo:{hasUnread:!1,firstUnreadHeight:0,lastUnreadHeight:0},threadListScrollTop:0,threadItemHeight:80,hasMoreHstory:!0,scrollTopTimer:null,setUnreadInfoTimer:null,completedGetListHeight:!1,hiddenTextContent:!1}},components:{ThreadListItem:T.a,LoadingSpinner:k.a,VirtualList:A.a},methods:{resetTabName(){var e,t;const s=this.$route.params.followerId;s&&(r()(e=this.chattingThreads).call(e,e=>e.Follower.Id===s)&&(this.tabName="chattingThread"),r()(t=this.waitingThreads).call(t,e=>e.Follower.Id===s)&&(this.tabName="waitingThread"))},setUnreadCount(){let e=0;for(const t of this.chattingThreads)e+=t.UnreadCount;for(const t of this.waitingThreads)e+=t.UnreadCount;if(this.$store.commit("livechat/SET_UNREAD_COUNT",e),!this.isInConsole)return;let t=this.chattingThreads.length+this.waitingThreads.length,s=t>0?"Charket (".concat(t,")"):"Charket";w.a.console.setCustomConsoleComponentButtonText(s)},setUnreadInfo(){const e=()=>{if(this.unreadInfo.hasUnread=!1,this.unreadInfo.firstUnread=null,this.unreadInfo.lastUnread=null,this.unreadInfo.lastUnreadHeight=0,this.unreadInfo.firstUnreadHeight=0,this.orderedThreads.length>0){for(let e=0;e<this.orderedThreads.length;e++)if(this.orderedThreads[e].UnreadCount>0){this.unreadInfo.hasUnread=!0,this.unreadInfo.firstUnreadHeight=(e+1)*this.threadItemHeight,this.unreadInfo.firstUnread=this.orderedThreads[e];break}for(let e=this.orderedThreads.length-1;e>0;e--)if(this.orderedThreads[e].UnreadCount>0){this.unreadInfo.hasUnread=!0,this.unreadInfo.lastUnreadHeight=(e+1)*this.threadItemHeight,this.unreadInfo.lastUnread=this.orderedThreads[e];break}}};this.setUnreadInfoTimer&&clearTimeout(this.setUnreadInfoTimer),this.setUnreadInfoTimer=m()(()=>{e()},50)},jumpToUnread(e){this.$refs.virtualList&&("top"===e?(this.$refs.virtualList.$el.scrollTop=this.unreadInfo.firstUnreadHeight-this.threadListHeight/2,this.unreadInfo.firstUnread&&this.selectThread(this.unreadInfo.firstUnread,!1)):(this.$refs.virtualList.$el.scrollTop=this.unreadInfo.lastUnreadHeight-this.threadListHeight/2,this.unreadInfo.lastUnread&&this.selectThread(this.unreadInfo.lastUnread,!1)))},setThreadListHeight(){this.threadListHeight=this.$refs.threadList.clientHeight,this.completedGetListHeight=!0},setCurrentThread(){var e;const t=a()(e=this.orderedThreads).call(e,e=>e.Follower.Id===this.$route.params.followerId)||null;this.$store.commit("livechat/SET_CURRENT_THREAD",{thread:t})},redirectAction(){if(this.orderedThreads.length>0&&!this.isInConsole&&!w.a.isInLightningConsole){const e=this.$route.params.followerId?this.$route.params.followerId:this.orderedThreads[0].Follower.Id;this.changeRouter(e)}},getRouteName(){return"waitingThread"===this.tabName?"chat-waiting-follower":"historyThread"===this.tabName?"chat-history-follower":"chat-follower"},changeRouter(e){this.isInConsole||w.a.isInLightningConsole||this.$router.replace({name:this.getRouteName(),params:{followerId:e}})},updateRouter(e){null!==e&&("chat-follower"!==this.$router.currentRoute.name||this.isInConsole?"chat-waiting-follower"!==this.$router.currentRoute.name||this.isInConsole||(0===this.waitingThreads.length?this.$router.replace({name:"chat-waiting"}):this.$router.replace({name:"chat-waiting-follower",params:{followerId:this.orderedThreads[e].Follower.Id}})):0===this.chattingThreads.length?this.$router.replace({name:"chat"}):this.$router.replace({name:"chat-follower",params:{followerId:this.orderedThreads[e].Follower.Id}}),0===e&&this.$nextTick(()=>{this.scrollToCurrentThread()}))},async switchTab(e){if(this.tabName!==e||"historyThread"===e){if(this.$refs.virtualList&&(this.$refs.virtualList.$el.scrollTop=0),this.tabName=e,!this.isInConsole&&!w.a.isInLightningConsole){const t=(()=>"chattingThread"===e?this.chattingThreads[0]?I.a.orderBy(this.chattingThreads,e=>{const t=e.LastItem.WeChatCreatedTime||e.RequestTime;return new Date(t).getTime()},"desc")[0].Follower.Id:"":"waitingThread"===e&&this.waitingThreads[0]?I.a.orderBy(this.waitingThreads,e=>new Date(e.EndTime).getTime(),"asc")[0].Follower.Id:"")(),s={chattingThread:"chat",waitingThread:"chat-waiting",historyThread:"chat-history"},i={chattingThread:"chat-follower",waitingThread:"chat-waiting-follower",historyThread:"chat-history-follower"};t?this.$router.replace({name:i[e],params:{followerId:t}}):this.$router.replace({name:s[e]})}if("historyThread"===this.tabName){if(this.isLoadingHistory)return;this.isLoadingHistory=!0;const e=await this.$store.dispatch("livechat/getHistoryChat",!1);this.isLoadingHistory=!1,this.redirectAction(),this.hasMoreHistory=e}}},scrollToCurrentThread(){if(this.$refs.virtualList){var e;const t=u()(e=this.orderedThreads).call(e,e=>e===this.currentThread);t>-1&&(this.$refs.virtualList.$el.scrollTop=t*this.threadItemHeight)}},async scrollThreads(e){let t=e.target;if(this.scrollTopTimer&&clearTimeout(this.scrollTopTimer),this.scrollTopTimer=m()(()=>{this.threadListScrollTop=t.scrollTop},50),"historyThread"===this.tabName&&!this.isLoadMoreHistoryThreads&&this.hasMoreHistory){const e=20;if(t.scrollTop>=t.scrollHeight-t.clientHeight-e){this.isLoadMoreHistoryThreads=!0;const e=await this.$store.dispatch("livechat/getHistoryChat");this.isLoadMoreHistoryThreads=!1,this.hasMoreHistory=e}}},selectThread(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$store.dispatch("livechat/setCurrentThread",e),this.isInConsole||w.a.isInLightningConsole?this.$emit("select-thread",e):this.$router.replace({name:"waitingThread"===this.tabName?"chat-waiting-follower":"historyThread"===this.tabName?"chat-history-follower":"chat-follower",params:{followerId:e.Follower.Id}}),t&&(this.isInconsole&&this.$store.dispatch("livechat/clearUnreadCount",{threadId:e.Id}),this.$root.$emit("focus-on-textarea"))},addNewThread:e=>new d.a(async t=>{try{const s=await Object(v.c)(e);if(s.ok){return t(JSON.parse(b.a.unescape(s.data)))}return Object(_.f)(s),t(null)}catch(e){return Object(_.f)(e),t(null)}})},beforeDestroy(){this.$root.$off(["close-thread","switch-chatting","reload-livechat"]),window.removeEventListener("resize",this.setThreadListHeight)}},N=(s("dgU6"),s("KHd+")),E=s("hAbA"),D=Object(N.a)(x,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"thread-list"},[s("div",{staticClass:"thread-switch-tab slds-border_top"},[s("ul",{staticClass:"slds-tabs_default__nav tab-switcher-container",attrs:{role:"tablist"}},[s("li",{staticClass:"slds-tabs_default__item slds-text-heading_label tab-item",class:{"slds-active":"chattingThread"===e.tabName,"chatting-not-in-console":!e.isInConsole},attrs:{title:e.$t("chatting"),role:"presentation"}},[s("span",{staticClass:"slds-tabs_default__link",on:{click:function(t){return e.switchTab("chattingThread")},dblclick:function(t){return e.jumpToUnread("top")}}},[e._v("\n          "+e._s(e.chattingThreads.length)+"/"+e._s(e.chatsLimit)+" "+e._s(e.$t("chatting"))+"\n        ")])]),e._v(" "),s("li",{staticClass:"slds-tabs_default__item slds-text-heading_label tab-item",class:{"slds-active":"waitingThread"===e.tabName,"waiting-not-in-console":!e.isInConsole},attrs:{title:e.$t("waiting"),role:"presentation"}},[s("span",{staticClass:"slds-tabs_default__link waiting-count",on:{click:function(t){return e.switchTab("waitingThread")}}},[s("span",{class:{"no-waiting":0===e.waitingThreads.length}},[e._v(e._s(e._f("addSeparators")(e.waitingThreads.length)))]),e._v(" "+e._s(e.$t("waiting"))+"\n        ")])]),e._v(" "),s("li",{staticClass:"slds-tabs_default__item slds-text-heading_label tab-item tab-item-history",class:{"slds-active":"historyThread"===e.tabName},staticStyle:{width:"50px"},attrs:{title:e.$t("history"),role:"presentation"}},[s("span",{staticClass:"slds-tabs_default__link",on:{click:function(t){return e.switchTab("historyThread")}}},[s("icon",{attrs:{"fill-color":"currentColor",name:"history","class-name":"history-icon",width:"16px",height:"16px"}})],1)])])]),e._v(" "),s("div",{ref:"threadList",staticClass:"message-list-group"},[e.showTopUnreadTip?s("div",{staticClass:"slds-grid slds-grid_align-center top-unread-btn",on:{click:function(t){return e.jumpToUnread("top")}}},[s("span",[e._v(e._s(e.$t("unreadMessages")))]),e._v(" "),s("span",{staticClass:"unread-arrow-up"},[s("icon",{attrs:{name:"arrowUp",width:"12px",height:"14px","fill-color":"#fff"}})],1)]):e._e(),e._v(" "),e.showBottomUnreadTip?s("div",{staticClass:"slds-grid slds-grid_align-center bottom-unread-btn",on:{click:function(t){return e.jumpToUnread("bottom")}}},[s("span",[e._v(e._s(e.$t("unreadMessages")))]),e._v(" "),s("span",{staticClass:"unread-arrow-down"},[s("icon",{attrs:{name:"arrowUp",width:"12px",height:"14px","fill-color":"#fff"}})],1)]):e._e(),e._v(" "),!e.isLoading&&e.orderedThreads.length>0&&e.completedGetListHeight?s("virtual-list",{ref:"virtualList",staticClass:"list",attrs:{size:e.virtualItemHeight,remain:e.threadListRemain,onscroll:e.scrollThreads,itemcount:e.itemCount}},e._l(e.orderedThreads,(function(t){return s("div",{key:t.Id,staticClass:"slds-grid slds-grid_align-spread message-list-item slds-border_bottom",class:{"router-link-active":e.currentThread&&e.currentThread.Id===t.Id},on:{click:function(s){return e.selectThread(t)}}},[s("thread-list-item",{attrs:{"time-zone-sid-key":e.currentUser.TimeZoneSidKey,thread:t,"tab-name":e.tabName,"hidden-content":e.hiddenTextContent},on:{"set-unread-info":e.setUnreadInfo}})],1)})),0):e._e(),e._v(" "),e.orderedThreads&&0===e.orderedThreads.length&&!e.isLoading?s("div",{staticClass:"no-record-div"},[s("span",[e._v(e._s(e.$t("noRecordLabel")))])]):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoading,size:"small","custom-style":e.loadingStyle}})],1)])}),[],!1,null,"d4b4b694",null);"function"==typeof E.default&&Object(E.default)(D);t.a=D.exports},CcVF:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 14 14" id="disabled_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Oval Copy</title> <desc>Created with Sketch.</desc> <path d="M7,0C3.1,0,0,3.1,0,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7C14,3.1,10.9,0,7,0z M2,7c0-2.8,2.2-5,5-5\n\tc1.1,0,2.2,0.4,3,1l-7,7C2.4,9.2,2,8.1,2,7z M7,12c-0.9,0-1.7-0.3-2.5-0.7l6.8-6.8C11.7,5.3,12,6.1,12,7C12,9.8,9.8,12,7,12z" fill=""/> </symbol>',"disabled_icon")},CdkD:function(e,t,s){},ChzW:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_decision_box" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path d="M11,20.4H3.7c-1.4,0-2.5-1.1-2.5-2.5v-14c0-1.4,1.1-2.5,2.5-2.5h10c1.4,0,2.5,1.1,2.5,2.5v10.7\n\t\tc0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V3.9c0-1.9-1.6-3.5-3.5-3.5h-10c-1.9,0-3.5,1.6-3.5,3.5v14c0,1.9,1.6,3.5,3.5,3.5H11\n\t\tc0.3,0,0.5-0.2,0.5-0.5S11.3,20.4,11,20.4z" fill=""/> <path d="M12.9,8.8H6.5C6.2,8.8,6,9.1,6,9.3s0.2,0.5,0.5,0.5h6.3c0.3,0,0.5-0.2,0.5-0.5S13.1,8.8,12.9,8.8z" fill=""/> <path d="M12.9,5.5H6.5C6.2,5.5,6,5.8,6,6s0.2,0.5,0.5,0.5h6.3c0.3,0,0.5-0.2,0.5-0.5S13.1,5.5,12.9,5.5z" fill=""/> <path d="M13.4,12.6c0-0.3-0.2-0.5-0.5-0.5H6.5c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h6.3\n\t\tC13.1,13.1,13.4,12.9,13.4,12.6z" fill=""/> <path d="M21.7,14.6c-0.2-0.2-0.5-0.2-0.7,0l-5,5l-2.4-2.4c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7l2.7,2.7\n\t\tc0.1,0.1,0.2,0.1,0.2,0.1c0.1,0,0.2,0.1,0.3,0.1c0.1,0,0.3,0,0.4-0.1l5.3-5.3C21.8,15.1,21.8,14.8,21.7,14.6z" fill=""/> <path d="M6.5,15.4c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5H9c0.3,0,0.5-0.2,0.5-0.5S9.3,15.4,9,15.4H6.5z" fill=""/> <path d="M3.9,8.8H3.5C3.2,8.8,3,9.1,3,9.3s0.2,0.5,0.5,0.5h0.3c0.3,0,0.5-0.2,0.5-0.5S4.1,8.8,3.9,8.8z" fill=""/> <path d="M3.9,5.5H3.5C3.2,5.5,3,5.8,3,6s0.2,0.5,0.5,0.5h0.3c0.3,0,0.5-0.2,0.5-0.5S4.1,5.5,3.9,5.5z" fill=""/> <path d="M3.9,12.1H3.5c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h0.3c0.3,0,0.5-0.2,0.5-0.5S4.1,12.1,3.9,12.1z" fill=""/> <path d="M3.9,15.4H3.5c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h0.3c0.3,0,0.5-0.2,0.5-0.5S4.1,15.4,3.9,15.4z" fill=""/> </g> </symbol>',"form_decision_box")},Cl3o:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="address_form" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <g> <path d="M17.7,20.6H3.8c-1.4,0-2.5-1.1-2.5-2.5v-5.8c0-1.4,1.1-2.5,2.5-2.5h0.2c0.3,0,0.5,0.2,0.5,0.5\n\t\t\ts-0.2,0.5-0.5,0.5H3.8c-0.8,0-1.5,0.7-1.5,1.5V18c0,0.8,0.7,1.5,1.5,1.5h13.9c0.8,0,1.5-0.7,1.5-1.5v-5.8c0-0.8-0.7-1.5-1.5-1.5\n\t\t\tc-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h0c1.4,0,2.5,1.1,2.5,2.5V18C20.2,19.4,19.1,20.6,17.7,20.6z" fill=""/> </g> <g> <g> <path d="M10.7,0.6c-3.4,0-6.2,2.9-6.2,6.4c0,3.6,6.2,10.3,6.2,10.3s6.2-6.7,6.2-10.3C16.9,3.5,14.1,0.6,10.7,0.6\n\t\t\t\tL10.7,0.6z M10.7,10.9c-2,0-3.7-1.7-3.7-3.9c0-2.1,1.7-3.9,3.7-3.9c2,0,3.7,1.7,3.7,3.9C14.4,9.2,12.8,10.9,10.7,10.9L10.7,10.9z\n\t\t\t\t M10.7,10.9" fill=""/> </g> </g> </g> </symbol>',"address_form")},CxwK:function(e,t,s){"use strict";var i=s("OqqY");s.n(i).a},D2YR:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABRUlEQVRYR+XZsUoDQRAG4P83j2ATycOlDWJaQRDF1iKVwc6XS1p9hV9OVggSzczuzKRw25u5/W4Xbub2CMeQdDmFk3x3pA2F0pot6RHAAwAB2JC8teaOxJmAkuYA9gBmB5NtSd6MTG7JtQIXAHbT7v64aTrSBJxQkrYAro88dSrSA7wA8AZgWYk0A9sqliNdwHMg3cBqZBfQgHwhuba8Rk7FdAOrkEPACuQwMBsZAsxEhgGzkKHADGQ4MBqZAoxEpgGjkKnACOT/Bkr6qz0z1eu0FYzAfX1Bnuomeq5H4VKAkbhwYDQuFJiBCwNm4UKAmbhhYDZuCFiB6wZW4bqAlTg3sBrnAp4D5wW+Algdqc2mrqSnppuBkn47wEzFeYBX7Qh46u++RzrODGyt+z2Ap6Z7JnnXu22ePFc/2H5DiOSHZ5KR2E/Za8gp9CIaogAAAABJRU5ErkJggg=="},DDTe:function(e,t,s){"use strict";var i=s("ax3p");s.n(i).a},DGbc:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="text_active" ><g fill="#004487"><path fill="" d="m25.9 16l4.3 10h-9l3.9-10h0.8z m22.1-8v36c0 2.2-1.8 4-4 4h-36c-2.2 0-4-1.8-4-4v-36c0-2.2 1.8-4 4-4h36c2.2 0 4 1.8 4 4z m-5.5 32.7l-12-29.7c-0.3-0.6-0.8-1-1.5-1h-7.1c-0.6 0-1.2 0.4-1.4 1l-11 29.7c-0.2 0.6 0.2 1.3 0.9 1.3h4.1c0.6 0 1.2-0.5 1.4-1.1l3.2-8.9h13.4l3.5 8.9c0.2 0.6 0.8 1.1 1.4 1.1h4.1c0.7 0 1.2-0.7 1-1.3z"/></g></symbol>',"text_active")},DInU:function(e,t,s){"use strict";var i=s("wG3i"),a=s.n(i),n=s("VjUb"),o=s("11pw");const l=o.b.current.isInLightningConsole?"LightningConsole":"Visualforce",r=n.TransporterCreator.create({namespace:o.b.current.charketNamespace,env:l});class c extends n.TransportBase{constructor(e){super(e,r)}}var d=c;const h="QRCodeRemoteActions";var u=class extends d{constructor(){super(h)}getQRCodes(e){let{accountId:t,type:s,pageNumber:i=0,pageSize:n=20,filter:o={}}=e;return this.invoke("getQRCodes",[t,s,i,n,a()(o)])}getQRCodeById(e){return this.invoke("getQRCodeById",[e])}getRelatedObjectNames(){return this.invoke("getRelatedObjectNames")}getCampaignMemberStatus(e){return this.invoke("getCampaignMemberStatus",[e])}generateQRCode(e){return this.invoke("generateQRCode",[e])}createQRCode(e){return this.invoke("createQRCode",[a()(e)])}updateQRCode(e){return this.invoke("updateQRCode",[a()(e)])}activate(e){return this.invoke("changeQRCodeStatus",[e,!0])}deactivate(e){return this.invoke("changeQRCodeStatus",[e,!1])}},p=s("tpxy"),m=s.n(p);const g="LiveChatRemoteActions";var f=class extends d{constructor(){super(g)}sendNotificationTemplateMessage(e){let{msg:t,followerId:s,forceSend:i=!1}=e;return this.invoke("sendNotificationTemplateMessage",[t,s,i])}sendMessage(e){let{forceSend:t=!1}=e,s=m()(e,["forceSend"]);return this.invoke("sendMessage",[a()(s),t])}resendMessage(e){let{forceSend:t=!1}=e,s=m()(e,["forceSend"]);return this.invoke("resendMessage",[a()(s),t])}getUnreadMessageCount(){return this.invoke("getUnreadMessageCount")}getLiveChatSettings(){return this.invoke("getLiveChatSettings")}getAgentsNotificationsSettings(){return this.invoke("getAgentsNotificationsSettings")}setNotificationsSettings(e){return this.invoke("setNotificationsSettings",[a()(e)])}getChatItem(e){return this.invoke("getChatItem",[e])}getTranscript(e){return this.invoke("getTranscript",[e])}acceptChat(e){return this.invoke("acceptChat",[e])}createNewThread(e){return this.invoke("createNewThread",[e])}updateQuickReplyMessage(e){return this.invoke("updateQuickReplyMessage",[e])}getQuickReplyMessage(e){let{type:t,wechatAccountId:s,searchKey:i,orderBy:a,numToReturn:n}=e;return this.invoke("getQuickReplyMessage",[t,s,i,a,n])}};const v="FollowerRemoteActions";var _=class extends d{constructor(){super(v)}getFollowers(e){let{wechatAccountId:t,type:s,searchKey:i,filter:n={},sortBy:o={},pageNumber:l=1}=e;return this.invoke("getFollowers",[t,s,i,a()(n),a()(o),l])}block(e,t){return this.invoke("blockFollowers",[t,e])}unblock(e,t){return this.invoke("unblockFollowers",[t,e])}sync(e){return this.invoke("syncFollower",[e])}getFollowerDetail(e){return this.invoke("getFollowerDetail",[e])}getFollowerRelatedData(e){return this.invoke("getFollowerRelatedData",[e])}};const C="TagRemoteActions";var b=class extends d{constructor(){super(C)}getWeChatTags(e){return this.invoke("getWeChatTags",[e])}checkCharketTagEnabled(){return this.invoke("checkCharketTagEnabled")}};const w="DatabaseRemoteActions";var y=class extends d{constructor(){super(w)}getRecentlyViewedRecords(e,t){return this.invoke("getRecentlyViewedRecords",[e,t])}searchRecords(e,t,s,i){return this.invoke("searchRecords",[e,t,s,i])}searchRecordsWithLayoutFields(e,t,s,i){return this.invoke("searchRecordsWithLayoutFields",[e,t,s,i])}};const T="MessageRemoteActions";var L=class extends d{constructor(){super(T)}getWeChatMessage(e){return this.invoke("getWeChatMessage",[e])}};const I="WeChatAccountRemoteActions";var k=class extends d{constructor(){super(I)}getAllValidWeChatAccounts(){return this.invoke("getAllValidWeChatAccounts")}getWeChatAccount(e){return this.invoke("getWeChatAccount",[e])}};const S="SObjectRemoteActions";var M=class extends d{constructor(){super(S)}getAllMergeableSObjects(e){return this.invoke("getAllMergeableSObjects",[e],{keepNamespace:!0})}getMergeableSObject(e){return this.invoke("getMergeableSObject",[e],{keepNamespace:!0})}getObjectsByPageName(e){return this.invoke("getMergeableSObjects",[e],{keepNamespace:!0})}getFields(e){return this.invoke("getFields",[e],{keepNamespace:!0})}};const A="AgentRemoteActions";var x=class extends d{constructor(){super(A)}getCurrentUserAgents(e){return this.invoke("getCurrentUserAgents",[e])}getLeastActiveAgents(e,t,s){return this.invoke("getLeastActiveAgents",[e,t,s])}};const N="SkillRemoteActions";var E=class extends d{constructor(){super(N)}getAllPickListValues(){return this.invoke("getSkillPicklistValues")}getSkills(e){let{filter:t={},searchKey:s="",sortBy:i="",numberOfRowsToReturn:n=0,numberOfRowsToSkip:o=0}=e;return this.invoke("getSkills",[a()(t),s,i,n,o])}activate(e){return this.invoke("changeSkillStatus",[e,!0])}deactivate(e){return this.invoke("changeSkillStatus",[e,!1])}deleteSkill(e){return this.invoke("deleteSkill",[e])}executeSkill(e){let{skillId:t,followerId:s,forceExecute:i}=e;return this.invoke("executeSkill",[t,s,i])}getSkill(e){return this.invoke("getSkill",[e])}saveSkill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.invoke("saveSkill",[a()(e)])}};const D="CouponRemoteActions";var P=class extends d{constructor(){super(D)}getWeChatCoupons(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.invoke("getWeChatCoupons",[e,t,s,i])}getWeChatCouponsByIds(e){return this.invoke("getWeChatCouponsByIds",[a()(e)])}};const R="CharketSettingsRemoteActions";var O=class extends d{constructor(){super(R)}getCharketSettings(){return this.invoke("getCharketSettings")}};const B="MessageRemoteActions";var $=class extends d{constructor(){super(B)}getWeChatMessage(e){return this.invoke("getWeChatMessage",[e])}getWeChatMessages(e){return this.invoke("getWeChatMessages",[e])}syncNews(e,t){return this.invoke("syncNews",[e,t])}syncImages(e,t){return this.invoke("syncImages",[e,t])}syncVideos(e,t){return this.invoke("syncVideos",[e,t])}syncVoices(e,t){return this.invoke("syncVoices",[e,t])}saveImage(e,t,s,i,a){return this.invoke("saveImage",[e,t,s,i,a])}saveVoice(e,t,s,i,a){return this.invoke("saveVoice",[e,t,s,i,a])}saveVideo(e,t,s,i,a,n){return this.invoke("saveVideo",[e,t,s,i,a,n])}saveTextMessage(e,t){return this.invoke("saveTextMessage",[e,t])}updateTextMessage(e,t){return this.invoke("updateTextMessage",[t,e])}uploadFileToWeChat(e,t,s){return this.invoke("uploadFileToWeChat",[e,t,s])}deleteMessage(e){return this.invoke("deleteMessage",[e])}getMessages(e,t,s,i,a){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return this.invoke("getMessages",[e,t,s,i,a,n])}getImages(e,t,s,i){return this.invoke("getImages",[e,t,s,i])}getVideos(e,t,s,i){return this.invoke("getVideos",[e,t,s,i])}getVoices(e,t,s,i){return this.invoke("getVoices",[e,t,s,i])}getMiniProgramPages(e,t,s,i){return this.invoke("getMiniProgramPages",[e,t,s,i])}getStructuredMessages(e,t,s,i,a){let{structuredType:n="mpnews"}=a;return this.invoke("getStructuredMessages",[e,t,s,i,n])}getMiniProgramAppId(e){return this.invoke("getMiniProgramAppId",[e])}getTextMessages(e,t,s,i){return this.invoke("getTextMessages",[e,t,s,i])}};const F="MassMessageRemoteActions";var U=class extends d{constructor(){super(F)}getSelectedFollowerCount(e,t){return this.invoke("getSelectedFollowerCount",[e,a()(t)])}asyncSendMassMessage(e,t,s,i){return this.invoke("asyncSendMassMessage",[e,t,a()(s),i])}asyncSendMassTemplateMessage(e,t,s,i){return this.invoke("asyncSendMassTemplateMessage",[e,t,a()(s),i])}sendMassTemplateMessage(e,t,s,i){return this.invoke("sendMassTemplateMessage",[e,t,s,a()(i)])}isTemplateMessageSendByAsync(e,t){return this.invoke("isTemplateMessageSendByAsync",[e,a()(t)])}createTemplateMessageParentEvent(e,t,s){return this.invoke("createTemplateMessageParentEvent",[e,t,a()(s)])}getMassSendTemplateMessageResult(e,t,s){return this.invoke("getMassSendTemplateMessageResult",[e,t,s])}getListViewSupportedSObjects(){return this.invoke("getListViewSupportedSObjects")}getSentMassMessages(e,t,s,i){return this.invoke("getSentMassMessages",[e,t,s,i])}};const V="ListViewRemoteActions";var j=class extends d{constructor(){super(V)}getListViews(e){return this.invoke("getListViews",[e])}};const z="ResponseRemoteActions";var W=class extends d{constructor(){super(z)}getWeChatMessages(e){return this.invoke("getWeChatMessages",[a()(e)])}};const H="PassRemoteActions";var G=class extends d{constructor(){super(H)}getWeChatPasses(e,t,s,i){return this.invoke("getWeChatPasses",[e,t,s,i])}getWeChatPass(e){return this.invoke("getWeChatPass",[e])}};const Z="NotificationTemplateRemoteActions";var X=class extends d{constructor(){super(Z)}getNotificationTemplates(e,t,s,i){return this.invoke("getNotificationTemplates",[e,s,t,i])}getWeChatNotifications(e){return this.invoke("getWeChatNotifications",[e])}getTemplate(e){return this.invoke("getTemplate",[e])}getMergedTemplateMessage(e){let{id:t,followerId:s,agentId:i}=e;return this.invoke("getMergedTemplateMessage",[t,s,i])}};const Q="MenuRemoteActions";var Y=class extends d{constructor(){super(Q)}getDefaultMenu(e){return this.invoke("getDefaultMenu",[e])}getMenuFilters(){return this.invoke("getMenuFilters",[])}getMenu(e){return this.invoke("getMenu",[e])}updateMenu(e,t){return this.invoke("updateMenu",[e,a()(t)])}publishMenu(e){return this.invoke("publishMenu",[e])}updateCustomMenu(e,t){return this.invoke("updateCustomMenu",[e,a()(t)])}publishCustomMenu(e,t){return this.invoke("publishCustomMenu",[e,t])}getCustomMenus(e){let{wechatAccountId:t,offset:s,pageSize:i,type:a}=e;return this.invoke("getCustomMenus",[t,s,i,a])}getCustomMenuCount(e){return this.invoke("getCustomMenuCount",[e])}getSavePriorityConfirmMessage(e,t){return this.invoke("getSavePriorityConfirmMessage",[e,t])}savePriority(e,t){return this.invoke("savePriority",[e,t])}deleteCustomMenu(e){return this.invoke("deleteCustomMenu",[e])}};const q="SystemInfoRemoteActions";var J=class extends d{constructor(){super(q)}getCurrentGMTTime(){return this.invoke("getCurrentGMTTime",[])}};const K="CampaignFlowRemoteActions";var ee=class extends d{constructor(){super(K)}saveImage(e,t,s,i,a){return this.invoke("saveImage",[e,t,s,i,a])}};s.d(t,"g",(function(){return f})),s.d(t,"n",(function(){return u})),s.d(t,"e",(function(){return _})),s.d(t,"t",(function(){return b})),s.d(t,"o",(function(){return y})),s.d(t,"j",(function(){return L})),s.d(t,"u",(function(){return k})),s.d(t,"q",(function(){return M})),s.d(t,"a",(function(){return x})),s.d(t,"r",(function(){return E})),s.d(t,"d",(function(){return P})),s.d(t,"c",(function(){return O})),s.d(t,"k",(function(){return $})),s.d(t,"h",(function(){return U})),s.d(t,"f",(function(){return j})),s.d(t,"p",(function(){return W})),s.d(t,"m",(function(){return G})),s.d(t,"l",(function(){return X})),s.d(t,"i",(function(){return Y})),s.d(t,"s",(function(){return J})),s.d(t,"b",(function(){return ee}))},DUKU:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAEJElEQVRoQ+1aV0vEQBCe2BUrWLB3RVBfFCwoKhYU8cl/6YNPIthAxAMVQcQXG/bePXuNfIM5cvHKbs7T3JEP7iWZ7M633+zMbC6Kqqrq3d0drays0OnpKb2/v1MoIioqirKysqimpoaSkpJIcTqd6tTUFL29vYUinx8+R0dHU2dnJykOh0M9PDwMC1IaidzcXFKGh4fVUA0/b2ogLJWhoSE1rOT6JmMTCzVVbcVsxSyyAnYoWkQIYTdsxYSXyiKGtmK+hEhMTCQ0npmZmXxkiI2NZfPX11dyOp10eXlJ+/v7hOPRXyEgxZKTk6m6uppycnJIURSfPquqShcXF7S8vEzX19dB52eaWFlZGdXW1lJkZKSUkyC4trbGB9tgwhSxqqoqVioQIDTn5uYCGcLns9LE8vLyqKmpyW3Q29tburm54X2Gs5AeUAivHBCqOLrrsbq6GjTlpIjh2N3b20txcXEu/5AcxsfHCQRKSkqorq7Ozfn19XXeV0BLSwtlZ2e77uOZiYkJwsL8NqSIeXIcTsE5OFlcXEz19fVeVWlubmZV9djd3aWFhYXf5iV3gm5ra+OUbsTV1RWvOsIUqhpD8eDggEOR30UoCn18fHAZeH5+5pLw78T6+/spISHB9Oqen59zLYuIiKC0tDSKj4/nrKrVu7OzM9rZ2WHCgUIqFAcHB9kpWcBxhBySB2qfL3x+ftLW1hYnlUBeMkkRGxgYcEscIgRfXl7o+PiYCgsL/RZx/Xj39/c0MzNDDw8PItP8sJEiZsxq/mZEQoFSRUVF/kw93gepyclJDlVZSBErKCighoYG4TmgVEZGhlttQ03b2Nig8vJyt7p2dHRE29vbVFFRwc9o2Nvbo/n5eeE5NUMpYshoPT09fveJNjiyITKlHnASzubn51NjY6PrlsPhIJAzLh5UHx0dpcfHRylyUsQwcmpqKnV0dPzoMIyzIp0DxmSBjHdycsKNc0xMjOuxp6cn7lCM12GwtLREm5ubwSWG0ZHd0FYZa5Z+ZvwfADtjiyXl3bexvnsRfV5aMW3glJQUam1t5VrkCdgvWH3tbCbqkCc7Mz2laWJwoK+vj3DI9AQoBkU9dSqyJGdnZ7lkyMA0Mey17u5uTsU4X6GtwjUQhYrYS7hm7B1lnIMtOpWxsTHuRWVgmlhlZSW3Q4h/bx0CsmhXVxcTNgN0IdPT0/xqQRamicFpkVXEO5D29nbpjgVjLy4ucu9oBqaJyUyGlI+ahYQjAnT/qHeB/NP6J8RABs0z3pOg4/B3QkBNGxkZEVkDrzZ/RkzvAY4s6enpHJ7YpyCCgo5EUVpayj/sLSQfs/gXYv6cRVaFqmaShja2JYn5Iy5y3yYmskpWsrEVs5IaIr7YiomskpVsbMWspIaIL+GrWNh+1he2H2KG7aez4fqx8xe3LFAb6D2CZwAAAABJRU5ErkJggg=="},DVZo:function(e,t,s){"use strict";var i=s("kGY6");s.n(i).a},DbBp:function(e,t,s){"use strict";var i=s("wG3i"),a=s.n(i),n=s("SLhn"),o=s.n(n),l=s("+dyS"),r=s.n(l),c=s("ejTr"),d=s.n(c),h=s("vQrK"),u=s.n(h),p=s("7aFC"),m=s("4B+h"),g=s("L2JU"),f={props:{message:{type:Object,required:!0},thread:{type:Object,required:!0}},filters:{filterName:p.d},computed:u()({},Object(g.c)({agentInfo:"livechat/agentInfo"}),{url(){return"Charket Bot"===this.message.SendBy?this.botImage:("Agent"===this.message.SendBy||"Supervisor"===this.message.SendBy)&&this.message.Sender&&this.message.Sender.PhotoUrl?this.message.Sender.PhotoUrl:"Follower"===this.message.SendBy?this.thread.Follower.PhotoUrl:""},noNameFollowerInfo(){if(this.thread.Follower&&this.thread.Follower.Id){const e=this.thread.Follower.Id,t=e.substring(0,e.length-3);return Object(m.c)(t)}return{Name:"A",BgColor:"#29a49c"}},senderColor(){let e={};if(this.agentInfo){const t=["#29a49c","#eb6e66","#655df0","#42ac5e"];let s=0;for(const i of d()(this.agentInfo))i===this.thread.Agent.Id?e[i]="#116fd2":(e[i]=t[s],s++,s>3&&(s=0))}return e}}),data:()=>({botImage:s("dklp"),errorImg:s("GHCX")})},v=(s("N+mu"),s("KHd+")),_=Object(v.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-media__figure"},[e.url?s("div",{staticClass:"slds-avatar slds-avatar_large avatar-panel",style:{"background-image":"url('"+e.url+"'),url('"+e.errorImg+"')"}}):e._e(),e._v(" "),e.url||"Agent"!==e.message.SendBy&&"Supervisor"!==e.message.SendBy?e._e():s("div",{staticClass:"slds-avatar slds-avatar_large avatar-panel",style:{"background-color":e.senderColor[e.message.Sender.Id]}},[e._v("\n    "+e._s(e._f("filterName")(e.message.Sender.Name))+"\n  ")]),e._v(" "),e.url||"Follower"!==e.message.SendBy?e._e():s("div",{staticClass:"slds-avatar slds-avatar_large avatar-panel",style:{"background-color":e.noNameFollowerInfo.BgColor}},[e._v("\n    "+e._s(e.noNameFollowerInfo.Name)+"\n  ")])])}),[],!1,null,"645ce3e2",null).exports,C=s("wA34"),b=s("Y/WH"),w=s("NZ6z"),y=s("w2Vt"),T=s("UX+f"),L={props:{message:{type:Object,required:!0},transcriptItemId:{type:String,default:()=>""},followerId:{type:String,default:()=>""}},computed:{hasMore(){return this.message.HasMore},attachmentId(){return this.message.Body?this.message.Body.AttachmentId:null},showMessageContent(){return"-1"!==this.attachmentId&&!this.errorCode&&!this.hasMore},errorCode(){return this.message.Body?this.message.Body.ErrorCode:""},errorMessage(){return this.message.Body?this.message.Body.ErrorMessage:""},isLoading(){return!this.showReloadButton&&("GET_FILE_TIMEOUT"===this.errorCode||!("-1"!==this.attachmentId&&!this.hasMore))},showError(){return!this.isLoading&&(this.errorCode||this.showReloadButton)},showRedExclamationMark(){return this.errorCode&&this.errorMessage},videoErrorIcon(){return"GET_FILE_TIMEOUT"===this.errorCode?"brokeVideo":"unableVideo"}},mounted(){"GET_FILE_TIMEOUT"===this.errorCode&&(this.showReloadButton=!0),this.render()},methods:{render(){if(this.errorCode||this.attachmentId&&"-1"!==this.attachmentId)return;let e=null;const t=this.$watch("attachmentId",s=>{s&&"-1"!==s&&e&&window.clearTimeout(e),t()});e=window.setTimeout(()=>{"-1"===this.attachmentId?this.showReloadButton=!0:t()},3e4)},async onClickReload(){this.showReloadButton=!1,await this.$store.dispatch("livechat/getChatItem",{itemId:this.transcriptItemId,followerId:this.followerId}),"-1"!==this.attachmentId&&"GET_FILE_TIMEOUT"!==this.errorCode||(this.showReloadButton=!0)}},data:()=>({showReloadButton:!1,waitingAttachmentFilledTimer:null})},I=(s("sqev"),s("MZWS")),k=Object(v.a)(L,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showMessageContent?e._t("default"):s("div",["Image"==e.message.Type?s("div",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center image-error"},[e.isLoading?s("div",{staticClass:"loading-icon"},[s("ld-loading",{attrs:{size:"x-small",type:""}})],1):e._e(),e._v(" "),e.showError?s("div",{staticClass:"content-center slds-grid slds-grid_vertical"},[e.showRedExclamationMark?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.errorMessage},expression:"{content: errorMessage}"}],staticClass:"red-exclamation-mark"},[s("icon",{attrs:{name:"redExclamationMark","fill-color":"#d4504c",width:"16px",height:"16px"}})],1):e._e(),e._v(" "),s("icon",{attrs:{name:"brokeImage","fill-color":"#bac0c5",width:"40px",height:"30px"}}),e._v(" "),e.showReloadButton?s("div",{staticClass:"reload-btn",on:{click:function(t){return e.onClickReload()}}},[e._v("\n          "+e._s(e.$t("reload"))+"\n        ")]):e._e()],1):e._e()]):e._e(),e._v(" "),"Video"===e.message.Type?s("div",[e.isLoading?s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("div",{staticClass:"loading-icon loading-icon-video"},[s("ld-loading",{attrs:{size:"small"}})],1),e._v(" "),s("span",[e._v(e._s(e.$t("receivingVideo")))])]):e._e(),e._v(" "),e.showError?s("div",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center image-error"},[s("div",{staticClass:"content-center slds-grid slds-grid_vertical"},[e.showRedExclamationMark?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.errorMessage},expression:"{content: errorMessage}"}],staticClass:"red-exclamation-mark"},[s("icon",{attrs:{name:"redExclamationMark","fill-color":"#d4504c",width:"16px",height:"16px"}})],1):e._e(),e._v(" "),s("icon",{attrs:{name:e.videoErrorIcon,"fill-color":"#bac0c5",width:"40px",height:"30px"}}),e._v(" "),e.showReloadButton?s("div",{staticClass:"reload-btn",on:{click:function(t){return e.onClickReload()}}},[e._v("\n            "+e._s(e.$t("reload"))+"\n          ")]):e._e()],1)]):e._e()]):e._e()])],2)}),[],!1,null,"38d84574",null);"function"==typeof I.default&&Object(I.default)(k);var S=k.exports,M={components:{MediaMessageLoader:S,VideoDetailCard:s("NAIw").VideoDetailCard},props:{message:{type:Object,required:!0},followerId:{type:String,default:""}},computed:{attachmentId(){return this.message.Body?this.message.Body.AttachmentId:""},title(){return this.message.Body&&this.message.Body.Title||""},description(){return this.message.Body&&this.message.Body.Description||""},mediaUrl(){return this.attachmentId?"/servlet/servlet.FileDownload?file=".concat(this.attachmentId):null},thumbMediaUrl(){return this.message.ThumbMediaUrl}}},A=Object(v.a)(M,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("media-message-loader",{attrs:{message:e.message,"transcript-item-id":e.message.Id,"follower-id":e.followerId}},[e.mediaUrl?s("video",{staticStyle:{width:"300px",height:"200px"},attrs:{controls:"controls",src:e.mediaUrl,poster:e.thumbMediaUrl}}):s("video-detail-card",{attrs:{title:e.title,description:e.description}})],1)}),[],!1,null,null,null).exports,x={inject:["showErrorImg"],components:{MediaMessageLoader:S},props:{message:{type:Object,required:!0},followerId:{type:String,default:""}},computed:{attachmentId(){return this.message.Body?this.message.Body.AttachmentId:""},mediaUrl(){return this.attachmentId?"/servlet/servlet.FileDownload?file=".concat(this.attachmentId):null}},methods:{onClickImage(){this.$emit("click",this.mediaUrl)}}},N=(s("eiBq"),Object(v.a)(x,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("media-message-loader",{attrs:{message:e.message,"transcript-item-id":e.message.Id,"follower-id":e.followerId}},[s("img",{staticClass:"msg-content",attrs:{src:e._f("imgFilter")(e.mediaUrl)},on:{error:function(t){return e.showErrorImg(t)},click:function(t){return e.onClickImage()}}})])}),[],!1,null,"6f537a7c",null).exports),E=s("/GJs"),D={props:{message:{type:Object,required:!0}},components:{Emotions:E.a},computed:{hasMore(){return this.message.HasMore},isKeyword(){return this.message.Body&&this.message.Body.IsKeyword},content(){return this.message.Body&&this.message.Body.Content||""}},mounted(){if(this.hasMore){const e=this.$watch("hasMore",()=>{this.$root.$emit("text-message-loaded"),e()})}}},P=Object(v.a)(D,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.hasMore?t("ld-dot-loading"):t("emotions",{class:{keyword:this.isKeyword},attrs:{content:this.content}})],1)}),[],!1,null,null,null).exports,R=s("rVwK"),O={components:{MessageAvatar:_,LoadingSpinner:y.a,notificationDetail:C.a,MiniProgramDetail:b.a,StructureMessageDetailCard:w.StructureMessageDetailCard,CktLink:T.a,ImageMessage:N,VideoMessage:A,TextMessage:P},inject:["showErrorImg"],props:{index:Number,message:Object,currentUser:Object,showCaseCheckbox:Boolean,checkedMessages:{type:Array,default:()=>[]},currentThread:{type:Object,default:()=>({})}},computed:{checkedMessagesArray:{get(){return this.checkedMessages},set(e){this.$emit("update:checkedMessages",e)}},senderName(){return this.currentThread.Follower.Id===this.message.Sender.Id?this.currentThread.Follower.Name:this.message.Sender.Name},isChecked(){var e;return r()(e=this.checkedMessages).call(e,e=>e===this.message.MsgId)},mediaUrl(){if(this.message.Body.AttachmentId||this.message.Body.LogoAttachmentId){const e=this.message.Body.AttachmentId||this.message.Body.LogoAttachmentId;return"/servlet/servlet.FileDownload?file=".concat(e)}return null},locationImageUrl(){var e,t,s;return"Location"===this.message.Type&&this.message.Body.Latitude&&this.message.Body.Longitude?o()(e=o()(t=o()(s="https://st.map.qq.com/api?size=225*150&center=".concat(this.message.Body.Longitude,",")).call(s,this.message.Body.Latitude,"&zoom=120&markers=")).call(t,this.message.Body.Longitude,",")).call(e,this.message.Body.Latitude):null},locationUrl(){var e,t,s;return"Location"===this.message.Type&&this.message.Body.Latitude&&this.message.Body.Longitude?o()(e=o()(t=o()(s="https://map.qq.com/?type=marker&isopeninfowin=1&markertype=1&pointx=".concat(this.message.Body.Longitude,"&pointy=")).call(s,this.message.Body.Latitude,"&name=")).call(t,"Follower"===this.message.SendBy&&this.currentThread?this.currentThread.Follower.Name:this.message.Sender.Name||"","&addr=")).call(e,this.message.Body.Content):null},isShowMoreLinkVisible(){return this.message.HasMore&&"Transfer"===this.message.Type},errorMessage(){return this.message.Error?this.message.Error.message:""},hasRunningSkillError(){return this.message.Error&&"HAS_RUNNING_SKILL"===this.message.Error.code},messageErrorContent(){return this.hasRunningSkillError?this.$t("hasRunningSkillError",[this.message.Error.runningSkill.name]):this.$t("msgDeliveredError")},resendButton(){return this.hasRunningSkillError?this.$t("send"):this.$t("resend")},discardButton(){return this.hasRunningSkillError?this.$t("cancel"):this.$t("discard")}},data(){return{hovered:!1,showRecognition:!1,loadingStyle:"position: relative;float: left;margin: 10px 20px 0 10px;z-index: 0;",structureMsgLinkTitle:this.$t("global.openLabel"),structureMsgTooltipContent:this.$t("global.syncedWithWeChatPlatform")}},methods:{openNewWindow(e){window.open(e)},miniProgramFilter:e=>({title:e.Title,url:"/servlet/servlet.FileDownload?file=".concat(e.CoverImageAttachmentId)}),getCamelCaseAttachments:e=>new R.e(JSON.parse(a()(e))).body,messageHovered(){this.hovered=!0},getMoreMessageContent(e,t){this.$store.dispatch("livechat/getChatItem",{itemId:e,followerId:t})},messageUnHovered(){this.hovered=!1},otherImageFilter:e=>e?"/servlet/servlet.FileDownload?file=".concat(e):null,onClickImage(e){this.$emit("view-current-image",e)},resendMessage(e){const t=this.message.Error&&"HAS_RUNNING_SKILL"===this.message.Error.code;this.$emit("remove-message",e);let s={};const i=this.currentThread.Id;JSON.parse(a()(e)),"TEXT"===e.Type?s={type:"Text Message",content:e.Body.Content,MsgId:e.MsgId}:(e.Msg.MsgId=e.MsgId,s=e.Msg),this.$store.dispatch("livechat/sendMessage",{msg:s,transcriptId:i,forceSend:t});const n=this.currentThread.Follower.Id;this.$store.commit("livechat/UPDATE_SENDING_STATUS",{followerId:n,type:"decreaseErrorCount"})},removeMessage(e){this.$emit("remove-message",e);const t=this.currentThread.Follower.Id;this.$store.commit("livechat/UPDATE_SENDING_STATUS",{followerId:t,type:"decreaseErrorCount"})},appearRecognition(){this.showRecognition=!0}}},B=(s("/T/s"),s("yP2L")),$=Object(v.a)(O,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid users-message-page",on:{mouseover:e.messageHovered,mouseleave:e.messageUnHovered}},[s("message-avatar",{attrs:{message:e.message,thread:e.currentThread}}),e._v(" "),s("div",{staticClass:"slds-media__body live-chat-msg"},[s("div",{staticClass:"slds-grid msg-content-header"},[s("div",{staticClass:"slds-truncate msg-target-name slds-grid slds-grid_align-spread"},[s("span",{staticClass:"slds-truncate only-copy-name",class:{"error-font":e.message.Error},domProps:{textContent:e._s(e.senderName)}}),e._v(" "),s("span",{staticClass:"only-copy-timedetail"},[e._v(e._s(e._f("formatDatetimeFilter")(e.message.WeChatCreatedTime,e.currentUser.TimeZoneSidKey))+" ("+e._s(e._f("timezoneFilter")(e.message.WeChatCreatedTime,e.currentUser.TimeZoneSidKey))+")")]),e._v(" "),s("span",{staticClass:"slds-truncate msg-create-date slds-text-body_small"},[e._v("\n          "+e._s(e._f("formatNoTimeZoneDateTime")(e.message.WeChatCreatedTime,"time"))+"\n        ")])]),e._v(" "),s("span",{staticClass:"slds-truncate msg-internal-comment slds-text-body_small only-copy-info"},["Transfer"===e.message.Type?s("span",["Supervisor"===e.message.SendBy?s("span",[e._v(e._s(e.$t("supervisorComment")))]):s("span",[e._v(e._s(e.$t("internalComment")))])]):e._e(),e._v(" "),"Charket Bot"===e.message.SendBy?s("span",[e._v(e._s(e.$t("autoResponse")))]):e._e()]),e._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:(e.hovered||e.isChecked)&&e.showCaseCheckbox,expression:"(hovered || isChecked) && showCaseCheckbox"}],staticClass:"slds-checkbox",staticStyle:{"margin-left":"10px","line-height":"16px"},attrs:{for:e.message.MsgId}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedMessagesArray,expression:"checkedMessagesArray"}],staticStyle:{display:"none"},attrs:{type:"checkbox",id:e.message.MsgId},domProps:{value:e.message.MsgId,checked:Array.isArray(e.checkedMessagesArray)?e._i(e.checkedMessagesArray,e.message.MsgId)>-1:e.checkedMessagesArray},on:{change:function(t){var s=e.checkedMessagesArray,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e.message.MsgId,o=e._i(s,n);i.checked?o<0&&(e.checkedMessagesArray=s.concat([n])):o>-1&&(e.checkedMessagesArray=s.slice(0,o).concat(s.slice(o+1)))}else e.checkedMessagesArray=a}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])]),e._v(" "),s("div",{staticClass:"msg-content-body only-copy-content",class:{"error-font":e.message.Error}},["Subscribe"==e.message.Type||"Unsubscribe"==e.message.Type?s("div",{class:{"subscribe-content":"Subscribe"==e.message.Type,"unsubscribe-content":"Unsubscribe"==e.message.Type}},[e._v("\n        "+e._s("Subscribe"==e.message.Type?e.$t("subscribeLabel"):e.$t("unSubscribeLabel"))+"\n      ")]):e._e(),e._v(" "),"Text"==e.message.Type?s("text-message",{attrs:{message:e.message,"transcript-item-id":e.message.Id,"follower-id":e.currentThread.Follower.Id}}):e._e(),e._v(" "),"Transfer"==e.message.Type?s("pre",{staticClass:"msg-content content-pre msg-transfer-content"},[s("span",{staticClass:"transfer-span"},[e._v(e._s(e.$t("transferLabel")))]),e._v(" "+e._s(e.message.Body.Comment))]):e._e(),e._v(" "),e.isShowMoreLinkVisible?s("a",{on:{click:function(t){return e.getMoreMessageContent(e.message.Id,e.currentThread.Follower.Id)}}},[e._v("\n        "+e._s(e.$t("showMore"))+"\n      ")]):e._e(),e._v(" "),"Image"===e.message.Type?s("image-message",{staticClass:"image-content",attrs:{message:e.message,"follower-id":e.currentThread.Follower.Id},on:{click:e.onClickImage}}):e._e(),e._v(" "),"Click"==e.message.Type||"View"==e.message.Type?s("div",{staticClass:"menu-content",class:{"click-content":"View"==e.message.Type||"Click"==e.message.Type}},[e._v(e._s(e.message.Body.Content))]):e._e(),e._v(" "),"Scan"==e.message.Type?s("ckt-link",{class:{"scan-content":"Scan"==e.message.Type},attrs:{href:"/"+e.message.Body.ObjectId,label:e.message.Body.Content,"is-console-tab-active":!0,"console-primary-tab-name":e.message.Body.ObjectId}}):e._e(),e._v(" "),"File"==e.message.Type?s("div",[e._v(e._s(e.$t("unsupportedFileMessageLabel")))]):e._e(),e._v(" "),"Voice"==e.message.Type?s("div",{staticClass:"voice-content"},["-1"!==e.message.Body.AttachmentId?s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:e.message.Body&&e.message.Body.IsKeyword,expression:"message.Body && message.Body.IsKeyword"}],staticClass:"keyword"},[e._v("[Keyword]")]),e._v(" "),s("a",{class:{"no-attachment-id":!e.message.Body.AttachmentId},attrs:{href:e.mediaUrl,target:"_blank"}},[e._v(e._s(e.$t("viewVoiceFile")))]),e._v(" "),e.message.Body.Recognition&&!e.showRecognition?s("a",{on:{click:function(t){return e.appearRecognition()}}},[e._v("["+e._s(e.$t("convertVoice"))+"]")]):e._e(),e._v(" "),e.showRecognition?s("p",[e._v(e._s(e.message.Body.Recognition))]):e._e()]):s("div",[s("loading-spinner",{attrs:{"is-loading":!0,size:"small","custom-style":e.loadingStyle}}),e._v(" "),s("span",[e._v(e._s(e.$t("receivingVoice")))])],1)]):e._e(),e._v(" "),"Video"===e.message.Type?s("video-message",{staticClass:"video-content",attrs:{message:e.message,"follower-id":e.currentThread.Follower.Id}}):e._e(),e._v(" "),"Link"==e.message.Type?s("div",{staticClass:"link-content"},[e.message.Body&&!e.message.HasMore?s("a",{staticStyle:{color:"#000"},attrs:{target:"_blank",href:e.message.Body.URL}},[s("p",[e._v("["+e._s(e.$t("linkMsgType"))+"]"+e._s(e.message.Body.Title))]),e._v(" "),s("p",{staticClass:"link-description",staticStyle:{color:"#666"}},[e._v(e._s(e.message.Body.Description))])]):s("div",[s("loading-spinner",{attrs:{"is-loading":!0,size:"small","custom-style":e.loadingStyle}}),e._v(" "),s("span",[e._v(e._s(e.$t("receivingLinkMsg")))])],1)]):e._e(),e._v(" "),"Location"==e.message.Type?s("div",{staticClass:"location-content"},[s("span",[e._v("["+e._s(e.$t("locationMsgType"))+"] ")]),e._v(" "),s("a",{attrs:{target:"_blank",href:e.locationUrl}},[e._v(e._s(e.message.Body.Content))]),e._v(" "),s("a",{staticClass:"location-image-wrapper",attrs:{target:"_blank",href:e.locationUrl}},[s("img",{staticClass:"location-image",attrs:{src:e.locationImageUrl,alt:""}})])]):e._e(),e._v(" "),"Coupon"==e.message.Type||"Pass"==e.message.Type?s("div",{staticClass:"slds-box slds-grid card-content"},[s("div",{staticClass:"logo-content"},[e.mediaUrl?s("div",{staticClass:"card-logo",style:{"background-image":"url("+e.mediaUrl+")"}}):e._e()]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical slds-truncate"},[s("div",{staticClass:"card-title slds-truncate",attrs:{title:e.message.Body.Title}},[e._v(e._s(e.message.Body.Title))]),e._v(" "),s("div",{staticClass:"card-type slds-truncate"},[e._v(e._s(e.message.Body.CardType))])])]):e._e(),e._v(" "),"Template"===e.message.Type?s("div",{staticClass:"template-content",class:{"no-border":!e.message.Body||e.message.HasMore}},[e.message.Body&&!e.message.HasMore?s("div",[s("notification-detail",{attrs:{notify:e.message.Body,"created-date":e.message.WeChatCreatedTime}})],1):s("div",[s("loading-spinner",{attrs:{"is-loading":!0,size:"small","custom-style":e.loadingStyle}}),e._v(" "),s("span",[e._v(e._s(e.$t("receivingTemplate")))])],1)]):e._e(),e._v(" "),"Link Structured Message"==e.message.Type||"WeChat Structured Message"==e.message.Type?s("div",[e.message.Body&&!e.message.HasMore?s("structure-message-detail-card",{attrs:{attachments:e.getCamelCaseAttachments(e.message),date:e._f("formatDatetimeFilter")(e.message.WeChatCreatedTime,e.$user.TimeZoneSidKey),"link-title":e.structureMsgLinkTitle,"message-type":e.message.Type,"tooltip-content":e.structureMsgTooltipContent}}):s("div",[s("loading-spinner",{attrs:{"is-loading":!0,size:"small","custom-style":e.loadingStyle}}),e._v(" "),s("span",[e._v(e._s(e.$t("receivingStrucMsg")))])],1)],1):e._e(),e._v(" "),"Mini Program Page"==e.message.Type?s("div",[e.message.Body&&!e.message.HasMore?s("mini-program-detail",{attrs:{miniProgramPage:e.miniProgramFilter(e.message.Body)}}):s("div",[s("loading-spinner",{attrs:{"is-loading":!0,size:"small","custom-style":e.loadingStyle}}),e._v(" "),s("span",[e._v(e._s(e.$t("receivingMiniProgram")))])],1)],1):e._e()],1),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.message.Error,expression:"message.Error"}],staticClass:"msg-failed-section"},[e.hasRunningSkillError?e._e():s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.errorMessage,placement:"bottom-start"},expression:"{content: errorMessage, placement: 'bottom-start'}"}],staticClass:"error-info-link"},[s("icon",{attrs:{name:"info",width:"18px",height:"18px","charket-icon":""}})],1),e._v("\n      ("+e._s(e.messageErrorContent)+"\n      "),s("span",{staticClass:"action-link",on:{click:function(t){return t.stopPropagation(),e.resendMessage(e.message)}}},[e._v(e._s(e.resendButton))]),e._v("\n      •\n      "),s("span",{staticClass:"action-link",on:{click:function(t){return t.stopPropagation(),e.removeMessage(e.message)}}},[e._v(e._s(e.discardButton))]),e._v("?)\n    ")])])],1)}),[],!1,null,"37451528",null);"function"==typeof B.default&&Object(B.default)($);t.a=$.exports},DedT:function(e,t,s){},DjGp:function(e,t,s){"use strict";var i=s("AJ8a"),a=s.n(i);t.default=a.a},DjVO:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"shortCodeLabel":"快捷键","promptLabel":"在聊天中使用快捷回复，请输入＃+ 快捷键"},"en":{"shortCodeLabel":"Shortcut","promptLabel":"Type # + shortcut to use a quick reply in the Live Chat window."}}'),delete e.options._Ctor}},DrCI:function(e,t,s){"use strict";var i=s("DjVO"),a=s.n(i);t.default=a.a},Dwmf:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="url_shortener" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> </style> <g id="url_shortener_XMLID_1_"> <g id="url_shortener_XMLID_496_"> <g id="url_shortener_XMLID_512_"> <path id="url_shortener_XMLID_519_" d="M17.7,13.6c0-1.1-0.5-2-1.3-2.8l-1.3-1.3c-0.4-0.4-1.1-0.4-1.5,0c-0.4,0.4-0.4,1.1,0,1.5     l1.3,1.3c0.4,0.4,0.7,0.9,0.7,1.5c0,0.4,0,0.9-0.5,1.3c-0.4,0.4-0.9,0.5-1.2,0.5c-0.5,0-1.1-0.3-1.5-0.7l-3.2-3.2     c-0.8-0.8-0.9-2-0.2-2.7c0.4-0.4,0.4-1.1,0-1.5c-0.4-0.4-1.1-0.4-1.5,0c-0.7,0.7-1.1,1.7-1.1,2.7c0,1.1,0.4,2.2,1.3,3l3.2,3.2     c0.8,0.8,1.9,1.3,3,1.3c1,0,2-0.4,2.7-1.1C17.4,15.8,17.8,14.7,17.7,13.6L17.7,13.6z M17.7,13.6" fill=""/> <path id="url_shortener_XMLID_516_" d="M5.8,8.2C5.8,8.2,5.8,8.2,5.8,8.2L4.9,7.3L4.5,6.9C4.1,6.5,3.8,6,3.8,5.5     c0-0.4,0-0.9,0.5-1.3c0.4-0.4,0.9-0.5,1.2-0.5C6,3.7,6.6,3.9,7,4.3l3.2,3.2c0.8,0.8,0.9,2,0.2,2.7c-0.4,0.4-0.4,1.1,0,1.5     c0.4,0.4,1.1,0.4,1.5,0C12.6,11,13,10.1,13,9.1c0-1.1-0.4-2.2-1.3-3L8.5,2.8C7.7,2,6.6,1.6,5.5,1.6c-1,0-2,0.4-2.7,1.1     C2.1,3.4,1.7,4.5,1.7,5.5c0,1.1,0.5,2,1.3,2.8l0.4,0.4l0.8,0.9c0.4,0.4,1.1,0.4,1.5,0C6.2,9.3,6.2,8.6,5.8,8.2L5.8,8.2z M5.8,8.2     " fill=""/> </g> </g> <path id="url_shortener_XMLID_67_" d="M18.4,6l-3.6,0.5c-0.6,0.1-1-0.4-1-1l0.5-3.6c0.1-0.7,1-1,1.5-0.5l3.2,3.2   C19.4,5.1,19.1,5.9,18.4,6z" fill=""/> <path id="url_shortener_XMLID_523_" d="M1.8,14.2l3.6-0.5c0.6-0.1,1,0.4,1,1l-0.5,3.6c-0.1,0.7-1,1-1.5,0.5l-3.2-3.2   C0.8,15.1,1.1,14.2,1.8,14.2z" fill=""/> </g> </symbol>',"url_shortener")},ETmc:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 16.7" id="struc_active" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="struc_active_XMLID_1_" fill="#004487"> <path id="struc_active_XMLID_20_" d="M18.1,0H1.9C0.8,0,0,0.8,0,1.9v12.9c0,1,0.8,1.9,1.9,1.9h16.2c1,0,1.9-0.8,1.9-1.9V1.9\n    C20,0.8,19.2,0,18.1,0z M19,14.8c0,0.5-0.4,0.9-0.9,0.9H1.9c-0.5,0-0.9-0.4-0.9-0.9V1.9C1,1.4,1.4,1,1.9,1h16.2\n    C18.6,1,19,1.4,19,1.9V14.8z" fill=""/> <rect id="struc_active_XMLID_7_" x="3.3" y="3.4" width="7.8" height="5.6"/> <rect id="struc_active_XMLID_4_" x="12.2" y="3.4" width="4.4" height="1.1"/> <rect id="struc_active_XMLID_23_" x="12.2" y="5.6" width="4.4" height="1.1"/> <rect id="struc_active_XMLID_24_" x="12.2" y="7.8" width="4.4" height="1.1"/> <rect id="struc_active_XMLID_25_" x="3.3" y="10" width="13.3" height="1.1"/> <rect id="struc_active_XMLID_2_" x="3.3" y="12.3" width="13.3" height="1.1"/> </g> </symbol>',"struc_active")},EVdn:function(e,t,s){"use strict";var i=s("e7zI"),a=s.n(i);t.default=a.a},EXbK:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"agentLabel":"专员","noAgentLabel":"没有其它可服务专员","chatLabel":"聊天"},"en":{"agentLabel":"Agent","noAgentLabel":"No other agents available","chatLabel":"chat | chats"}}'),delete e.options._Ctor}},EdJn:function(e,t,s){},EfJT:function(e,t,s){},Evxa:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="close" ><path fill="" d="m31 25.4l13-13.1c0.6-0.6 0.6-1.5 0-2.1l-2-2.1c-0.6-0.6-1.5-0.6-2.1 0l-13.1 13.1c-0.4 0.4-1 0.4-1.4 0l-13.1-13.2c-0.6-0.6-1.5-0.6-2.1 0l-2.1 2.1c-0.6 0.6-0.6 1.5 0 2.1l13.1 13.1c0.4 0.4 0.4 1 0 1.4l-13.2 13.2c-0.6 0.6-0.6 1.5 0 2.1l2.1 2.1c0.6 0.6 1.5 0.6 2.1 0l13.1-13.1c0.4-0.4 1-0.4 1.4 0l13.1 13.1c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1c0.6-0.6 0.6-1.5 0-2.1l-13-13.1c-0.4-0.4-0.4-1 0-1.4z"/></symbol>',"close")},F2Lf:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 322 187" id="no_message" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 52.5 (67469) - http://www.bohemiancoding.com/sketch --\x3e <desc>Created with Sketch.</desc> <defs> <path d="M4.08323874,0.256889515 C1.90546739,0.256889515 0.123746091,2.03103273 0.123746091,4.19954149 L0.123746091,45.9250217 C0.123746091,54.6713069 7.31008919,61.8260813 16.0917178,61.8260813 L58.4418626,61.8260813 C67.224499,61.8260813 74.4098344,54.6713069 74.4098344,45.9250217 L74.4098344,4.19954149 C74.4098344,2.03103273 72.6281131,0.256889515 70.4503417,0.256889515 L4.08323874,0.256889515 Z" id="no_message_path-1" fill=""/> <path d="M3.95949264,0 C1.7817213,0 0,1.77414322 0,3.94265198 L0,45.6681322 C0,54.4144174 7.1863431,61.5691918 15.9679717,61.5691918 L58.3181165,61.5691918 C67.1007529,61.5691918 74.2860883,54.4144174 74.2860883,45.6681322 L74.2860883,3.94265198 C74.2860883,1.77414322 72.504367,0 70.3265956,0 L3.95949264,0 Z" id="no_message_path-3" fill=""/> </defs> <g id="no_message_5-Charket-Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="no_message_icon" transform="translate(-609.000000, -319.000000)"> <g id="no_message_&#x5206;&#x7EC4;-20" transform="translate(611.000000, 321.000000)"> <g id="no_message_Desert" transform="translate(6.000000, 11.000000)"> <rect id="no_message_Rectangle-" fill-opacity="0" fill="#D8D8D8" x="0" y="0" width="300" height="200"/> <g id="no_message_Sun" transform="translate(148.000000, 0.000000)"> <g id="no_message_SunLightBlue"> <circle id="no_message_SunBkgd" fill="#C2E8FF" cx="64" cy="64" r="23"/> <path d="M64,109 C88.8528137,109 109,88.8528137 109,64 C109,39.1471863 88.8528137,19 64,19 C39.1471863,19 19,39.1471863 19,64 C19,88.8528137 39.1471863,109 64,109 Z" id="no_message_SunOutline3" stroke="#C2E8FF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="135,1,1,18" transform="translate(64.000000, 64.000000) rotate(230.000000) translate(-64.000000, -64.000000) " fill=""/> <path d="M64,97 C82.2253967,97 97,82.2253967 97,64 C97,45.7746033 82.2253967,31 64,31 C45.7746033,31 31,45.7746033 31,64 C31,82.2253967 45.7746033,97 64,97 Z" id="no_message_SunOutline2" stroke="#C2E8FF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="107,10" transform="translate(64.000000, 64.000000) rotate(150.000000) translate(-64.000000, -64.000000) " fill=""/> </g> <g id="no_message_SunDarkBlue" transform="translate(41.000000, 41.000000)" stroke="#8CD3F8" stroke-width="3"> <circle id="no_message_SunOutline" cx="23" cy="23" r="23"/> </g> </g> <g id="no_message_Mountain" transform="translate(109.000000, 124.000000)" stroke="#C2E8FF" stroke-linecap="round" stroke-width="3"> <g id="no_message_MountainLightBlue"> <path d="M0.3828125,36.5 L168,36.5" id="no_message_HorizontalLine4" fill=""/> <polyline id="no_message_MountainLine4" stroke-linejoin="round" points="23.5 36 68.5 0 102.5 26"/> <path d="M68.5,1 L68.5,35" id="no_message_MountainLine3" stroke-linejoin="round" fill=""/> <path d="M102.5,11 C102.5,20.7437888 102.5,25.7437888 102.5,26 C102.5,25.7437888 102.5,20.7437888 102.5,11 Z" id="no_message_MountainLine2" stroke-linejoin="round" fill=""/> <polyline id="no_message_MountainLine1" stroke-linejoin="round" points="92.5 17 102.5 9 136.5 36"/> </g> </g> <g id="no_message_Plant" transform="translate(44.000000, 171.000000)" stroke="#8CD3F8" stroke-linecap="round" stroke-width="3"> <g id="no_message_PlantDarkBlue"> <path d="M0,1.5 L206,1.5" id="no_message_HorizontalLine2" fill=""/> <path d="M258.5,1.5 L268.013149,1.5" id="no_message_HorizontalLine1" fill=""/> </g> </g> </g> <g id="no_message_&#x5206;&#x7EC4;-copy-2" transform="translate(44.000000, 58.000000)" stroke="#8CD3F8" stroke-dasharray="135,17" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"> <path d="M16.361187,0 C11.635633,4.92755906 11.9735078,13.0346457 16.866826,17.792126 C22.4933793,23.6574803 22.3666763,33.3354331 16.5395098,39" id="no_message_Stroke-1" fill=""/> <path d="M32.1411403,20 C34.8616487,26.2716614 34.6906025,33.5544753 31,40" id="no_message_Stroke-3" fill=""/> <path d="M1.19459105,24 C3.94415818,28.5895438 3.5586767,34.8803057 0,39" id="no_message_Stroke-5" fill=""/> <path d="M12.0670675,25 C14.6705045,26.9460674 14.6400193,30.0808989 12,32" id="no_message_Stroke-7" fill=""/> <path d="M20.9194649,6 C19.6625414,7.68571429 19.698974,10.3726708 21,12" id="no_message_Stroke-9" fill=""/> </g> <g id="no_message_&#x5206;&#x7EC4;-19" transform="translate(0.000000, 109.000000)"> <g id="no_message_&#x5206;&#x7EC4;" transform="translate(24.000000, 2.000000)"> <mask id="no_message_mask-2" fill="white"> <use xlink:href="#no_message_path-1"/> </mask> <g id="no_message_Clip-2"/> <path d="M-161.696498,27.2530565 C-134.023223,27.2530565 -134.023223,14.6454007 -106.349947,14.6454007 C-78.6766716,14.6454007 -78.6766716,27.2530565 -51.0019026,27.2530565 C-23.3286271,27.2530565 -23.3286271,14.6454007 4.34464849,14.6454007 C32.0209109,14.6454007 32.0209109,27.2530565 59.6986668,27.2530565 C87.3749292,27.2530565 87.3749292,14.6454007 115.052685,14.6454007 L115.052685,82.3227429 L-161.696498,82.3227429 L-161.696498,27.2530565 Z" id="no_message_Fill-1" fill="" mask="url(#no_message_mask-2)"/> </g> <g id="no_message_&#x5206;&#x7EC4;" transform="translate(24.000000, 0.000000)"> <mask id="no_message_mask-4" fill="white"> <use xlink:href="#no_message_path-3"/> </mask> <g id="no_message_Clip-4"/> <path d="M-100.47191,27.5806287 C-73.7985752,27.5806287 -73.7985752,14.972973 -47.1252403,14.972973 C-20.4519053,14.972973 -20.4519053,27.5806287 6.22286904,27.5806287 C32.896204,27.5806287 32.896204,14.972973 59.5695389,14.972973 C86.2457527,14.972973 86.2457527,27.5806287 112.923406,27.5806287 C139.59962,27.5806287 139.59962,14.972973 166.277273,14.972973 L166.277273,82.6503151 L-100.47191,82.6503151 L-100.47191,27.5806287 Z" id="no_message_Fill-3" fill="" mask="url(#no_message_mask-4)"/> </g> <g id="no_message_&#x5206;&#x7EC4;" stroke="#C2E8FF" stroke-linecap="round" stroke-width="3"> <path d="M82.6942401,62.1407832 L40.3370366,62.1407832 C31.5527273,62.1407832 24.3650154,54.9495669 24.3650154,46.1597421 L24.3650154,4.22072963 C24.3650154,2.04218442 26.1470761,0.25900482 28.3252622,0.25900482 L94.7060145,0.25900482 C96.8831927,0.25900482 98.6652534,2.04218442 98.6652534,4.22072963 L98.6652534,46.1597421 C98.6652534,54.9495669 91.4785494,62.1407832 82.6942401,62.1407832 Z" id="no_message_Stroke-5" stroke-linejoin="round" stroke-dasharray="135,14" fill=""/> <path d="M23.6,62.8200823 L98.5513756,62.8200823" id="no_message_Stroke-7" fill=""/> <path d="M0,62.8200823 L15.4085756,62.8200823" id="no_message_Stroke-9" fill=""/> <path d="M98.665455,14.6322964 L110.958448,14.6322964 C114.435886,14.6322964 117.282345,17.4805426 117.282345,20.9601634 C117.282345,20.9601634 118.168335,28.4196636 112.624594,35.0490977 C106.21099,42.7173751 98.665455,43.8227851 98.665455,43.8227851" id="no_message_Stroke-11" stroke-linejoin="round" stroke-dasharray="135,1,1,18" fill=""/> </g> </g> <g id="no_message_&#x5206;&#x7EC4;-18" transform="translate(30.000000, 0.000000)" stroke="#C2E8FF" stroke-linecap="round" stroke-width="3"> <g id="no_message_&#x5206;&#x7EC4;-17"> <path d="M43.0408163,16.0588235 L61.3560573,16.0588235 C60.6610145,10.7974873 62.3986215,6.39605243 66.5688784,2.85451879 C71.3576135,-1.09465556 77.043001,-0.209304013 80.0963256,1.15339425 C83.1496503,2.51609251 85.4171686,4.38832348 86.9890165,7.92122515 C87.6550339,9.40871282 88.1076746,10.6671959 88.3469388,11.6966745" id="no_message_Cloud2Outline4" fill=""/> <path d="M80.8356278,19.1630253 C81.8655763,15.5389999 83.9793763,13.1695565 87.1770277,12.0546953 C91.9735048,10.3824035 96.5215844,12.6094623 98.3382442,14.8503236 C100.154904,17.091185 100.730767,18.8913323 101.073713,20.7699365 C101.302343,22.0223392 101.384745,23.4703996 101.320919,25.1141177 C105.361169,24.9468724 108.070282,25.773413 109.448257,27.5937395 C111.114878,29.7694624 111.285874,32.3720967 110.678813,34.2887185 C110.071751,36.2053403 108.046466,39 104.24739,39 L27.1836735,39" id="no_message_Cloud2Outline3" fill=""/> <path d="M16.9897959,25.8088235 L80.4183673,25.8088235" id="no_message_Cloud2Outline2" fill=""/> <path d="M0,25.8088235 L7.92857143,25.8088235" id="no_message_Cloud2Outline1" fill=""/> </g> </g> </g> </g> </g> </symbol>',"no_message")},F6O5:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_time" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_time_XMLID_2_"> <path id="form_time_XMLID_6_" d="M11,0C4.9,0,0,4.9,0,11s4.9,11,11,11s11-4.9,11-11S17.1,0,11,0z M11,21C5.5,21,1,16.5,1,11\r\n\t\tS5.5,1,11,1s10,4.5,10,10S16.5,21,11,21z" fill=""/> <path id="form_time_XMLID_10_" d="M16.9,10.9h-5.5V4.1c0-0.6-0.4-1-1-1s-1,0.4-1,1v8.8h7.5c0.6,0,1-0.4,1-1S17.5,10.9,16.9,10.9z\r\n\t\t" fill=""/> </g> </symbol>',"form_time")},FDEm:function(e,t,s){},FDUV:function(e,t,s){"use strict";var i=s("K9AK");s.n(i).a},FG3Y:function(e,t,s){"use strict";var i=s("fkEA");s.n(i).a},FkwT:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="menu_icon" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill-rule:evenodd;clip-rule:evenodd;} </style> <g id="menu_icon_XMLID_1_"> <rect id="menu_icon_XMLID_12_" width="4" height="4"/> <rect id="menu_icon_XMLID_13_" x="7" width="4" height="4"/> <rect id="menu_icon_XMLID_14_" x="14" width="4" height="4"/> <rect id="menu_icon_XMLID_15_" y="7" width="4" height="4"/> <rect id="menu_icon_XMLID_16_" x="7" y="7" width="4" height="4"/> <rect id="menu_icon_XMLID_17_" x="14" y="7" width="4" height="4"/> <rect id="menu_icon_XMLID_18_" y="14" width="4" height="4"/> <rect id="menu_icon_XMLID_19_" x="7" y="14" width="4" height="4"/> <rect id="menu_icon_XMLID_20_" x="14" y="14" width="4" height="4"/> </g> </symbol>',"menu_icon")},FpJT:function(e,t,s){"use strict";var i=s("dUVM"),a=s.n(i),n=s("jkSJ");const o=s("YcFl"),l={image:2097152,video:2306867.2,voice:2097152},r=5e4;class c{constructor(e){var t;let{type:s,file:i}=e;if(!a()(t=["image","video","voice"]).call(t,s))throw new Error("invalid type");this.wechatAccountId=null,this.message=null,this.type=s,this.file=i,this.chunkIndex=0,this.canceled=!1,this.isOverSize=i.size>l[s]}async upload(e){let{wechatAccountId:t,name:s,description:i="",attachmentId:a=""}=e;try{let e=null;const o=this.file.data.substring(this.chunkIndex,this.chunkIndex+r);"image"===this.type?e=await n.k.uploadImage({wechatAccountId:t,name:s,data:o,type:this.file.type,attachmentId:a}):"voice"===this.type?e=await n.k.uploadVoice({wechatAccountId:t,name:s,data:o,type:this.file.type,attachmentId:a}):"video"===this.type&&(e=await n.k.uploadVideo({wechatAccountId:t,name:s,description:i,data:o,type:this.file.type,attachmentId:a})),this.chunkIndex+=r,this.trigger("progress"),a=e.AttachmentId;const l=e.MessageId;this.canceled&&this.deleteMessage(l),this.chunkIndex>=this.file.data.length&&!this.canceled?await this.uploadToWeChat({wechatAccountId:t,attachmentId:a}):await this.upload({wechatAccountId:t,attachmentId:a,name:s,description:i})}catch(e){this.handleUploadError(e)}}async uploadToWeChat(e){let{wechatAccountId:t,attachmentId:s}=e;const i={image:"Image",video:"Video",voice:"Voice Message"};try{this.message=await n.k.uploadFileToWeChat({wechatAccountId:t,attachmentId:s,type:i[this.type]}),this.trigger("completed",this.message)}catch(e){this.handleUploadError(e)}}handleUploadError(e){this.chunkIndex=0,this.trigger("error",e)}async deleteMessage(e){try{await n.k.delete(e),this.trigger("canceled")}catch(e){this.trigger("error",e)}}cancel(){this.canceled=!0}}o.mixin(c),t.a=c},Fvzk:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_textarea" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_textarea_XMLID_1_"> <g id="form_textarea_XMLID_78_"> <g id="form_textarea_XMLID_67_"> <path id="form_textarea_XMLID_115_" d="M18.3,4C19.2,4,20,4.8,20,5.7v10.6c0,0.9-0.8,1.7-1.7,1.7H3.7C2.8,18,2,17.2,2,16.3V5.7\r\n\t\t\t\tC2,4.8,2.8,4,3.7,4H18.3 M18.3,3H3.7C2.2,3,1,4.2,1,5.7v10.6C1,17.8,2.2,19,3.7,19h14.6c1.5,0,2.7-1.2,2.7-2.7V5.7\r\n\t\t\t\tC21,4.2,19.8,3,18.3,3L18.3,3z" fill=""/> </g> </g> <g id="form_textarea_XMLID_58_"> <path id="form_textarea_XMLID_104_" d="M7.3,15.4c-0.6,0-1-0.4-1-1V7.6c0-0.6,0.4-1,1-1s1,0.4,1,1v6.7C8.3,14.9,7.9,15.4,7.3,15.4z" fill=""/> </g> <g id="form_textarea_XMLID_57_"> <path id="form_textarea_XMLID_103_" d="M9.1,7.9H5.6c-0.6,0-1-0.4-1-1s0.4-1,1-1h3.4c0.6,0,1,0.4,1,1S9.6,7.9,9.1,7.9z" fill=""/> </g> <g id="form_textarea_XMLID_56_"> <path id="form_textarea_XMLID_102_" d="M9.1,16.2H5.6c-0.6,0-1-0.4-1-1s0.4-1,1-1h3.4c0.6,0,1,0.4,1,1S9.6,16.2,9.1,16.2z" fill=""/> </g> </g> </symbol>',"form_textarea")},G4UG:function(e,t,s){"use strict";var i=s("Xjgd");s.n(i).a},GCYz:function(e,t,s){},GHCX:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAIAAACxN37FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2YmZkOWYwZi1lYTI3LTRhMGMtYTZkNi1kZjZjZDM1ZTA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUEwNDA4N0ExQjYxMTFFN0IwMjBGNzE5QjIzQjA4NjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUEwNDA4NzkxQjYxMTFFN0IwMjBGNzE5QjIzQjA4NjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NmJmZDlmMGYtZWEyNy00YTBjLWE2ZDYtZGY2Y2QzNWUwNjU5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZiZmQ5ZjBmLWVhMjctNGEwYy1hNmQ2LWRmNmNkMzVlMDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqVb5KUAAAbPSURBVHja7N1pcxJpFIBRISELDSLR//8HNYskkAWi3uFO9SCDDTSR0Mk5HyzLbF3w5PX2QtO6v7//AG9F20OAoEHQIGgQNIIGQYOgQdAgaAQNggZBg6BB0AgaBA2CBkGDoBE0CBoEDYIGQSNoEDQIGgQNgkbQIGgQNAgaBI2gQdAgaBA0ggZBg6BB0CBoBA2CBkGDoEHQCBoEDYIGQYOgETQIGgQNggZBI2gQNAgaBA2CRtAgaBA0CBoEjaBB0CBoEDQIGkGDoEHQIGgEDYIGQYOgQdAIGgQNggZBwzrHHoJN/Pz583FuOp0+Pz//+PFjT+tNu310dNTpdE7nWq2W56Ja6/7+3qNQIfIdj8eTySSafuWnqtXqdrtFUUTinhdB13E39+opL2Xdm/PsCHq7hfn6+joGjMPcvBhChsOhpdpO4UZms9nl5eXB1hxi22ILYzs9WYJevzZfXV3Fn7ZT0G9BTBpNqSTnIk+ZoKv2Ag950lg5e8Q2e+IEvXrBa2Icsc0GD0GvMB6PD+oI3YZim2PLPX2CXs5iMpk0dOMP4bzPgXDq+1+Pj4+v0kSn0zk7O4s/P8wPFz48PDw9PdX4bYztj+/jeRT0f0Hv+Se2Wq3BYHB+fl7+y+npaVEUsSU3NzfbXi4iaCPH8uGCPf/E4XC4WPNi1hcXF9teh9SsgzOC/uv2fKAgVuIIt2IO6ff7h7z9gj50e7siNK29uqjb7W61SO95+wXNbwtwu91eO2FXLOEI+pAe9Hb7BT8NQTdjvDFFCLoZZrPZJse8HbgQdDNEzWtfV/Hw8ODAhaAb4/b2tqLXGDZGo5FHSdBNGqP/9JITV+7vwqnvVxPJfv36tSiKs7Oz4+PjVquV13I09KI/QfOP8ZzHQdCvr9PpnJycxMo6nU73f20Tgn4xR0dHg8Fg8UxezA+xn+eeEHYKG7kwf/nyZem8dCT+6dOn4XDobl2CbtT/aMfHFxcXeVI6X/v0/fv32JPLj8buXbTu/i9GjsbU/Pnz56x5NptdX1/ncbfJZBILdqzQ8aH4nGj66upq9/N8eehjn/eGFPT7mpsXa146VBw7hZeXlzFyRIXxOfGZsXLXHql7vV5RFOXFSU9PT6PRyJlwI8eeak7x79++fcvDHbGyxoJd45aK8YWxwPf7/cVL7U5OTuKne4WVoF+y5pyMq0/jxVQdHy2PK0eXkfVWNceAni+YjW8Vo/nd3V0s8/H3+FAs/91u19Nh5Ni15oisrDnmirUnpWM8iNV6MBjE38/Pz+NrY9reZA6O+mMxXhrQcxui5gg9vmes3G6VZIWu++i021FzjMWb15xiNzGW6ow4Go0pIr9JhY8fP+ZQEV8VX7t4mUf+6Jyh+3OeGkHXqTkmjQwxI9vqgqHcTcwvyaGl4iVVxVw5tPz/B8W/x3fLW3bEaJ7LP4KuWXO9mzHnbmJWmIv9yiE4FuZYnsua/3Q0Iz+aO53xfbaazgX9ruXO2Y41p1zay+N3sbJmu4tHMMo0b25uqm+blE3neZyYzmOw9mQJen3NsTaXhxqWxtka4ptEqeWeXIwW5Rny+J0p/754xrFa7C/mZ8bSXuOWNIJ+d2tzWfMLvjHF7e1tJFvOGPk7EzXn8ebRaLTVrSKj6Vz1691mSdDvqOY8cFY9ztaThz7y4v28wimnmnqXRMeqn78DedrFPQ8Evaw8DBzNxRJY4y6gmxz6iN3ExYMYsdDWfvlgLPnZdPx6RNOewQ/e1q0UU2keBs6Rd8NxtvYhlBxsou9Ys3f8brGXmYf8EHTVLtffHm96vd5Lvatnv9/3VpyCXj2YNvQBiaCdQTRDL4+kzf31doGHoFfvYCHot0DNggZBg6D38UA0/EybM4WC/k3T7z3g3gmC/k1ekGT7Bf1GNP0derzDkKCXg2juRZjeMkvQK5po7k0Ctn1TQ0G/C0VRNDGL2GZX2wl69YGCJl6zFtvsEIeg/xhHsw4XxNa6cFTQVYbDYVMWvLyjkqdM0GsqKe/9ZTsF/RbkfaAPefbIFxGuvb3YO+QVK1Xu5g7qTdbytVvmZkHX9Pz8PB6PJ5PJq2edR8qLojBmCHpXUfPj3HQ63ed7RLTb7cg3BozTOWdPBI2dQhA0CBoEDYJG0CBoEDQIGgSNoEHQIGgQNAgaQYOgQdAgaBA0ggZBg6BB0AgaBA2CBkGDoBE0CBoEDYIGQSNoEDQIGgQNgkbQIGgQNAgaBI2gQdAgaBA0CBpBg6BB0CBoEDSCBkGDoEHQIGgEDYIGQYOgETQIGgQNggZBI2gQNAgaBA2CRtAgaBA0CBoEjaBB0CBoEDQIGkGDoEHQsLtfAgwAYcU9gUx8PdMAAAAASUVORK5CYII="},GONd:function(e,t,s){"use strict";var i=s("wG3i"),a=s.n(i),n=s("06sA"),o=s.n(n);const l={};(e=>{e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error"})(l);let r=l.Info;t.a=class{static getLevel(){return r}static setLevel(e){r=e}static trace(e,t,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.write(l.Trace,e,t,s,i)}static debug(e,t,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.write(l.Debug,e,t,s,i)}static info(e,t,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.write(l.Info,e,t,s,i)}static warn(e,t,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.write(l.Warning,e,t,s,i)}static error(e,t,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.write(l.Error,e,t,s,i)}static write(e,t){var s,i,n,c,d,h;let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",m=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e<r)return;const g=new Date,f=["[",g.getFullYear(),"-",o()(s=(g.getMonth()+1).toString()).call(s,2,"0"),"-",o()(i=g.getDate().toString()).call(i,2,"0")," ",o()(n=g.getHours().toString()).call(n,2,"0"),":",o()(c=g.getMinutes().toString()).call(c,2,"0"),":",o()(d=g.getSeconds().toString()).call(d,2,"0"),".",o()(h=g.getMilliseconds().toString()).call(h,3,"0"),"] [",l[e].toUpperCase(),"] [",t,"] ",u,p?"\n":""];let v=p;if(m&&"object"==typeof p)try{v=a()(p,null,2)}catch(e){}console.info(f.join(""),v)}}},GXCq:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 37 37" id="skill_nav" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 59.1 (86144) - https://sketch.com --\x3e <title>skill</title> <desc>Created with Sketch.</desc> <g id="skill_nav_5-Charket-Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="skill_nav_Navigation---Popup2&#x5907;&#x4EFD;" transform="translate(-361.000000, -193.000000)" fill="#FFFFFF"> <g id="skill_nav_&#x7F16;&#x7EC4;-2" transform="translate(13.000000, 150.007582)"> <g id="skill_nav_&#x5206;&#x7EC4;-12" transform="translate(342.000000, 36.992418)"> <g id="skill_nav_Icons-/-z-nested-/-icon-glyphs-/-utility-/skill-2" transform="translate(6.000000, 6.000000)"> <g id="skill_nav_skill" transform="translate(0.500000, 0.500000)"> <path d="M18.7249892,0.495168556 C25.9038826,0.495168556 31.9779691,6.39785727 32.0004724,13.4204897 C32.0053714,14.863715 31.7692058,16.1655763 31.0624077,18.8546902 L30.4428418,21.1764663 C30.1235241,22.4145167 29.8265269,23.6967657 29.5809473,24.8919223 C29.3595937,25.9649848 29.4293907,27.8054567 29.5138094,28.2763279 L29.5453778,28.4064404 C30.0844384,30.7086743 28.5716196,33.0010651 26.2516874,33.4170598 L14.8756658,35.4586576 C13.55017,35.6963481 12.3061512,34.7543712 12.1627301,33.4134931 L11.882743,30.8240453 L10.5498562,31.2099563 C8.55128829,32.1736613 5.89046357,30.6324588 5.86302003,28.2859207 L5.86849763,24.2250159 L2.9526338,24.303339 C1.54027323,24.3412198 0.583829802,22.8779367 1.17906416,21.5955415 L2.23920617,19.3199688 C2.76927563,18.186773 3.29705818,17.0657378 3.81227316,15.9805995 L4.65756533,14.2093435 L4.65671058,13.8005263 C4.65867752,13.689787 4.66328102,13.5987959 4.67167517,13.5101977 L4.68137562,13.4217543 L4.69206896,13.12848 C5.02556762,6.39625481 11.3750978,0.590004777 18.5542492,0.496196905 L18.7249892,0.495168556 Z M18.7309698,2.49515067 L18.5769118,2.49607203 L18.2798436,2.50387553 C12.1522738,2.74382343 6.7829294,7.83869888 6.67982923,13.5166434 L6.66149702,13.7214644 C6.65828581,13.7677299 6.65649183,13.8247658 6.65591082,13.9022507 L6.66031883,14.4182573 C6.66230125,14.572541 6.62855488,14.7251908 6.56172051,14.8642611 L5.71254772,16.6414298 C5.28069453,17.5500231 4.83932647,18.4854354 4.39467736,19.4332909 L3.05712076,22.299811 L5.9170521,22.2229909 C6.98941922,22.1930498 7.86861684,23.0600321 7.86861601,24.1338762 L7.86295012,28.2756696 C7.87294161,29.1273213 9.00726849,29.7675931 9.71309239,29.3922842 L9.90447109,29.3146739 L11.6418047,28.8116633 C12.8075536,28.3545796 13.833854,29.4821447 13.8704346,30.6024003 L14.1512635,33.1996391 C14.1718565,33.3921667 14.343552,33.5221754 14.5225164,33.4900831 L25.8985462,31.4484838 C27.0922241,31.2344415 27.8755307,30.0474885 27.6115395,28.9138284 L27.6007419,28.875789 C27.4277254,28.2262648 27.3239664,25.9335634 27.6220326,24.4886201 C27.8741622,23.2615855 28.178684,21.9468069 28.5064831,20.6759499 L29.1123477,18.4054518 C29.7276282,16.0670448 29.9660085,14.8540116 29.9968723,13.7214787 L30.0003277,13.4271744 C29.9815229,7.51783555 24.8130116,2.49515067 18.7309698,2.49515067 Z M19.5637,5.6723 C20.0107,5.6383 20.4147,5.9413 20.5077,6.3803 L20.5077,6.3803 L20.7447,7.7513 C21.3817,7.9543 21.9737,8.2743 22.4927,8.6963 L22.4927,8.6963 L23.8157,8.2233 C23.9197,8.1753 24.0317,8.1433 24.1457,8.1283 C24.4927,8.1273 24.8147,8.3063 24.9967,8.6013 L24.9967,8.6013 L25.4687,9.3573 C25.7107,9.7673 25.6097,10.2953 25.2327,10.5863 L25.2327,10.5863 L24.1457,11.4833 C24.2137,11.8093 24.2457,12.1423 24.2407,12.4753 C24.2427,12.7933 24.2117,13.1093 24.1457,13.4203 L24.1457,13.4203 L25.2327,14.3173 C25.6097,14.6093 25.7107,15.1353 25.4687,15.5453 L25.4687,15.5453 L24.9967,16.3013 C24.7987,16.5723 24.4817,16.7313 24.1457,16.7273 C24.0337,16.7273 23.9227,16.7113 23.8157,16.6793 L23.8157,16.6793 L22.5867,16.2073 C22.0467,16.6703 21.4207,17.0233 20.7447,17.2473 L20.7447,17.2473 L20.5077,18.6173 C20.4167,19.0633 20.0197,19.3813 19.5637,19.3733 L19.5637,19.3733 L18.6187,19.3733 C18.1627,19.3813 17.7647,19.0633 17.6737,18.6173 L17.6737,18.6173 L17.4847,17.2473 C16.8417,17.0593 16.2457,16.7373 15.7367,16.3013 L15.7367,16.3013 L14.4137,16.7743 C14.2917,16.8113 14.1637,16.8273 14.0357,16.8213 C13.7067,16.8073 13.4057,16.6303 13.2327,16.3493 L13.2327,16.3493 L12.7607,15.5933 C12.5247,15.1973 12.6267,14.6863 12.9967,14.4123 L12.9967,14.4123 L14.0837,13.5143 C14.0017,13.1893 13.9537,12.8573 13.9417,12.5223 C13.9547,12.2033 14.0027,11.8863 14.0837,11.5783 L14.0837,11.5783 L12.9967,10.6323 C12.6267,10.3583 12.5247,9.8473 12.7607,9.4523 L12.7607,9.4523 L13.2327,8.6483 C13.4077,8.3463 13.7347,8.1653 14.0837,8.1763 C14.1977,8.1903 14.3097,8.2223 14.4137,8.2703 L14.4137,8.2703 L15.7367,8.7433 C16.2527,8.3063 16.8457,7.9703 17.4847,7.7513 L17.4847,7.7513 L17.6737,6.4283 C17.7457,5.9693 18.1557,5.6423 18.6187,5.6723 L18.6187,5.6723 Z M19.2127,10.0203 C17.8307,9.9673 16.6677,11.0453 16.6147,12.4263 C16.5627,13.8083 17.6407,14.9713 19.0227,15.0243 L19.0227,15.0243 L19.0697,15.0243 C20.4787,15.0243 21.6207,13.8813 21.6207,12.4723 C21.5947,11.1463 20.5377,10.0703 19.2127,10.0203 Z" id="skill_nav_&#x5F62;&#x72B6;&#x7ED3;&#x5408;" fill=""/> </g> </g> </g> </g> </g> </g> </symbol>',"skill_nav")},GYO2:function(e,t,s){"use strict";var i=s("av5D");s.n(i).a},Gd7r:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},Gki0:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="line_height" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="line_height_XMLID_35_"> <rect id="line_height_XMLID_39_" x="0" y="2" class="st0" width="18" height="2"/> <rect id="line_height_XMLID_58_" x="0" y="14" class="st0" width="18" height="2"/> <rect id="line_height_XMLID_59_" x="10" y="10" class="st0" width="8" height="2"/> <rect id="line_height_XMLID_60_" x="10" y="6" class="st0" width="8" height="2"/> <polygon id="line_height_XMLID_61_" class="st0" points="6.9,9.3 0,9.3 3.4,12.7 \t"/> <polygon id="line_height_XMLID_62_" class="st0" points="3.4,5 0,8.4 6.9,8.4 \t"/> </g> </symbol>',"line_height")},Gm4R:function(e,t,s){"use strict";var i=s("LGLf");s.n(i).a},Gq5s:function(e,t,s){},Gyrm:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"addLinkLabel":"添加链接","insertFieldLabel":"插入合并字段","addMiniLinkLabel":"添加小程序链接","addAction":"添加动作"},"en":{"addLinkLabel":"Add link","insertFieldLabel":"Insert merge field","addMiniLinkLabel":"Add mini program link","addAction":"Add action"}}'),delete e.options._Ctor}},H09C:function(e,t,s){"use strict";var i=s("wxJj");s.n(i).a},H34n:function(e,t,s){"use strict";var i=s("EdJn");s.n(i).a},H3kk:function(e,t,s){},H5Ss:function(e,t,s){"use strict";var i=s("4l+G");s.n(i).a},HAvB:function(e,t,s){"use strict";var i=s("7iCX");class a extends i.a{constructor(e){super(e),this.type="Skill"}}t.a=a},HU9x:function(e,t,s){"use strict";var i=s("BSw6");s.n(i).a},HZVY:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"chatCloseBy":"会话被{0}关闭","conversationTransfered":"会话被系统从{0}分配给{1}","conversationTransferedWithoutTo":"会话从{0}被系统分配","conversationTransferedWithoutFrom":"会话被系统分配给{0}","conversationTransferedBySupervisor":"会话被管理员分配给了{0}","conversationTransferedDuoToYourInactivity":"由于你长期处于不活跃状态，会话已被分配给{0}","mpChatOpenedMsg":"点击{0}按钮进入小程序聊天窗口，","mpChatNoBtnOpenedMsg":"进入小程序聊天窗口，","skillStartedMessage":"{0}开启了“{1}”技能"},"en":{"chatCloseBy":"The conversation was marked as done by {0}&nbsp;","conversationTransfered":"The conversation was transferred from {0} to {1} by the system&nbsp;","conversationTransferedWithoutTo":"The conversation was transferred from {0} by the system&nbsp;","conversationTransferedWithoutFrom":"The conversation was transferred to {0} by the system&nbsp;","conversationTransferedBySupervisor":"The conversation was transferred to {0} by a supervisor&nbsp;","conversationTransferedDuoToYourInactivity":"The conversation was transferred to {0} due to your inactivity&nbsp;","mpChatOpenedMsg":"Mini program chat window opened from the {0} button&nbsp;","mpChatNoBtnOpenedMsg":"Mini program chat window opened&nbsp;","skillStartedMessage":"{0} started the skill \\"{1}\\"&nbsp;"}}'),delete e.options._Ctor}},HhFG:function(e,t,s){},HnSg:function(e,t,s){"use strict";var i=s("oG9Y"),a=s.n(i),n=s("SLhn"),o=s.n(n),l=s("autp"),r=s.n(l),c={props:{linkUrl:{type:String,default:""}},data:()=>({show:!1,position:{left:"0px",top:"0px"}}),methods:{open(e){this.show=!0,this.$nextTick(()=>{const t=this.$el.offsetWidth;this.position.left=e.left?"".concat(e.left-t/2,"px"):"0px",this.position.top=e.top?"".concat(e.top+12,"px"):"0px",this.$emit("opened")})},change(){this.hide(),this.$emit("change")},remove(){this.hide(),this.$emit("remove")},hide(){this.show=!1,this.$emit("closed")}}},d=(s("AHF6"),s("KHd+")),h=s("52sM"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"charket-link-popover",style:{left:e.position.left,top:e.position.top}},[s("section",{staticClass:"slds-popover slds-nubbin--top"},[s("div",{staticClass:"slds-popover__body link-content  slds-grid"},[e.linkUrl?s("a",{staticClass:"slds-truncate slds-border_right",attrs:{target:"_blank",href:e.linkUrl},on:{click:function(t){return e.hidePopover()}}},[e._v("\n        "+e._s(decodeURIComponent(e.linkUrl))+"\n      ")]):e._e(),e._v(" "),s("span",{on:{click:function(t){return e.change()}}},[e._v(e._s(e.$t("changeBtn")))]),e._v(" "),s("span",{on:{click:function(t){return e.remove()}}},[e._v(e._s(e.$t("removeBtn")))])])])])}),[],!1,null,"848d0f9e",null);"function"==typeof h.default&&Object(h.default)(u);var p=u.exports,m=s("UZn8"),g=s("LQ5e"),f=s.n(g),v=s("qGaL"),_=s("CjVY"),C=s.n(_);var b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{return document.getSelection().getRangeAt(e)}catch(e){return null}},w=function(e,t){return e.insertNode(t),e},y=function(e,t){return e.setStartAfter(t),e.setEndAfter(t),e},T=function(e,t){return e.setStartBefore(t),e.setEndBefore(t),e},L=function(e){const t=document.createRange();return e&&(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset)),t},I=function(e){return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}},k=function(e){document.getSelection().collapse(e.startContainer,e.startOffset)},S=function(){return document.getSelection().toString()},M=function(e){return e.deleteContents(),e},A=function(e,t){e.selectNode(t)};const x=/<a data-miniprogram-appid="[^"]*"[^>]*data-miniprogram-path="[^"]*"[^>]*href="[^"]*"[^>]*>[\s\S]*?<\/a>/,N=/<a [^>]*href="weixin:\/\/bizmsgmenu\?msgmenucontent=([^"]*)&msgmenuid=([0-9]{10})[^"]*"[^>]*>[\s\S]*?<\/a>/,E=Object(_.getMiniProgramImgTemplate)({style:"margin-bottom: 2px;"}),D=Object(_.getMessageActionImgTemplate)({style:"margin-bottom: 2px"});var P={components:{LinkPopover:p,EditLinkPopover:m.a},props:{sum:{type:Number,default:0},content:{type:String,default:""},customStyle:{type:String,default:""},doubleModal:{type:Boolean,default:!1},showMergeField:{type:Boolean,default:!1},showMiniProgramPage:{type:Boolean,default:()=>!0},showAction:{type:Boolean,default:()=>!0}},mounted(){this.textContent=decodeURI(encodeURI(this.content).replace(/%0D%0A/g,"%0A")),this.textContent=C.a.decorateText(this.textContent,"Writable Rich"),this.$nextTick(()=>{this.handleContentChange(this.$refs.textarea.innerHTML)}),this.$root.$on("merge-field-value",e=>{this.textContent=decodeURI(encodeURI(e).replace(/%0D%0A/g,"%0A")),this.$nextTick(()=>{this.handleContentChange(this.$refs.textarea.innerHTML)})})},beforeDestroy(){this.$root.$off("merge-field-value")},data:()=>({textContent:"",textLimitNumber:0,linkContent:"",linkUrl:"",clickedLinkTag:null,isEditLinkPopoverVisible:!1,rangeOptions:{text:"",startContainer:null,startOffset:0,endContainer:null,endOffset:0}}),methods:{changed(e){"<br>"===e.target.innerHTML&&(e.target.innerHTML=""),this.handleContentChange(e.target.innerHTML)},enter(e){e.preventDefault();const t=this.$refs.textarea.scrollTop;Object(v.breaksLine)(this.$refs.textarea),r()(()=>{this.handleContentChange(this.$refs.textarea.innerHTML),this.$refs.textarea.scrollTop=t+20})},handleContentChange(e){const t=Object(v.formatRichText)(e),s=Object(v.getSizeOfUTF8Text)(t);this.textLimitNumber=this.sum-s,this.$emit("change",{content:t,size:s})},checkIfRangeIsInNode(e){const t=b();if(!t)return!1;if(t.startContainer===e)return!0;let s=!1,i=t.startContainer.parentNode;for(;i!==document.body;){if(i===e){s=!0;break}i=i.parentNode}return s},setRangeOptions(){const e=this.$refs.textarea;if(this.checkIfRangeIsInNode(e)){const e=b();this.rangeOptions=I(e),this.rangeOptions.text=S()}else this.rangeOptions={text:"",startContainer:e,startOffset:e.childNodes.length,endContainer:e,endOffset:e.childNodes.length}},onClickEditLinkButton(e,t){this.clickedLinkTag=null,this.openEditLinkPopover(e.currentTarget,t)},openEditLinkPopover(e,t){this.setRangeOptions(),this.$refs.editLinkPopover.open({type:t,text:this.rangeOptions.text,el:e,position:"right-bottom"})},openFieldPopup(){this.$emit("open-field")},onPaste(e){Object(v.pasteData)(e,()=>{this.handleContentChange(this.$refs.textarea.innerHTML)})},getLinkTagType(e){const t=f.a.unescape(e.outerHTML);return x.test(t)?"Mini Program":N.test(t)?"Message Action":"Normal Link"},onContentClick(e){const t=e.target;"A"===t.tagName&&(this.clickedLinkTag=t,e.stopPropagation(),e.preventDefault(),this.onLinkTagClick(t))},onLinkTagClick(e){const t=this.getLinkTagType(e),s={"Mini Program":"","Message Action":"","Normal Link":e.href};this.linkUrl=s[t];const i=this.getTagBottomCenterPosition(e);this.$refs.linkPopover.open(i)},getTagBottomCenterPosition(e){const t=e.getBoundingClientRect(),s=t.left,i=t.top,a=e.offsetHeight;return{left:s+e.offsetWidth/2,top:i+a}},onLinkPopoverChange(){if(!this.clickedLinkTag)return;const e=this.getLinkTagType(this.clickedLinkTag),t=this.clickedLinkTag.textContent,s=decodeURI(this.clickedLinkTag.href),i=this.clickedLinkTag.dataset.miniprogramAppid,a=this.clickedLinkTag.dataset.miniprogramPath;if("Normal Link"===e){const i=this.$refs.normalLinkButton;this.$refs.editLinkPopover.open({text:t,url:s,type:e,el:i,position:"right-bottom"})}if("Mini Program"===e){const n=this.$refs.miniProgramButton;this.$refs.editLinkPopover.open({text:t,url:s,type:e,appId:i,pagePath:a,el:n,position:"right-bottom"})}if("Message Action"===e){N.test(f.a.unescape(this.clickedLinkTag.outerHTML));const s=decodeURI(RegExp.$1),i=this.$refs.messageActionButton;this.$refs.editLinkPopover.open({text:t,type:e,actionValue:s,el:i,position:"right-bottom"})}},onLinkPopoverRemove(){this.clickedLinkTag&&(this.replaceLinkToNormalText(),this.handleContentChange(this.$refs.textarea.innerHTML))},replaceLinkToNormalText(){const e=this.clickedLinkTag.previousSibling;e&&"IMG"===e.tagName&&this.$refs.textarea.removeChild(e);const t=this.clickedLinkTag.textContent,s=L();A(s,this.clickedLinkTag),M(s);const i=document.createTextNode(t);w(s,i),y(s,i),k(s)},onLinkPopoverOpened(){r()(()=>{const e=()=>{this.$refs.linkPopover.hide(),document.removeEventListener("click",e)};document.addEventListener("click",e)})},onEditLinkPopoverOk(e){let{text:t="",url:s="",type:i,appId:a="",pagePath:n="",actionValue:o=""}=e;if(this.clickedLinkTag)this.editLinkTag({text:t,url:s,type:i,appId:a,pagePath:n,actionValue:o});else{const e=this.createLinkRelatedTags({text:t,url:s,type:i,appId:a,pagePath:n,actionValue:o}),l=this.insertTag(e);k(l)}this.handleContentChange(this.$refs.textarea.innerHTML),this.$refs.editLinkPopover.close()},onEditLinkPopoverCancel(){this.clickedLinkTag=null},editLinkTag(e){let{text:t,url:s,type:i,appId:a,pagePath:n,actionValue:l}=e;if(this.clickedLinkTag.href=s,this.clickedLinkTag.innerHTML=t,"Mini Program"===i&&(this.clickedLinkTag.dataset.miniprogramAppid=a,this.clickedLinkTag.dataset.miniprogramPath=n),"Message Action"===i){var r;const e=(new Date).getTime().toString().substring(3);this.clickedLinkTag.href=encodeURI(o()(r="weixin://bizmsgmenu?msgmenucontent=".concat(l,"&msgmenuid=")).call(r,e))}},createLinkRelatedTags(e){let{text:t,url:s,type:i,appId:n,pagePath:l,actionValue:r}=e,c="";var d,h,u,p;if(s=encodeURI(s),"Mini Program"===i)c=o()(d=o()(h=o()(u=o()(p="".concat(E,'<a data-miniprogram-appid="')).call(p,n,'" data-miniprogram-path="')).call(u,l,'" href="')).call(h,s,'" target="_blank">')).call(d,t,"</a>");else if("Normal Link"===i){var m;c=o()(m='<a href="'.concat(s,'" target="_blank">')).call(m,t,"</a>")}else if("Message Action"===i){var g,f,v;const e=(new Date).getTime().toString().substring(3),s=encodeURI(o()(g="weixin://bizmsgmenu?msgmenucontent=".concat(r,"&msgmenuid=")).call(g,e));c=o()(f=o()(v="".concat(D,'<a href="')).call(v,s,'" target="_blank">')).call(f,t,"</a>")}const _=(new DOMParser).parseFromString(c,"text/html").body.childNodes;return a()(_)},insertTag(e){let t=L(this.rangeOptions);t=Object(v.moveRangeOutOfLink)(t,this.$refs.textarea);const s=e[e.length-1];M(t);const i=document.createDocumentFragment();for(const t of e)i.appendChild(t);return w(t,i),this.addIconForLink(t,s.nextSibling),y(t,s)},addIconForLink(e,t){if(!t||"A"!==t.tagName)return;const s=this.getLinkTagType(t);if("Normal Link"===s)return;let i="";"Mini Program"===s&&(i="".concat(E,"<div></div>")),"Message Action"===s&&(i="".concat(D,"<div></div>"));const a=(new DOMParser).parseFromString(i,"text/html").body.firstChild;T(e,t),w(e,a)}}},R=(s("ksWA"),s("AkMO")),O=Object(d.a)(P,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"textarea-section"},[s("div",{ref:"textarea",staticClass:"slds-box textarea-style slds-scrollable--y resize-vertical",style:e.customStyle,attrs:{contenteditable:""},domProps:{innerHTML:e._s(e.textContent)},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enter(t)},input:function(t){return t.preventDefault(),t.stopPropagation(),e.changed(t)},paste:function(t){return e.onPaste(t)},click:function(t){return e.onContentClick(t)}}}),e._v(" "),s("span",{class:{warn:e.textLimitNumber<0}},[e._v(e._s(e.textLimitNumber))]),e._v(" "),s("div",{ref:"normalLinkButton",staticClass:"link-select",attrs:{title:e.$t("addLinkLabel")},on:{click:function(t){return e.onClickEditLinkButton(t,"Normal Link")},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},[s("icon",{staticClass:"link-icon",attrs:{name:"textLink",width:"14px",height:"14px","charket-icon":""}})],1),e._v(" "),e.showMiniProgramPage?s("div",{ref:"miniProgramButton",staticClass:"link-select merge-field-select",attrs:{title:e.$t("addMiniLinkLabel")},on:{click:function(t){return e.onClickEditLinkButton(t,"Mini Program")},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},[s("icon",{staticClass:"link-icon",attrs:{name:"miniProIcon",width:"17px",height:"17px","charket-icon":""}})],1):e._e(),e._v(" "),e.showAction?s("div",{ref:"messageActionButton",staticClass:"link-select merge-field-select",attrs:{title:e.$t("addAction")},on:{click:function(t){return e.onClickEditLinkButton(t,"Message Action")},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},[s("icon",{staticClass:"link-icon",attrs:{name:"messageAction",width:"16px",height:"16px","charket-icon":""}})],1):e._e(),e._v(" "),e.showMergeField?s("div",{staticClass:"link-select merge-field-select",attrs:{title:e.$t("insertFieldLabel")},on:{click:function(t){return e.openFieldPopup()},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},[s("icon",{staticClass:"link-icon",attrs:{name:"insertTag",width:"16px",height:"16px","charket-icon":""}})],1):e._e(),e._v(" "),s("link-popover",{ref:"linkPopover",attrs:{"link-url":e.linkUrl},on:{change:e.onLinkPopoverChange,remove:e.onLinkPopoverRemove,opened:e.onLinkPopoverOpened}}),e._v(" "),s("edit-link-popover",{ref:"editLinkPopover",on:{ok:e.onEditLinkPopoverOk,cancel:e.onEditLinkPopoverCancel}})],1)}),[],!1,null,"3ecc78c2",null);"function"==typeof R.default&&Object(R.default)(O);t.a=O.exports},HxKo:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"transferChat":"转发会话","newCase":"新建个案","markAsDone":"结束会话","comment":"留言","transfer":"转发","sureToEnd":"你确定要结束会话吗？","yes":"是","no":"否","sendingError":"当前有未送达的消息。关闭当前会话有可能会中断送达。"},"en":{"transferChat":"Transfer Chat","newCase":"New Case","markAsDone":"Mark as Done","comment":"Comment","transfer":"Transfer","sureToEnd":"Are you sure you want to end this conversation?","yes":"Yes","no":"No","sendingError":"Some messages have not been delivered. Ending this conversation may interrupt the delivery of those messages."}}'),delete e.options._Ctor}},I7pr:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAMS2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdUU8kanltSSWiBCEgJvYnSq5QQWgQBqYKNkAQSSowJQcTOsqyCaxcRUFd0VUTRtQCyVtTFtih21/JQFpWVdbFgQ+VNCui657133n/OzHz555/vL5l77wwAOrU8qTQP1QUgX1IgS4gMZU1OS2eRugEGCEAH0IAnjy+XsuPjYwCU4fHv8voGQJTjVRcl1z/n/6voCYRyPgBIPMSZAjk/H+KDAOClfKmsAACiL9Rbzy6QKvFUiA1kMECIpUqcrcalSpypxlUqm6QEDsS7ASDTeDxZNgDaLVDPKuRnQx7tWxC7SgRiCQA6ZIiD+CKeAOIoiMfk589UYmgHHDK/4Mn+G2fmCCePlz2C1bmohBwmlkvzeHP+z3L8b8nPUwz7sIONJpJFJShzhnW7lTszWolpEPdJMmPjINaH+K1YoLKHGKWKFFHJanvUlC/nwJoBJsSuAl5YNMSmEEdI8mJjNPrMLHEEF2K4Q9AicQE3SbN2iVAenqjhrJXNTIgbxlkyDluztpEnU/lV2p9W5CazNfy3RELuMP+rYlFSqjpmjFooTomFWBtipjw3MVptg9kUizixwzYyRYIyfhuI/YWSyFA1PzY9SxaRoLGX5cuH88WWiMTcWA2uLhAlRWl4dvN5qviNIG4RStjJwzxC+eSY4VwEwrBwde7YZaEkWZMv1iUtCE3QrH0hzYvX2ONUYV6kUm8Fsam8MFGzFg8qgBtSzY/HSgvik9Rx4pk5vAnx6njwIhADOCAMsIACtkwwE+QAcUdfcx/8pZ6JADwgA9lACFw0muEVqaoZCewTQTH4EyIhkI+sC1XNCkEh1H8c0ap7F5Clmi1UrcgFjyDOB9EgD/5WqFZJRrylgN+hRvwP73wYax5syrl/6thQE6PRKIZ5WTrDlsRwYhgxihhBdMRN8CA8AI+BfQhs7rgv7jcc7Wd7wiNCJ+Eh4Tqhi3B7hrhE9lU+LDARdEEPEZqcM7/MGbeDrF54KB4I+SE3zsRNgAvuCT2x8WDo2wtqOZrIldl/zf23HL6ousaO4kpBKaMoIRSHr1dqO2l7jbAoa/plhdSxZo7UlTMy87V/zheVFsAx+mtLbAl2AGvHTmLnsCNYM2Bhx7EW7CJ2VIlHdtHvql007C1BFU8u5BH/wx9P41NZSblrg2uv6wf1XIGwSPl+BJyZ0jkycbaogMWGb34hiyvhjx3Dcnd18wNA+R1Rv6ZeMlXfB4R5/rOupB2AwLihoaEjn3UxRQAcgs8S9cVnnf16AOhCAM4u5CtkhWodruwIgAq/TwbAGJgDa+AA83EH3iAAhIBwMAHEgSSQBqbDKovgfpaB2WAeWAzKQAVYCdaBarAZbAU7wR6wHzSDI+Ak+AVcAJfBdXAH7p4e8BT0g9dgEEEQEkJHGIgxYoHYIs6IO+KLBCHhSAySgKQhGUg2IkEUyDzkG6QCWY1UI1uQeuQn5DByEjmHdCK3kQdIL/ICeY9iKA01QM1QO3Qc6ouy0Wg0CZ2GZqOz0GK0FF2OVqF16G60CT2JXkCvo13oU3QAA5gWxsQsMRfMF+NgcVg6loXJsAVYOVaJ1WGNWCv8n69iXVgf9g4n4gychbvAHRyFJ+N8fBa+AF+GV+M78Sb8NH4Vf4D3458IdIIpwZngT+ASJhOyCbMJZYRKwnbCIcIZ+DT1EF4TiUQm0Z7oA5/GNGIOcS5xGXEjcS/xBLGT2E0cIJFIxiRnUiApjsQjFZDKSBtIu0nHSVdIPaS3ZC2yBdmdHEFOJ0vIJeRK8i7yMfIV8mPyIEWXYkvxp8RRBJQ5lBWUbZRWyiVKD2WQqke1pwZSk6g51MXUKmoj9Qz1LvWllpaWlZaf1iQtsdYirSqtfVpntR5ovaPp05xoHNpUmoK2nLaDdoJ2m/aSTqfb0UPo6fQC+nJ6Pf0U/T79rTZDe6w2V1ugvVC7RrtJ+4r2Mx2Kjq0OW2e6TrFOpc4BnUs6fboUXTtdji5Pd4Fuje5h3Zu6A3oMPTe9OL18vWV6u/TO6T3RJ+nb6YfrC/RL9bfqn9LvZmAMawaHwWd8w9jGOMPoMSAa2BtwDXIMKgz2GHQY9BvqG3oaphgWGdYYHjXsYmJMOyaXmcdcwdzPvMF8P8psFHuUcNTSUY2jrox6YzTaKMRIaFRutNfoutF7Y5ZxuHGu8SrjZuN7JriJk8kkk9kmm0zOmPSNNhgdMJo/unz0/tG/maKmTqYJpnNNt5peNB0wMzeLNJOabTA7ZdZnzjQPMc8xX2t+zLzXgmERZCG2WGtx3OIPliGLzcpjVbFOs/otTS2jLBWWWyw7LAet7K2SrUqs9lrds6Za+1pnWa+1brPut7GwmWgzz6bB5jdbiq2vrch2vW277Rs7e7tUu+/smu2e2BvZc+2L7Rvs7zrQHYIdZjnUOVxzJDr6OuY6bnS87IQ6eTmJnGqcLjmjzt7OYueNzp1jCGP8xkjG1I256UJzYbsUujS4PBjLHBsztmRs89hn42zGpY9bNa593CdXL9c8122ud9z03Sa4lbi1ur1wd3Lnu9e4X/Oge0R4LPRo8Xju6ewp9NzkecuL4TXR6zuvNq+P3j7eMu9G714fG58Mn1qfm74GvvG+y3zP+hH8Qv0W+h3xe+fv7V/gv9//rwCXgNyAXQFPxtuPF47fNr470CqQF7glsCuIFZQR9ENQV7BlMC+4LvhhiHWIIGR7yGO2IzuHvZv9LNQ1VBZ6KPQNx58zn3MiDAuLDCsP6wjXD08Orw6/H2EVkR3RENEf6RU5N/JEFCEqOmpV1E2uGZfPref2T/CZMH/C6WhadGJ0dfTDGKcYWUzrRHTihIlrJt6NtY2VxDbHgThu3Jq4e/H28bPif55EnBQ/qWbSowS3hHkJ7YmMxBmJuxJfJ4UmrUi6k+yQrEhuS9FJmZpSn/ImNSx1dWrX5HGT50++kGaSJk5rSSelp6RvTx+YEj5l3ZSeqV5Ty6bemGY/rWjauekm0/OmH52hM4M340AGISM1Y1fGB14cr443kMnNrM3s53P46/lPBSGCtYJeYaBwtfBxVmDW6qwn2YHZa7J7RcGiSlGfmCOuFj/PicrZnPMmNy53R+5QXmre3nxyfkb+YYm+JFdyeqb5zKKZnVJnaZm0a5b/rHWz+mXRsu1yRD5N3lJgAA/sFxUOim8VDwqDCmsK385OmX2gSK9IUnRxjtOcpXMeF0cU/zgXn8uf2zbPct7ieQ/ms+dvWYAsyFzQttB6YenCnkWRi3Yupi7OXfxriWvJ6pJX36R+01pqVrqotPvbyG8byrTLZGU3vwv4bvMSfIl4ScdSj6Ubln4qF5Sfr3CtqKz4sIy/7Pz3bt9XfT+0PGt5xwrvFZtWEldKVt5YFbxq52q91cWru9dMXNO0lrW2fO2rdTPWnav0rNy8nrpesb6rKqaqZYPNhpUbPlSLqq/XhNbsrTWtXVr7ZqNg45VNIZsaN5ttrtj8/gfxD7e2RG5pqrOrq9xK3Fq49dG2lG3tP/r+WL/dZHvF9o87JDu6dibsPF3vU1+/y3TXiga0QdHQu3vq7st7wva0NLo0btnL3FuxD+xT7Pvjp4yfbuyP3t92wPdA40Hbg7WHGIfKm5CmOU39zaLmrpa0ls7DEw63tQa0Hvp57M87jlgeqTlqeHTFMeqx0mNDx4uPD5yQnug7mX2yu21G251Tk09dOz3pdMeZ6DNnf4n45VQ7u/342cCzR875nzt83vd88wXvC00XvS4e+tXr10Md3h1Nl3wutVz2u9zaOb7z2JXgKyevhl395Rr32oXrsdc7byTfuHVz6s2uW4JbT27n3X7+W+Fvg3cW3SXcLb+ne6/yvun9un85/mtvl3fX0QdhDy4+THx4p5vf/fR3+e8fekof0R9VPrZ4XP/E/cmR3ojey39M+aPnqfTpYF/Zn3p/1j5zeHbwr5C/LvZP7u95Lns+9GLZS+OXO155vmobiB+4/zr/9eCb8rfGb3e+833X/j71/ePB2R9IH6o+On5s/RT96e5Q/tCQlCfjqY4CGGxoVhYAL3bAc0IaAIzL8PwwRX3PUwmivpuqEPhPWH0XVIk3AI1wUB7XOScA2Aeb3SJ4RIej8qieFAJQD4+RphF5loe7mosGbzyEt0NDL80AILUC8FE2NDS4cWjo4zYY7G0ATsxS3y+VQoR3gx9ClOi6kWAR+Er+DfyMf/MLxTC6AAAACXBIWXMAABYlAAAWJQFJUiTwAAABm2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xNjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrAG1xYAAAAHGlET1QAAAACAAAAAAAAAAoAAAAoAAAACgAAAAoAAABPMNymcgAAABtJREFUOBFilJSU/M9AAWAcNYBhNAwYKA8DAAAAAP//+M50GQAAABhJREFUY5SUlPzPQAFgHDWAYTQMGCgPAwCerhndullwSAAAAABJRU5ErkJggg=="},IEyd:function(e,t,s){"use strict";var i=s("BxAR");s.n(i).a},IIsI:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"replyLabel1":"回复匹配","replyLabel2":"选择或者使用","replyLabel3":"来导航","replyLabel4":"点击 {0} 选择","replyLabel5":"点击 {0} 退出"},"en":{"replyLabel1":"Replies matching","replyLabel2":"tab or","replyLabel3":"to navigate","replyLabel4":"{0} to select","replyLabel5":"{0} to dismiss"}}'),delete e.options._Ctor}},IhKO:function(e,t,s){},Iio1:function(e,t,s){"use strict";var i=s("95P7");s.n(i).a},IkYK:function(e,t,s){"use strict";var i=s("TXmM");s.n(i).a},IrMH:function(e,t,s){"use strict";var i=s("1gOi");s.n(i).a},J6B0:function(e,t,s){},JCFT:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVGMDA5REZEQTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVGMDA5REZFQTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUYwMDlERkJBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUYwMDlERkNBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5tXUonAAADUElEQVR42uyaSY/aQBCFbbPjBTAwJgwaJgdyi3LO388l1xxySCbSKKMAGcxmbGx2SCNHqKsMlhKDF6n7hBtk6nNXvX7VwH/7/sQleQhcwgcDYAAMgAEwAAYQ2igpisDzSQWoVtVGQ2s23yQSgERfq1bJC1EU7+7qCQOoqn+jd0elXJZlKUkAm+0GzTQ0LZPJJAbANC19OATfKgjXSqSQamA6NSxrTs9IoihJYnwBvHL5Ohhst1t6pl6r8YFVVbiR5rTbD6lUip7c7/cokbLZrCRJsQNwFZME17pvonUgWeQsFvSMWinHC+Ck92Tk83lvpY7HE/qSfCaXy8UFIJ1OV8oV4B1KpWKxSM84jrNaregZRZbjAkBqtNvr7Q8HelLzLMJsZgI5CqZFV06h5XI51HGlomdsWRb6AFm6KAEO8CbGbLaAlVoug0rd7nYoi4qFQmQAT5P7T8+PiGE4GtOXhUIeGQfbcejLIHUsBIz+84/iz2Hq66BFz5MVQM9YFEEpo3dJFkUA4Ebvvv7yknO2oBatOTAOhTxIkvV6AwEyYQPQ0R932QP3PKmiRYBJkkV6hbxdqAAoene8jLM+zxjpDLEVkQGcjf7oN+fANex2O58QowTguPP+MfUvd/LnuS3AO7X7sbM4c+Iggg3Ya0XjAnCJ4UFd+wgLqlp/vDBUCDEIPPdWRZtXAQr/2kf4UcWHtA/QDB/aazFt0+/KsFNZLBfQRecgwPr/LXCQnZgwcJ3WbyP7XvuFHj9yB7YNvAPy2GhjDg/AZeioJINAEtdqaFNbbjYbugDyEA+1aWG7URT9sYmBBWAYhk8HQ/IHlXiU/YC3jSTxmbABUEoKfTm37Ri1lN5GXof9Dcl+lD+macWopTSMGeoekfUnXT/q4IJU8PVTaDQen84dSHC6rgNtlSVUHlNYHhGo0FkGN9Zur083+Mfz0DouD3TeGAsAl2EynSKD0NA0ZKqHo9EBHmFEn0KX7I33NwEiPvO5HfyLwjidVhQZaevxnBSqU3wBSDNJkgdNvg50em+ONQDxoZPJFCkPOtuKewrR2kq2hWslzw1V6JK2Epfa7/Wve+eQAFwGnueD62YEKXQaV4+eY/+VYAAMgAEwAAbAABhAoPFHgAEAP5hxFYx7ZvoAAAAASUVORK5CYII="},JQY9:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 10 10" id="generic_loading" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M2.5,1.5c-0.3-0.3-0.8-0.3-1.1,0c-0.3,0.3-0.3,0.8,0,1.1l1.1,1.1c0.3,0.3,0.8,0.3,1.1,0c0.3-0.3,0.3-0.8,0-1.1\n\t\tL2.5,1.5z" fill=""/> <path d="M2.5,6.4L1.5,7.5c-0.3,0.3-0.3,0.8,0,1.1c0.3,0.3,0.8,0.3,1.1,0l1.1-1.1c0.3-0.3,0.3-0.8,0-1.1\n\t\tC3.3,6.1,2.8,6.1,2.5,6.4z" fill=""/> <path d="M3,5c0-0.4-0.3-0.7-0.7-0.7H0.7C0.3,4.3,0,4.6,0,5s0.3,0.7,0.7,0.7h1.5C2.7,5.7,3,5.4,3,5z" fill=""/> <path d="M7.5,3.6l1.1-1.1c0.3-0.3,0.3-0.8,0-1.1c-0.3-0.3-0.8-0.3-1.1,0L6.4,2.5c-0.3,0.3-0.3,0.8,0,1.1\n\t\tC6.7,3.9,7.2,3.9,7.5,3.6z" fill=""/> <path d="M7.5,6.4c-0.3-0.3-0.8-0.3-1.1,0c-0.3,0.3-0.3,0.8,0,1.1l1.1,1.1c0.3,0.3,0.8,0.3,1.1,0c0.3-0.3,0.3-0.8,0-1.1\n\t\tL7.5,6.4z" fill=""/> <path d="M5,7C4.6,7,4.3,7.3,4.3,7.8v1.5C4.3,9.7,4.6,10,5,10s0.7-0.3,0.7-0.7V7.8C5.7,7.3,5.4,7,5,7z" fill=""/> <path d="M9.3,4.3H7.8C7.3,4.3,7,4.6,7,5s0.3,0.7,0.7,0.7h1.5C9.7,5.7,10,5.4,10,5S9.7,4.3,9.3,4.3z" fill=""/> <path d="M5,0C4.6,0,4.3,0.3,4.3,0.7v1.5C4.3,2.7,4.6,3,5,3s0.7-0.3,0.7-0.7V0.7C5.7,0.3,5.4,0,5,0z" fill=""/> </symbol>',"generic_loading")},JswP:function(e,t,s){},JzNl:function(e,t,s){},K0wY:function(e,t,s){},K9AK:function(e,t,s){},KBFF:function(e,t,s){},KOxV:function(e,t,s){"use strict";var i=s("hod3");s.n(i).a},KQMp:function(e,t,s){},KTdE:function(e,t,s){"use strict";var i=s("kWsH"),a=s.n(i),n=s("SLhn"),o=s.n(n),l=s("UX+f"),r=s("2AFw"),c=s("w2Vt"),d=s("4Wlx"),h=s("4B+h"),u={components:{CktLink:l.a,Lookup:r.a,LoadingSpinner:c.a},props:{follower:{type:Object,default:()=>({})},currentUser:{type:Object,default:()=>({})},currentThread:{type:Object,default:()=>({})},hasBasic:{type:Boolean,default:!0},canEditRelated:{type:Boolean,default:!0}},inject:["showErrorImg"],computed:{noNameFollowerInfo(){if(this.follower.Id){const e=this.follower.Id,t=e.substring(0,e.length-3);return Object(h.c)(t)}return{Name:"A",BgColor:"#29a49c"}},alias(){var e;return this.follower.DisplayName&&this.follower.DisplayName!==this.follower.Nickname?o()(e="".concat(this.follower.DisplayName,"(")).call(e,this.follower.Nickname,")"):"".concat(this.follower.Nickname)},followerUrl(){return"/".concat(this.follower.Id)},relatedUrl(){return this.follower.Type?"/".concat(this.follower[this.follower.Type].Id):"#"},relatedName(){return!this.follower.Type||"Lead"!==this.follower.Type&&"Contact"!==this.follower.Type?"":this.follower[this.follower.Type].Name},currentRelatedItem(){if(!this.follower||"Lead"!==this.follower.Type&&"Contact"!==this.follower.Type)return null;const e=this.follower[this.follower.Type];return{name:e.Name,id:e.Id,icon:this.follower.Type.toLowerCase()}}},data(){return{currentAlias:"",accountTypeToIcon:{"Service Account":"wechatAccountService","Subscription Account":"wechatAccountSubscription","Mini Program":"wechatAccountMiniprogram"},isEditingAlias:!1,EditRelatedPopupVisible:!1,isSavingRelated:!1,isUpdatingAlias:!1,tempRelatedObj:{id:"",name:"",type:""},lookupMetadata:[{name:"Lead",label:this.$tc("leadLabel",1),labelPural:this.$tc("leadLabel",2),icon:"lead",linkField:{name:"Name",label:this.$t("relatedToLabel")},fields:[],newObjectLink:"/00Q/e"},{name:"Contact",label:this.$tc("contactLabel",1),labelPural:this.$tc("contactLabel",2),icon:"contact",linkField:{name:"Name",label:this.$t("relatedToLabel")},fields:[],newObjectLink:"/003/e"}]}},watch:{follower(){this.isEditingAlias=!1}},methods:{showEditAliasInput(){this.isEditingAlias=!0,this.$nextTick(()=>{this.$refs.aliasInput.focus(),this.currentAlias=this.follower.Alias||""})},hideEditAliasInput(){this.isEditingAlias=!1},showEditRelatedLookup(){var e;this.$emit("toggle-related-popup",!0);const t=this.follower.Type;if(a()(e=this.lookupMetadata).call(e,(e,s)=>e.name<s.name?"Lead"===t?1:-1:e.name>s.name?"Lead"===t?-1:1:0),this.EditRelatedPopupVisible=!0,"Lead"!==t&&"Contact"!==t)return;const s=this.follower[this.follower.Type];this.currentRelatedItem,this.tempRelatedObj.id=s.Id,this.tempRelatedObj.name=s.Name,this.tempRelatedObj.type=s.Type},onSelect(e,t){this.tempRelatedObj.id=e?e.id:"",this.tempRelatedObj.name=e?e.name:"",this.tempRelatedObj.type=t?t.name:""},onRemove(){this.tempRelatedObj.id="",this.tempRelatedObj.name="",this.tempRelatedObj.type=""},async saveRelated(){this.isSavingRelated=!0;const e=this.follower.Id,t=this.tempRelatedObj.id,s=this.tempRelatedObj.type;let i=await Object(d.m)(e,t,s);this.isSavingRelated=!1,this.EditRelatedPopupVisible=!1,this.$emit("toggle-related-popup",!1),i&&i.ok?(await this.$store.dispatch("livechat/getFollowerDetail",{followerId:e}),this.$emit("update-related")):Object(h.f)(i)},cancelEditRelated(){this.EditRelatedPopupVisible=!1,this.$emit("toggle-related-popup",!1)},updateAlias(){const e=this.follower.Id,t=this.currentAlias;this.isUpdatingAlias=!0,Object(d.l)(async t=>{t.ok?await this.$store.dispatch("livechat/getFollowerDetail",{followerId:e}):Object(h.f)(t),this.isUpdatingAlias=!1,this.isEditingAlias=!1},e,t)}}},p=(s("H34n"),s("1ehG"),s("KHd+")),m=s("31W2"),g=Object(p.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follower-detail"},[e.hasBasic?s("div",{staticClass:"slds-grid follower-header slds-m-bottom_medium"},[e.follower&&e.follower.PhotoUrl&&"https"!==e.follower.PhotoUrl?s("img",{staticClass:"follower-avatar",attrs:{src:e._f("imgFilter")(e.follower.PhotoUrl)},on:{error:function(t){return e.showErrorImg(t)}}}):s("div",{staticClass:"follower-avatar",style:{"background-color":e.noNameFollowerInfo.BgColor}},[e._v("\n      "+e._s(e.noNameFollowerInfo.Name)+"\n    ")]),e._v(" "),s("div",{staticClass:"slds-m-left_medium slds-m-right_medium slds-grid slds-grid_vertical slds-grid_align-center follower-info"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center edit-alias-area",class:{"slds-m-right_medium":e.isUpdatingAlias}},[e.isEditingAlias?e._e():s("ckt-link",{staticClass:"slds-truncate slds-m-right_xx-small follower-alias",attrs:{href:e.followerUrl,label:e.alias}}),e._v(" "),e.isEditingAlias||e.isUpdatingAlias?e._e():s("span",{staticClass:"cursor-pointer edit-icon",on:{click:e.showEditAliasInput}},[s("icon",{attrs:{name:"editReplyIcon",width:"13px",height:"13px","fill-color":"currentColor","hover-color":"#0070d2"}})],1),e._v(" "),e.isEditingAlias?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentAlias,expression:"currentAlias"}],ref:"aliasInput",staticClass:"slds-input slds-m-right_xx-small follower-alias-input",attrs:{type:"text",disabled:e.isUpdatingAlias},domProps:{value:e.currentAlias},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlias(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideEditAliasInput(t)}],input:function(t){t.target.composing||(e.currentAlias=t.target.value)}}}):e._e(),e._v(" "),e.isEditingAlias&&!e.isUpdatingAlias?s("span",{staticClass:"slds-m-right_xx-small alias-edit-icon cursor-pointer",on:{click:e.hideEditAliasInput}},[s("icon",{attrs:{name:"close",width:"13px",height:"13px","fill-color":"#706e6b"}})],1):e._e(),e._v(" "),e.isEditingAlias&&!e.isUpdatingAlias?s("span",{staticClass:"cursor-pointer alias-edit-icon",on:{click:e.updateAlias}},[s("icon",{attrs:{name:"check",width:"13px",height:"13px","fill-color":"#706e6b"}})],1):e._e(),e._v(" "),s("loading-spinner",{attrs:{size:"x-small","is-loading":e.isUpdatingAlias,"custom-style":"position: relative; left: 8px;"}})],1),e._v(" "),e.follower.WeChatAccount?s("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-m-top_xx-small follower-account"},[s("icon",{staticClass:"account-icon",attrs:{name:e.accountTypeToIcon[e.follower.WeChatAccount.Type],width:"12px",height:"12px","fill-color":"#706e6b"}}),e._v(" "),s("span",{staticClass:"slds-m-left_x-small"},[e._v(e._s(e.follower.WeChatAccount.Name))])],1):e._e()])]):e._e(),e._v(" "),s("div",{staticClass:"follower-content"},[s("dl",{staticClass:"slds-dl_horizontal details-content"},[s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("genderLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e.follower.Gender))]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("addressLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e.follower.City)+" "+e._s(e.follower.State)+" "+e._s(e.follower.Country))]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("subDateLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDatetimeFilter")(e.follower.SubscriptionDate,e.currentUser.TimeZoneSidKey)))]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("activityLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e._f("formatDatetimeFilter")(e.follower.LastActivityTime,e.currentUser.TimeZoneSidKey)))]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("relatedToLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail slds-grid slds-grid_align-spread follower-name"},[e.relatedName?s("ckt-link",{staticClass:"slds-truncate detail-value",attrs:{href:e.relatedUrl,label:e.relatedName,"is-console-tab-active":!0}}):e._e(),e._v(" "),!e.EditRelatedPopupVisible&&e.canEditRelated?s("span",{staticClass:"slds-m-left_xx-small lookup-edit-icon",on:{click:e.showEditRelatedLookup}},[s("icon",{attrs:{name:"editReplyIcon",width:"14px",height:"14px","charket-icon":""}})],1):e._e()],1),e._v(" "),e.EditRelatedPopupVisible?s("div",{staticClass:"lookup-select-section"},[s("lookup",{attrs:{"ld-selected-item":e.currentRelatedItem,"ld-metadatas":e.lookupMetadata},on:{select:e.onSelect,remove:function(t){return e.onRemove()}}})],1):e._e()])])])}),[],!1,null,"63232247",null);"function"==typeof m.default&&Object(m.default)(g);t.a=g.exports},KcXz:function(e,t,s){},"Ktw+":function(e,t,s){"use strict";var i=s("iP86"),a=s.n(i),n=s("hOMy"),o=s("QBew"),l=s("x/ns"),r=s("BXKR"),c=s("FpJT"),d={props:{type:{type:String,required:!0}},components:{LdModal:n.LdModal,LdButton:o.LdButton,LimitedInput:r.a,LdSpinner:l.LdSpinner},computed:{title(){return{image:this.$t("imageTitle"),voice:this.$t("voiceTitle"),video:this.$t("videoTitle")}[this.type]},textCountLimit(){return{image:80,voice:80,video:64}[this.type]},uploadBtnName(){return this.isUploading?this.$t("uploadingBtn"):this.$t("uploadBtn")},isUploadButtonDisabled(){return this.isUploading||this.isOverSize}},data:()=>({name:"",description:"",isUploading:!1,uploader:null,wechatAccountId:"",isOverSize:!1,dataURL:""}),methods:{open(e,t){var s,i;this.uploader=new c.a({type:this.type,file:t}),this.wechatAccountId=e,this.isOverSize=this.uploader.isOverSize,this.isOverSize&&this.$refs.modal.showError(this.$t("tooLarge")),this.dataURL=t.dataURL,this.name=t.name,a()(s=this.uploader).call(s,"error",e=>{const t=this.$parseErrorMessage(e);this.$refs.modal.showError(t)}),a()(i=this.uploader).call(i,"completed",e=>{this.closeModal(),this.$emit("completed",e)}),this.$refs.modal.open()},async upload(){this.isUploading=!0,await this.uploader.upload({wechatAccountId:this.wechatAccountId,name:this.name,description:this.description}),this.isUploading=!1},closeModal(){this.$refs.modal.close()},onModalClose(){this.name="",this.description="",this.uploader=null,this.wechatAccountId=""},formattingText(e){this.name=e}}},h=(s("N8LZ"),s("KHd+")),u=s("OHSw"),p=Object(h.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ld-modal",{ref:"modal",attrs:{title:e.title},on:{close:e.onModalClose}},[s("template",{slot:"content"},[s("div",{staticClass:"slds-p-around_medium"},["image"===e.type?s("div",{staticClass:"image-section"},[s("img",{attrs:{src:e._f("imgFilter")(e.dataURL)}})]):e._e(),e._v(" "),s("div",{staticClass:"upload-msg-title"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v("\n            "+e._s(e.$t("titleLabel"))+"\n          ")])]),e._v(" "),s("div",{staticClass:"upload-count"},[s("limited-input",{attrs:{content:e.name,sum:e.textCountLimit},on:{"formated-text":e.formattingText}})],1)]),e._v(" "),"video"===e.type?s("div",{staticClass:"upload-video-desc"},[s("div",{staticClass:"slds-form-element video-desc-label-section"},[s("label",{staticClass:"slds-form-element__label video-desc-label",attrs:{for:"videoDesc"}},[e._v("\n            "+e._s(e.$t("descriptionLabel"))+"\n          ")])]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"slds-textarea video-desc-value",domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]):e._e()])]),e._v(" "),s("template",{slot:"footer"},[s("ld-button",{attrs:{neutral:""},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("cancelBtn")))]),e._v(" "),s("ld-button",{class:{"uploading-btn-width":e.isUploading},attrs:{brand:"",disabled:e.isUploadButtonDisabled},on:{click:function(t){return e.upload()}}},[e.isUploading?s("div",{staticClass:"loading-container"},[s("ld-spinner",{staticClass:"loading-spinner",attrs:{container:"","xx-small":""}})],1):e._e(),e._v("\n      "+e._s(e.uploadBtnName)+"\n    ")])],1)],2)}),[],!1,null,"590bf05f",null);"function"==typeof u.default&&Object(u.default)(p);var m=p.exports,g=s("+Bun"),f=s.n(g);const v=s("YcFl"),_={image:"image/bmp,image/png,image/jpeg,image/jpg,image/gif",video:"video/mp4",voice:"audio/mp3,audio/wma,audio/wav,audio/amr"},C=e=>{const t=document.createElement("input");return t.type="file",t.accept=_[e],t.style.display="none",document.body.appendChild(t),t};class b{constructor(){this.file=null}choose(e){const t=C(e);t.addEventListener("change",e=>{document.body.removeChild(t);const s=e.target.files||e.dataTransfer.files;this.setFile(s[0])}),t.click()}setFile(e){this.file={name:e.name,type:e.type,size:e.size,data:"",dataURL:""},this.readFile(e)}readFile(e){const t=new window.FileReader;t.onload=e=>{let t=e.target.result;for(t=t.substring(f()(t).call(t,",")+1);-1!==f()(t).call(t,"=",t.length-1);)t=t.substring(0,t.length-1);this.file.data=t,this.file.dataURL=e.target.result,this.trigger("loaded",this.file)},t.readAsDataURL(e)}}v.mixin(b);var w=b,y={components:{UploadModal:m},props:{type:{type:String,default:"image"},wechatAccountId:{type:String,required:!0}},methods:{onUploadClick(){const e=new w;a()(e).call(e,"loaded",e=>{this.$refs.uploadModal.open(this.wechatAccountId,e)}),e.choose(this.type)},onUploadCompleted(e){this.$emit("completed",e)}}},T=(s("pjkw"),Object(h.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"message-uploader",on:{click:this.onUploadClick}},[t("div",{staticClass:"message-uploader-modal",on:{click:function(e){e.stopPropagation()}}},[t("upload-modal",{ref:"uploadModal",attrs:{type:this.type},on:{completed:this.onUploadCompleted}})],1),this._v(" "),this._t("default",[t("icon",{attrs:{name:"upload","fill-color":"#0070D2",width:"12px",height:"12px"}})])],2)}),[],!1,null,"1310d782",null).exports);t.a=T},KuEw:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"close":"关闭","newStructuredMessage":"新建图文消息","Cancel":"取消","OK":"确定","fileSaveLabel":"文件保存成功！"},"en":{"close":"Close","newStructuredMessage":"New Structured Message","Cancel":"Cancel","OK":"OK","fileSaveLabel":"The file was saved."}}'),delete e.options._Ctor}},"L/RG":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="image_float_none" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="image_float_none_XMLID_1_"> <rect id="image_float_none_XMLID_2_" y="1" width="18" height="2"/> <rect id="image_float_none_XMLID_6_" y="15" width="18" height="2"/> <rect id="image_float_none_XMLID_7_" x="0.1" y="5" width="7" height="8"/> </g> </symbol>',"image_float_none")},LBA5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAGVklEQVRoQ9VZfUyNURx+QmqKGdN8JCQyzGTra+MPQ0ZWivLVLN+aRtjYLFvzMamJQqupzKzJEPKxlY8ZQzGTLYU0SzPK5A/UQthztvPuvvfrfe97b9P9bXe7u/ec3+8855zf13M8APxFD4unpycOHDiA/Px8NDc394g1j54GMn78eJw7dw6hoaEIDAzEu3fv3A/IypUrUVBQgIEDB4rFux0QHx8fnDhxAsnJyarddysgISEhKCsrw8SJEy2ukNsASUtLw+HDh9G/f3+rftDrgQwbNgynT59GdHS0XUfu1UDmzJmDs2fPYsSIEZrRiOMePHiAZ8+eoa6uDj9//tSco3eA4fDbr18/7Nu3D7t370afPn302lPGdXV14fr16zh16hRu3bqFP3/+OKzDdIIhIB4eHrhx4wYWLFjglHE5mUkyJycHJ0+eRHd3tyGdhoDQ0vDhw0WmjouLM2TY2qTnz59j06ZNePr0qcM6DQORlhITE3H8+HH4+flpGs/KykJQUBAiIyNt+hSv2KFDh7B37178/au/etINpG/fvkKxtbs8dOhQ5ObmYtWqVbqjVnh4OLZs2QJuhJeXl8W8M2fOYP369fj9+7fmBnGALiCrV68WmZog1qxZg8uXL1tVzvDLksTf3193HuFJHj16FCxnzIV+uGTJEjAwaIkmEDr0tWvXwBOhfPjwweZC+f+gQYOQnZ2NDRs2gEHBVOzlkYULF6K4uFj4nqlwY1JSUrRw2D+RyZMno7q6Win6qO3NmzcIDg7WVDx79mwUFRWJQlGKVkJkpcxQPG7cOJX+pKQklJaW2rVp80SYGx4/foywsDBFAUMjd66qqkoTCAcMGDAABw8exNatW0Wu0QLCOSNHjsS9e/cwYcIExcaPHz8wffp0vH371qZdm0C2bduGY8eOqSbSORlyHZWIiAiUlJSIEkZPPzJt2jTU1NTA29tbMcWexpofyQE2gbS0tKh84fz581i+fLmjGJTxMjLpcVxOYj6hf0hhoJk6dSoaGhqsrsEmEPqCPN729nbQX1pbWw0DMTKRCZJXSgrbgxUrVjgGZObMmcjLyxOTUlNT8ejRIyNrcWoOq4by8nJFB0+TOYs+Yy6a4deplTg5meH79evXKsePjY1FRUWFewHhallMbt++XVl4YWEhNm/e7H5A5s2bpwr3PKFJkya5HxBfX198+/ZNWfj3799VCVoz/Dp5vV06nYsnMyOF4Mwd3sLZmYGZvWXz5Gzn5gpEzOgsX6SwFWhqalKptgDC+mjdunViELOx/O6KBRnV8fLlS5HHpDAx8jdTsQBieoyM2zxGvT2B0YVqzWtrawOZGiks/T9//mwfyPv37zF69GhlEIm2xsZGLVs99j/bB7ItkuBg4UrezPzKW5zI3bt3wRJcyqJFiwTR8L+EBeSLFy8U8x8/fhQVsrlYAGEnyCpXChPSzp07/xcO7NixA0eOHFHsX7p0CUuXLtUGsnjxYlUrW19fjylTpvw3IJWVlYiKilLss1s0rYrlHxYnwieAL1++gI8zlF+/fglywBFGw1WoWX2/evVKRQDyN2sNltWikQ0VGyvKlStXXMpdOQKSO8++RMqTJ09A9sWaWAVCOnT+/PkYMmQI2FC5kqPVC4S8QG1trapLTEhIwMWLF/UD0Wusp8Yx5D58+FC1+7xOBGer0uiV/cj+/fuRnp6u2icSeRcuXLC5d70OiDXSQw9f4BAQlga8p2RCbt686fKbZZ4zaODTp08i/JM3sCe6gZCaYU6R5BnZRxaU5jWPEXSDBw8WLGN8fLxqOvuQuXPngtFKS3QDmTFjhnhpMhUWcxkZGYJRZL5xVJir1q5dK5j3UaNGqaZ3dHSI95f79+/rUqsbCE+EbWZAQICFYl410pp6mRZelZiYGGzcuBFjx4610Pf161dxhe/cuaMLBAfpBsLBY8aMEe+Fs2bNsgrGlOflALYAZD34O3ecH4Iw53ZNlZFrXrZsGViFOyIOAaFiltO7du0S4dG0/aQzknOSwqTKlydTgs3ewniVWBzyXdJI/+MwELkYRrA9e/aI68HMz1KCYVIKmQ5b9KYpoM7OTlEEZmZmgj5nVAwDkQbZ5LCgNHd2+hSzsbkTcx53//bt27h69ap4e3FF5HMaiL0dpCPz+YxlBR+I5IcVLU/ClfIPp7KgH7ViBk0AAAAASUVORK5CYII="},LCKR:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 322 163" id="no_related_follower" xmlns:xlink="http://www.w3.org/1999/xlink"> \x3c!-- Generator: Sketch 53.2 (72643) - https://sketchapp.com --\x3e <title>No Related Follower</title> <desc>Created with Sketch.</desc> <g id="no_related_follower_Live-Chat" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="no_related_follower_Live-Chat---No-Related-Follower" transform="translate(-203.000000, -275.000000)"> <g id="no_related_follower_Desktop-Components-/-Empty-State-/-Simplified" transform="translate(203.000000, 275.000000)"> <g id="no_related_follower_No-Related-Follower"> <g id="no_related_follower_SunBkgd" transform="translate(197.000000, 30.000000)" fill="#C2E8FF" fill-rule="nonzero"> <circle id="no_related_follower_Oval" cx="23" cy="23" r="23"/> </g> <g id="no_related_follower_Group" transform="translate(173.000000, 6.000000)" fill="#C2E8FF" fill-rule="nonzero"> <path d="M82.6,17.1 C73.8,6.6 60.8,0.5 47,0.5 C36.1,0.5 25.5,4.4 17.1,11.4 C6.5,20.3 0.5,33.2 0.5,47 C0.5,55.7 2.9,64.2 7.5,71.5 C7.6,71.7 7.7,71.8 7.9,71.9 C7.9,72.1 8,72.2 8.1,72.4 C8.3,72.7 8.5,73 8.7,73.3 C9.2,74 10.1,74.2 10.8,73.7 C11.5,73.2 11.7,72.3 11.2,71.6 C11,71.3 10.8,71.1 10.7,70.8 C10.6,70.7 10.5,70.5 10.4,70.4 C10.4,70.2 10.3,70.1 10.2,69.9 C5.9,63 3.7,55.1 3.7,47 C3.7,34.1 9.4,21.9 19.2,13.7 C27,7.1 36.9,3.5 47.1,3.5 C60,3.5 72.2,9.2 80.4,19 C87,26.8 90.6,36.7 90.6,46.9 C90.6,59.8 84.9,72 75.1,80.2 C67.3,86.8 57.4,90.4 47.2,90.4 C38.8,90.4 30.7,88 23.7,83.5 C23,83.1 22.1,83.3 21.6,84 C21.1,84.7 21.4,85.6 22.1,86.1 C29.6,90.9 38.3,93.5 47.2,93.5 C58.1,93.5 68.7,89.6 77.1,82.6 C87.7,73.7 93.7,60.8 93.7,47 C93.5,36.1 89.6,25.5 82.6,17.1 Z" id="no_related_follower_Path" fill=""/> <path d="M47,81.5 C53,81.5 59,79.9 64.2,76.9 C65.2,76.3 66.2,75.7 67.1,75 C67.8,74.5 67.9,73.6 67.4,72.9 C66.9,72.2 66,72.1 65.3,72.6 C64.5,73.2 63.6,73.8 62.7,74.3 C57.9,77.1 52.5,78.5 47,78.5 C35.8,78.5 25.3,72.5 19.7,62.7 C16.9,57.9 15.5,52.5 15.5,47 C15.5,35.8 21.5,25.3 31.3,19.7 C36.1,16.9 41.5,15.5 47,15.5 C58.2,15.5 68.7,21.5 74.3,31.3 C77.1,36.1 78.5,41.5 78.5,47 C78.5,53.8 76.3,60.5 72.2,66 C71.7,66.7 71.8,67.6 72.5,68.1 C73.2,68.6 74.1,68.5 74.6,67.8 C79.1,61.9 81.5,54.5 81.5,47 C81.5,41 79.9,35 76.9,29.8 C70.8,19.2 59.3,12.5 47,12.5 C41,12.5 35,14.1 29.8,17.1 C19.2,23.2 12.5,34.7 12.5,47 C12.5,53 14.1,59 17.1,64.2 C23.3,74.9 34.7,81.5 47,81.5 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_SunDarkBlue" transform="translate(195.000000, 28.000000)" fill="#8CD3F8" fill-rule="nonzero"> <g id="no_related_follower_SunOutline"> <path d="M25,49.5 C11.5,49.5 0.5,38.5 0.5,25 C0.5,11.5 11.5,0.5 25,0.5 C38.5,0.5 49.5,11.5 49.5,25 C49.5,38.5 38.5,49.5 25,49.5 Z M25,3.5 C13.1,3.5 3.5,13.1 3.5,25 C3.5,36.9 13.1,46.5 25,46.5 C36.9,46.5 46.5,36.9 46.5,25 C46.5,13.1 36.9,3.5 25,3.5 Z" id="no_related_follower_Shape" fill=""/> </g> </g> <g id="no_related_follower_Plant" transform="translate(50.000000, 160.000000)" fill="#8CD3F8" fill-rule="nonzero"> <g id="no_related_follower_PlantDarkBlue"> <g id="no_related_follower_HorizontalLine2"> <path d="M208,3 L2,3 C1.2,3 0.5,2.3 0.5,1.5 C0.5,0.7 1.2,0 2,0 L208,0 C208.8,0 209.5,0.7 209.5,1.5 C209.5,2.3 208.8,3 208,3 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_HorizontalLine1" transform="translate(259.000000, 0.000000)"> <path d="M11,3 L1.5,3 C0.7,3 0,2.3 0,1.5 C0,0.7 0.7,0 1.5,0 L11,0 C11.8,0 12.5,0.7 12.5,1.5 C12.5,2.3 11.8,3 11,3 Z" id="no_related_follower_Path" fill=""/> </g> </g> </g> <g id="no_related_follower_Group" transform="translate(0.000000, 111.000000)" fill="#C2E8FF" fill-rule="nonzero"> <path d="M285,37 L254.6,37 C254.5,36.9 254.5,36.9 254.4,36.8 L220.4,9.8 C219.9,9.4 219.1,9.4 218.5,9.8 L208.6,17.8 L186.4,0.8 C185.9,0.4 185.1,0.4 184.6,0.8 L139.6,36.8 C139.5,36.9 139.5,36.9 139.4,37 L117.4,37 C116.6,37 115.9,37.7 115.9,38.5 C115.9,39.3 116.6,40 117.4,40 L285,40 C285.8,40 286.5,39.3 286.5,38.5 C286.5,37.7 285.8,37 285,37 Z M184,37 L144.2,37 L184,5.1 L184,37 Z M218,14.1 L218,25 L211.1,19.7 L218,14.1 Z M187,37 L187,5 L218.6,29.2 C218.6,29.2 218.6,29.2 218.6,29.2 C218.6,29.2 218.7,29.3 218.7,29.3 C218.7,29.3 218.8,29.3 218.8,29.4 C218.8,29.4 218.9,29.4 218.9,29.5 C218.9,29.5 219,29.5 219,29.5 C219,29.5 219.1,29.5 219.1,29.5 C219.2,29.5 219.2,29.5 219.3,29.5 C219.3,29.5 219.3,29.5 219.3,29.5 C219.3,29.5 219.4,29.5 219.4,29.5 C219.5,29.5 219.5,29.5 219.6,29.5 C219.6,29.5 219.7,29.5 219.7,29.5 C219.7,29.5 219.8,29.5 219.8,29.5 C219.8,29.5 219.9,29.5 219.9,29.4 C219.9,29.4 220,29.4 220,29.3 C220,29.3 220.1,29.2 220.1,29.2 C220.1,29.2 220.2,29.1 220.2,29.1 C220.2,29.1 220.3,29 220.3,29 C220.3,29 220.3,29 220.4,28.9 C220.4,28.9 220.4,28.9 220.4,28.9 C220.4,28.9 220.5,28.8 220.5,28.8 C220.5,28.8 220.5,28.7 220.6,28.7 C220.6,28.7 220.6,28.6 220.7,28.6 C220.7,28.6 220.7,28.5 220.7,28.5 C220.7,28.5 220.7,28.4 220.7,28.4 C220.7,28.3 220.7,28.3 220.7,28.2 C220.7,28.2 220.7,28.2 220.7,28.2 L220.7,14.3 L249.5,37.2 L187,37.2 L187,37 Z" id="no_related_follower_Shape" fill=""/> <path d="M101,38 L26,38 C25.2,38 24.5,38.7 24.5,39.5 C24.5,40.3 25.2,41 26,41 L101,41 C101.8,41 102.5,40.3 102.5,39.5 C102.5,38.7 101.8,38 101,38 Z" id="no_related_follower_Path" fill=""/> <path d="M17.4,38 L2,38 C1.2,38 0.5,38.7 0.5,39.5 C0.5,40.3 1.2,41 2,41 L17.4,41 C18.2,41 18.9,40.3 18.9,39.5 C18.9,38.7 18.2,38 17.4,38 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Group" transform="translate(38.000000, 68.000000)"> <g id="no_related_follower_Fill-1" transform="translate(48.000000, 52.000000)"> <path d="M25,12.7 C25,19.6 19.4,25.2 12.5,25.2 C5.6,25.2 0,19.6 0,12.7 C0,5.8 5.6,0.2 12.5,0.2 C19.4,0.2 25,5.8 25,12.7" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Stroke-3" transform="translate(46.000000, 50.000000)" fill="#8CD3F8" fill-rule="nonzero"> <path d="M14.5,28.7 C6.8,28.7 0.5,22.4 0.5,14.7 C0.5,7 6.8,0.7 14.5,0.7 C22.2,0.7 28.5,7 28.5,14.7 C28.5,22.4 22.2,28.7 14.5,28.7 Z M14.5,3.7 C8.4,3.7 3.5,8.6 3.5,14.7 C3.5,20.8 8.4,25.7 14.5,25.7 C20.6,25.7 25.5,20.8 25.5,14.7 C25.5,8.6 20.6,3.7 14.5,3.7 Z" id="no_related_follower_Shape" fill=""/> </g> <g id="no_related_follower_Fill-5" transform="translate(13.000000, 2.000000)" fill="#C2E8FF" fill-rule="nonzero"> <path d="M45,22.2 C45,34.4 34.9,44.2 22.5,44.2 C10.1,44.2 0,34.3 0,22.2 C0,10.1 10.1,0.2 22.5,0.2 C34.9,0.2 45,10 45,22.2" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Stroke-7_1_" transform="translate(11.000000, 0.000000)" fill="#8CD3F8" fill-rule="nonzero"> <path d="M24.5,47.7 C11.3,47.7 0.5,37.2 0.5,24.2 C0.5,11.2 11.3,0.7 24.5,0.7 C37.7,0.7 48.5,11.2 48.5,24.2 C48.5,37.2 37.7,47.7 24.5,47.7 Z M24.5,3.7 C12.9,3.7 3.5,12.9 3.5,24.2 C3.5,35.5 12.9,44.7 24.5,44.7 C36.1,44.7 45.5,35.5 45.5,24.2 C45.5,12.9 36.1,3.7 24.5,3.7 Z" id="no_related_follower_Shape" fill=""/> </g> <g transform="translate(53.000000, 58.179918)" fill-rule="nonzero"> <g id="no_related_follower_Fill-9" transform="translate(2.000000, 1.000000)" fill="#C2E8FF"> <path d="M0.5,10.8 L10.6,0.7" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Stroke-11" fill="#8CD3F8"> <path d="M2.5,13.3 C2.1,13.3 1.7,13.2 1.4,12.9 C0.8,12.3 0.8,11.4 1.4,10.8 L11.5,0.7 C12.1,0.1 13,0.1 13.6,0.7 C14.2,1.3 14.2,2.2 13.6,2.8 L3.5,12.8 C3.2,13.1 2.9,13.3 2.5,13.3 Z" id="no_related_follower_Path" fill=""/> </g> </g> <g transform="translate(53.000000, 58.179918)" fill-rule="nonzero"> <g id="no_related_follower_Fill-12" transform="translate(2.000000, 1.000000)" fill="#C2E8FF"> <path d="M0.5,0.7 L10.5,10.8" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Stroke-14" fill="#8CD3F8"> <path d="M12.5,13.3 C12.1,13.3 11.7,13.2 11.4,12.9 L1.4,2.8 C0.8,2.2 0.8,1.3 1.4,0.7 C2,0.1 2.9,0.1 3.5,0.7 L13.6,10.7 C14.2,11.3 14.2,12.2 13.6,12.8 C13.3,13.1 12.9,13.3 12.5,13.3 Z" id="no_related_follower_Path" fill=""/> </g> </g> <g id="no_related_follower_Stroke-15" transform="translate(0.000000, 47.000000)" fill="#8CD3F8" fill-rule="nonzero"> <path d="M71,36.7 L0.6,36.7 L0.6,35 C0.6,34.8 0.6,34.5 0.6,34.3 C0.6,19.7 9.3,6.5 22.7,0.9 L23.4,0.6 L24,0.9 C27.9,3 32.2,4.1 36.6,4.1 C41,4.1 45.4,3 49.2,0.9 C49.9,0.5 50.8,0.8 51.2,1.5 C51.6,2.2 51.3,3.1 50.6,3.5 C46.3,5.8 41.4,7 36.5,7 C31.8,7 27.2,5.9 23.1,3.8 C11.3,9.1 3.7,20.7 3.5,33.7 L71,33.7 C71.8,33.7 72.5,34.4 72.5,35.2 C72.5,36 71.8,36.7 71,36.7 Z" id="no_related_follower_Path" fill=""/> </g> </g> <g id="no_related_follower_Group" transform="translate(30.000000, 0.000000)" fill="#C2E8FF" fill-rule="nonzero"> <g id="no_related_follower_&#x5206;&#x7EC4;-17"> <g id="no_related_follower_Cloud2Outline4" transform="translate(43.000000, 0.000000)"> <path d="M22.1,19.6 L2,19.6 C1.2,19.6 0.5,18.9 0.5,18.1 C0.5,17.3 1.2,16.6 2,16.6 L18.7,16.6 C18.5,11.6 20.5,7.2 24.6,3.8 C29.6,-0.4 35.7,0.1 39.7,1.9 C43.4,3.6 45.8,5.9 47.4,9.4 C48.1,11 48.6,12.3 48.8,13.4 C49,14.2 48.5,15 47.7,15.2 C46.9,15.4 46.1,14.9 45.9,14.1 C45.7,13.2 45.3,12 44.6,10.6 C43.3,7.7 41.5,6 38.5,4.6 C37.4,4.1 31.7,1.9 26.5,6.1 C22.7,9.3 21.2,13.2 21.8,18 L22.1,19.6 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Cloud2Outline3" transform="translate(27.000000, 11.000000)"> <path d="M79.2,31.5 L2.2,31.5 C1.4,31.5 0.7,30.8 0.7,30 C0.7,29.2 1.4,28.5 2.2,28.5 L79.3,28.5 C83,28.5 84.2,25.2 84.3,24.8 C84.7,23.4 84.7,21.3 83.3,19.5 C82.2,18.1 79.9,17.5 76.4,17.6 L74.8,17.7 L74.9,16.1 C75,14.6 74.9,13.2 74.7,12.1 C74.4,10.3 73.9,8.8 72.3,6.9 C70.7,5 66.8,3 62.7,4.5 C60,5.5 58.2,7.4 57.3,10.6 C57.1,11.4 56.2,11.9 55.4,11.6 C54.6,11.4 54.1,10.5 54.4,9.7 C55.6,5.6 58,2.9 61.7,1.6 C66.8,-0.2 72.1,1.9 74.5,4.9 C76.6,7.5 77.2,9.6 77.5,11.5 C77.7,12.4 77.8,13.5 77.8,14.6 C81.5,14.7 84.1,15.7 85.6,17.7 C87.4,20 87.9,23 87.1,25.8 C86.2,28.6 83.4,31.5 79.2,31.5 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Cloud2Outline2" transform="translate(17.000000, 26.000000)"> <path d="M65.4,3.3 L2,3.3 C1.2,3.3 0.5,2.6 0.5,1.8 C0.5,1 1.2,0.3 2,0.3 L65.4,0.3 C66.2,0.3 66.9,1 66.9,1.8 C66.9,2.6 66.2,3.3 65.4,3.3 Z" id="no_related_follower_Path" fill=""/> </g> <g id="no_related_follower_Cloud2Outline1" transform="translate(0.000000, 26.000000)"> <path d="M9.9,3.3 L2,3.3 C1.2,3.3 0.5,2.6 0.5,1.8 C0.5,1 1.2,0.3 2,0.3 L9.9,0.3 C10.7,0.3 11.4,1 11.4,1.8 C11.4,2.6 10.8,3.3 9.9,3.3 Z" id="no_related_follower_Path" fill=""/> </g> </g> </g> </g> </g> </g> </g> </symbol>',"no_related_follower")},LGLf:function(e,t,s){},LJh5:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 26 26" id="follower" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M16,15.4c-0.1,0-1-0.4-0.5-2.1h0c1.4-1.4,2.5-3.8,2.5-6C18,3.8,15.6,2,12.9,2c-2.7,0-5,1.8-5,5.4\n\tc0,2.3,1.1,4.6,2.5,6.1c0.5,1.4-0.4,2-0.6,2c-2.8,1-6.2,2.9-6.2,4.8v0.7c0,2.5,4.9,3.1,9.4,3.1c4.5,0,9.4-0.6,9.4-3.1v-0.7\n\tC22.3,18.3,18.9,16.4,16,15.4" fill=""/> </symbol>',"follower")},LK4V:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"moreItemsLabel":"更多选项","blockFollowerBtn":"拉黑","blockModalTitleLabel":"拉黑关注者","blockModalContentLabel":"你确定想要拉黑此关注者？","unblockFollowerBtn":"取消拉黑","unblockModalTitleLabel":"取消拉黑关注者","unblockModalContentLabel":"你确定想要取消拉黑此关注者?","syncModalTitleLabel":"同步关注者","blockFollowerSuccess":"关注者已被拉黑。","unblockFollowerSuccess":"关注者已被取消拉黑。"},"en":{"moreItemsLabel":"More Items","blockFollowerBtn":"Block","blockModalTitleLabel":"Block Follower","blockModalContentLabel":"Are you sure you want to block this follower?","unblockFollowerBtn":"Unblock","unblockModalTitleLabel":"Unblock Follower","unblockModalContentLabel":"Are you sure you want to unblock this follower?","syncModalTitleLabel":"Sync Follower","blockFollowerSuccess":"The follower was blocked.","unblockFollowerSuccess":"The follower was unblocked."}}'),delete e.options._Ctor}},LT03:function(e,t,s){"use strict";var i=s("3zUd"),a=s.n(i);t.default=a.a},LUW6:function(e,t,s){"use strict";var i=s("SLhn"),a=s.n(i);const n=()=>(65536*(1+Math.random())|0).toString(16).substring(1);t.a=()=>{var e,t,s,i,o,l,r;return a()(e=a()(t=a()(s=a()(i=a()(o=a()(l=a()(r="".concat(n())).call(r,n(),"-")).call(l,n(),"-")).call(o,n(),"-")).call(i,n(),"-")).call(s,n())).call(t,n())).call(e,n())}},LXIl:function(e,t,s){"use strict";var i=s("Vbny"),a=s.n(i);t.default=a.a},LZ4H:function(e,t,s){"use strict";var i=s("8pXr");s.n(i).a},Ln5d:function(e,t,s){},Ls1S:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 183.5 149.5" id="wechat" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path d="M183.5,95.9c0-26-26-47.1-55.2-47.1c-30.9,0-55.2,21.2-55.2,47.1c0,26,24.3,47.1,55.2,47.1\r\n\t\tc6.5,0,13-1.6,19.5-3.3l17.8,9.8l-4.9-16.2C173.8,123.5,183.5,110.5,183.5,95.9z M110.4,87.7c-3.2,0-6.5-3.2-6.5-6.5\r\n\t\tc0-3.2,3.3-6.5,6.5-6.5c4.9,0,8.1,3.3,8.1,6.5C118.6,84.5,115.4,87.7,110.4,87.7z M146.2,87.7c-3.2,0-6.5-3.2-6.5-6.5\r\n\t\tc0-3.2,3.2-6.5,6.5-6.5c4.9,0,8.1,3.3,8.1,6.5C154.3,84.5,151,87.7,146.2,87.7z" fill=""/> <path d="M124.2,45.2c2.1,0,4.2,0.2,6.3,0.4C124.9,19.4,96.9,0,65,0C29.2,0,0,24.3,0,55.2c0,17.8,9.7,32.5,26,43.9\r\n\t\tl-6.5,19.5l22.7-11.4c8.1,1.6,14.6,3.3,22.8,3.3c2,0,4.1-0.1,6.1-0.3c-1.3-4.3-2-8.9-2-13.6C69,68.3,93.4,45.2,124.2,45.2z\r\n\t\t M89.3,27.6c4.9,0,8.1,3.2,8.1,8.1c0,4.9-3.2,8.1-8.1,8.1c-4.9,0-9.8-3.3-9.8-8.1C79.6,30.8,84.4,27.6,89.3,27.6z M43.9,43.9\r\n\t\tc-4.9,0-9.8-3.3-9.8-8.1c0-4.9,4.9-8.1,9.8-8.1c4.9,0,8.1,3.2,8.1,8.1C52,40.6,48.7,43.9,43.9,43.9z" fill=""/> </g> </symbol>',"wechat")},M0cT:function(e,t,s){"use strict";var i=s("GCYz");s.n(i).a},M0k5:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="check" ><path d="m19.1 42.5l-16.5-16.6c-0.6-0.6-0.6-1.6 0-2.2l2.2-2.2c0.6-0.6 1.6-0.6 2.2 0l12.4 12.5c0.4 0.4 1.1 0.4 1.5 0l24.3-24.5c0.6-0.6 1.6-0.6 2.2 0l2.2 2.2c0.6 0.6 0.6 1.6 0 2.2l-28.3 28.6c-0.6 0.7-1.6 0.7-2.2 0z" fill=""/></symbol>',"check")},M43e:function(e,t,s){},M5c2:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 24 24" id="online_dnd" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#15B68B;} </style> <g id="online_dnd_XMLID_1_"> <polygon id="online_dnd_XMLID_4_" fill="#9faab6" points="22.7,9.5 18.5,9.5 22.7,4.4 22.7,2.5 15.7,2.5 15.7,4.5 19.4,4.5 15.7,9.6 15.7,11.5\n\t\t22.7,11.5 \t"/> <path id="online_dnd_XMLID_5_" d="M22.5,17c-6.6,0-12-5.4-12-12c0-1.8,0.4-3.4,1.1-5C5.4,0.5,0.5,5.7,0.5,12c0,6.6,5.4,12,12,12\n\t\tc4.9,0,9-2.9,10.9-7C23.2,17,22.9,17,22.5,17z" fill=""/> </g> </symbol>',"online_dnd")},M68S:function(e,t,s){"use strict";var i=s("t8rE");s.n(i).a},M9dV:function(e,t,s){"use strict";var i=s("4LGG"),a=s.n(i),n=s("jkSJ");const o='{ "Field": "LastModifiedDate", "Order": "DESC" }';var l=class{constructor(e){this.options=e}async get(e){var t;let{keyword:s="",limit:i=20,offset:l=0,sort:r=""}=e;const c=l/i+1,d=await n.r.getSkills({pageNumber:c,pageSize:i,conditions:{filter:{KnowledgeSource:"All",IsActive:!0},sortBy:o,searchKey:s}});return a()(t=d.records).call(t,e=>this.options.formatter(e))}},r=s("iP86"),c=s.n(r),d=s("Yvyk"),h=s.n(d),u=s("FpJT"),p=s("WJzM");const m=20;var g=class{constructor(e){this.options=e}get(e){let{keyword:t="",limit:s=m,offset:i=0}=e;return n.k.getMessages({type:"Image",keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id})}create(e){const t={name:e.name,data:e.content,type:e.type,dataURL:e.originalContent,size:e.content.length};return new h.a(async(e,s)=>{const i=new u.a({type:"image",file:t});c()(i).call(i,"error",e=>{s(e)}),c()(i).call(i,"completed",t=>{t.type="Image",e(new p.a(t))}),await i.upload({wechatAccountId:this.options.wechatAccount.id,name:t.name})})}};const f=30;var v=class{constructor(e){this.options=e,this.pageSize=f}async get(e){let{keyword:t="",limit:s=f,offset:i=0}=e;const o=await n.k.getMessages({type:"Voice",keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id});return a()(o).call(o,e=>this.options.formatter(e))}create(e){return new h.a((t,s)=>{const i=new u.a({type:"voice",file:e});c()(i).call(i,"error",e=>{s(e)}),c()(i).call(i,"completed",e=>{e.type="Voice Message",t(new p.a(e))}),i.upload({wechatAccountId:this.options.wechatAccount.id,name:e.name})})}};const _=20;var C=class{constructor(e){this.options=e}async get(e){let{keyword:t="",limit:s=_,offset:i=0}=e;const o=await n.k.getMessages({type:"Video",keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id});return a()(o).call(o,e=>this.options.formatter(e))}create(e){return new h.a(async(t,s)=>{const i=new u.a({type:"video",file:e});c()(i).call(i,"error",e=>{s(e)}),c()(i).call(i,"completed",e=>{e.type="Video",t(new p.a(e))}),await i.upload({wechatAccountId:this.options.wechatAccount.id,name:e.name,description:e.description})})}};const b=20;var w=class{constructor(e){this.options=e}async get(e){let{keyword:t="",limit:s=b,offset:i=0}=e;const o=this.options.structuredType,l=await n.k.getMessages({type:"Structured Message",keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id},{structuredType:o});return a()(l).call(l,e=>this.options.formatter(e))}};const y=10;var T=class{constructor(e){this.options=e,this.pageSize=y}async get(e){let{keyword:t="",limit:s=y,offset:i=0}=e;return n.k.getMessages({type:"Mini Program Page",wechatAccountId:this.options.wechatAccount.id,offset:i,limit:s,keyword:t})}};const L=20;var I=class{constructor(e){this.options=e}async get(e){let{keyword:t="",limit:s=L,offset:i=0}=e;const o=await n.n.getWeChatPasses({keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id});return a()(o).call(o,e=>this.options.formatter(e))}};const k=20;var S=class{constructor(e){this.options=e}async get(e){let{keyword:t="",limit:s=k,offset:i=0}=e;const o=await n.e.getWeChatCoupons({keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id});return a()(o).call(o,e=>this.options.formatter(e))}};const M=20;var A=class{constructor(e){this.options=e,this.pageSize=M}async get(e){let{keyword:t="",limit:s=M,offset:i=0}=e;const o=await n.m.getNotificationTemplates({wechatAccountId:this.options.wechatAccount.id,offset:i,limit:s,keyword:t});return a()(o).call(o,e=>this.options.formatter(e))}};const x=20;var N=class{constructor(e){this.options=e}async get(e){let{keyword:t="",limit:s=x,offset:i=0}=e;return await n.k.getMessages({type:"Text Message",keyword:t,limit:s,offset:i,wechatAccountId:this.options.wechatAccount.id})}create(e){return n.k.createTextMessage({wechatAccountId:this.options.wechatAccount.id,content:e})}async update(e,t){try{const s=await n.k.updateTextMessage({id:e,content:t});return this.options.success(),s}catch(e){throw this.options.error(e),e}}};var E=class{constructor(e){this.options=e,this.wechatAccount=e.wechatAccount}getMiniProgramAppId(){return n.k.getMiniProgramAppId(this.wechatAccount.id)}};var D=class{constructor(e){this.options=e}getObjects(){return n.q.getObjectsByPageName(this.options.pageName)}getFields(e){return n.q.getFields(e)}};var P=class{static create(e,t){let s=null;switch(e){case"Text Message":s=new N(t);break;case"Skill":s=new l(t);break;case"Image":s=new g(t);break;case"Voice Message":s=new v(t);break;case"Video":s=new C(t);break;case"Mini Program Page":s=new T(t);break;case"Structured Message":s=new w(t);break;case"Pass":s=new I(t);break;case"Coupon":s=new S(t);break;case"Notification Template":s=new A(t);break;case"Mini Program Link":s=new E(t);break;case"Merge Field":s=new D(t);break;default:console.warn("Unknown message type. (".concat(e,")"))}return s}};s.d(t,"a",(function(){return P}))},MBrA:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 26.968 27.772" id="messages" xmlns:xlink="http://www.w3.org/1999/xlink"> <path fill="" d="M14.834,0.002c-0.243-0.008-0.484,0.009-0.724,0.023c-0.263-0.014-0.526-0.023-0.792-0.023\r\n\tc-0.197,0-0.393,0.006-0.588,0.014c-0.164-0.007-0.329-0.014-0.495-0.014c-6.128,0-11.192,4.546-12.01,10.449\r\n\tc-0.039,0.193-0.076,0.39-0.106,0.6c-1.158,8.131,6.322,14.679,12.115,16.72c0.089-1.954-0.894-3.513,1.083-3.513\r\n\tc0.056,0,0.111,0.006,0.166,0.008l0-0.012c0.21-0.002,0.419-0.009,0.626-0.02c0.24,0.015,0.48,0.023,0.724,0.023\r\n\tc6.698,0,11.917-5.433,12.128-12.128C27.169,5.581,21.871,0.246,14.834,0.002z M7.987,13.886c-0.85,0-1.539-0.689-1.539-1.539\r\n\ts0.689-1.539,1.539-1.539s1.539,0.689,1.539,1.539S8.837,13.886,7.987,13.886z M13.355,13.886c-0.85,0-1.539-0.689-1.539-1.539\r\n\ts0.689-1.539,1.539-1.539s1.539,0.689,1.539,1.539S14.205,13.886,13.355,13.886z M18.723,13.886c-0.85,0-1.539-0.689-1.539-1.539\r\n\ts0.689-1.539,1.539-1.539s1.539,0.689,1.539,1.539S19.573,13.886,18.723,13.886z"/> </symbol>',"messages")},MXUX:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="clock" ><path fill="" d="m26 2c-13.2 0-24 10.8-24 24s10.8 24 24 24 24-10.8 24-24-10.8-24-24-24z m0 42c-9.9 0-18-8.1-18-18s8.1-18 18-18 18 8.1 18 18-8.1 18-18 18z m3.4-17.8c-0.3-0.3-0.4-0.7-0.4-1.1v-9.6c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v12.1c0 0.4 0.2 0.8 0.4 1.1l7.4 7.4c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1c0.6-0.6 0.6-1.5 0-2.1l-5.6-5.7z"/></symbol>',"clock")},MZWS:function(e,t,s){"use strict";var i=s("2/Dp"),a=s.n(i);t.default=a.a},MrxX:function(e,t,s){},MssT:function(e,t,s){"use strict";var i=s("IIsI"),a=s.n(i);t.default=a.a},"N+mu":function(e,t,s){"use strict";var i=s("8I+z");s.n(i).a},N11t:function(e,t,s){"use strict";var i=s("fHQG"),a=s.n(i);t.default=a.a},N2Si:function(e,t,s){"use strict";var i=s("KBFF");s.n(i).a},N8LZ:function(e,t,s){"use strict";var i=s("gDko");s.n(i).a},NFMj:function(e,t,s){e.exports=s.p+"favicon32.ico"},NIf7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"createCaseLabel":"创建个案","saveAndMarkLabel":"保存并结束会话","savedCaseLabel":"创建成功。","caseLabel":"个案","requiredLabel":"必须填写这些必填字段:","fieldErrorLabel":"填写此字段","noneLabel":"--无--"},"en":{"createCaseLabel":"Create Case","saveAndMarkLabel":"Save & Mark as Done","savedCaseLabel":" was created.","caseLabel":"Case","requiredLabel":"These required fields must be completed:","fieldErrorLabel":"Complete this field","noneLabel":"--None--"}}'),delete e.options._Ctor}},O8rG:function(e,t,s){"use strict";var i=s("Y4XF");s.n(i).a},"O9/B":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="followers" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path fill="" d="M16.455,15.721c-2.509-0.591-3.763-1.993-3.985-2.289c-0.221-0.295-0.221-0.664-0.221-1.107\r\n\t\tc0-0.148,0.074-0.369,0.147-0.517l0.074-0.147c0.074-0.148,0.369-0.886,0.59-1.329c0-0.074,0.148-0.295,0.295-0.443l0,0\r\n\t\tc0.221-0.148,0.443-0.369,0.812-0.812c0.59-0.886,0.295-1.698-0.221-2.067V6.863c0.295-0.812,0.443-1.772,0.369-2.953\r\n\t\tc-0.074-1.255-1.254-3.174-4.28-3.174S5.829,2.581,5.756,3.91C5.682,5.091,5.83,6.051,6.124,6.789v0.148\r\n\t\tC5.608,7.379,5.387,8.191,5.903,9.077c0.295,0.443,0.59,0.664,0.811,0.812l0,0c0.148,0.148,0.295,0.369,0.295,0.443\r\n\t\tc0.222,0.443,0.517,1.107,0.59,1.329l0.074,0.147c0.073,0.221,0.148,0.369,0.148,0.517c0,0.369,0,0.812-0.222,1.107\r\n\t\tc-0.221,0.295-1.476,1.698-3.985,2.289C1.402,16.238,0,16.607,0,18.896c0,0.148,0.148,0.369,0.369,0.369h19.259\r\n\t\tc0.148,0,0.369-0.148,0.369-0.369C20.071,16.607,18.743,16.238,16.455,15.721L16.455,15.721L16.455,15.721L16.455,15.721z\r\n\t\t M16.455,15.721"/> </g> </symbol>',"followers")},OB6B:function(e,t,s){"use strict";var i=s("0G99"),a=s.n(i),n=s("wG3i"),o=s.n(n),l=s("autp"),r=s.n(l),c=s("Yvyk"),d=s.n(c),h=s("iP86"),u=s.n(h),p=s("R9hF"),m=s.n(p),g=s("XIlo"),f=s("LUW6"),v=s("IBQE"),_=s.n(v);class C{constructor(){m()(this,{eventCallbackList:{},operateCallbackList:{},componentName:"",recordId:"",utilityLabel:"",sObjectName:"",isInWorkspace:!1,isOmniChannelAdapterExisting:!1,isChatListExisting:!1,tabId:"",browserNotificationClickHandler:null,lockedTabTranscriptId:""}),this._addEventHandler(),this.getTabId()}_addEventHandler(){const e=this;_.a.addMessageHandler(t=>{let{eventName:s,data:i}=t;if("onUtilityClick"===s)return i.panelVisible?void this.trigger("utility-open"):void this.trigger("utility-close");var a,n;("chat-tab-locked"===s&&(this.lockedTabTranscriptId=i),"browser-notification-clicked"===s&&this.browserNotificationClickHandler&&this.this.browserNotificationClickHandler(),this.eventCallbackList[s])?u()(a=this._eventCallback({eventName:s,data:i})).call(a,e):this.operateCallbackList[s]?u()(n=this._operateCallback({eventName:s,data:i})).call(n,e):"clearCallbackId"===s&&this._operateCallback[i]&&delete this._operateCallbackList[i]})}invokeMethod(e,t){return g.a.isInLightningConsole?new d.a((s,i)=>{const a=Object(f.a)();let n=!1;this.operateCallbackList[a]=e=>{n||(delete this.operateCallbackList[a],n=!0,s(e))},t&&t.timeout&&r()(()=>{if(n)return;delete this.operateCallbackList[a];const e=new Error("Timeout");e.code="TIMEOUT",n=!0,i(e)},t.timeout);const o=t?t.data:null;_.a.sendMessage({method:e,callbackId:a,data:o})}):d.a.resolve()}getNotificationPermission(){return this.invokeMethod("get-notification-permission")}requestNotificationPermission(){_.a.sendMessage({method:"request-notification-permission"})}browserNotify(e){_.a.sendMessage({method:"browser-notify",data:e}),this.browserNotificationHandler=e.clickEvent}fireEvent(e,t){if(g.a.isInLightningConsole)this.eventCallbackList[e]&&this._eventCallback({eventName:e,data:t}),_.a.sendMessage({event:"fireEvent",eventName:e,data:t});else if(g.a.isInClassicConsole)if(t){const s="object"==typeof t?o()(t):t;g.a.console.fireEvent(e,s)}else g.a.console.fireEvent(e)}async getComponentInfo(e){if(g.a.isInLightningConsole){const e=await this.invokeMethod("get-component-info",{timeout:1e3});if(!e)return;return this.componentName=e.name,this.recordId=e.id,this.isInWorkspace=e.isInWorkspace,this.isOmniChannelAdapterExisting=e.isOmniChannelAdapterExisting,this.isChatListExisting=e.isChatListExisting,this.utilityLabel=e.utilityLabel,this.sObjectName=e.sObjectName,e}}_eventCallback(e){var t;let{eventName:s,data:i}=e;a()(t=this.eventCallbackList[s]).call(t,e=>e(i))}_operateCallback(e){let{eventName:t,data:s}=e;this.operateCallbackList[t](s)}addEventListener(e,t){g.a.isInLightningConsole?(this.eventCallbackList[e]||(this.eventCallbackList[e]=[]),this.eventCallbackList[e].push(t)):g.a.isInClassicConsole&&g.a.addEventListener(e,t)}playVoiceNotification(){_.a.sendMessage({method:"play-voice-notification"})}isInLightningConsole(){return"consoleMessage"===this.componentName||"consoleThread"===this.componentName}refreshTab(e){_.a.sendMessage({method:"refresh-tab",data:e})}async getTabId(){g.a.isInLightningConsole&&(this.tabId=await this.invokeMethod("get-tab-id")),g.a.isInClassicConsole&&g.a.console.getEnclosingPrimaryTabId(e=>{this.tabId=e.id})}setTabHighlighted(e){_.a.sendMessage({method:"set-tab-highlighted",data:e})}setTabLabel(e){_.a.sendMessage({method:"set-tab-label",data:e})}focusTab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tabId,t=arguments.length>1?arguments[1]:void 0;g.a.isInLightningConsole&&_.a.sendMessage({method:"focus-tab",data:e}),g.a.isInClassicConsole&&g.a.console.focusPrimaryTabById(e,()=>t())}openSubtab(e){let{tabId:t,url:s,recordType:i,objectType:a,recordId:n}=e;if(g.a.isInLightningConsole){const e={recordId:n,objectApiName:a};_.a.sendMessage({method:"open-subtab",data:{parenTabId:t,pageReference:e,recordId:n}})}g.a.isInClassicConsole&&g.a.console.openSubtab(t,s,!1,i,null)}storeSessionId(e){_.a.sendMessage({method:"store-session-id",data:e})}async getCurrentUser(){return this.invokeMethod("get-current-user")}setChatListLabel(e){g.a.isInLightningConsole&&_.a.sendMessage({method:"set-utilyty-bar-label",data:e}),g.a.isInClassicConsole&&g.a.console.setCustomConsoleComponentButtonText(e)}setUtilityBarHighLight(e){if(g.a.isInLightningConsole&&_.a.sendMessage({method:"set-utility-bar-high-light",data:e}),g.a.isInClassicConsole){const t=e?"background-color:#eb676b;":"background-color:inherit;";g.a.console.setCustomConsoleComponentButtonStyle(t)}}setChatListVisible(e){g.a.isInLightningConsole&&_.a.sendMessage({method:"set-chat-list-visible",data:e}),g.a.isInClassicConsole&&g.a.console.setCustomConsoleComponentWindowVisible(!0)}closeTab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tabId;g.a.isInLightningConsole&&_.a.sendMessage({method:"close-tab",data:e}),g.a.isInClassicConsole&&g.a.console.closeTab(e)}openTab(e){let{id:t=null,active:s=!0,url:i,tabLabel:a,pageReference:n,callback:o,name:l}=e;g.a.isInLightningConsole&&_.a.sendMessage({method:"open-tab",data:n}),g.a.isInClassicConsole&&g.a.console.openPrimaryTab(t,i,s,a,o,l)}focusTabByName(e){g.a.isInClassicConsole&&g.a.console.focusPrimaryTabByName(e)}openWindow(e){g.a.isInLightningConsole&&_.a.sendMessage({method:"open-window",data:e})}openCaseModal(e,t,s){g.a.isInLightningConsole&&_.a.sendMessage({method:"open-case-modal",data:{msgContent:e,contactId:t,accountId:s}})}hideLoadingSpinner(){g.a.isInLightningConsole&&_.a.sendMessage({method:"hide-loading-indictor"})}setUtilityIconStatus(e){g.a.isInLightningConsole&&_.a.sendMessage({method:"set-utility-icon-status",data:e})}async closeChatConfirm(e,t){t(await this.invokeMethod("close-chat-confirm",{data:e}))}}s("YcFl").mixin(C),t.a=new C},OB9W:function(e,t,s){"use strict";var i=s("UX+f"),a={props:{type:String,detail:Object},components:{CktLink:i.a},computed:{isLead(){return"Lead"===this.type},isContact(){return"Contact"===this.type},relatedInfo(){return this.isLead?{icon:"lead",bgColor:"#f88962"}:{icon:"contact",bgColor:"#7e8be4"}},relatedIconStyle(){return{backgroundColor:this.relatedInfo.bgColor}},title(){return this.isLead?"Lead":"Contact"},emailUrl(){return"mailto: ".concat(this.detail.Email)},accountUrl(){return this.detail.Account&&this.detail.Account.Id?"/".concat(this.detail.Account.Id):"#"},accountName(){return this.detail.Account?this.detail.Account.Name:""},detailUrl(){return this.detail.Id?"/".concat(this.detail.Id):"#"}}},n=(s("0gf0"),s("KHd+")),o=s("R5qf"),l=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follower-related"},[s("div",{staticClass:"slds-grid related-header"},[s("icon",{staticClass:"related-icon",style:e.relatedIconStyle,attrs:{name:e.relatedInfo.icon,width:"24px",height:"24px"}}),e._v(" "),s("span",{staticClass:"slds-m-left_small related-title"},[e._v("\n      "+e._s(e.title)+"\n    ")])],1),e._v(" "),s("div",{staticClass:"related-content slds-m-top_medium"},[s("dl",{staticClass:"slds-dl_horizontal details-content"},[e.isContact?[s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label",attrs:{title:"Account Name"}},[e._v("\n          "+e._s(e.$t("accountNameLabel"))+":\n        ")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[s("ckt-link",{staticClass:"slds-truncate slds-m-right_xx-small detail-value",attrs:{href:e.accountUrl,label:e.accountName}})],1),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label",attrs:{title:"Contact Name"}},[e._v("\n          "+e._s(e.$t("contactNameLabel"))+":\n        ")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[s("ckt-link",{staticClass:"slds-truncate slds-m-right_xx-small detail-value",attrs:{href:e.detailUrl,label:e.detail.Name}})],1)]:e._e(),e._v(" "),e.isLead?[s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("leadNameLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[s("ckt-link",{attrs:{href:e.detailUrl,label:e.detail.Name,"is-console-tab-active":!0,"console-primary-tab-name":e.detail.Id}})],1),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("companyLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v(e._s(e.detail.Company))])]:e._e(),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("emailLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[s("a",{attrs:{href:e.emailUrl,target:"_blank"}},[e._v("\n          "+e._s(e.detail.Email)+"\n        ")])]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("phoneLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v("\n        "+e._s(e.detail.Phone)+"\n      ")]),e._v(" "),s("dt",{staticClass:"slds-truncate slds-dl_horizontal__label"},[e._v(e._s(e.$t("mobileLabel"))+":")]),e._v(" "),s("dd",{staticClass:"slds-dl_horizontal__detail"},[e._v("\n        "+e._s(e.detail.MobilePhone)+"\n      ")])],2)])])}),[],!1,null,"74c2678a",null);"function"==typeof o.default&&Object(o.default)(l);t.a=l.exports},ODR7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"aboutFollowerLabel":"关于此关注者","nameLabel":"名称","weChatAccLabel":"微信公众号","detailsLabel":"详情","relatedLabel":"相关","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","relatedToLabel":"相关","activityLabel":"最近活跃时间","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"电话","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名称","accountNameLabel":"客户名","changeSaveLabel":"更改已保存。","tagCreateSuccess":"标签已创建","tags":"标签","edit":"编辑","noTags":"没有标签","assignTagstitle":"分配标签","searchTags":"搜索标签"},"en":{"aboutFollowerLabel":"About This Follower","nameLabel":"Name","weChatAccLabel":"WeChat Account","detailsLabel":"Details","relatedLabel":"Related","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","relatedToLabel":"Related To","activityLabel":"Last Activity Time","leadLabel":"Lead | Leads","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact | Contacts","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","changeSaveLabel":"Changes were saved.","tagCreateSuccess":"Tag was created","tags":"Tags","edit":"Edit","noTags":"No Tags","assignTagstitle":"Assign Tags","searchTags":"Search Tags"}}'),delete e.options._Ctor}},OHSw:function(e,t,s){"use strict";var i=s("7vEM"),a=s.n(i);t.default=a.a},OqqY:function(e,t,s){},Oygs:function(e,t,s){"use strict";var i=s("0hVY");s.n(i).a},"P2D+":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 15.6" id="coupon" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="coupon_XMLID_44_" d="M20,5.6V1.6C20,0.7,19.3,0,18.4,0H1.6C0.7,0,0,0.7,0,1.6v3.9c0,0,0.1,0,0.1,0c1.2,0,2.2,1,2.2,2.2\r\n\tS1.3,10,0.1,10c0,0-0.1,0-0.1,0v3.9c0,0.9,0.7,1.6,1.6,1.6h16.7c0.9,0,1.6-0.7,1.6-1.6V10c-1.2,0-2.2-1-2.2-2.2S18.8,5.6,20,5.6z\r\n\t M6.7,14.2H5.6v-2.2h1.1V14.2z M6.7,10.8H5.6V8.6h1.1V10.8z M6.7,7.2H5.6V5h1.1V7.2z M6.7,3.9H5.6V1.6h1.1V3.9z" fill=""/> </symbol>',"coupon")},PB24:function(e,t,s){"use strict";var i=s("QGWs"),a=s.n(i);t.default=a.a},PMRD:function(e,t,s){},PXHh:function(e,t,s){"use strict";var i=s("ejTr"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("L2JU");t.a={data:()=>({mixinAgentNum:-1,mixinIsWeChatAccountLoaded:!1,mixinIsWeChatAgentsLoaded:!1}),computed:o()({},Object(l.c)({mixinAgentInfo:"livechat/agentInfo",mixinWeChatAccounts:"sidebar/wechatAccounts"})),watch:{mixinWeChatAccounts(){"console-message"!==this.$route.name&&this.$_mixinGetWeChatAgents()}},methods:{async $_mixinGetWeChatAgents(){this.mixinWeChatAccounts&&!this.mixinIsWeChatAgentsLoaded&&(this.mixinIsWeChatAccountLoaded=!0,await this.$try(async()=>{await this.$store.dispatch("livechat/getCurrentUserAgents"),this.mixinIsWeChatAgentsLoaded=!0,this.mixinAgentNum=a()(this.mixinAgentInfo).length,this.$root.$emit("current-user-agents-loaded")}))}}}},PgUQ:function(e,t,s){"use strict";var i=s("autp"),a=s.n(i),n=s("+Bun"),o=s.n(n),l=s("M2K/"),r=s.n(l),c=s("8Vev"),d=s.n(c),h=s("vQrK"),u=s.n(h),p=s("rZkV"),m=s.n(p),g=s("jkSJ"),f=s("7aFC"),v=s("L2JU"),_=s("TPMu"),C=s("qGaL");var b={components:{AgentStatusIcon:_.a},props:{accountId:{type:String,default:""},userId:{type:String,default:""},current:{type:Object,default:()=>null},fromAgentId:{type:String,default:""}},inject:["showErrorImg"],filters:{filterName:f.d},computed:u()({},Object(v.c)({initialAgentStatuses:"livechat/initialAgentStatuses"}),{filteredAgentList(){var e;return this.textSize>=2?this.transferableAgentList:d()(e=this.allTransferableAgentList).call(e,e=>{var t,s,i;const a=r()(t=this.text).call(t);return-1!==o()(s=e.Nickname).call(s,a)||-1!==o()(i=e.Name).call(i,a)})},textSize(){var e;return Object(C.getSizeOfUTF8Text)(r()(e=this.text).call(e))}}),created(){a()(()=>{const e=document.getElementById(this.inputId);document.addEventListener("click",t=>{t.target!==e&&(this.transferableAgentList=[],this.showMenuBox=!1,this.targetEle=null)})},500)},mounted(){this.$nextTick((function(){this.windowListenerHandler=()=>{this.targetEle&&(this.position=this.calculatePosition(this.targetEle,this.targetEle.getBoundingClientRect()))},window.addEventListener("resize",this.windowListenerHandler),window.addEventListener("mousewheel",this.windowListenerHandler),window.addEventListener("DOMMouseScroll",this.windowListenerHandler)}))},beforeDestroy(){window.removeEventListener("resize",this.windowListenerHandler),window.removeEventListener("mousewheel",this.windowListenerHandler),window.removeEventListener("DOMMouseScroll",this.windowListenerHandler)},data(){return{errorImg:s("GHCX"),agentAbout:{assignToAgent:{Id:"",comment:"",smallPhotoUrl:""}},transferableAgentList:[],allTransferableAgentList:[],text:"",selected:{Name:""},showLoading:!1,showMenuBox:!1,inputId:m()(e=Math.random().toString(36)).call(e,4),agentColor:{},colorIndex:0,targetEle:null,position:{},windowListenerHandler:null};var e},watch:{current(e){this.selected=e,this.text=""},text(){this.textSize>=2&&this.fetchData(this.text)}},methods:{focus(){this.showMenuBox=!0,this.targetEle=document.getElementById(this.inputId),this.position=this.calculatePosition(this.targetEle,this.targetEle.getBoundingClientRect()),this.fetchData("",!0)},calculatePosition(e,t){let s={width:"",left:"",top:""};return s.width="".concat(e.clientWidth,"px"),s.left="".concat(t.left,"px"),s.top="".concat(t.top+32+1,"px"),s},async fetchData(e,t){let s=this.accountId,i=this.fromAgentId;this.showLoading=!0,await this.$try(async()=>{t?this.allTransferableAgentList=await g.a.getLeastActiveAgents(s,i,e):this.transferableAgentList=await g.a.getLeastActiveAgents(s,i,e);const a=["#29a49c","#eb6e66","#655df0","#42ac5e"],n=t?this.allTransferableAgentList:this.transferableAgentList;for(const e of n)e.Id&&!this.agentColor[e.Id]&&(this.agentColor[e.Id]=a[this.colorIndex],this.colorIndex++,this.colorIndex>3&&(this.colorIndex=0))}),this.showLoading=!1},selectAgent(e){this.selected=e,this.text="",this.showMenuBox=!1,this.targetEle=null,this.agentAbout.assignToAgent.Id=e.Id,this.agentAbout.assignToAgent.smallPhotoUrl=e.ProfilePhotoUrl,this.$emit("select",e)},remove(){this.selected={Name:""},this.agentAbout.assignToAgent.smallPhotoUrl="",this.$emit("remove"),a()(()=>{this.focus()},600)}}},w=(s("RSlc"),s("KHd+")),y=s("aT8g"),T=Object(w.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"agent-section"},[s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("agentLabel")))]),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!e.selected.Name,expression:"!selected.Name"},{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"slds-input",attrs:{id:e.inputId,type:"search",role:"combobox","aria-activedescendent":"","aria-expanded":"true","aria-autocomplete":"list"},domProps:{value:e.text},on:{focus:function(t){return e.focus()},input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),e.selected.Name?s("div",{staticClass:"slds-form-element__control slds-grid"},[s("div",{staticClass:"slds-pill_container selected-item slds-size_1-of-1"},[s("span",{staticClass:"slds-pill slds-size_1-of-1 selected-item-pill"},[e.agentAbout.assignToAgent.smallPhotoUrl?s("span",{key:"agent-photo",staticClass:"agent-photo",style:{"background-image":"url('"+e.agentAbout.assignToAgent.smallPhotoUrl+"'),url('"+e.errorImg+"')"}}):s("span",{key:"agent-photo",staticClass:"agent-photo",style:{"background-color":e.agentColor[e.agentAbout.assignToAgent.Id]}},[e._v("\n            "+e._s(e._f("filterName")(e.selected.Name))+"\n          ")]),e._v(" "),s("span",{staticClass:"slds-pill__label",attrs:{title:e.selected.Name}},[e._v(e._s(e.selected.Name))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-pill_remove",staticStyle:{"margin-left":"auto"},attrs:{title:"Remove"},on:{click:function(t){return e.remove()}}},[s("svg",{staticClass:"slds-button__icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#close"}})]),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Remove")])])])])]):e._e(),e._v(" "),s("div",{staticClass:"slds-lookup__menu show-menu",class:{"hide-menu":!e.showMenuBox},style:{left:e.position.left,top:e.position.top,width:e.position.width}},[s("ul",{staticClass:"slds-lookup__list",attrs:{role:"listbox"}},[0===e.filteredAgentList.length?s("li",{staticClass:"no-record-list"},[e.showLoading?s("span",[e._v(" ")]):s("span",[e._v(e._s(e.$t("noAgentLabel")))])]):e._e(),e._v(" "),e.showLoading?s("li",{attrs:{role:"presentation"}},[e._m(0)]):e._e(),e._v(" "),e._l(e.filteredAgentList,(function(t){return s("li",{key:t.Id,attrs:{role:"presentation"},on:{click:function(s){return e.selectAgent(t)}}},[s("span",{staticClass:"slds-lookup__item-action slds-media slds-media_center",attrs:{role:"option"}},[s("div",{staticClass:"slds-media__body slds-grid slds-grid_vertical-align-center"},[t.ProfilePhotoUrl?s("span",{staticClass:"agent-avator",style:{"background-image":"url('"+t.ProfilePhotoUrl+"'),url('"+e.errorImg+"')"}}):s("span",{staticClass:"agent-avator",style:{"background-color":e.agentColor[t.Id]}},[e._v(e._s(e._f("filterName")(t.Name)))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical slds-m-left_x-small"},[s("span",{staticClass:"slds-truncate slds-text-body_small"},[e._v(e._s(t.Name))]),e._v(" "),s("div",{staticClass:"slds-grid"},[s("span",{staticClass:"agent-status-span"},[s("agent-status-icon",{attrs:{status:t.CurrentStatus}})],1),e._v(" "),s("span",{staticClass:"slds-m-left_xx-small slds-text-body_small agent-status-name"},[e._v(e._s(t.CurrentStatus.Name))])])])]),e._v(" "),t.ChatCount<=1?s("span",[e._v(e._s(t.ChatCount)+" "+e._s(e.$tc("chatLabel",1)))]):e._e(),e._v(" "),t.ChatCount>1?s("span",[e._v(e._s(t.ChatCount)+" "+e._s(e.$tc("chatLabel",2)))]):e._e()])])}))],2)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner_container"},[t("div",{staticClass:"slds-spinner_brand slds-spinner slds-spinner_small",attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[this._v("Loading")]),this._v(" "),t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])])}],!1,null,"46eb14ec",null);"function"==typeof y.default&&Object(y.default)(T);t.a=T.exports},Ptgk:function(e,t,s){},PwU7:function(e,t,s){},QDlg:function(e,t,s){},QGWs:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newTextMessage":"新建文本消息","textMessages":"文本消息"},"en":{"newTextMessage":"New Text Message","textMessages":"Text Messages"}}'),delete e.options._Ctor}},Qgla:function(e,t,s){"use strict";var i=s("aMAp");s.n(i).a},Qh4b:function(e,t,s){"use strict";var i=s("j7Ze"),a=s.n(i);t.default=a.a},Qoyb:function(e,t,s){},QuST:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"imageTitle":"上传图片","videoTitle":"上传视频","voiceTitle":"上传音频","titleLabel":"标题","descriptionLabel":"说明","cancelBtn":"取消","uploadBtn":"上传","uploadingBtn":"上传中","tooLarge":"最大文件大小为 2 MB。"},"en":{"imageTitle":"Upload Image","videoTitle":"Upload Video","voiceTitle":"Upload Voice Clip","titleLabel":"Title","descriptionLabel":"Description","cancelBtn":"Cancel","uploadBtn":"Upload","uploadingBtn":"Uploading","tooLarge":"The maximum file size is 2 MB."}}'),delete e.options._Ctor}},QwTp:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 54 54" id="survey" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Surveys</title> <desc>Created with Sketch.</desc> <g> <path d="M40.5,31.8c-4.5,0-8.2,3.7-8.2,8.2s3.7,8.2,8.2,8.2s8.2-3.7,8.2-8.2S45,31.8,40.5,31.8z M40.5,45.8\n\t\tc-3.2,0-5.8-2.6-5.8-5.8s2.6-5.8,5.8-5.8s5.8,2.6,5.8,5.8C46.3,43.3,43.7,45.8,40.5,45.8z" fill=""/> <path d="M34,15.3H19.8c-0.7,0-1.2,0.6-1.2,1.3c0,0.7,0.6,1.4,1.2,1.4H34c0.7,0,1.2-0.6,1.2-1.4\n\t\tC35.2,15.9,34.7,15.3,34,15.3z" fill=""/> <path d="M35.2,23.1c0-0.7-0.6-1.3-1.2-1.3H19.8c-0.7,0-1.2,0.6-1.2,1.3c0,0.7,0.6,1.3,1.2,1.3H34\n\t\tC34.7,24.4,35.2,23.8,35.2,23.1z" fill=""/> <path d="M30,30c0-0.7-0.6-1.3-1.2-1.3h-8.9c-0.7,0-1.2,0.6-1.2,1.3s0.6,1.3,1.2,1.3h8.9C29.4,31.4,30,30.8,30,30z" fill=""/> <path d="M45.1,37.2c-0.5-0.5-1.4-0.4-2,0.1l-3.5,3.5L37.7,39c-0.2-0.2-0.6-0.4-0.9-0.3c-0.3,0-0.6,0.2-0.9,0.4\n\t\tc-0.5,0.5-0.6,1.3-0.1,1.8l2.8,2.8c0.1,0.1,0.2,0.2,0.4,0.3s0.3,0.1,0.5,0.1c0.4,0,0.8-0.2,1.1-0.5l4.4-4.4\n\t\tC45.6,38.6,45.6,37.7,45.1,37.2z" fill=""/> <path d="M19.8,35.7c-0.7,0-1.2,0.6-1.2,1.3s0.6,1.4,1.2,1.4h6.9c0.7,0,1.2-0.6,1.2-1.4c0-0.7-0.6-1.3-1.2-1.3H19.8z" fill=""/> <path d="M16,15.3h-0.7c-0.7,0-1.2,0.6-1.2,1.3c0,0.7,0.6,1.4,1.2,1.4H16c0.7,0,1.2-0.6,1.2-1.4\n\t\tC17.2,15.9,16.6,15.3,16,15.3z" fill=""/> <path d="M16,21.7h-0.7c-0.7,0-1.2,0.6-1.2,1.3s0.6,1.3,1.2,1.3H16c0.7,0,1.2-0.6,1.2-1.3S16.6,21.7,16,21.7z" fill=""/> <path d="M16,28.7h-0.7c-0.7,0-1.2,0.6-1.2,1.3s0.6,1.4,1.2,1.4H16c0.7,0,1.2-0.6,1.2-1.4C17.2,29.3,16.6,28.7,16,28.7z\n\t\t" fill=""/> <path d="M16,35.7h-0.7c-0.7,0-1.2,0.6-1.2,1.3s0.6,1.4,1.2,1.4H16c0.7,0,1.2-0.6,1.2-1.4C17.2,36.3,16.6,35.7,16,35.7z\n\t\t" fill=""/> <path d="M30,46H10.6c-0.3,0-0.6-0.3-0.6-0.6V9.3c0-0.8,0.7-1.5,1.5-1.5h27.7c0.1,0,0.1,0.1,0.1,0.1v20.8\n\t\tc0,0.7,0.6,1.4,1.3,1.4c0.7,0,1.3-0.6,1.3-1.4V8.3c0-1.8-1.4-3.2-3.2-3.2H11.4C9.1,5.1,7.3,7,7.3,9.2v36.4c0,1.7,1.4,3.1,3.1,3.1\n\t\tH30c0.7,0,1.3-0.6,1.3-1.4C31.3,46.7,30.7,46,30,46z" fill=""/> </g> </symbol>',"survey")},"R/Rt":function(e,t,s){"use strict";var i=s("Gd7r"),a=s.n(i);t.default=a.a},R189:function(e,t,s){},R5qf:function(e,t,s){"use strict";var i=s("gZho"),a=s.n(i);t.default=a.a},RB6w:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_description" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="form_description_XMLID_9_" d="M17.2,12.7H5c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h12.2c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS17.5,12.7,17.2,12.7z" fill=""/> <path id="form_description_XMLID_8_" d="M17.2,6.6h-5.6c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h5.6c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS17.5,6.6,17.2,6.6z" fill=""/> <path id="form_description_XMLID_7_" d="M17.2,9.2h-5.6c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h5.6c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS17.5,9.2,17.2,9.2z" fill=""/> <path id="form_description_XMLID_6_" d="M17.2,15H5c-0.3,0-0.5-0.2-0.5-0.5S4.7,14,5,14h12.2c0.3,0,0.5,0.2,0.5,0.5S17.5,15,17.2,15z" fill=""/> <path id="form_description_XMLID_5_" d="M17.2,17.6H5c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h12.2c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS17.5,17.6,17.2,17.6z" fill=""/> <path id="form_description_XMLID_2_" d="M17,20.5H5c-1.9,0-3.5-1.6-3.5-3.5V5c0-1.9,1.6-3.5,3.5-3.5h12c1.9,0,3.5,1.6,3.5,3.5v12\r\n\t\t\tC20.5,18.9,18.9,20.5,17,20.5z M5,2.5C3.6,2.5,2.5,3.6,2.5,5v12c0,1.4,1.1,2.5,2.5,2.5h12c1.4,0,2.5-1.1,2.5-2.5V5\r\n\t\t\tc0-1.4-1.1-2.5-2.5-2.5H5z" fill=""/> <path id="form_description_XMLID_10_" d="M9.2,9.9H5.5C5,9.9,4.6,9.5,4.6,9V5.3c0-0.5,0.4-0.9,0.9-0.9h3.7c0.5,0,0.9,0.4,0.9,1.2v3.7\r\n\t\t\tC10.1,9.5,9.7,9.9,9.2,9.9z" fill=""/> </symbol>',"form_description")},RBRD:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"type":"类型","name":"名称","expirationDate":"过期日期","quantity":"数量","status":"状态","to":"至"},"en":{"type":"Type","name":"Name","expirationDate":"Expiration Date","quantity":"Quantity","status":"Status","to":"to"}}'),delete e.options._Ctor}},REAY:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"imageTitle":"上传图片","videoTitle":"上传视频","voiceTitle":"上传音频","titleLabel":"标题","descriptionLabel":"说明","cancelBtn":"取消","uploadBtn":"上传","uploadingBtn":"上传中","tooLarge":"最大文件大小为 2 MB。"},"en":{"imageTitle":"Upload Image","videoTitle":"Upload Video","voiceTitle":"Upload Voice Clip","titleLabel":"Title","descriptionLabel":"Description","cancelBtn":"Cancel","uploadBtn":"Upload","uploadingBtn":"Uploading","tooLarge":"The maximum file size is 2 MB."}}'),delete e.options._Ctor}},RGxF:function(e,t,s){"use strict";var i=s("M43e");s.n(i).a},RSlc:function(e,t,s){"use strict";var i=s("uDmp");s.n(i).a},Riyu:function(e,t,s){"use strict";var i=s("nAR7"),a=s.n(i);t.default=a.a},RpGY:function(e,t,s){"use strict";var i=s("yU15"),a=s.n(i);t.default=a.a},Rt93:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="text_link" ><path d="m27.2 41.7l-2.1-0.3s-1.4-0.3-2.1-0.6c-0.4-0.1-0.9 0-1.2 0.3l-0.5 0.5c-2.9 2.9-7.6 3.2-10.6 0.6-3.4-2.9-3.5-8.1-0.4-11.2l7.6-7.6c1-1 2.2-1.6 3.4-2 1.6-0.4 3.3-0.3 4.8 0.3 0.9 0.4 1.8 0.9 2.6 1.7 0.4 0.4 0.7 0.8 1 1.3 0.4 0.7 1.3 0.8 1.8 0.2l2.8-2.8c0.4-0.4 0.4-1 0.1-1.5-0.4-0.6-0.9-1.1-1.4-1.6-0.7-0.7-1.5-1.4-2.4-1.9-1.4-0.9-3-1.5-4.7-1.8-3.1-0.6-6.5-0.1-9.3 1.4-1.1 0.6-2.2 1.4-3.1 2.3l-7.3 7.3c-5.3 5.3-5.7 13.9-0.6 19.3 5.3 5.8 14.3 5.9 19.8 0.4l2.5-2.5c0.7-0.5 0.2-1.7-0.7-1.8z m18.4-35.9c-5.5-5.1-14.1-4.7-19.3 0.6l-2.3 2.2c-0.7 0.7-0.2 1.9 0.7 2 1.4 0.1 2.8 0.4 4.2 0.8 0.4 0.1 0.9 0 1.2-0.3l0.5-0.5c2.9-2.9 7.6-3.2 10.6-0.6 3.4 2.9 3.5 8.1 0.4 11.2l-7.6 7.6c-1 1-2.2 1.6-3.4 2-1.6 0.4-3.3 0.3-4.8-0.3-0.9-0.4-1.8-0.9-2.6-1.7-0.4-0.4-0.7-0.8-1-1.3-0.4-0.7-1.3-0.8-1.8-0.2l-2.8 2.8c-0.4 0.4-0.4 1-0.1 1.5 0.4 0.6 0.9 1.1 1.4 1.6 0.7 0.7 1.6 1.4 2.4 1.9 1.4 0.9 3 1.5 4.6 1.8 3.1 0.6 6.5 0.1 9.3-1.4 1.1-0.6 2.2-1.4 3.1-2.3l7.6-7.6c5.6-5.5 5.4-14.5-0.3-19.8z" fill=""/></symbol>',"text_link")},S9rk:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"qrTitle":"快捷回复","allReplyLabel":"全部快捷回复","myReplyLabel":"我的快捷回复","orderOptionLabel1":"使用最多","orderOptionLabel2":"使用最少","orderOptionLabel3":"最近创建日期","orderOptionLabel4":"最早创建日期","quickReplyTitle":"创建我的快捷回复 | 修改我的快捷回复","searchLabel":"搜索快捷回复","delModalHeader":"删除快捷回复","delModalContent":"你确定要删除这个快捷回复吗？","saveNotifyContent":"快捷回复已保存。","changeNotifyContent":"快捷回复已修改。","delNotifyContent":"快捷回复已删除。","noRecordLabel":"没有记录"},"en":{"qrTitle":"Quick Replies","allReplyLabel":"ALL REPLIES | All Replies","myReplyLabel":"MY REPLIES | My Replies","orderOptionLabel1":"Most Used","orderOptionLabel2":"Least Used","orderOptionLabel3":"Last Created Date","orderOptionLabel4":"First Created Date","quickReplyTitle":"Create My Quick Reply | Edit My Quick Reply","searchLabel":"Search Quick Replies","delModalHeader":"Delete Quick Reply","delModalContent":"Are you sure you want to delete this quick reply?","saveNotifyContent":"The Quick Reply was saved.","changeNotifyContent":"The Quick Reply was changed.","delNotifyContent":"The Quick Reply was deleted.","noRecordLabel":"No Records"}}'),delete e.options._Ctor}},SBr0:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"createTagLabel":"创建微信标签","nameLabel":"名称","createTagSuccessNotification":"标签已创建。"},"en":{"createTagLabel":"Create WeChat Tag","nameLabel":"Name","createTagSuccessNotification":"A new tag was created."}}'),delete e.options._Ctor}},SKz1:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 30 30" id="tag" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .greyTag{fill:white;width:19px;height:19px;backgroud-color:blue;} </style> <path id="tag_XMLID_28_" class="greyTag" d="M26.6,1.4h-10c-0.9,0-2.3,0.3-3.8,1.7L2.1,13.7c-1.4,1.4-1.4,3.6,0,5l9,8.9\r\n\tc1.4,1.4,3.7,1.4,5.1,0l11-11c0.7-0.7,1.9-2.1,1.9-3.5V3.8C29,2.4,27.9,1.4,26.6,1.4z M14.8,25.4c-0.7,0.7-1.9,0.7-2.6,0l-7.5-7.5\r\n\tC4,17.2,4,16,4.7,15.3L6,14l10,10L14.8,25.4z M23.2,11.9c-1.4,1.5-3.7,1.5-5.1,0c-1.4-1.4-1.4-3.7,0-5.1c1.4-1.4,3.7-1.4,5.1,0\r\n\tS24.6,10.5,23.2,11.9z" fill=""/> </symbol>',"tag")},SPNQ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_checkbox" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_checkbox_XMLID_72_"> <g id="form_checkbox_XMLID_62_"> <path id="form_checkbox_XMLID_111_" d="M18.1,2c1.1,0,2,0.9,2,2v14c0,1.1-0.9,2-2,2h-14c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2H18.1\r\n\t\t\t M18.1,1h-14c-1.7,0-3,1.4-3,3v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V4C21.1,2.4,19.8,1,18.1,1L18.1,1z" fill=""/> </g> </g> <g id="form_checkbox_XMLID_71_"> <path id="form_checkbox_XMLID_106_" d="M10.2,14.7c-0.4,0-0.7-0.1-1-0.4l-3.4-3.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l3,3l4.9-4.9\r\n\t\tc0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-5.3,5.3C10.9,14.6,10.6,14.7,10.2,14.7z" fill=""/> </g> </symbol>',"form_checkbox")},"SWe+":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_title" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M1.1,22.2" fill=""/> <path d="M20.1,22.2" fill=""/> <path id="form_title_XMLID_16_" d="M20.8,9.1H1.2V3.8c0-1.2,1.1-2.2,2.5-2.2h14.5c1.4,0,2.5,1,2.5,2.2V9.1z" fill=""/> <path id="form_title_XMLID_26_" d="M18,20.4H4.1c-1.1,0-2.1-0.6-2.7-1.6c-0.1-0.2,0-0.5,0.2-0.7c0.2-0.1,0.5,0,0.7,0.2\r\n\t\t\t\tc0.4,0.6,1,1,1.8,1H18c0.7,0,1.4-0.4,1.7-1c0.1-0.2,0.5-0.3,0.7-0.2c0.2,0.1,0.3,0.5,0.2,0.7C20,19.8,19.1,20.4,18,20.4z" fill=""/> <path id="form_title_XMLID_23_" d="M20.5,13.1h-19c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h19c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS20.8,13.1,20.5,13.1z" fill=""/> <path id="form_title_XMLID_21_" d="M20.5,16.2h-19C1.2,16.2,1,16,1,15.7s0.2-0.5,0.5-0.5h19c0.3,0,0.5,0.2,0.5,0.5\r\n\t\t\tS20.8,16.2,20.5,16.2z" fill=""/> <path d="M4.5,3.3h3.6V4H6.7v3.6H6V4H4.5V3.3z" fill=""/> <path d="M9,3.3h0.7V4H9V3.3z M9,4.5h0.7v3.1H9V4.5z" fill=""/> <path d="M10.5,4.5h0.5V3.6h0.7v0.9h0.6V5h-0.6v1.7c0,0.1,0,0.1,0,0.2c0,0.1,0,0.1,0,0.1s0.1,0.1,0.1,0.1\r\n\t\t\t\t\tc0,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0v0.5c-0.1,0-0.2,0-0.2,0c-0.1,0-0.2,0-0.2,0c-0.2,0-0.3,0-0.5-0.1\r\n\t\t\t\t\tc-0.1,0-0.2-0.1-0.3-0.1c-0.1-0.1-0.1-0.1-0.1-0.2c0-0.1,0-0.2,0-0.3V5h-0.5V4.5z" fill=""/> <path d="M13.3,3.3h0.7v4.3h-0.7V3.3z" fill=""/> <path d="M15.8,6.2c0,0.1,0,0.2,0.1,0.3c0,0.1,0.1,0.2,0.2,0.3C16,6.9,16.1,7,16.2,7.1c0.1,0.1,0.2,0.1,0.4,0.1\r\n\t\t\t\t\tc0.2,0,0.4,0,0.5-0.1s0.2-0.2,0.3-0.4h0.7c0,0.2-0.1,0.3-0.2,0.4c-0.1,0.1-0.2,0.2-0.3,0.3c-0.1,0.1-0.3,0.2-0.4,0.2\r\n\t\t\t\t\ts-0.3,0.1-0.5,0.1c-0.3,0-0.5,0-0.7-0.1s-0.4-0.2-0.5-0.3c-0.1-0.1-0.2-0.3-0.3-0.5S15,6.3,15,6c0-0.2,0-0.4,0.1-0.6\r\n\t\t\t\t\tc0.1-0.2,0.2-0.4,0.3-0.5c0.1-0.1,0.3-0.3,0.5-0.4s0.4-0.1,0.7-0.1c0.3,0,0.5,0.1,0.7,0.2c0.2,0.1,0.4,0.2,0.5,0.4\r\n\t\t\t\t\ts0.2,0.4,0.3,0.6c0.1,0.2,0.1,0.4,0,0.7H15.8z M17.4,5.8c0-0.1,0-0.2-0.1-0.3c0-0.1-0.1-0.2-0.2-0.3C17.1,5.1,17,5.1,16.9,5\r\n\t\t\t\t\tS16.7,5,16.6,5c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.2,0.1-0.3,0.2s-0.1,0.2-0.2,0.3c0,0.1-0.1,0.2-0.1,0.3H17.4z" fill=""/> </symbol>',"form_title")},"Sa+P":function(e,t,s){"use strict";var i=s("KQMp");s.n(i).a},"Sh+V":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"urlLabel":"跳转链接","titleLabel":"标题","createdLabel":"创建人","keywordLabel":"关键字","noteLabel":"备注"},"en":{"urlLabel":"Notification URL","titleLabel":"Title","createdLabel":"Created By","keywordLabel":"Keywords","noteLabel":"Note"}}'),delete e.options._Ctor}},SiW9:function(e,t,s){"use strict";var i=s("4UW6"),a=s.n(i);t.default=a.a},SzIp:function(e,t,s){},T0uT:function(e,t,s){"use strict";var i=s("MrxX");s.n(i).a},T1F6:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 54 54" id="name_badge_templates" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Name Badge Templates</title> <desc>Created with Sketch.</desc> <g id="name_badge_templates_Clip-2"> </g> <g> <path d="M49,7.3H4.8c-1.8,0-3.2,1.4-3.2,3.2v32.9c0,2.3,1.9,4.3,4.2,4.3H49c1.8,0,3.2-1.4,3.2-3.2v-34\n\t\tC52.2,8.7,50.8,7.3,49,7.3z M49.4,44.5c0,0.2-0.2,0.4-0.4,0.4H5.8c-0.8,0-1.4-0.6-1.4-1.4v-33c0-0.2,0.2-0.4,0.4-0.4H49\n\t\tc0.2,0,0.4,0.2,0.4,0.4V44.5z" fill=""/> <path d="M42.9,21.1H32.7c-0.6,0-1.1,0.6-1.1,1.4s0.5,1.4,1.1,1.4h10.2c0.6,0,1.1-0.6,1.1-1.4S43.5,21.1,42.9,21.1z" fill=""/> <path d="M42.9,26H32.7c-0.6,0-1.1,0.6-1.1,1.4c0,0.8,0.5,1.4,1.1,1.4h10.2c0.6,0,1.1-0.6,1.1-1.4\n\t\tC44,26.7,43.5,26,42.9,26z" fill=""/> <path d="M42.9,31.7H32.7c-0.6,0-1.1,0.6-1.1,1.4c0,0.8,0.5,1.4,1.1,1.4h10.2c0.6,0,1.1-0.6,1.1-1.4\n\t\tC44,32.3,43.5,31.7,42.9,31.7z" fill=""/> <path d="M42.9,14.4H11.2c-0.6,0-1.1,0.6-1.1,1.4s0.5,1.4,1.1,1.4h31.7c0.6,0,1.1-0.6,1.1-1.4S43.5,14.4,42.9,14.4z" fill=""/> <path d="M38.7,36.8h-6c-0.6,0-1.1,0.6-1.1,1.4s0.5,1.4,1.1,1.4h6c0.6,0,1.1-0.6,1.1-1.4S39.3,36.8,38.7,36.8z" fill=""/> <path d="M17.9,31.2h-7.4c-0.8,0.1-0.6,1.4-0.6,2.4v3.8c0,0.9-0.2,2.2,0.5,2.4c0.5,0.1,1.3,0,1.9,0h3.8\n\t\tc0.6,0,1.4,0.1,1.9,0c0.3-0.1,0.5-0.3,0.5-0.6V32C18.4,31.5,18.2,31.3,17.9,31.2z M16.2,37.5h-4v-4v-0.1h4V37.5z" fill=""/> <path d="M13.9,25.9c1.7,0.3,1.8-2.5,0-2.1C12.8,23.9,12.8,25.7,13.9,25.9z" fill=""/> <path d="M13.9,36.5c1.7,0.3,1.8-2.5,0-2.1C12.8,34.6,12.8,36.4,13.9,36.5z" fill=""/> <path d="M21.1,29c0.5,0.1,1.3,0,1.9,0h3.8c0.6,0,1.4,0.1,1.9,0c0.3-0.1,0.5-0.3,0.5-0.6v-7.2c-0.1-0.3-0.3-0.6-0.6-0.7\n\t\th-7.4c-0.8,0.1-0.6,1.4-0.6,2.4v3.8C20.6,27.6,20.4,28.8,21.1,29z M22.9,22.8l4-0.1v4h-4V22.8z" fill=""/> <path d="M27.4,31.1c-0.1,1,0,2.2,0,3.3H26v-3.3h-3.6c-0.7,0-1.5-0.1-1.6,0.5c-0.1,0.5,0,1.3,0,1.9v3.8\n\t\tc0,1-0.2,2.2,0.6,2.4h1.3c0-1.6,0-3.3,0-4.8c0.5,0,0.8,0,1.3,0v1.5h5.3c0-0.7-0.1-1.8,0-2.5v-2.1C29.2,31.1,28.2,31.1,27.4,31.1z" fill=""/> <path d="M27.3,39.7h1.3c0.3-0.1,0.5-0.3,0.6-0.7v-1.3h-1.8C27.3,38.3,27.3,39,27.3,39.7z" fill=""/> <path d="M24.6,23.7c-1.1,0.2-1.1,2,0,2.1C26.4,26.1,26.4,23.4,24.6,23.7z" fill=""/> <path d="M23.9,39.7h1.8v-1.9h-1.8C23.8,38.3,23.9,39,23.9,39.7z" fill=""/> <path d="M17.9,20.5h-7.4c-0.8,0.1-0.6,1.4-0.6,2.4v3.8c0,0.9-0.2,2.2,0.5,2.4c0.5,0.1,1.3,0,1.9,0h3.8\n\t\tc0.6,0,1.4,0.1,1.9,0c0.3-0.1,0.5-0.3,0.5-0.6v-7.2C18.4,20.8,18.2,20.6,17.9,20.5z M16.2,26.8h-4v-4v-0.1h4V26.8z" fill=""/> </g> </symbol>',"name_badge_templates")},T1iG:function(e,t,s){},TDue:function(e,t,s){"use strict";var i=s("2ZOO"),a=s.n(i),n=s("0G99"),o=s.n(n),l=s("8Vev"),r=s.n(l),c=s("3O4B"),d=s.n(c),h=s("4LGG"),u=s.n(h),p=s("wG3i"),m=s.n(p),g=s("3dLu"),f=s.n(g),v=s("SLhn"),_=s.n(v),C=s("kWsH"),b=s.n(C),w=s("+Bun"),y=s.n(w),T=s("autp"),L=s.n(T),I=s("4B+h"),k=s("x/ns"),S={props:{options:{validator:e=>null==e||e instanceof Array,default:()=>[]},text:{type:String,default:()=>""},index:{type:Number,default:()=>0},placeLabel:{type:String,default:()=>""},show:{type:Boolean,default:!1}},components:{LdSpinner:k.LdSpinner},watch:{inputValue(e,t){t&&this.handleSearchKeyChange(e)},options(e){this.isLoading=null===e,this.cascadeOptions=this.sortedOptions(),this.filteredOptions=this.cascadeOptions}},async created(){this.isExpanded=!0,this.inputValue=this.text,null===this.options&&(this.isLoading=!0),this.show?(await Object(I.e)(50),this.cascadeOptions=this.sortedOptions()):this.cascadeOptions=this.sortedOptions(),this.filteredOptions=JSON.parse(m()(this.cascadeOptions)),this.listenerClose()},mounted(){this.$nextTick(()=>{this.$refs.cascadeInput&&this.$refs.cascadeInput.focus()})},data:()=>({isExpanded:!0,inputValue:"",cascadeOptions:[],filteredOptions:[],searchTimer:null,isLoading:!1}),methods:{handleSearchKeyChange(e){this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=L()(()=>{var t;this.$emit("change",e),this.filteredOptions=r()(t=this.cascadeOptions).call(t,t=>{var s;return-1!==y()(s=t.Name.toLowerCase()).call(s,e.toLowerCase())})},500)},sortedOptions(){if(!this.options)return[];const e=[],t=[];for(const s of this.options)s.IsReferenceType?t.push(s):e.push(s);return b()(t).call(t,(function(e,t){return e.Name.localeCompare(t.Name)})),b()(e).call(e,(function(e,t){return e.Name.localeCompare(t.Name)})),_()(t).call(t,e)},select(e){this.isExpanded=!1,this.$emit("select",e,this.index)},switchExpand(){this.isExpanded=!this.isExpanded,this.isExpanded&&this.$emit("change",""),this.listenerClose()},listenerClose(){const e=()=>{this.isExpanded=!1,window.removeEventListener("click",e)};window.addEventListener("click",e)},showExpand(){this.isExpanded||(this.isExpanded=!0)},isReferenceObject:e=>e.IsReferenceType&&null!==e.RelationshipName}},M=(s("8VLx"),s("KHd+")),A=s("YLcN"),x=Object(M.a)(S,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charket-cascade-picklist"},[s("div",{staticClass:"slds-picklist slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right slds-picklist__input",on:{click:function(t){return t.stopPropagation(),e.switchExpand()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"cascadeInput",staticClass:"slds-lookup__search-input slds-input",attrs:{type:"search",placeholder:e.placeLabel,"aria-owns":"option-list-01",role:"combobox","aria-expanded":"true","aria-activedescendant":""},domProps:{value:e.inputValue},on:{keyup:function(t){return t.stopPropagation(),e.showExpand()},input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._v(" "),s("button",{staticClass:"slds-border_left box-shadow-btn slds-button slds-input__icon slds-text-color_default",attrs:{"aria-expanded":"false",tabindex:"-1"}},[s("icon",{staticClass:"slds-button__icon",attrs:{name:"down","fill-color":"currentColor",width:".8125rem",height:".8125rem"}})],1)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"slds-dropdown slds-dropdown_length-7 expand-box",attrs:{role:"listbox"}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"slds-dropdown__list",attrs:{id:"option-list-01",role:"presentation"}},e._l(e.filteredOptions,(function(t){return s("li",{attrs:{role:"presentation"},on:{click:function(s){return e.select(t)}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("currentLabel"))+":")]),e._v(" "),s("span",[e._v(e._s(t.Name))]),e._v(" "),e.isReferenceObject(t)?s("span",{staticClass:"cascade-img"},[s("icon",{staticClass:"slds-button__icon",attrs:{name:"chevronright","fill-color":"currentColor",width:".8125rem",height:".8125rem"}})],1):e._e()])])})),0),e._v(" "),s("ld-spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loading-spinner",attrs:{container:"","x-small":"",color:"brand"}}),e._v(" "),e.isLoading||0!==e.filteredOptions.length?e._e():s("div",{staticClass:"no-record-filter"},[e._v(e._s(e.$t("noMatchLabel")))])],1)])])}),[],!1,null,"1d94e654",null);"function"==typeof A.default&&Object(A.default)(x);var N=x.exports,E=s("w2Vt"),D=s("jkSJ"),P={props:{titleName:{type:String,default:()=>""},pageName:{type:String,default:"All"},fieldObj:{type:Object,default:()=>({})},primaryDisabled:{type:Boolean,default:!1}},components:{CascadePicklist:N,LoadingSpinner:E.a},data(){return{cascadeArray:[{label:"",showSelect:!0}],options:[],cascadeIndex:-1,showLoading:!1,placeLabel:this.$t("placeholderFindObject"),loadingData:!1,showCascadePicklist:!1,loadingFieldsError:!1}},computed:{showSelectedFields:function(){var e;return f()(e=this.cascadeArray).call(e,e=>!e.showSelect)}},async created(){if(this.showLoading=!0,this.fieldObj.label){this.cascadeArray[0]=JSON.parse(m()(this.fieldObj));try{this.loadingData=!0,this.fetchFields(this.fieldObj.label)}catch(e){this.$handleError(e)}finally{this.showLoading=!1}}else if("All"===this.pageName)try{const e=await D.q.getAllMergeableSObjects("");this.showLoading=!1;for(const t of e)this.options.push({Name:t.name,Value:t.value,ObjectKey:!0})}catch(e){this.$handleError(e)}else try{const e=await D.q.getObjectsByPageName(this.pageName);this.showLoading=!1;for(const t of e)this.options.push({Name:t.name,Value:t.value,ObjectKey:!0})}catch(e){this.$handleError(e)}},methods:{async onApiNameSearchKeyChange(e){if("All"===this.pageName){this.options=null;try{const t=await D.q.getAllMergeableSObjects(e);this.options=u()(t).call(t,e=>{let{name:t,value:s}=e;return{Name:t,Value:s,ObjectKey:!0}})}catch(e){this.$handleError(e)}finally{this.showLoading=!1}}},async selectMergeFields(e,t){var s;-1!==t&&(d()(s=this.cascadeArray).call(s,t,this.cascadeArray.length-1-t),this.cascadeIndex=-1);1===this.cascadeArray.length?(this.cascadeArray[this.cascadeArray.length-1].label=e.Value,this.cascadeArray[this.cascadeArray.length-1].apiName=e.Name):(this.cascadeArray[this.cascadeArray.length-1].label=e.Name,this.cascadeArray[this.cascadeArray.length-1].apiName=e.Label),this.cascadeArray[this.cascadeArray.length-1].shipName=e.RelationshipName,this.cascadeArray[this.cascadeArray.length-1].type=e.Type,this.cascadeArray[this.cascadeArray.length-1].options=this.options,this.cascadeArray[this.cascadeArray.length-1].showSelect=!1,null!==e.RelationshipName&&(e.IsReferenceType||e.ObjectKey)&&(this.placeLabel=this.$t("placeholderLabelFilter"),this.loadingData=!0,this.fetchFields(e.Value))},async fetchFields(e){try{this.loadingFieldsError=!1;const t=await D.q.getFields(e);this.options=[];for(const e of t)this.options.push({Name:e.name,Label:e.label,Value:e.value,IsReferenceType:e.isReferenceType,RelationshipName:e.relationshipName,Type:e.type});this.cascadeArray.push({label:"",shipName:"",type:"",apiName:"",showSelect:!0,options:[]})}catch(e){this.loadingFieldsError=!0,this.$handleError(e)}finally{this.loadingData=!1}},selectField(e,t){var s,i;this.primaryDisabled&&0===t||this.loadingData||(this.cascadeIndex=t,this.cascadeArray=r()(s=this.cascadeArray).call(s,e=>!!e.label),o()(i=this.cascadeArray).call(i,(e,s)=>{s!==t?e.showSelect=!1:(e.showSelect=!0,this.options=e.options,this.showCascadePicklist=!0)}),0===t&&"All"===this.pageName&&this.onApiNameSearchKeyChange(""))},close(){this.$emit("close-merge-field")},choose(){let e;var t;1!==this.cascadeArray.length||this.cascadeArray[0].label?(e=a()(t=this.cascadeArray).call(t,(e,t,s)=>0===s?e+t.label+".":s===this.cascadeArray.length-1?t.shipName?e+t.shipName:e+t.apiName:e+t.shipName+".",""),e="{!"+e+"}"):e="";this.$emit("select-merge-field",e,this.cascadeArray[0])}}},R=(s("baI+"),s("RpGY")),O=Object(M.a)(P,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"charket-select-field"}},[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container show-selected-container modal-section",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.close()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("fieldLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content modal-content-section"},[e.showLoading?e._e():s("div",[e._l(e.cascadeArray,(function(t,i){return s("div",{staticClass:"select-section"},[t.showSelect||0===i?e._e():s("span",[s("icon",{staticClass:"slds-button__icon",attrs:{name:"right","fill-color":"currentColor",width:".8125rem",height:".8125rem"}})],1),e._v(" "),t.showSelect||0===i?e._e():s("span",{staticClass:"cascade-label",on:{click:function(s){return e.selectField(t,i)}}},[e._v(e._s(t.label))]),e._v(" "),t.showSelect||0!==i?e._e():s("span",{staticClass:"cascade-label object-name",on:{click:function(s){return e.selectField(t,i)}}},[e._v(e._s(t.apiName))]),e._v(" "),t.showSelect&&0===i?s("div",{staticClass:"cascade-section"},[s("cascade-picklist",{attrs:{options:e.options,text:t.apiName,index:e.cascadeIndex,"place-label":e.placeLabel,show:e.showCascadePicklist},on:{select:e.selectMergeFields,change:e.onApiNameSearchKeyChange}})],1):e._e(),e._v(" "),t.showSelect&&0!==i?s("div",{staticClass:"cascade-section"},[s("cascade-picklist",{attrs:{options:e.options,text:t.label,index:e.cascadeIndex,"place-label":e.placeLabel,show:e.showCascadePicklist},on:{select:e.selectMergeFields}})],1):e._e()])})),e._v(" "),!e.showSelectedFields||e.loadingData||e.loadingFieldsError?e._e():s("div",{staticClass:"select-field-section"},[s("span",{staticClass:"field-title"},[e._v(e._s(e.$t("fieldTitle"))+":")]),e._v(" "),s("div",{staticClass:"select-value"},[s("span",[e._v(e._s(e.cascadeArray[e.cascadeArray.length-1].label))]),e._v(" "),s("span",[e._v(e._s(e.$t("typeLabel"))+": "+e._s(e.cascadeArray[e.cascadeArray.length-1].type))]),e._v(" "),s("span",[e._v(e._s(e.$t("apiNameLabel"))+": "+e._s(e.cascadeArray[e.cascadeArray.length-1].apiName))])])])],2),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.showLoading,"custom-style":"position: relative;padding: 110px;background-color: white"}})],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.close()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!e.showSelectedFields||e.loadingData||e.loadingFieldsError},on:{click:function(t){return e.choose()}}},[e._v(e._s(e.$t("chooseBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"09577150",null);"function"==typeof R.default&&Object(R.default)(O);t.a=O.exports},TFQa:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"Close":"关闭"},"en":{"Close":"Close"}}'),delete e.options._Ctor}},THyJ:function(e,t,s){"use strict";var i=s("yla0");s.n(i).a},TPMu:function(e,t,s){"use strict";var i={name:"AgentStatusIcon",props:{status:{type:Object,default:()=>({})},isDisabledNotification:{type:Boolean,default:()=>!1}},computed:{currentIcon(){let e=this.status.IsAcceptsChats,t=this.status.IsOfflineDefaultStatus;return e?t?this.isDisabledNotification?{name:"offlineDnd",color:"#9faab6"}:{name:"offline",color:"#9faab6"}:this.isDisabledNotification?{name:"onlineDnd",color:"#15B68B"}:{name:"online",color:"#15b68b"}:{name:"doNotAccept",color:"#c23934"}}}},a=s("KHd+"),n=Object(a.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("icon",{attrs:{name:this.currentIcon.name,"class-name":"slds-button__icon","fill-color":this.currentIcon.color,width:"10px",height:"10px","charket-icon":""}})}),[],!1,null,"56bb02ce",null);t.a=n.exports},TXmM:function(e,t,s){},TbRc:function(e,t,s){"use strict";var i=s("HxKo"),a=s.n(i);t.default=a.a},"Tsu/":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"noAgentAssigned":"你没有被设置为专员","askAdmin":"请联系管理员。","goToAgents":"跳转到专员页面","dropUploadTip":"放置以上传至Live Chat","noRelatedMessage":"没有微信消息"},"en":{"noAgentAssigned":"No agent is assigned to you","askAdmin":"Ask your Charket admin for help.","goToAgents":"Go to Agents","dropUploadTip":"Drop to Upload to Live Chat","noRelatedMessage":"No chat messages"}}'),delete e.options._Ctor}},Ty3K:function(e,t,s){"use strict";var i=s("WGdl");s.n(i).a},"UD+S":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"reloadHeader":"启用 Live Chat","reloadContent":"Live Chat 已经在其他的浏览器卡片中打开。点击启用按钮在当前浏览器卡片使用 Live Chat。","reloadBtn":"启用"},"en":{"reloadHeader":"Activate Live Chat","reloadContent":"Live Chat is currently active under another browser tab. Click the Activate button below to use Live Chat under this browser tab.","reloadBtn":"Activate"}}'),delete e.options._Ctor}},UPhs:function(e,t,s){"use strict";var i=s("mqxs");s.n(i).a},UQ48:function(e,t,s){"use strict";var i=s("SzIp");s.n(i).a},UQWI:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 12 12" id="arrow_up" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>&#x7BAD;&#x5934;</title> <desc>Created with Sketch.</desc> <path d="M10.9,5.3L6.6,1.1c0,0-0.1-0.1-0.1-0.1C6.4,0.9,6.2,0.8,6,0.8C5.8,0.8,5.6,0.9,5.5,1c0,0-0.1,0.1-0.1,0.1\n\tL1.1,5.3C1,5.5,1,5.8,1.1,6s0.5,0.2,0.7,0l3.6-3.5v8.3c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V2.5L10.1,6c0.2,0.2,0.5,0.2,0.7,0\n\tS11,5.5,10.9,5.3z" fill=""/> </symbol>',"arrow_up")},UTNU:function(e,t,s){},"UX+f":function(e,t,s){"use strict";var i=s("XIlo"),a=s("OB6B"),n={props:{href:{type:String,default:"javascript:void(0)"},target:{type:String,default:"_blank"},label:{type:String,default:""},consoleTabType:{type:String,default:"Primary"},consolePrimaryTabName:{type:String,default:""},consoleSubtabName:{type:String,default:""},consoleTabLabel:{type:String,default:""},isConsoleTabActive:{type:Boolean,default:!1}},computed:{hrefUrl:function(){return i.a.isInClassicConsole?"javascript:void(0)":this.href}},methods:{openTab(e){i.a.isInClassicConsole&&(e.preventDefault(),"Primary"===this.consoleTabType?i.a.console.openPrimaryTab(null,this.href,this.isConsoleTabActive,this.consoleTabLabel,e=>{e.success||i.a.console.focusPrimaryTabByName(this.consolePrimaryTabName)},this.consolePrimaryTabName):"Subtab"===this.consoleTabType&&i.a.console.openSubtab(a.a.tabId,this.href,this.isConsoleTabActive,this.consoleTabLabel,null,e=>{e.success||i.a.console.focusSubtabByNameAndPrimaryTabId(this.consoleSubtabName,e.id)},this.consoleSubtabName))}}},o=s("KHd+"),l=Object(o.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{attrs:{href:e.hrefUrl,target:e.target},on:{click:function(t){return e.openTab(t)}}},[e._v(e._s(e.label))])}),[],!1,null,null,null);t.a=l.exports},UZn8:function(e,t,s){"use strict";var i=s("i+Lc"),a=s.n(i),n=s("M2K/"),o=s.n(n),l=s("dUVM"),r=s.n(l),c=s("vQrK"),d=s.n(c),h=s("rZkV"),u=s.n(h),p=s("xEMq"),m=s("4B+h"),g=s("LQ5e"),f=s.n(g),v=s("L2JU");var _={data(){return{isVisible:!1,inputId:u()(e=Math.random().toString(36)).call(e,4),url:"",text:"",type:"",appId:"",pagePath:"",actionValue:"",left:"0px",top:"0px"};var e},computed:d()({},Object(v.c)({currentAccount:"sidebar/currentAccount"}),{isUrlLegal(){return this.url&&/(^|\s)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/gi.test(this.url)},isOk(){return"Normal Link"===this.type?!(this.url&&this.isUrlLegal):"Mini Program"===this.type?!(this.url&&this.isUrlLegal&&this.appId&&this.pagePath):"Message Action"===this.type&&!(this.text&&this.actionValue)},isMiniProgram(){return"Mini Program"===this.type},isNormalLink(){return"Normal Link"===this.type},isMessageAction(){return"Message Action"===this.type}}),methods:{async open(e){var t;let{text:s="",url:i="",type:a,appId:n="",pagePath:o="",actionValue:l="",el:c,position:d="top-center"}=e;if(!r()(t=["Mini Program","Message Action","Normal Link"]).call(t,a))throw new Error("invalid type");this.text=s,this.url=decodeURIComponent(f.a.unescape(i)),this.appId=n,this.pagePath=o,this.isVisible=!0,this.type=a,this.actionValue=decodeURIComponent(l),this.setPosition(c,d),"Mini Program"!==a||n||"Mini Program"!==this.currentAccount.Type||await this.getMiniProAppId(),this.$nextTick((function(){this.$refs.textInput.focus()}))},setPosition(e,t){const s=e.getBoundingClientRect(),i=s.top,a=s.left,n=e.offsetWidth,o=e.offsetHeight;this.$nextTick(()=>{"top-center"===t&&(this.left=a+n/2-this.$el.offsetWidth/2,this.top=i-this.$el.offsetHeight),"right-bottom"===t&&(this.left=a+n,this.top=i+o-this.$el.offsetHeight+80)})},async getMiniProAppId(){try{let e=await Object(p.b)(this.currentAccount.Id);if(e.ok){let t=JSON.parse(f.a.unescape(e.data));this.appId=t.appId}else Object(m.f)(e)}catch(e){Object(m.f)(e)}},ok(){var e,t,s;this.url=o()(e=this.url).call(e),this.url&&!this.text&&(this.text=this.url),a()(t=this.url).call(t,"http://")||a()(s=this.url).call(s,"https://")||(this.url="http://"+this.url),this.$emit("ok",{text:this.text,url:this.url,type:this.type,appId:this.appId,pagePath:this.pagePath,actionValue:encodeURIComponent(this.actionValue)})},cancel(){this.isVisible=!1,this.$emit("cancel")},close(){this.isVisible=!1},onActionValueFocus(){this.text&&!this.actionValue&&(this.actionValue=this.text)}}},C=(s("+bKK"),s("KHd+")),b=s("WMoe"),w=Object(C.a)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"set-link-modal",style:{left:e.left+"px",top:e.top+"px"}},[s("div",{staticClass:"slds-box link-section"},[e.isMiniProgram||e.isNormalLink?s("div",[s("p",[e._v(e._s(e.$t("titleLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"textInput",staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),s("p",[e._v(e._s(e.$t("urlLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"slds-input",class:{"url-error":e.url&&!e.isUrlLegal},attrs:{type:"text"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}})]):e._e(),e._v(" "),e.isMessageAction?s("div",[s("p",[e._v(e._s(e.$t("name")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],ref:"textInput",staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),e._v(" "),s("p",[e._v(e._s(e.$t("value")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.actionValue,expression:"actionValue"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.actionValue},on:{focus:e.onActionValueFocus,input:function(t){t.target.composing||(e.actionValue=t.target.value)}}})]):e._e(),e._v(" "),e.url&&!e.isUrlLegal?s("span",{staticClass:"url-error-msg"},[e._v(e._s(e.$t("illegalUrlLabel")))]):e._e(),e._v(" "),e.isMiniProgram?s("div",[s("p",[e._v(e._s(e.$t("appIdLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.appId,expression:"appId"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.appId},on:{input:function(t){t.target.composing||(e.appId=t.target.value)}}}),e._v(" "),s("p",[e._v(e._s(e.$t("pagePathLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pagePath,expression:"pagePath"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.pagePath},on:{input:function(t){t.target.composing||(e.pagePath=t.target.value)}}})]):e._e(),e._v(" "),s("div",{staticClass:"link-button"},[s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isOk},on:{click:function(t){return e.ok()}}},[e._v(e._s(e.$t("global.confirmBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.cancel()}}},[e._v(e._s(e.$t("global.cancelBtn")))])])])])}),[],!1,null,"5371c0a0",null);"function"==typeof b.default&&Object(b.default)(w);t.a=w.exports},Udgq:function(e,t,s){},UhGA:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"PreviewNotificationLabel":"预览模板消息","detailsLabel":"详情","sendBtn":"发送","placeholderLabel":"可选的","urlLabel":"链接"},"en":{"PreviewNotificationLabel":"Preview Notification Template","detailsLabel":"Details","sendBtn":"Send","placeholderLabel":"Optional","urlLabel":"URL"}}'),delete e.options._Ctor}},UmIh:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"type":"类型","name":"名称","expirationDate":"过期日期","quantity":"数量","status":"状态","to":"至","validInfo":"领取后{0}天生效{1}天有效","validInfo1":"领取后当天生效{0}天有效"},"en":{"type":"Type","name":"Name","expirationDate":"Expiration Date","quantity":"Quantity","status":"Status","to":"to","validInfo":"Redeemable {0} day(s) after claimed and valid for {1} day(s)","validInfo1":"Redeemable immediately after claimed and valid for {0} day(s)"}}'),delete e.options._Ctor}},UpaT:function(e,t,s){},Ut47:function(e,t,s){"use strict";var i=s("2vGw"),a=s.n(i);t.default=a.a},V0Um:function(e,t,s){"use strict";var i=s("zCvi");s.n(i).a},V9RP:function(e,t,s){"use strict";var i=s("Ip10"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("8Vev"),r=s.n(l),c=s("BXKR"),d=s("tWg3"),h=s("L2JU"),u=s("4Wlx"),p=s("LQ5e"),m=s.n(p),g=s("jkSJ"),f={mixins:[d.a],components:{LimitedInput:c.a},props:{currents:{type:Array,default:()=>[{Name:""}]},left:{type:Number,default:0},top:{type:Number,default:0},width:{type:Number,default:240},isSingleSelection:{type:Boolean,default:!0},limitLength:{type:Number,default:0},accountId:{type:String,default:""},hasNoTag:{type:Boolean,default:!1},doubleModal:{type:Boolean,default:!1},defaultLabel:{type:Boolean,default:!1},noTag:{type:String,default:""}},data:()=>({scrollOptions:[],dropdownTop:0,dropdownLeft:0,filterName:"",isNoLabelSelected:!1,dropdownOptions:[],tagName:"",isShowTagPopup:!1,isSaveTag:!1,isDown:!0,isLoading:!1}),watch:{filterName:function(){this.$nextTick((function(){var e;this.$refs.picklistDropdown&&(this.isDown?this.dropdownTop=this.top:this.dropdownTop=this.top-this.$refs.picklistDropdown.clientHeight-this.picklistInputHeight),this.scrollOptions=r()(e=this.dropdownOptions).call(e,e=>!!e.isSelected),this.dropDownScrollTop(this.dropdownOptions,this.scrollOptions,this.$refs.dropDownScrollTop)}))}},methods:o()({},Object(h.b)("tag",["updateTagList"]),{async fetchTags(){this.isLoading=!0;const e=await g.s.getWeChatTags(this.accountId);this.isLoading=!1,this.dropdownOptions=e;for(const e of this.dropdownOptions){var t;a()(t=this.currents).call(t,t=>t.Name===e.Name)?this.$set(e,"isSelected",!0):this.$set(e,"isSelected",!1)}this.$nextTick((function(){if(this.$refs.picklistDropdown)if(window.innerHeight-this.top-this.picklistInputHeight<this.$refs.picklistDropdown.clientHeight&&this.top>=this.$refs.picklistDropdown.clientHeight)this.dropdownTop=this.top-this.$refs.picklistDropdown.clientHeight-this.picklistInputHeight,this.isDown=!1;else if(window.innerHeight-this.top-this.picklistInputHeight<this.$refs.picklistDropdown.clientHeight&&this.top<this.$refs.picklistDropdown.clientHeight){const e=145;this.$refs.dropDownScrollTop.style.height=window.innerHeight-this.top-e+"px",this.dropdownTop=this.top,this.isDown=!0}else this.dropdownTop=this.top,this.isDown=!0;this.dropDownScrollTop(this.dropdownOptions,this.scrollOptions,this.$refs.dropDownScrollTop)}))},selectNoLable(){if(this.isNoLabelSelected=!this.isNoLabelSelected,this.isNoLabelSelected){for(let e of this.dropdownOptions)e.isSelected=!1;this.$emit("select-option",[],"No Tag")}else this.$emit("select-option",[],null)},openCreateTag(){this.isShowTagPopup=!0},closeTagPopup(){this.isShowTagPopup=!1,this.tagName=""},formatedText(e){this.tagName=e},saveTag(){this.isSaveTag=!0,Object(u.c)(e=>{if(this.isSaveTag=!1,e.ok){this.isShowTagPopup=!1,this.tagName="",this.filterName="",this.dropdownOptions=[];const s=JSON.parse(m.a.unescape(e.data));var t;if(this.scrollOptions.unshift(s),this.isSingleSelection)this.scrollOptions=r()(t=this.scrollOptions).call(t,e=>e.Name===s.Name);this.$try(async()=>{this.fetchTags()}),this.updateTagList(s),this.$root.$emit("open-toast-notification",{content:this.$t("successLabel"),type:"success"})}else this.isShowTagPopup=!1,this.$root.$emit("open-toast-notification",{content:e.error,type:"error"})},this.tagName,this.accountId)},onClickOk(){this.$emit("close"),this.$root.$emit("close-other-dropdown",null)}}),created(){this.noTag?this.isNoLabelSelected=!0:this.isNoLabelSelected=!1,this.scrollOptions=[...this.currents],this.dropdownLeft=this.left,this.dropdownTop=this.top,this.$try(async()=>{this.fetchTags()});const e=t=>{this.$el&&!this.$el.contains(t.target)&&(this.$emit("close"),this.$root.$emit("close-other-dropdown",null),window.removeEventListener("click",e))};window.addEventListener("click",e)}},v=(s("G4UG"),s("KHd+")),_=s("8ofr"),C=Object(v.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charket-picklist-dropdown",style:{left:e.dropdownLeft+"px",top:e.dropdownTop+"px",width:e.width+"px"}},[s("div",{staticClass:"slds-picklist slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[s("div",{ref:"picklistDropdown",staticClass:"dropdown-section",on:{click:function(e){e.stopPropagation()}}},[e.isLoading?s("div",{staticClass:"slds-spinner_container",staticStyle:{"min-height":"40px"}},[e._m(0)]):e._e(),e._v(" "),s("div",[s("div",{staticClass:"filter-title slds-grid slds-grid_vertical-align-center slds-grid_align-spread"},[s("p",[e._v(e._s(e.$t("filterLabel")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-small",on:{click:function(t){return e.openCreateTag()}}},[s("icon",{attrs:{name:"add","class-name":"slds-button__icon",width:"13px",height:"13px"}})],1)]),e._v(" "),s("div",{staticClass:"filter-section"},[s("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right"},[s("span",{staticClass:"slds-icon slds-input__icon slds-input__icon_left",attrs:{"aria-hidden":"true"}},[s("icon",{attrs:{name:"search","fill-color":"#b0adab",width:"16px",height:"16px"}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.filterName,expression:"filterName"}],staticClass:"slds-input slds-lookup__search-input",attrs:{type:"search",placeholder:e.$t("searchLabel")},domProps:{value:e.filterName},on:{input:function(t){t.target.composing||(e.filterName=t.target.value)}}}),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.filterName,expression:"filterName"}],staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",on:{click:function(t){return e.clearFilterName()}}},[s("icon",{attrs:{name:"close","fill-color":"#b0adab",height:"16px",width:"16px"}})],1)])])]),e._v(" "),s("div",{ref:"dropDownScrollTop",staticClass:"slds-dropdown_length-7 dropdown-content",staticStyle:{"min-height":"40px"},attrs:{role:"listbox"}},[s("ul",{staticClass:"slds-dropdown__list",attrs:{id:"option-list-01",role:"presentation"}},[e.hasNoTag&&!e.isLoading?s("li",{class:{"slds-is-selected":e.isNoLabelSelected},attrs:{role:"presentation"},on:{click:function(t){return t.stopPropagation(),e.selectNoLable()}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("icon",{staticClass:"slds-icon slds-icon_selected slds-icon_x-small slds-icon-text-default slds-m-right_x-small slds-shrink-none",class:{"disabled-icon":e.isNoLabelSelected},attrs:{name:"check","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v(" "),e.isNoLabelSelected?s("span",{staticClass:"slds-assistive-text"},[e._v("Current Selection:")]):e._e(),s("span",{staticClass:"slds-border_bottom no-label-value"},[e._v(e._s(e.$t("noTagLabel")))])],1)]):e._e(),e._v(" "),e._l(e.filteredOptions,(function(t){return s("li",{class:{"slds-is-selected":t.isSelected},attrs:{role:"presentation"},on:{click:function(s){return e.select(t)}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("icon",{staticClass:"slds-icon slds-icon_selected slds-icon_x-small slds-icon-text-default slds-m-right_x-small slds-shrink-none",class:{"disabled-icon":!t.isSelected},attrs:{name:"check","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v(" "),t.isSelected?s("span",{staticClass:"slds-assistive-text"},[e._v("Current Selection:")]):e._e(),e._v(" "),s("span",[e._v(e._s(t.Name))])],1)])}))],2)]),e._v(" "),s("div",{staticClass:"create-tag-section"},[s("button",{staticClass:"slds-button slds-button--neutral",on:{click:function(t){return e.onClickOk()}}},[e._v("\n          "+e._s(e.$t("okButton"))+"\n        ")])])])]),e._v(" "),s("div",{attrs:{id:"create-tag-popup"}},[s("div",{staticClass:"slds-modal slds-modal_large",class:{"slds-fade-in-open":e.isShowTagPopup},attrs:{"aria-hidden":"false",role:"dialog"},on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"slds-modal__container show-selected-container preview-width",class:{"double-modal":e.doubleModal},attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeTagPopup()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("createLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium tag-content"},[s("div",{staticClass:"create-tag-name"},[s("div",[s("span",[e._v("*")]),e._v(" "+e._s(e.$t("nameLabel")))]),e._v(" "),s("div",{staticClass:"create-section"},[s("limited-input",{attrs:{content:e.tagName,sum:20},on:{"formated-text":function(t){return e.formatedText(t)}}})],1)])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSaveTag},on:{click:function(t){return e.closeTagPopup()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.tagName.length<=0||e.isSaveTag},on:{click:function(t){return e.saveTag()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop",class:{"slds-backdrop_open":e.isShowTagPopup}})])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner_brand slds-spinner slds-spinner_small",attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[this._v("Loading")]),this._v(" "),t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])}],!1,null,"0a8cf262",null);"function"==typeof _.default&&Object(_.default)(C);t.a=C.exports},VOJu:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 29 29" id="message-all" xmlns:xlink="http://www.w3.org/1999/xlink"> <path fill="" d="M13.9,17.2c0.4,0.4,0.9,0.4,1.2,0L28.5,4.8c0.2-0.5,0.2-1.2-0.8-1.2L1.3,3.6C0.6,3.6,0,4.3,0.5,4.9L13.9,17.2z\n\t\t M28.7,9.7c0-0.6-0.7-0.9-1.2-0.5l-10.5,9.6c-0.7,0.6-1.6,1-2.5,1c-0.9,0-1.8-0.4-2.5-0.9L1.6,9.1C1.1,8.7,0.4,9,0.4,9.7\n\t\tC0.3,9.5,0.3,23.1,0.3,23.1c0,1.3,1.1,2.4,2.4,2.4h23.6c1.3,0,2.4-1.1,2.4-2.4V9.7z"/> </symbol>',"message-all")},Vbny:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"addTagLabel":"添加标签","notifyContent":"未关注者不能被添加或删除标签。"},"en":{"addTagLabel":"Add Tag","notifyContent":"An unfollowing follower cannot be added/removed tags."}}'),delete e.options._Ctor}},Vl1u:function(e,t,s){"use strict";var i=s("cSkf");s.n(i).a},VmJW:function(e,t,s){"use strict";var i=s("kTU7"),a=s.n(i);t.default=a.a},Vtdi:function(e,t,s){"use strict";s.r(t);var i={};s.r(i),s.d(i,"waitingMessage",(function(){return Ne})),s.d(i,"threadCount",(function(){return Ee}));var a=s("oCYn"),n=s("jE9Z"),o=s("dUVM"),l=s.n(o),r=s("L2JU"),c=s("0G99"),d=s.n(c);const h="SET_UNREAD_COUNT",u="SET_UNPLOADING_FILES_NUM",p="UPDATE_UPLOADING_FILES";var m=s("4Wlx"),g=s("jkSJ");var f={namespaced:!0,state:{followerCount:{},currentAccountFollowers:{},currentFollowersPagination:[],followerTypeCount:{}},getters:{followerCount:e=>e.followerCount,currentAccountFollowers:e=>e.currentAccountFollowers,currentFollowersPagination:e=>e.currentFollowersPagination},mutations:{SET_FOLLOWER_COUNT(e,t){e.followerTypeCount=t},SET_CURRENT_ACCOUNT_DETAIL(e,t){!function(e,t){e.currentAccountFollowers={};for(let s of t.Followers)a.default.set(e.currentAccountFollowers,s.Id,s);e.currentFollowersPagination=t.PaginationBar}(e,t)},ASSIGN_TAG(e,t){let{followerMap:s,followerIdSet:i}=t;for(let t in e.currentAccountFollowers)i.has(t)&&e.currentAccountFollowers[t].WeChatTags&&(e.currentAccountFollowers[t].WeChatTags=s.get(t))},CLEAR_FOLLOWERS(e){e.currentAccountFollowers={},e.currentFollowersPagination=[]},UPDATE_FOLLOWERS_ALIAS(e,t){let s=e.currentAccountFollowers[t.Id];""!==t.Alias&&null!==t.Alias?(s.Name=t.Alias,s.Alias=t.Alias):(s.Name=s.Nickname,s.Alias="")},UPDATE_CURRENT_ACCOUNT_FOLLOWERS_TAGS(e,t){d()(t).call(t,t=>{e.currentAccountFollowers[t.Id].WeChatTags=t.WeChatTags})}},actions:{async getFollowers(e,t){let{commit:s}=e;const i=await g.f.getFollowers(t);s("SET_CURRENT_ACCOUNT_DETAIL",i),s("SET_FOLLOWER_COUNT",i.FollowerCount)},clearFollowersList(e){let{commit:t}=e;t("CLEAR_FOLLOWERS")},updateFollowersAlias(e,t){let{commit:s}=e;s("UPDATE_FOLLOWERS_ALIAS",t)},assignTag(e,t){let{commit:s}=e,{followerIds:i,tagIds:a,accountId:n}=t;return m.b(i,a,n)},unassignTag(e,t){let{commit:s}=e,{followerIds:i,tagIds:a,accountId:n}=t;return m.k(i,a,n)},updateCurrentAccountFollowersTags(e,t){let{commit:s}=e;s("UPDATE_CURRENT_ACCOUNT_FOLLOWERS_TAGS",t)}}},v=s("sI2A"),_=s.n(v),C=s("Yvyk"),b=s.n(C),w=s("rZkV"),y=s.n(w),T=s("00Ee");var L=s("4B+h"),I=s("LQ5e"),k=s.n(I);const S=async(e,t)=>{let{commit:s}=e;try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getNewMessagesAmount",args:[e.Id]})}(t);return e.ok?s("GET_MESSAGE_AMOUNT",_()(e.data)):Object(L.f)(e),e}catch(e){Object(L.f)(e)}},M=async(e,t)=>{let{commit:s}=e;try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getChartFollowerCount",args:[e.Id]})}(t);return e.ok?s("GET_CHART_FOLLOWER",JSON.parse(k.a.unescape(e.data))):Object(L.f)(e),e}catch(e){Object(L.f)(e)}},A=async(e,t)=>{let{commit:s}=e;try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getChartHourlyMessageCount",args:[e.Id]})}(t);return e.ok?s("GET_CHART_MESSAGE",JSON.parse(k.a.unescape(e.data))):Object(L.f)(e),e}catch(e){Object(L.f)(e)}};var x={namespaced:!0,state:{campaigns:[],followerTotal:0,latestFollowerTotal:0,newAccountMessageCount:0,followerChartCount:{},messageChartCount:{}},getters:{campaigns:e=>e.campaigns,followerTotal:e=>e.followerTotal,latestFollowerTotal:e=>e.latestFollowerTotal,newAccountMessageCount:e=>e.newAccountMessageCount,followerChartCount:e=>e.followerChartCount,messageChartCount:e=>e.messageChartCount},mutations:{GET_CAMPAIGNS(e,t){t.length>5?e.campaigns=y()(t).call(t,0,5):e.campaigns=t},GET_MESSAGE_AMOUNT(e,t){e.newAccountMessageCount=t},GET_CHART_FOLLOWER(e,t){e.followerChartCount=t},GET_CHART_MESSAGE(e,t){e.messageChartCount=t},GET_LATEST_FOLLOWER_AMOUNT(e,t){e.latestFollowerTotal=t},GET_FOLLOWER_TOTAL_AMOUNT(e,t){e.followerTotal=t}},actions:{getChartMessageCount:async(e,t)=>{let{commit:s}=e;try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getChartMessageCount",args:[e.Id]})}(t);return e.ok?s("GET_CHART_MESSAGE",JSON.parse(k.a.unescape(e.data))):Object(L.f)(e),e}catch(e){Object(L.f)(e)}},getChartFollowerCount:M,getNewMessagesAmount:S,getChartHourlyFollowerCount:async(e,t)=>{let{commit:s}=e;try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getChartHourlyFollowerCount",args:[e.Id]})}(t);return e.ok?s("GET_CHART_FOLLOWER",JSON.parse(k.a.unescape(e.data))):Object(L.f)(e),e}catch(e){Object(L.f)(e)}},getAccountDetail:async(e,t)=>{let{dispatch:s,commit:i,rootState:a}=e;b.a.all([S({commit:i},a.sidebar.currentAccount),M({commit:i},a.sidebar.currentAccount),A({commit:i},a.sidebar.currentAccount)]);try{let e=await function(e){return Object(T.a)({method:"HomeRemoteActions.getAccountDetail",args:[e]})}(t);if(e.ok){let t=JSON.parse(k.a.unescape(e.data));i("GET_CAMPAIGNS",t.campaigns),i("GET_FOLLOWER_TOTAL_AMOUNT",t.followerTotal),i("GET_LATEST_FOLLOWER_AMOUNT",t.latestFollowerTotal)}else Object(L.f)(e)}catch(e){Object(L.f)(e)}},getChartHourlyMessageCount:A}};var N={namespaced:!0,state:{currentUser:{},userStatus:{},showBrowserNotificationPermissionToast:!1},getters:{currentUser:e=>e.currentUser,userStatus:e=>e.userStatus},mutations:{SET_CURRENT_USER(e,t){e.currentUser=t},SWICHT_USER_STATUS(e,t){e.userStatus=t}},actions:{async initUser(e){let{commit:t,dispatch:s}=e;try{const e=await Object(T.a)({method:"UserRemoteActions.initCurrentUser"});if(e.ok){t("SET_CURRENT_USER",JSON.parse(k.a.unescape(e.data)))}else Object(L.f)(e)}catch(e){Object(L.f)(e)}},switchUserStatus(e,t){let{commit:s}=e;s("SWICHT_USER_STATUS",t)}}},E=s("OB6B");const D={currentAccount:{Id:"",Name:""},wechatAccounts:null};var P={namespaced:!0,state:D,getters:{currentAccount:e=>e.currentAccount,wechatAccounts:e=>e.wechatAccounts},mutations:{SET_ALL_ACCOUNTS(e,t){e.wechatAccounts||(e.wechatAccounts={});for(let s of t)a.default.set(e.wechatAccounts,s.Id,s)},SET_CURRENT_ACCOUNT(e,t){e.currentAccount=t}},actions:{getAllAccounts:async e=>{let{commit:t}=e;if("consoleMessage"!==E.a.componentName){t("SET_ALL_ACCOUNTS",await g.t.getAllValidWeChatAccounts())}},switchAccount:(e,t)=>{let{commit:s}=e,{wechatAccountId:i,router:a}=t,n=i;if(!i)for(let e of D.wechatAccounts){n=e.Id;break}let o=D.wechatAccounts[i];s("SET_CURRENT_ACCOUNT",o),s("account/UPDATE_ACCOUNT_PERMISSIONS",o.Type,{root:!0}),a&&a.currentRoute&&a.currentRoute.params.accountId!==D.currentAccount.Id&&a.replace({name:a.currentRoute.name,params:{accountId:n}})}}},R=s("8Vev"),O=s.n(R),B=s("SLhn"),F=s.n(B),U=s("wG3i"),V=s.n(U),j=s("+Bun"),z=s.n(j),W=s("ejTr"),H=s.n(W),G=s("3O4B"),Z=s.n(G),X=s("WE60"),Q=s.n(X),Y=s("kWsH"),q=s.n(Y),J=s("Ip10"),K=s.n(J),ee=s("2ABW");var te=e=>{const t={Body:null,BotType:e.BotType,Id:e.Id,MsgId:e.MsgId,HasMore:e.HasMore,GetMoreError:!1,SendBy:e.SendBy,Sender:{Id:e.SenderId,PhotoUrl:e.SenderPhotoUrl,Name:e.SenderName},Type:e.Type,ReadTime:e.ReadDate,WeChatCreatedTime:e.CreatedDate,IsSend:!1,IsError:!1,Msg:e.Msg},s=Object(L.g)(e.Content);return e.Content=s.success?s.data:e.Content,t.Body=e.Body?e.Body:(e=>{var t;if(l()(t=["Text","Click","View","Subscribe","Unsubscribe","MP Chat Opened"]).call(t,e.Type))return{Content:e.Content?e.Content.Content:"",Skill:e.Content?e.Content.Skill:null,IsKeyword:e.IsKeyword,WeChatResponseIds:e.ResponseId};if("Scan"===e.Type){const t=e.Content;return{Content:t.Content,ObjectId:t.ObjectId}}if("Image"===e.Type)return{Title:e.Title,AttachmentId:e.MediaUrl?e.MediaUrl.substring(e.MediaUrl.length-18):e.Content?e.Content.AttachmentId:""};if("Link Structured Message"===e.Type||"WeChat Structured Message"===e.Type||"Structured Message"===e.Type)return e.Content;if("Voice"===e.Type)return{IsKeyword:e.IsKeyword,Recognition:e.Recognition,AttachmentId:e.MediaUrl?e.MediaUrl.substring(e.MediaUrl.length-18):e.Content?e.Content.AttachmentId:"",WeChatResponseIds:e.ResponseId};if("Video"===e.Type)return{Title:e.Title,Description:e.Description,AttachmentId:e.MediaUrl?e.MediaUrl.substring(e.MediaUrl.length-18):e.Content?e.Content.AttachmentId:""};if("Location"===e.Type)return{Content:e.Content?e.Content.Content:"",Latitude:e.Latitude,Longitude:e.Longitude};if("Link"===e.Type)return e.Content?{URL:e.Content.Content,Title:e.Content.Title,Description:e.Content.Description}:{};if("Close"===e.Type){const t=e.Content;return{AgentId:t.AgentId,AgentName:t.AgentName}}if("Transfer"===e.Type){const t=e.Content;return"System"===e.SendBy?{From:{Id:t.From.Id,Name:t.From.Name},To:{Id:t.To.Id,Name:t.To.Name}}:"Supervisor"===e.SendBy?{Comment:t.Comment}:{content:""}}if("Mini Program Page"===e.Type)return e.Content?{Title:e.Content.Title,CoverImageAttachmentId:e.Content.CoverImageAttachmentId,PagePath:e.Content.PagePath}:{};if("Template"===e.Type){if(!e.Content)return{};const t=!!e.Content.ContentMapping;return{Title:t?e.Content.Title:e.Title,Content:t?e.Content.Content:e.Content,ContentMapping:t?e.Content.ContentMapping:e.ContentMapping,NotificationURL:t?e.Content.NotificationURL:e.NotificationURL,CreatedDate:t?e.Content.CreatedDate:e.CreatedDate,MiniProgramPage:t?e.Content.MiniProgramPage:e.MiniProgramPage}}if("Lock"===e.Type){const t=e.Content;return{To:{Id:t.To.Id,Name:t.To.Name}}}if("Coupon"===e.Type||"Pass"===e.Type){const t=e.Content?e.Content.CardType:e.Msg.type;let s="";return e.MediaUrl?s=e.MediaUrl.substring(e.MediaUrl.length-18):e.Content&&(s=e.Content.LogoAttachmentId),{Title:e.Title,CardType:t,LogoAttachmentId:s}}return"File"===e.Type?{Content:e.Content.Content}:void 0})(e),t},se=s("XIlo"),ie=s("suXn"),ae=s.n(ie),ne=s("p5Y3");const oe=["Image","Voice","Video","Mini Program Page"],le=["Charket Bot","Automated Process Bot","Form Bot","Survey Bot","WeChat Campaign Bot","Skill Bot","Lucky Draw Bot","Marketing Cloud Bot","Apex Action"],re=e=>{if(l()(le).call(le,e.SendBy__c))return!1;if(l()(oe).call(oe,e.Type__c)&&e.ShortBody__c){const t=e.ShortBody__c.AttachmentId&&"-1"!==e.ShortBody__c.AttachmentId,s=e.ShortBody__c.CoverImageAttachmentId&&"-1"!==e.ShortBody__c.CoverImageAttachmentId;return t||s}return!1};var ce=s("n/5B");const de=5e4,he=3,ue={unreadCount:0,initialAgentStatuses:[],hasLoadedData:!1,livechatActive:!0,followers:{},briefFollowersInfo:{},currentThread:null,chattingThreads:[],waitingThreads:[],historyThreads:[],messageListObj:{},newMessageCount:0,senders:{},quickReplies:{},lastReplayId:"",offlineReplayId:"",unsentMessageStore:{},popoverReplies:{},agentInfo:{},uploadingFilesNum:0,uploadingFiles:[],sendingStatus:{},transcriptStore:[],leadsOrContacts:{}},pe={INIT_AGENT_STATUSES(e,t){e.initialAgentStatuses=t},SET_THREAD_LAST_ITEM(e,t){var s,i;let{id:n,followerId:o,item:l}=t;const r=K()(s=e.chattingThreads).call(s,e=>e.Id===n||e.Follower.Id===o)||K()(i=e.waitingThreads).call(i,e=>e.Id===n||e.Follower.Id===o);l?r&&(r.LastItem=l):a.default.set(r,"LastItem",{Body:{content:""},BotType:null,Id:null,MsgId:null,ReadTime:null,SendBy:null,Sender:null,Type:null,WeChatCreatedTime:null})},STORE_TRANSCRIPT_ITEM(e,t){var s;let{transcriptItem:i}=t;e.transcriptStore.push(i),q()(s=e.transcriptStore).call(s,(e,t)=>e.WeChatCreatedTime__c-t.WeChatCreatedTime__c)},UPDATE_SENDING_STATUS(e,t){let{followerId:s,type:i}=t;"consoleMessage"===E.a.componentName&&E.a.fireEvent("update-sending-status",{followerId:s,type:i}),s&&!e.sendingStatus[s]&&a.default.set(e.sendingStatus,s,{count:0,errorCount:0}),"increaseCount"===i&&e.sendingStatus[s].count++,"decreaseCount"===i&&e.sendingStatus[s].count--,"increaseErrorCount"===i&&e.sendingStatus[s].errorCount++,"decreaseErrorCount"===i&&e.sendingStatus[s].errorCount--,"remove"===i&&a.default.delete(e.sendingStatus,s),"clear"===i&&(e.sendingStatus={})},SET_LIVECHAT_STATUS(e,t){e.livechatActive=t},SET_INIT_FLAG(e,t){e.hasLoadedData=t},UPDATE_UNSENT_STORE(e,t){let{threadId:s,content:i}=t;e.unsentMessageStore[s]?e.unsentMessageStore[s]=i:a.default.set(e.unsentMessageStore,s,i)},UPDATE_FOLLOWER_ACTIVE_TIME(e,t){const s=["Text","Image","Voice","Location","Subscribe","Scan","Click"];e.followers[t.WeChatFollowerId__c]&&"Follower"===t.SendBy__c&&l()(s).call(s,t.Type__c)&&(e.followers[t.WeChatFollowerId__c].LastActiveTime=t.WeChatCreatedTime__c)},SET_TO_THREADS(e,t){let{thread:s,isChatting:i}=t;if(i){var a,n;s.Status="In Progress";const t=Q()(a=e.chattingThreads).call(a,e=>e.Id===s.Id),i=t>-1?1:0;Z()(n=e.chattingThreads).call(n,t,i,s)}else{var o,l;const t=Q()(o=e.waitingThreads).call(o,e=>e.Id===s.Id),i=t>-1?1:0;Z()(l=e.waitingThreads).call(l,t,i,s)}},SET_CURRENT_THREAD(e,t){let{thread:s}=t;e.currentThread=s},NEW_LIVE_CHAT(e,t){const s="In Progress"===t.Status?e.chattingThreads:"Waiting"===t.Status?e.waitingThreads:"Completed"===t.Status?e.historyThreads:null,i=t.Follower.Id;if(!s)return;e.messageListObj[i]&&a.default.delete(e.messageListObj,i);const n=Q()(s).call(s,e=>e.Follower.Id===t.Follower.Id),o=n>=0?n:0,l=n>=0?1:0;Z()(s).call(s,o,l,t),t.Follower&&a.default.set(e.senders,t.Follower.Id,{Id:t.Id,Name:t.Follower.Name,PhotoUrl:t.Follower.PhotoUrl})},LOAD_MESSAGE(e,t){let{followerId:s,result:i,transcriptId:n}=t;if(i.records){let t={};e.messageListObj[s]?(e.messageListObj[s].NextTranscriptId=i.nextTranscriptId,e.messageListObj[s].Cursor=i.cursor):a.default.set(e.messageListObj,s,{NextTranscriptId:i.nextTranscriptId,Cursor:i.cursor,Messages:[],TranscriptId:n});for(const i of e.messageListObj[s].Messages)t[i.MsgId]=i;for(const a of i.records)"Agent"!==a.SendBy&&"Supervisor"!==a.SendBy||e.agentInfo[a.Sender.Id]||(e.agentInfo[a.Sender.Id]={PhotoUrl:a.Sender.PhotoUrl,Name:a.Sender.Name}),a.Body&&"object"==typeof a.Body&&(a.Body.Content=a.Body.IsKeyword?"[Keyword] "+a.Body.Content:a.Body.Content),t[a.MsgId]||e.messageListObj[s].Messages.unshift(a)}},SET_MESSAGE_FOLLOWER_INFO(e,t){let s=e.currentThread.Follower;a.default.set(s,"LeadId",t.Lead.Id),a.default.set(s,"ContactId",t.Contact.Id),a.default.set(s,"IsBlocked",t.IsBlocked),a.default.set(s,"IsFollowing",t.IsFollowing),a.default.set(s,"WeChatAccount",t.WeChatAccount)},SET_CURRENT_THREAD_FOLLOWER_ACCOUNTID(e,t){if(!e.currentThread)return;const s=e.currentThread.Follower;a.default.set(s,"AccountId",t)},CLEAR_TRANSCRIPT_STORE(e){e.transcriptStore=[]},ADD_TO_THREADS(e,t){let{message:s,transcriptItem:i,thread:n,type:o}=t;const r=i.WeChatFollowerId__c,c=i.WeChatTranscript__c,d="chatting"===o?e.chattingThreads:e.waitingThreads;let h=e.currentThread&&e.currentThread.Id===c?e.currentThread:K()(d).call(d,e=>e.Follower.Id===r);if(h){a.default.set(h,"IsDisabled","Lock"===i.Type__c),(h.IsDisabled||"Transfer"===i.Type__c)&&(h.Agent=i.ShortBody__c.To);const e=["Text","Image","Voice","Location","Subscribe","Scan","Click"];"Follower"===i.SendBy__c&&l()(e).call(e,i.Type__c)&&(h.Follower.LastActiveTime=i.WeChatCreatedTime__c),(!h.LastItem||i.WeChatCreatedTime__c>=h.LastItem.WeChatCreatedTime)&&(h.LastItem=ge(i))}else{if(!n)return;n.Status="chatting"===o?"In Progress":"Waiting",d.push(n),h=n,e.currentThread=e.currentThread?e.currentThread:n}let u=!0;if(e.messageListObj[r])if(e.messageListObj[r].TranscriptId!==c)a.default.delete(e.messageListObj,r);else{for(let t of e.messageListObj[r].Messages)if(t.MsgId===s.MsgId){t.Body.AttachmentId=s.Body.AttachmentId,t.Body.CoverImageAttachmentId=s.Body.CoverImageAttachmentId,t.Recognition=s.Body.Recognition,u=!1;break}u&&e.messageListObj[r].Messages.push(s)}re(i)||(h.UnreadCount+=1)},REMOVE_FROM_HISTORY(e,t){var s,i;const a=Q()(s=e.historyThreads).call(s,e=>e.Follower.Id===t);-1!==a&&(e.currentThread&&"Completed"===e.currentThread.Status&&e.currentThread.Follower.Id===t&&(e.currentThread=null),Z()(i=e.historyThreads).call(i,a,1))},CONNECT_WAITING_CHAT(e,t){let s=null;if(se.a.isInLightningConsole&&"consoleMessage"===E.a.componentName)s=t===e.currentThread.Id?e.currentThread:null;else{var i,n;const a=Q()(i=e.waitingThreads).call(i,e=>e.Id===t);if(-1===a)return;s=e.waitingThreads[a],e.chattingThreads.push(s),Z()(n=e.waitingThreads).call(n,a,1)}s&&(a.default.set(s,"IsDisabled",!1),a.default.set(s,"Status","In Progress"))},UPDATE_QUICK_REPLIES(e,t){let{replies:s,type:i,orderBy:n,id:o,updateWay:l,reply:r}=t;const c=(e,t)=>{if(!e||null===e)return-1;return Q()(e).call(e,e=>e.Id===t.Id)};if("refresh"===l)e.quickReplies[o]||a.default.set(e.quickReplies,o,{}),e.quickReplies[o][n]||a.default.set(e.quickReplies[o],n,{}),a.default.set(e.quickReplies[o][n],i,s);else if("create"===l){if(r.Id)for(const t of H()(e.quickReplies[o]))e.quickReplies[o][t].All||a.default.set(e.quickReplies[o][t],"All",[]),e.quickReplies[o][t].Private||a.default.set(e.quickReplies[o][t],"Private",[]),e.quickReplies[o][t].All.unshift(r),e.quickReplies[o][t].Private.unshift(r)}else if("edit"===l)for(const t of H()(e.quickReplies[o])){const s=c(e.quickReplies[o][t].All,r),i=c(e.quickReplies[o][t].Private,r);var d,h;if(s>=0)Z()(d=e.quickReplies[o][t].All).call(d,s,1,r);if(i>=0)Z()(h=e.quickReplies[o][t].Private).call(h,i,1,r)}else if("delete"===l)for(const t of H()(e.quickReplies[o])){const s=c(e.quickReplies[o][t].All,r),i=c(e.quickReplies[o][t].Private,r);var u,p;if(s>=0)Z()(u=e.quickReplies[o][t].All).call(u,s,1);if(i>=0)Z()(p=e.quickReplies[o][t].Private).call(p,i,1)}},[p](e,t){let{action:s,fileInfo:i}=t;if("delete"===s){var n,o;const t=Q()(n=e.uploadingFiles).call(n,e=>i.file===e.file);i.file.stop=!0,Z()(o=e.uploadingFiles).call(o,t,1)}else"updatePositionIndex"===s?i.file.positionIndex+=de:"uploading"===s?a.default.set(i.file,"status","Uploading"):e.uploadingFiles.push(i)},REMOVE_SPECIAL_MESSAGE(e,t){var s;let{messageId:i,followerId:a}=t;if(!a||!e.messageListObj[a])return;const n=Q()(s=e.messageListObj[a].Messages).call(s,e=>e.MsgId===i);var o;n>-1&&Z()(o=e.messageListObj[a].Messages).call(o,n,1)},SET_THREAD_FOLLOWER_LAST_ACTIVE_TIME(e,t){var s,i;let{time:a,followerId:n}=t;const o=K()(s=e.chattingThreads).call(s,e=>e.Follower.Id===n)||K()(i=e.waitingThreads).call(i,e=>e.Follower.Id===n);-1===o.Follower.LastActiveTime&&(o.Follower.LastActiveTime=a)},SET_THREAD_FOLLOWER_INFO(e,t){var s,i;let{followerId:n,followerName:o,followerPhotoUrl:l,wechatAccountName:r,wechatAccountId:c,wechatAccountType:d}=t;a.default.set(e.briefFollowersInfo,n,{Name:o,PhotoUrl:l,WeChatAccount:{Id:c,Name:r,Type:d}}),H()(e.briefFollowersInfo).length>500&&a.default.delete(e.briefFollowersInfo,H()(e.briefFollowersInfo)[0]);const h=K()(s=e.chattingThreads).call(s,e=>e.Follower.Id===n)||K()(i=e.waitingThreads).call(i,e=>e.Follower.Id===n);h&&(h.Follower.Name=o,h.Follower.PhotoUrl=l,r&&c&&d&&(h.WeChatAccount={Id:c,Name:r,Type:d}))},ADD_MESSAGE_ERROR(e,t){var s;let{error:i,followerId:n}=t;const o=K()(s=e.messageListObj[n].Messages).call(s,e=>e.WeChatCreatedTime===i.createdTime);o&&a.default.set(o,"Error",i)},COMPLETE_CHAT(e,t){var s,i;let{threadId:n}=t;const o=Q()(s=e.chattingThreads).call(s,e=>e.Id===n),l=Q()(i=e.waitingThreads).call(i,e=>e.Id===n);let r="";var c;if(e.currentThread&&e.currentThread.Id===n&&(e.currentThread=null),o>-1)r=e.chattingThreads[o].Follower.Id,Z()(c=e.chattingThreads).call(c,o,1);else if(l>-1){var d;r=e.waitingThreads[l].Follower.Id,Z()(d=e.waitingThreads).call(d,l,1)}r&&e.messageListObj[r]&&a.default.delete(e.messageListObj,r),r&&e.followers[r]&&a.default.delete(e.followers,r)},ADD_TO_HISTORY_THREAD(e,t){for(let s of t){const t=s.Follower.Id;e.messageListObj[t]&&a.default.delete(e.messageListObj,t),e.historyThreads.push(s)}},UPDATE_MESSAGE_STATUS(e,t){let{followerId:s,index:i,status:a}=t;e.messageListObj[s].Messages[i].IsSend=a},UNMARK_SPECIAL_MESSAGE_ERROR(e,t){let{index:s,followerId:i}=t;e.messageListObj[i].Messages[s]&&(e.messageListObj[i].Messages[s].Error=null)},UPDATE_POPOVER_REPLIES(e,t){let{id:s,replies:i}=t;e.popoverReplies[s]?e.popoverReplies[s]=i:a.default.set(e.popoverReplies,s,{})},ADD_SENDER(e,t){a.default.set(e.senders,t.Id,t)},SET_NEW_MESSAGE_COUNT(e,t){e.newMessageCount=t},CLEAR_HISTORY_THREADS(e){e.historyThreads=[]},ADD_MESSAGE(e,t){var s,i;let{msg:n,senderId:o,threadId:l}=t,r=n.MsgId||l+n.CreatedTime,c=function(e){let{type:t,cardId:s}=e;if(-1!==z()(t).call(t,"Text"))return"Text";if(-1!==z()(t).call(t,"Image"))return"Image";if(-1!==z()(t).call(t,"Voice"))return"Voice";if(-1!==z()(t).call(t,"Video"))return"Video";if(s)return"Coupon";if(-1!==z()(t).call(t,"Structured"))return t;if(-1!==z()(t).call(t,"Mini Program Page"))return"Mini Program Page";if(-1!==z()(t).call(t,"Template"))return"Template"}({type:n.Type||n.type,cardId:n.cardId});n.url&&-1===z()(s=n.url).call(s,"null")||(n.url=null);let d={SenderId:o,SenderName:n.agentInfo.Name,SenderPhotoUrl:n.agentInfo.PhotoUrl,SendBy:"Agent",CreatedDate:n.CreatedTime,Type:c,Error:null,Content:"Text"===c?{Content:n.content||n.Content}:n.Content||n.content,MsgId:r,MediaUrl:n.url,Title:n.name||n.Title||n.title,IsSend:!1,IsError:!1,Msg:n,ContentMapping:n.contentMapping?n.contentMapping:null,NotificationURL:n.contentMapping&&n.contentMapping.url?n.contentMapping.url:n.notificationURL,MiniProgramPage:n.miniProgramPage};"Link Structured Message"===c||"WeChat Structured Message"===c||"Structured Message"===c?(d.Content=JSON.parse(V()(n.attachments)),d.MessageId=n.id):"Mini Program Page"===c&&(d.Content={Title:n.wechatAttachment.title,CoverImageAttachmentId:n.wechatAttachment.url.substring(n.wechatAttachment.url.length-18),PagePath:n.wechatAttachment.pagePath}),d=te(d);const h=K()(i=e.chattingThreads).call(i,e=>e.Id===l)||e.currentThread,u=h.Follower.Id;e.messageListObj[u]||a.default.set(e.messageListObj,u,{NextTranscriptId:"",Cursor:"",Messages:[]}),e.messageListObj[u].Messages.push(d),h.UnreadCount=0},SET_AGENT_INFO(e,t){t.Agent.Id&&a.default.set(e.agentInfo,t.Agent.Id,{PhotoUrl:t.Agent.PhotoUrl,Name:t.Agent.Name})},STORE_FOLLOWER(e,t){e.followers[t.Id]||a.default.set(e.followers,t.Id,{});let s=e.followers[t.Id];for(let e of H()(t))a.default.set(s,e,t[e])},RESET_LIVE_CHAT_DATA(){ue.currentThread=null,ue.chattingThreads=[],ue.waitingThreads=[],ue.historyThreads=[],ue.messageListObj={}},CLEAR_UNREAD_COUNT(e,t){var s;let i=K()(s=e.chattingThreads).call(s,e=>e.Id===t);var a;i||(i=K()(a=e.waitingThreads).call(a,e=>e.Id===t));i&&(i.UnreadCount=0)},CLEAR_CURRENT_THREAD_UNREAD_COUNT(e){e.currentThread.UnreadCount=0},[u](e,t){e.uploadingFilesNum=t},SET_MESSAGE_DATA(e,t){var s,i;let{itemId:n,followerId:o,data:l}=t;if(!e.messageListObj[o])return;const r=K()(s=e.messageListObj[o].Messages).call(s,e=>e.Id===n);r&&d()(i=H()(l)).call(i,e=>{a.default.set(r,e,l[e])})},UPDATE_FOLLOWER_TAGS(e,t){let{followerId:s,followerTags:i}=t;e.followers[s].WeChatTags=i},UPDATE_FOLLOWER_ACTIVITY_TIME(e,t){let{followerId:s,time:i}=t;e.followers[s]&&(e.followers[s].LastActivityTime=i)},UPDATE_THREAD_FOLLOWER_NAME(e,t){var s,i;let{followerId:a,displayName:n}=t;const o=K()(s=e.chattingThreads).call(s,e=>e.Follower.Id===a)||K()(i=e.waitingThreads).call(i,e=>e.Follower.Id===a);o&&(o.Follower.Name=n)},UPDATE_FOLLOWER_ISBLOCKED(e,t){e.followers[e.currentThread.Follower.Id]&&(e.followers[e.currentThread.Follower.Id].IsBlocked=t),a.default.set(e.currentThread.Follower,"IsBlocked",t)},UPDATE_FOLLOWER_ISFOLLOWING(e,t){"consoleMessage"===E.a.componentName&&t.WeChatFollowerId__c===e.currentThread.Follower.Id&&a.default.set(e.currentThread.Follower,"IsFollowing","Subscribe"===t.Type__c),e.followers[t.WeChatFollowerId__c]&&(e.followers[t.WeChatFollowerId__c].IsFollowing="Subscribe"===t.Type__c)},STORE_LEAD_OR_CONTACT(e,t){let{id:s,object:i}=t;a.default.set(e.leadsOrContacts,s,i)},REMOVE_FOLLOWER(e,t){a.default.delete(e.followers,t)},REMOVE_FOLLOWER_RELATED(e,t){a.default.delete(e.leadsOrContacts,t)},[h](e,t){e.unreadCount=t}};async function me(e){try{const t=await Object(ne.a)(e);if(t.ok)return;Object(L.f)(t)}catch(e){Object(L.f)(e)}}function ge(e){return{Id:e.Id,MsgId:e.MsgId__c,Type:e.Type__c,SendBy:e.SendBy__c,Sender:{Id:e.SenderId__c},Body:e.ShortBody__c,IsKeyword:!(!e.ShortBody__c||!e.ShortBody__c.IsKeyword),Recognition:e.Recognition__c,ThumbMediaUrl:e.ThumbMediaUrl__c,Title:e.Title__c,Description:e.Description__c,WeChatCreatedTime:e.WeChatCreatedTime__c,WeChatResponseIds:e.WeChatResponseIds__c,BotType:e.BotType__c,HasMore:e.HasMore__c}}async function fe(e){let{state:t,rootState:s,commit:i,dispatch:a}=e,n=s.chatsettings.chatsLimit;const o=s.user.userStatus.IsAcceptsChats;if(t.chattingThreads.length<n&&t.waitingThreads.length>0&&o){const e=ae.a.orderBy(t.waitingThreads,e=>new Date(e.RequestTime).getTime(),"asc");for(const i of e){var l;if(t.chattingThreads.length>=s.chatsettings.chatsLimit)return;let e=K()(l=s.chatsettings.autoChatsSettings).call(l,e=>e.WeChatAccountId===i.WeChatAccount.Id)||{};if("Completed"===i.Status||i.IsDisabled||!e.IsAutoAcceptChat)continue;let n=i.Id;await a("acceptChat",n)}}}var ve={namespaced:!0,state:ue,getters:{initialAgentStatuses:e=>e.initialAgentStatuses,followers:e=>e.followers,currentThread:e=>e.currentThread,chattingThreads:e=>e.chattingThreads,waitingThreads:e=>e.waitingThreads,historyThreads:e=>e.historyThreads,newMessageCount:e=>e.newMessageCount,quickReplies:e=>e.quickReplies,senders:e=>e.senders,messageListObj:e=>e.messageListObj,hasLoadedData:e=>e.hasLoadedData,unsentMessageStore:e=>e.unsentMessageStore,popoverReplies:e=>e.popoverReplies,agentInfo:e=>e.agentInfo,lastReplayId:e=>e.lastReplayId,uploadingFiles:e=>e.uploadingFiles,livechatActive:e=>e.livechatActive,sendingStatus:e=>e.sendingStatus,transcriptStore:e=>e.transcriptStore,leadsOrContacts:e=>e.leadsOrContacts,unreadCount:e=>e.unreadCount},mutations:pe,actions:{initAgentStatuses:(e,t)=>{let{commit:s}=e;s("INIT_AGENT_STATUSES",t)},initLiveChat:async e=>{let{commit:t,rootState:s,state:i}=e;t("UPDATE_SENDING_STATUS",{type:"clear"}),t("RESET_LIVE_CHAT_DATA");let a=async(e,n,o)=>{try{const r=await ee.h(e,n,o);if(r.ok){const n=JSON.parse(k.a.unescape(r.data));let c=[];c=F()(c).call(c,n.records);for(let e of c){var l;let a=K()(l=s.chatsettings.autoChatsSettings).call(l,t=>t.WeChatAccountId===e.WeChatAccount.Id)||{};i.agentInfo[e.Agent.Id]||t("SET_AGENT_INFO",e),"In Progress"===e.Status||i.chattingThreads.length<s.chatsettings.chatsLimit&&a.IsAutoAcceptChat&&s.user.userStatus.IsAcceptsChats?("In Progress"!==e.Status&&g.h.acceptChat(e.Id),t("SET_TO_THREADS",{thread:e,isChatting:!0})):t("SET_TO_THREADS",{thread:e,isChatting:!1})}return n.done||c.length<o?[]:a(e,n.cursor,o)}Object(L.f)(r)}catch(e){Object(L.f)(e)}};return b.a.all([a("chatting","",200),a("waiting","",200)])},loadMessage:async(e,t)=>{let{commit:s}=e,{followerId:i,transcriptId:a,cursor:n}=t;try{const e=await ee.i(a,n,20);if(e.ok){const t=JSON.parse(k.a.unescape(e.data));t.records&&s("LOAD_MESSAGE",{followerId:i,result:t,transcriptId:a})}else Object(L.f)(e)}catch(e){Object(L.f)(e)}},setAgentStatus:async e=>{let{commit:t,dispatch:s}=e,i={};try{let e=await ee.k();e.ok?i=JSON.parse(k.a.unescape(e.data))||{}:(i={},Object(L.f)(e)),s("user/switchUserStatus",i,{root:!0})}catch(e){Object(L.f)(e),s("user/switchUserStatus",i,{root:!0})}},clearUnreadCount:async(e,t)=>{let{commit:s,dispatch:i,state:a,rootState:n}=e,{threadId:o,followerId:l,isConsoleEmitter:r=!1}=t;const c=function(e){var t,s;let{state:i,threadId:a,followerId:n}=e;const o=K()(t=i.chattingThreads).call(t,e=>e.Id===a||e.Follower.Id===n);if(o)return o;const l=K()(s=i.waitingThreads).call(s,e=>e.Id===a||e.Follower.Id===n);if(l)return l;return i.currentThread}({state:a,threadId:o,followerId:l});if(!c)return;const d=n.sidebar.wechatAccounts[c.WeChatAccount.Id].LiveChatEnabled;if(r&&d&&(E.a.fireEvent("clear-unread-count",a.currentThread.Id),s("CLEAR_CURRENT_THREAD_UNREAD_COUNT")),c&&c.UnreadCount>0){let e=null;c.IsDisabled||(e=await ee.l(c.Id)),(e&&e.ok||c.IsDisabled)&&(s("CLEAR_UNREAD_COUNT",c.Id),i("setUnreadCount",c.Id))}},addMessage:(e,t)=>{let{commit:s}=e,{msg:i,agentId:a,threadId:n}=t;s("ADD_MESSAGE",{msg:i,senderId:a,threadId:n})},sendMessage:async(e,t)=>{var s;let{commit:i,state:a,dispatch:n}=e,{msg:o,transcriptId:l,useMassSend:r=!1,forceSend:c=!1}=t;const d=se.a.isInClassicConsole||se.a.isInLightningConsole?a.currentThread:K()(s=a.chattingThreads).call(s,e=>e.Id===l);if(!d)return;let h=ce.a.getCurrentTime();o.CreatedTime=h,"Mini Program Page"===o.type&&(o.wechatAttachment={miniProgramAppId:o.miniProgramAppId,pagePath:o.pagePath,title:o.title,thumbnailId:o.thumbnailId,url:o.url,type:o.type}),o.logoUrl&&!o.url&&(o.url=o.logoUrl),o.agentInfo=a.agentInfo[d.Agent.Id],n("addMessage",{msg:o,agentId:d.Agent.Id,threadId:l}),(se.a.isInClassicConsole||se.a.isInLightningConsole)&&E.a.fireEvent("send-agent-message",{msg:o,agentId:d.Agent.Id,threadId:l});const u=d.Follower.Id||"";try{if("Notification Template"===o.type){const e={Id:o.id,ContentMapping:o.contentMapping};o.NotificationURL&&(e.NotificationURL=o.notificationURL),(o.MiniProgramPage||o.MiniProgramPageId)&&(e.MiniProgramPageId=o.miniProgramPageId||o.miniProgramPage.id),await g.h.sendNotificationTemplateMessage({msg:V()(e),followerId:u,forceSend:c})}else{var p,m;const e=o.id||"";i("UPDATE_SENDING_STATUS",{followerId:u,type:"increaseCount"});const t=o.MsgId||F()(p="".concat(l)).call(p,h),s={TranscriptId:l,FollowerId:u,ReferenceId:e,MsgContent:o.content?o.content:"",IsMass:r,CreatedTime:h,MsgId:t,forceSend:c};o.MsgId?await g.h.resendMessage(s):await g.h.sendMessage(s),i("UPDATE_SENDING_STATUS",{followerId:u,type:"decreaseCount"});const n=Q()(m=a.messageListObj[u].Messages).call(m,e=>e.WeChatCreatedTime===h);-1!==n&&(i("UPDATE_MESSAGE_STATUS",{followerId:u,index:n,status:!0}),i("UNMARK_SPECIAL_MESSAGE_ERROR",{followerId:u,index:n}))}}catch(e){i("UPDATE_SENDING_STATUS",{followerId:u,type:"decreaseCount"}),i("UPDATE_SENDING_STATUS",{followerId:u,type:"increaseErrorCount"});let t=null;e.data?(t=e.data,t.createdTime=h):t={message:e.message,createdTime:h},i("ADD_MESSAGE_ERROR",{error:t,followerId:u})}},receiveMessage:async(e,t)=>{let{commit:s,state:i,dispatch:a}=e,{transcriptItem:n,isInConsoleMessage:o}=t;const l=n.WeChatFollowerId__c;if(s("REMOVE_FROM_HISTORY",l),i.hasLoadedData||o){if("Close"!==n.Type__c&&("Follower"===n.SendBy__c&&(s("UPDATE_FOLLOWER_ACTIVITY_TIME",{followerId:l,time:(new Date).getTime()}),"Subscribe"!==n.Type__c&&"Unsubscribe"!==n.Type__c||s("UPDATE_FOLLOWER_ISFOLLOWING",n)),n.HasMore__c&&a("getChatItem",{itemId:n.Id,followerId:l}),a("_setAgentInfo",n),a("setThreadFromStreaming",{transcriptItem:n}),s("UPDATE_FOLLOWER_ACTIVE_TIME",n),!o))if(i.briefFollowersInfo[l]){s("SET_THREAD_FOLLOWER_INFO",{followerId:l,followerName:i.briefFollowersInfo[l].Name,followerPhotoUrl:i.briefFollowersInfo[l].PhotoUrl,wechatAccountName:i.briefFollowersInfo[l].WeChatAccount.Name,wechatAccountId:i.briefFollowersInfo[l].WeChatAccount.Id,wechatAccountType:i.briefFollowersInfo[l].WeChatAccount.Type})}else a("getBriefFollowerInfo",{transcriptId:n.WeChatTranscript__c,followerId:l})}else s("STORE_TRANSCRIPT_ITEM",{transcriptItem:n})},acceptChat:async(e,t)=>{let{commit:s}=e;await g.h.acceptChat(t),"consoleThread"===E.a.componentName?E.a.fireEvent("accept-chat-from-thread",t):"consoleMessage"===E.a.componentName&&(E.a.fireEvent("accept-chat-from-message",t),E.a.fireEvent("reload-livechat")),s("CONNECT_WAITING_CHAT",t)},storeFollower:(e,t)=>{let{commit:s}=e;s("STORE_FOLLOWER",t)},updateQuickReplies:(e,t)=>{let{commit:s}=e;s("UPDATE_QUICK_REPLIES",t)},closeSpecialChat:(e,t)=>{var s,i;let{commit:a,state:n,rootState:o,dispatch:l}=e;const r=K()(s=n.chattingThreads).call(s,e=>e.Id===t)||K()(i=n.waitingThreads).call(i,e=>e.Id===t);if(r){const e=r.Follower.Id;n.sendingStatus[e]&&0===n.sendingStatus[e].count&&n.sendingStatus[e].errorCount>0&&a("UPDATE_SENDING_STATUS",{followerId:e,type:"remove"}),a(h,n.unreadCount-r.UnreadCount)}a("COMPLETE_CHAT",{threadId:t}),fe({commit:a,rootState:o,state:n,dispatch:l})},getHistoryChat:async function(e){let{commit:t,state:s}=e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i||t("CLEAR_HISTORY_THREADS");const a=await ee.h("history",s.historyThreads.length>0?s.historyThreads.length:"",20),n=JSON.parse(k.a.unescape(a.data)),o=n.records;return o.length>0&&t("ADD_TO_HISTORY_THREAD",o),!n.done},updateFollowerTags:(e,t)=>{let{commit:s}=e,{followerId:i,followerTags:a}=t;s("UPDATE_FOLLOWER_TAGS",{followerId:i,followerTags:a})},updateAgentStatus:async(e,t)=>{let{commit:s,rootState:i,dispatch:a}=e,{status:n}=t,o=await ee.s(n.Id);o.ok?(a("user/switchUserStatus",n,{root:!0}),fe({state:ue,rootState:i,commit:s,dispatch:a})):Object(L.f)(o)},getTranscript:async(e,t)=>{let{commit:s}=e;s("SET_TO_THREADS",{thread:await g.h.getThread(t),isChatting:!0})},setCurrentThread:(e,t)=>{let{commit:s}=e;s("SET_CURRENT_THREAD",{thread:t})},getCurrentUserAgents:async e=>{let{commit:t,rootState:s}=e;const i=[];E.a.isOmniChannelAdapterExisting?i.push(...H()(s.sidebar.wechatAccounts)):i.push(...function(e){var t;return O()(t=H()(e)).call(t,t=>e[t].LiveChatEnabled)}(s.sidebar.wechatAccounts));const a=await g.a.getCurrentUserAgents(i);for(const e of a){t("SET_AGENT_INFO",{Agent:{Id:e.Id,Name:e.Name,PhotoUrl:e.ProfilePhotoUrl}})}},uploadFileToSend:async function(e,t){let{commit:s,dispatch:i,state:a}=e,{msg:n,followerId:o,transcriptId:l,send:r}=t;return new b.a((function(e,t){const r=async(e,t,n,o,l,r)=>{const h=l.file;if(e.ok)if(o){const n=await ee.t(h.thread.WeChatAccount.Id,e.data,t);if(n.ok){let s=JSON.parse(k.a.unescape(n.data));const a={id:s.AttachmentId,messageId:s.AttachmentId,name:h.name,type:t,url:"/servlet/servlet.FileDownload?file=".concat(s.AttachmentId),description:h.description};h.stop?me(e.data):i("sendMessage",{msg:a,transcriptId:l.transcriptId})}else me(e.data),Object(L.f)(n);if(s(u,a.uploadingFilesNum-1),s(p,{action:"delete",fileInfo:l}),a.uploadingFiles.length>a.uploadingFilesNum){s(u,a.uploadingFilesNum+1);const e=a.uploadingFiles[a.uploadingFilesNum-1];d(e)}}else s(p,{action:"updatePositionIndex",fileInfo:l}),c(n,t,e.data,l);else Object(L.f)(e)},c=async(e,t,i,n)=>{const o=n.file;if(o.stop){if(me(i),s(u,a.uploadingFilesNum-1),a.uploadingFiles.length>a.uploadingFilesNum){s(u,a.uploadingFilesNum+1);const e=a.uploadingFiles[a.uploadingFilesNum-1];d(e)}}else{s(p,{action:"uploading",fileInfo:n}),i=i||"";let a="",l=!1;if(o.body.length<=o.positionIndex+de?(a=o.body.substring(o.positionIndex),l=!0):a=o.body.substring(o.positionIndex,o.positionIndex+de),"Video"!==t)try{const s=await e(n.transcriptId,o.name,a,o.type,i);s.ok?r(s,t,e,l,n):(me(i),Object(L.f)(s))}catch(e){me(i),Object(L.f)(e)}else try{const s=await e(n.transcriptId,o.name,o.description,a,o.type,i);s.ok?r(s,t,e,l,n):(me(i),Object(L.f)(s))}catch(e){me(i),Object(L.f)(e)}}},d=e=>{const t=(e=>z()(e).call(e,"image")>-1?"IMAGES":z()(e).call(e,"video")>-1?"VIDEOS":z()(e).call(e,"audio")>-1?"VOICE CLIPS":void 0)(e.file.type);"IMAGES"===t?c(ee.n,"Image","",e):"VIDEOS"===t?c(ee.o,"Video","",e):"VOICE CLIPS"===t&&c(ee.p,"Voice","",e)};s(p,{fileInfo:{file:n,followerId:o,transcriptId:l}}),a.uploadingFilesNum<he&&(s(u,a.uploadingFilesNum+1),d({file:n,followerId:o,transcriptId:l}))}))},getNewThreadFollowerLastActiveTime:async(e,t)=>{let{commit:s}=e,{followerId:i}=t;try{s("SET_THREAD_FOLLOWER_LAST_ACTIVE_TIME",{time:(await g.h.getThread(i)).Follower.LastActiveTime,followerId:i})}catch(e){s("SET_THREAD_FOLLOWER_LAST_ACTIVE_TIME",{time:-1,followerId:i}),Object(L.f)(e)}},getBriefFollowerInfo:async(e,t)=>{let{commit:s}=e,{followerId:i}=t;try{const e=await g.f.getFollowerDetail(i);s("SET_THREAD_FOLLOWER_INFO",{followerId:i,followerName:e.DisplayName,followerPhotoUrl:e.PhotoUrl,wechatAccountId:e.WeChatAccount.Id,wechatAccountName:e.WeChatAccount.Name,wechatAccountType:e.WeChatAccount.Type})}catch(e){s("SET_THREAD_FOLLOWER_INFO",{followerId:i,followerName:"",followerPhotoUrl:""}),Object(L.f)(e)}},setUnreadCount:function(e,t){let{commit:s,state:i}=e,a=function(e,t){let s=0;for(let i of e.chattingThreads)i.Id!==t&&(s+=i.UnreadCount);for(let t of e.waitingThreads)s+=t.UnreadCount;return s}(i,t);s(h,a)},_setAgentInfo:(e,t)=>{let{state:s,commit:i}=e;if(("Agent"===t.SendBy__c||"Supervisor"===t.SendBy__c)&&!s.agentInfo[t.SenderId__c]){i("SET_AGENT_INFO",{Agent:{Id:t.SenderId__c,Name:t.SenderName__c,PhotoUrl:t.SenderPhotoUrl__c}})}},setThreadFromStreaming:(e,t)=>{let{commit:s,rootState:i,state:a,dispatch:n}=e,{transcriptItem:o}=t;const l=o.WeChatFollowerId__c,r=o.WeChatTranscript__c,c=i.chatsettings.chatsLimit,d=a.chattingThreads,u=a.waitingThreads;let p=function(e){const t=e.ShortBody__c;t&&t.IsKeyword&&"Text"===e.Type__c&&(t.Content="[Keyword] "+t.Content);let s={MsgId:e.MsgId__c,SenderId:e.SenderId__c,SenderName:e.SenderName__c,SenderPhotoUrl:e.SenderPhotoUrl__c,CreatedDate:e.WeChatCreatedTime__c,Type:e.Type__c,BotType:e.BotType__c,Error:null,Title:t?t.Title:"",Description:t?t.Description:"",HasMore:e.HasMore__c,IsKeyword:!(!t||!t.IsKeyword),ResponseId:e.WeChatResponseIds__c,Content:t,Id:e.Id,Latitude:t?t.Latitude:"",Longitude:t?t.Longitude:"",Recognition:"Voice"===e.Type__c?t.Recognition:"",SendBy:e.SendBy__c,FollowerId:e.WeChatFollowerId__c};return te(s)}(o);const m=K()(u).call(u,e=>e.Follower.Id===l)||K()(d).call(d,e=>e.Follower.Id===l);if(!m||m.IsDisabled||m.Id!==r){var f;m&&(s(h,a.unreadCount-m.UnreadCount),s("COMPLETE_CHAT",{threadId:m.Id}));const e=((e,t)=>{const s=t.WeChatFollowerId__c;return{Id:t.WeChatTranscript__c,UnreadCount:0,Status:"In Progress"===t.TranscriptStatus__c?"In Progress":"Waiting",RequestTime:t.TranscriptRequestTime__c,Follower:{Name:"Follower"===t.SendBy__c?t.SenderName__c:-1,PhotoUrl:"Follower"===t.SendBy__c?t.SenderPhotoUrl__c:-1,Id:s,LastActiveTime:-1},WeChatAccount:{Id:t.WeChatAccountId__c},Agent:{Id:t.AgentId__c,Name:e.agentInfo[t.AgentId__c]?e.agentInfo[t.AgentId__c].Name:"",PhotoUrl:e.agentInfo[t.AgentId__c]?e.agentInfo[t.AgentId__c].PhotoUrl:""},LastItem:ge(t)}})(a,o);-1===e.Follower.LastActiveTime&&n("getNewThreadFollowerLastActiveTime",{followerId:e.Follower.Id});let t=K()(f=i.chatsettings.autoChatsSettings).call(f,e=>e.WeChatAccountId===o.WeChatAccountId__c)||{},l=null;if(l="consoleMessage"===E.a.componentName?"In Progress"===o.TranscriptStatus__c?"chatting":"waiting":"In Progress"===o.TranscriptStatus__c||d.length<c&&t.IsAutoAcceptChat?"chatting":"waiting",s("ADD_TO_THREADS",{message:p,transcriptItem:o,thread:e,type:l}),"chatting"===l){if("consoleThread"===E.a.componentName&&E.a.fireEvent("accept-chat-from-thread",e.Id),"consoleMessage"===E.a.componentName)return;g.h.acceptChat(r)}}else{const e=m&&"In Progress"===m.Status?"chatting":"waiting";s("ADD_TO_THREADS",{message:p,transcriptItem:o,type:e})}},storeLeadOrContact:(e,t)=>{let{commit:s}=e,{id:i,object:a}=t;s("STORE_LEAD_OR_CONTACT",{id:i,object:a})},removeFollower:(e,t)=>{let{commit:s}=e;s("REMOVE_FOLLOWER",t)},removeFollowerRelated:(e,t)=>{let{commit:s}=e;s("REMOVE_FOLLOWER_RELATED",t)},getChatItem:async(e,t)=>{let{commit:s,state:i}=e,{itemId:a,followerId:n}=t,o={};try{var l,r;o=await g.h.getChatItem(a),o.HasMore=!1,o.GetMoreError=!1;const e=K()(l=i.chattingThreads).call(l,e=>e.Follower.Id===n)||K()(r=i.waitingThreads).call(r,e=>e.Follower.Id===n);if(e&&e.LastItem&&a===e.LastItem.Id){const t=JSON.parse(V()(e.LastItem));t.Body=o.Body,t.HasMore=o.HasMore,s("SET_THREAD_LAST_ITEM",{id:e.Id,item:t})}}catch(e){o.GetMoreError=!0,Object(L.f)(e)}s("SET_MESSAGE_DATA",{followerId:n,itemId:a,data:o})},getUnreadMessageCount:async e=>{let{commit:t}=e;const s=await g.h.getUnreadMessageCount();t(h,s.unreadCount)},getFollowerDetail:async(e,t)=>{let{commit:s,dispatch:i}=e,{followerId:a}=t;const n=await g.f.getFollowerDetail(a);return i("updateRelatedFollower",n),n},updateRelatedFollower:(e,t)=>{let{commit:s,dispatch:i}=e;const a={followerId:t.Id,followerName:t.DisplayName,followerPhotoUrl:t.PhotoUrl,wechatAccountName:t.WeChatAccount.Name,wechatAccountId:t.WeChatAccount.Id,wechatAccountType:t.WeChatAccount.Type};s("SET_THREAD_FOLLOWER_INFO",a),i("storeFollower",t),(se.a.isInClassicConsole||se.a.isInLightningConsole)&&E.a.fireEvent("set-thread-follower",a)}}},_e=s("4LGG"),Ce=s.n(_e),be=s("cybb");function we(e,t,s){let i=Object(be.b)(new Date,e),a=3600*i.getHours()+60*i.getMinutes()+i.getSeconds(),n=ye(t),o=ye(s);return n<o?a>n&&a<o:n>o&&(a>n||a<o)}function ye(e){var t;let[s,i]=Ce()(t=e.split(":")).call(t,e=>_()(e));return 3600*(s+i/60)}let Te={};const Le={recordTypes:[],layouts:[]},Ie=async(e,t)=>{var s;let{commit:i}=e,{layoutUrl:n}=t;if(!K()(s=Le.layouts).call(s,e=>e.url===n))try{const e=await a.default.http.get(n);if(e&&e.body&&e.body.editLayoutSections){for(let t of e.body.editLayoutSections)for(let e of t.layoutRows)for(let t of e.layoutItems){t.layoutComponents&&t.layoutComponents.length>0&&(t.layoutComponents[0].details||(t.editableForNew=!1,t.layoutComponents[0].details={type:"string"}));const e=t.layoutComponents&&t.layoutComponents.length>0?t.layoutComponents[0].details:{};if("reference"===e.type&&"OwnerId"!==e.name){var o;if(e.referenceTo.length<=0)return void a.default.set(t,"metadata",[]);let s=[...e.referenceTo];s=ke(s),s.length>0&&await Se(s);const i=[];d()(o=e.referenceTo).call(o,e=>{i.push(Te[e])}),a.default.set(t,"metadata",Ae(i))}}i("ADD_CASE_LAYOUT",{typeUrl:n,response:e})}}catch(e){}},ke=e=>O()(e).call(e,e=>!Te[e]),Se=async e=>{const t=await b.a.all(Ce()(e).call(e,e=>a.default.http.get("/services/data/v50.0/sobjects/".concat(e,"/describe"))));d()(t).call(t,e=>{Te[e.data.name]=JSON.parse(V()(e.data))})},Me=e=>{const t={EmailMessage:"email",LiveChatTranscript:"live-chat",SOSSession:"sossession"},s=l()(e).call(e,"__c")?"default":e.toLowerCase();return"Lead"===e?{fields:[{name:"Name",label:" Name"},{name:"Company",label:"Company"},{name:"Phone",label:"Phone"},{name:"Email",label:"Email"}],icon:"lead"}:"Contact"===e?{fields:[{name:"Name",label:" Name"},{name:"Account.Name",label:"Account Name"},{name:"Phone",label:"Phone"},{name:"Email",label:"Email"}],icon:"contact"}:"Case"===e?{fields:[{name:"Name",label:" Name"}],icon:"caseIcon"}:{fields:[{name:"Name",label:" Name"}],icon:t[e]||s}},Ae=(e,t)=>{let s=[];return d()(e).call(e,e=>{s.push({apiName:t,name:e.name,label:e.label,labelPural:e.labelPlural,icon:Me(e.name).icon,linkField:{name:"Name",label:"".concat(e.label," Name")},fields:Me(e.name).fields,newObjectLink:"/".concat(e.keyPrefix,"/e")})}),s};var xe={followers:f,home:x,user:N,sidebar:P,livechat:ve,chatsettings:{namespaced:!0,state:{chatsLimit:"∞",autoChatsSettings:[],notificationSettings:{desktopNotificationsEnabled:!0,mobileNotificationsEnabled:!0,emailNotificationsEnabled:!0,soundNotificationsEnabled:!0,autoDisableNotifications:{value:!1,startTime:"21:00",endTime:"09:00"},isDisabledNotification:!1}},getters:{chatsLimit:e=>e.chatsLimit,autoChatsSettings:e=>e.autoChatsSettings,notificationSettings:e=>e.notificationSettings},mutations:{SET_CHAT_SETTINGS(e,t){e.chatsLimit=t.ChatLimit||"∞",e.autoChatsSettings=t.AutoChatsSettings||[]},SET_NOTIFICATION_SETTINGS(e,t){let{settings:s,timezoneSidKey:i}=t;if(!s)return;const a={desktopNotificationsEnabled:s.IsDesktopNotificationsEnabled,mobileNotificationsEnabled:s.IsMobileNotificationsEnabled,emailNotificationsEnabled:s.IsEmailNotificationsEnabled,soundNotificationsEnabled:s.IsSoundNotificationsEnabled,autoDisableNotifications:{value:s.IsDoNotDisturbEnabled,startTime:s.StartTime,endTime:s.EndTime},isDisabledNotification:!!s.IsDoNotDisturbEnabled&&we(i,s.StartTime,s.EndTime)};e.notificationSettings=a},SET_NOTIFICATION_ENABLED(e,t){const s=e.notificationSettings.autoDisableNotifications;if(s.value){const i=s.startTime,a=s.endTime;e.notificationSettings.isDisabledNotification=we(t,i,a)}else e.notificationSettings.isDisabledNotification=!1}},actions:{getLiveChatSettings:async e=>{let{commit:t}=e;t("SET_CHAT_SETTINGS",await g.h.getLiveChatSettings())},getAgentsNotificationsSettings:async e=>{let{commit:t,rootState:s}=e;t("SET_NOTIFICATION_SETTINGS",{settings:await g.h.getAgentsNotificationsSettings(),timezoneSidKey:s.user.currentUser.TimeZoneSidKey})},setNotificationsSettings:async(e,t)=>{let{commit:s,rootState:i}=e;await g.h.setNotificationsSettings(t),s("SET_NOTIFICATION_SETTINGS",{settings:t,timezoneSidKey:i.user.currentUser.TimeZoneSidKey})},checkNotificationEnabled:e=>{let{commit:t,rootState:s}=e;t("SET_NOTIFICATION_ENABLED",s.user.currentUser.TimeZoneSidKey)}}},tag:{namespaced:!0,state:{tagList:{},enabledTypes:[]},getters:{tagList:e=>e.tagList,enabledTypes:e=>e.enabledTypes},mutations:{GET_TAG_LIST(e,t){e.tagList={};for(let s of t)a.default.set(e.tagList,s.Id,s)},UPDATE_TAG_LIST(e,t){a.default.set(e.tagList,t.Id,t)},DELETE_TAG(e,t){a.default.delete(e.tagList,t)},SET_TAG_TYPES(e,t){e.enabledTypes=t}},actions:{async getWeChatTags(e,t){let{commit:s}=e;s("GET_TAG_LIST",await g.s.getWeChatTags(t))},updateTagList(e,t){let{commit:s}=e;s("UPDATE_TAG_LIST",t)},deleteTag(e,t){let{commit:s}=e;s("DELETE_TAG",t)},async getTagTypes(e){let{commit:t}=e;t("SET_TAG_TYPES",await g.s.getTagTypes())}}},account:{namespaced:!0,state:{notificationTemplate:!1,qrCode:!1,massSend:!1,urlShortener:!1},getters:{notificationTemplate:e=>e.notificationTemplate,qrCode:e=>e.qrCode,massSend:e=>e.massSend,urlShortener:e=>e.urlShortener},mutations:{UPDATE_ACCOUNT_PERMISSIONS(e,t){e.notificationTemplate=e.qrCode=e.massSend=e.urlShortener="Service Account"===t}}},caseLayout:{namespaced:!0,state:Le,getters:{recordTypes:e=>e.recordTypes,layouts:e=>e.layouts},mutations:{GET_RECORD_TYPES(e,t){var s;if(t.body.recordTypeMappings=O()(s=t.body.recordTypeMappings).call(s,e=>!!e.available),t.body.recordTypeMappings.length<=1)for(const s of t.body.recordTypeMappings)e.recordTypes.push({master:s.master,name:s.name,value:s.urls.layout,available:s.available,defaultType:s.defaultRecordTypeMapping});else for(const s of t.body.recordTypeMappings)s.master||e.recordTypes.push({master:s.master,name:s.name,value:s.urls.layout,available:s.available,defaultType:s.defaultRecordTypeMapping})},ADD_CASE_LAYOUT(e,t){let{typeUrl:s,response:i}=t,a={},n=[];for(let e of i.body.editLayoutSections)for(let t of e.layoutRows)for(let e of t.layoutItems){const t=e.layoutComponents.length>0?e.layoutComponents[0].details:{};t.dependenceNames=[],t.controllerName&&(a[t.controllerName]?a[t.controllerName].dependenceNames.push(t.name):n.push(t)),a[t.name]=t}for(const e of n)a[e.controllerName]&&a[e.controllerName].dependenceNames.push(e.name);e.layouts.push({url:s,layout:i.body.editLayoutSections,field:a})}},actions:{fetchRcordTypes:async e=>{let{commit:t}=e;try{const e=await a.default.http.get("/services/data/v39.0/sobjects/Case/describe/layouts");t("GET_RECORD_TYPES",e);let s="";for(const t of e.body.recordTypeMappings)if("Master"===t.name){s=t.urls.layout;break}try{Ie({commit:t},{layoutUrl:s})}catch(e){}}catch(e){}},fetchCaseLayout:Ie}},wechatCampaign:{namespaced:!0,state:{campaign:{id:"",flowId:"",name:"",account:{},tags:[],isOverwriteFollowerTag:!1,type:""},registerStepId:"",checkInStepId:"",form:{Id:"",Name:"",Title:"",Banner:"",MasterObject:"",URL:"",RecordType:"",Note:"",Link:""},luckyDrawStepId:"",campaignFlowSteps:[]},getters:{campaign:e=>e.campaign,registerStepId:e=>e.registerStepId,checkInStepId:e=>e.checkInStepId,form:e=>e.form,luckyDrawStepId:e=>e.luckyDrawStepId,campaignFlowSteps:e=>e.campaignFlowSteps},mutations:{SAVE_CAMPAIGN(e,t){e.campaign=t},SAVE_REGISTER_STEP_ID(e,t){e.registerStepId=t},SAVE_CHECK_IN_STEP_ID(e,t){e.checkInStepId=t},SAVE_FORM(e,t){e.form=t},SAVE_LUCKY_DRAW_STEP_ID(e,t){e.luckyDrawStepId=t,e.luckyDrawStepId},UPDATE_CAMPAIGN_NAME(e,t){e.campaign.name=t},SAVE_CAMPAIGN_FLOW_STEPS(e,t){e.campaignFlowSteps=t}},actions:{storeCampaign(e,t){let{commit:s}=e;s("SAVE_CAMPAIGN",t)},storeRegisterStepId(e,t){let{commit:s}=e;s("SAVE_REGISTER_STEP_ID",t)},storeCheckInStepId(e,t){let{commit:s}=e;s("SAVE_CHECK_IN_STEP_ID",t)},storeForm(e,t){let{commit:s}=e;s("SAVE_FORM",t)},storeLuckyDrawStepId(e,t){let{commit:s}=e;s("SAVE_LUCKY_DRAW_STEP_ID",t)},updateCampaignName(e,t){let{commit:s}=e;s("UPDATE_CAMPAIGN_NAME",t)},storeFlowSteps(e,t){let{commit:s}=e;s("SAVE_CAMPAIGN_FLOW_STEPS",t)}}},skill:{namespaced:!0,state:{knowledgeSources:[]},mutations:{GET_KNOWLEDGE_SOURCES(e,t){e.knowledgeSources=t}},actions:{async getKnowdledgeSources(e){let{commit:t}=e,{KnowledgeSource:s}=await g.r.getAllPickListValues();s=Ce()(s).call(s,e=>({label:e.Name,value:e.Value})),t("GET_KNOWLEDGE_SOURCES",s)}}},charketApp:{namespaced:!0,state:{isPardotEnabled:!1,isCustomDomainEnabled:!1,isCharketSmsEnabled:!1,chatFormatTimeZone:{}},getters:{isPardotEnabled:e=>e.isPardotEnabled,isCustomDomainEnabled:e=>e.isCustomDomainEnabled,isCharketSmsEnabled:e=>e.isCharketSmsEnabled,chatFormatTimeZone:e=>e.chatFormatTimeZone},mutations:{IS_PARDOT_ENABLED(e,t){e.isPardotEnabled=t},IS_CUSTOM_DOMAIN_ENABLED(e,t){e.isCustomDomainEnabled=t},IS_CHARKET_SMS_ENABLED(e,t){e.isCharketSmsEnabled=t},CHAT_FORMAT_TIME_ZONE(e,t){e.chatFormatTimeZone=t}},actions:{async getCharketSettings(e){let{commit:t}=e;const{isPardotEnabled:s,isCustomDomainEnabled:i,isCharketSmsEnabled:a,chatFormatTimeZone:n}=await g.d.getCharketSettings();t("IS_PARDOT_ENABLED",s),t("IS_CUSTOM_DOMAIN_ENABLED",i),t("IS_CHARKET_SMS_ENABLED",a),t("CHAT_FORMAT_TIME_ZONE",n)}}}};function Ne(e){var t="Undefined"===e.livechat.waitingThreads?0:H()(e.livechat.waitingThreads).length;return t>1?t+" requests in the queue":t+" request in the queue"}function Ee(e){return e.livechat.isWaitingTab?e.livechat.waitingThreads.length:e.livechat.isHistoryTab?e.livechat.historyThreads.length:e.livechat.chattingThreads.length}s("sFTC");a.default.use(r.a);var De=new r.a.Store({modules:xe,getters:i,plugins:[],strict:!1}),Pe=s("autp"),Re=s.n(Pe),Oe=s("vQrK"),Be=s.n(Oe),$e=s("20nU"),Fe={computed:Be()({},Object(r.c)({accountList:"sidebar/wechatAccounts",unreadCount:"livechat/unreadCount"}),Object(r.e)({showLiveChat:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.LiveChat,showLiveChatMonitor:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.LiveChatMonitor,showForms:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Forms,showBadgeTemplates:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.NameBadgeTemplates,showWechatCampaign:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.WeChatCampaigns,showSurveys:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Surveys,showSkills:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Skills}),{linkWeChatAccountUrl(){const e=$e.a.sfdc_namespace?"".concat($e.a.sfdc_namespace,"__"):"";return window.ForceUI.isLightningExperience()?"/lightning/n/".concat(e,"CharketSettings#/charket-settings-home?link-account=true"):"/apex/".concat(e,"CharketSettings#/charket-settings-home?link-account=true")}}),props:{showAccount:{type:Boolean,default:!1}},data(){return{noAccountsImage:s("DUKU"),addNewImage:s("wYeh"),pageMinHeight:"0px",entranceList:[{entranceLabel:this.$t("campaignEntranceLabel"),entranceName:"WeChat Campaigns",entranceIcon:"wechatCampaign",entranceType:"wechat-campaign",entranceIconColor:"#7C88E7"},{entranceLabel:this.$t("liveChatEntranceLabel"),entranceName:"Live Chat",entranceIcon:"liveChatIcon",entranceType:"chat",entranceIconColor:"#43CF77"},{entranceLabel:this.$t("monitorEntranceLabel"),entranceName:"Live Chat Monitor",entranceIcon:"liveChatMonitor",entranceType:"liveChatMonitor",entranceIconColor:"#FB8A5D"},{entranceLabel:this.$t("formEntranceLabel"),entranceName:"Forms",entranceIcon:"forms",entranceType:"forms",entranceIconColor:"#B97ED6"},{entranceLabel:this.$t("surveyEntranceLabel"),entranceName:"Survey",entranceIcon:"survey",entranceType:"survey",entranceIconColor:"#7393E4"},{entranceLabel:this.$t("skillsEntranceLabel"),entranceName:"Skills",entranceIcon:"skillNav",entranceType:"skills",entranceIconColor:"#3DC7DA"},{entranceLabel:this.$t("badgeEntranceLabel"),entranceName:"Name Badge Templates",entranceIcon:"nameBadgeTemplates",entranceType:"badges",entranceIconColor:"#FFC353"}]}},async created(){se.a.isInClassicConsole&&se.a.console.closeTab(E.a.tabId);const e=t=>{this.$el&&!this.$el.contains(t.target)&&(this.$emit("close-account"),window.removeEventListener("click",e))};Re()(()=>{window.addEventListener("click",e)},100)},mounted(){this.$nextTick((function(){window.addEventListener("resize",this.windowResizeListener)})),this.windowResizeListener(),window.dispatchEvent(new CustomEvent("app-rendered"))},beforeDestroy(){window.removeEventListener("resize",this.windowResizeListener)},methods:Be()({},Object(r.b)("sidebar",["switchAccount"]),{windowResizeListener(){const e=document.getElementsByClassName("account-page")[0],t=document.getElementsByClassName("menu-wrapper")[0];e.clientHeight-t.clientHeight<=80?this.pageMinHeight=t.clientHeight+"px":this.pageMinHeight="0px"},chooseAccount(e){const t=e.Id;this.$emit("close-account"),t!==this.$wechatAccount.id&&(this.$router.push({name:"home",params:{accountId:t}}),this.switchAccount({wechatAccountId:t}))},chooseEntrance(e){var t;this.$emit("close-account"),"chat"===e&&l()(t=["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower","console-thread"]).call(t,this.$route.name)||(this.$router.push({name:e}),this.emitEntranceClicked(e))},emitEntranceClicked(e){this.$root.$emit({"wechat-campaign":"campaign-entrance-clicked",forms:"forms-entrance-clicked"}[e])},checkPagePermission(e){return"Live Chat"===e?this.showLiveChat:"Live Chat Monitor"===e?this.showLiveChatMonitor:"Forms"===e?this.showForms:"Name Badge Templates"===e?this.showBadgeTemplates:"WeChat Campaigns"===e?this.showWechatCampaign:"Survey"===e?this.showSurveys:"Skills"===e?this.showSkills:void 0}})},Ue=(s("O8rG"),s("hOrY"),s("KHd+")),Ve=s("c5Uu"),je=Object(Ue.a)(Fe,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"account-page",class:{"slds-box wechat-container":e.showAccount},style:{"min-height":e.pageMinHeight}},[s("div",{staticClass:"menu-wrapper",class:{"menu-wrapper-main":!e.showAccount}},[s("div",{staticClass:"slds-border_bottom shortcut-entrance-list"},[s("ul",{staticClass:"slds-grid slds-container slds-wrap wechat-account-ul shortcut-entrance-ul"},[e._l(e.entranceList,(function(t,i){return[e.checkPagePermission(t.entranceName)?s("li",{key:i},[s("div",{staticClass:"wechat-account-item slds-grid slds-grid_vertical slds-grid_vertical-align-center"},[s("a",{staticClass:"slds-box item-frame",style:{backgroundColor:t.entranceIconColor},on:{click:function(s){return e.chooseEntrance(t.entranceType)}}},[s("span",{staticClass:"slds-icon_container"},[s("icon",{attrs:{name:t.entranceIcon,width:e.showAccount?"36px":"50px",height:e.showAccount?"36px":"50px","class-name":"account-icon"}})],1)]),e._v(" "),s("div",{staticClass:"account-name",on:{click:function(s){return e.chooseEntrance(t.entranceType)}}},[e._v("\n                  "+e._s(t.entranceLabel)+"\n                ")])]),e._v(" "),e.unreadCount>0&&"chat"===t.entranceType?s("div",{staticClass:"chat-msg-num"},[e._v(e._s(e.unreadCount)),e.unreadCount>999?s("i",{staticClass:"show-plus-sign"},[e._v("+")]):e._e()]):e._e()]):e._e()]}))],2)]),e._v(" "),s("div",{staticClass:"wechat-accounts-list"},[s("ul",{staticClass:"slds-grid slds-container slds-wrap wechat-account-ul"},[e._l(e.accountList,(function(t){return s("li",{key:t.Id},[s("div",{staticClass:"wechat-account-item slds-grid slds-grid_vertical slds-grid_vertical-align-center"},[s("a",{staticClass:"slds-box item-frame",class:{"account-container":t.QRCodeImageId},on:{click:function(s){return e.chooseAccount(t)}}},[t.QRCodeImageId?s("img",{staticClass:"qr-code",attrs:{src:"/servlet/servlet.FileDownload?file="+t.QRCodeImageId}}):s("img",{staticClass:"no-qr-code",attrs:{src:e.noAccountsImage}})]),e._v(" "),s("div",{staticClass:"account-name"},[s("p",{staticClass:"account-name-link",on:{click:function(s){return e.chooseAccount(t)}}},[e._v(e._s(t.Name))])])])])})),e._v(" "),s("li",[s("div",{staticClass:"wechat-account-item slds-grid slds-grid_vertical slds-grid_vertical-align-center"},[s("a",{staticClass:"slds-box item-frame add-new-container",attrs:{href:e.linkWeChatAccountUrl,target:"_blank"}},[s("img",{attrs:{src:e.addNewImage,width:"30px",height:"30px"}})]),e._v(" "),s("div",[s("div",{staticClass:"account-name"},[s("p",{staticClass:"account-name-link",attrs:{href:e.linkWeChatAccountUrl,target:"_blank"}},[e._v(" "+e._s(e.$t("link"))+" ")])])])])])],2)])])])}),[],!1,null,"3ac72175",null);"function"==typeof Ve.default&&Object(Ve.default)(je);var ze=je.exports,We=s("pqUP"),He=s.n(We),Ge=s("iUF6"),Ze=s("Cb9X"),Xe=s("ag2C"),Qe=s("X4XD"),Ye=s("PXHh"),qe=s("4MOm");const Je=(e,t,s)=>s.Contact&&s.Contact.Id&&t.Contact.IsReadable?{recordId:s.Contact.Id,objectType:"Contact",followerId:e.Id}:s.Lead&&s.Lead.Id&&t.Lead.IsReadable?{recordId:s.Lead.Id,objectType:"Lead",followerId:e.Id}:{recordId:e.Id,objectType:qe.a.getQualifiedName("WeChatFollower__c"),followerId:e.Id};var Ke=s("x/ns");var et={mixins:[Ye.a],computed:Be()({},Object(r.c)({chattingThreads:"livechat/chattingThreads",waitingThreads:"livechat/waitingThreads",historyThreads:"livechat/historyThreads",offlineReplayId:"livechat/offlineReplayId",userStatus:"user/userStatus",unreadCount:"livechat/unreadCount",currentUser:"user/currentUser",livechatActive:"livechat/livechatActive"})),data:()=>({pageReferences:{},isReloadLiveChatTipVisible:!1}),components:{AgentSetting:Ge.a,ThreadList:Ze.a,ActiveLiveChatPopup:Xe.a,ReloadLiveChatTip:Qe.a,LdSpinner:Ke.LdSpinner},methods:{showReloadLiveChatTip(){this.isReloadLiveChatTipVisible=!0,E.a.fireEvent("reload-livechat-tip-appeared")},hiddenReloadLiveChatTip(){this.isReloadLiveChatTipVisible=!1},async selectThread(e){var t;const s=window.location.protocol+"//"+window.location.hostname;let i=null;se.a.isInLightningConsole&&await this.$try(async()=>{const t=await g.f.getFollowerRelatedData(e.Follower.Id);i=Je({Id:e.Follower.Id},this.currentUser.Permissions.Objects,t),this.pageReferences[e.Id]=i}),E.a.fireEvent("switch-primary-tab",e.Id),E.a.openTab({pageReference:i,url:F()(t="".concat(s,"/")).call(t,e.Id),tabLabel:"Chat with ".concat(e.Follower.Name),name:e.Id})},clearUnreadCount(e){this.$store.dispatch("livechat/clearUnreadCount",{threadId:e})},closeChat(e){this.$store.dispatch("livechat/closeSpecialChat",e)},sendAgentMessage(e){this.$store.dispatch("livechat/addMessage",e)},updateThreadFollower(e){this.$store.commit("livechat/SET_THREAD_FOLLOWER_INFO",e)},async setSessionIdToCookie(){const e=await Object(ee.e)();if(e.ok){const t=k.a.unescape(e.data);E.a.storeSessionId(t)}},acceptChatFromMessageHandler(e){var t;K()(t=this.waitingThreads).call(t,t=>t.Id===e)?this.$store.commit("livechat/CONNECT_WAITING_CHAT",e):this.$store.dispatch("livechat/getTranscript",e),this.$root.$emit("switch-chatting")}},async mounted(){se.a.isInLightningConsole&&this.setSessionIdToCookie(),this.updateTimeTimer=He()(()=>{this.$root.$emit("update-livechat-time")},3e4),this.$root.$on("open-primary-tab",e=>{this.selectThread(e)}),this.$root.$on("need-reload-live-chat",this.showReloadLiveChatTip)},beforeDestroy(){this.$root.$off("open-primary-tab")},async created(){se.a.isInLightningConsole&&E.a.hideLoadingSpinner(),this.$_mixinGetWeChatAgents(),E.a.addEventListener("clear-unread-count",this.clearUnreadCount),E.a.addEventListener("message-closed",this.closeChat),E.a.addEventListener("send-agent-message",this.sendAgentMessage),E.a.addEventListener("set-thread-follower",this.updateThreadFollower),E.a.addEventListener("create-thread",e=>{this.$store.dispatch("livechat/setCurrentThread",e),this.$store.commit("livechat/NEW_LIVE_CHAT",e),this.$root.$emit("switch-chatting")}),E.a.addEventListener("accept-chat-from-message",this.acceptChatFromMessageHandler),E.a.addEventListener("update-sending-status",e=>{this.$store.commit("livechat/UPDATE_SENDING_STATUS",e)}),E.a.addEventListener("reload-livechat-btn-clicked",async()=>{this.hiddenReloadLiveChatTip(),this.$root.$emit("reload-livechat"),this.$store.commit("livechat/SET_INIT_FLAG",!1),await this.$store.dispatch("livechat/initLiveChat"),this.$store.commit("livechat/SET_INIT_FLAG",!0)}),E.a.addEventListener("thread-last-item-updated",e=>{let{id:t,item:s}=e;this.$store.commit("livechat/SET_THREAD_LAST_ITEM",{id:t,item:s})})}},tt=(s("qQw5"),s("lJtq")),st=Object(Ue.a)(et,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"console-thread left thread-section"},[e.isReloadLiveChatTipVisible?s("reload-live-chat-tip",{on:{"click-reload":function(t){return e.hiddenReloadLiveChatTip()}}}):e._e(),e._v(" "),s("active-live-chat-popup",{attrs:{"livechat-active":e.livechatActive}}),e._v(" "),s("ld-spinner",{directives:[{name:"show",rawName:"v-show",value:!e.mixinIsWeChatAccountLoaded,expression:"!mixinIsWeChatAccountLoaded"}],staticClass:"loading-spinner",attrs:{container:"",color:"brand"}}),e._v(" "),e.mixinAgentNum>0?[s("agent-setting"),e._v(" "),s("thread-list",{on:{"select-thread":function(t){return e.selectThread(t)}}})]:e._e(),e._v(" "),0===e.mixinAgentNum?s("div",{staticClass:"no-agent-icon-div"},[s("div",{staticClass:"no-agent-div"},[s("icon",{attrs:{name:"noAgent","class-name":"no-agent-icon",width:"100px",height:"100px","charket-icon":""}}),e._v(" "),s("p",{staticClass:"no-agent-tip1"},[e._v(e._s(e.$t("noAgentAssigned")))]),e._v(" "),s("p",{staticClass:"no-agent-tip2"},[e._v(e._s(e.$t("askAdmin")))])],1)]):e._e(),e._v(" "),s("img",{staticClass:"charket-emotions",staticStyle:{display:"none"},attrs:{src:"#"}})],2)}),[],!1,null,"e5cb7f36",null);"function"==typeof tt.default&&Object(tt.default)(st);var it=st.exports,at=s("+dyS"),nt=s.n(at),ot=s("w2Vt"),lt=s("x9kv"),rt=s("zAy/");const ct={mixins:[Ye.a],name:"live-chat",mounted(){se.a.isInLightningConsole&&this.setSessionIdToCookie(),this.$root.$on("close-thread",e=>{this.$store.dispatch("livechat/closeSpecialChat",e)}),this.updateTimeTimer=He()(()=>{this.$root.$emit("update-livechat-time")},3e4)},components:{LoadingSpinner:ot.a,MessageSection:lt.a,FollowerAbout:rt.a,ReloadLiveChatTip:Qe.a},data:()=>({isLoadingPage:!0,showDropFilesTip:!1,hasFollower:!1,agents:null,followerId:null,isLightningChatBody:"consoleMessage"===E.a.componentName,isReloadLiveChatTipVisible:!1,isCurrentUserAgentsLoaded:!1}),watch:{"currentThread.UnreadCount":function(e,t){if(se.a.isInLightningConsole&&this.currentThread)if(e>0&&this.isCurrentAgent){var s;E.a.setTabHighlighted(!0);let t=e>99?"99+":e;E.a.setTabLabel(F()(s="(".concat(t,") ")).call(s,this.currentThread.Follower.Name))}else t&&(E.a.setTabHighlighted(!1),E.a.setTabLabel(this.currentThread.Follower.Name))}},computed:Be()({},Object(r.c)({currentThread:"livechat/currentThread",recordTypes:"caseLayout/recordTypes",currentUser:"user/currentUser",wechatAccounts:"sidebar/wechatAccounts"}),Object(r.e)({agentInfo:e=>e.livechat.agentInfo}),{currentThreadId(){return this.currentThread?this.currentThread.Id:null},isCurrentAgent(){var e;return!!(this.agents&&0!==this.agents.length&&this.currentThread&&this.currentThread.Agent)&&nt()(e=this.agents).call(e,e=>e.Id===this.currentThread.Agent.Id)},hasTranscript(){return!!this.currentThread},isNoRelatedMessageTipVisible(){return!(this.isLoadingPage||this.hasFollower&&this.hasTranscript)},isMessageSectionVisible(){return!this.isLoadingPage&&this.hasFollower&&this.hasTranscript}}),methods:{async fetchData(e){let t="";if(se.a.isInLightningConsole&&"transcript"!==E.a.sObjectName){try{t=await g.f.getFollowerDetail(e),this.hasFollower=!!t}catch(e){this.$handleError(e)}if(!this.hasFollower)return;this.$store.commit("livechat/STORE_FOLLOWER",t)}else this.hasFollower=!0;const s=t?t.Id:e;if(await this.getThread(s),this.currentThread){if("consoleMessage"===E.a.componentName){const e=t.WeChatAccount.Id;await b.a.all([this.getWeChatAccount(e),this.setCurrentUserAgents(e),this.getContact(t)])}else await this.setCurrentUserAgents(this.currentThread.WeChatAccount.Id);this.currentThreadId&&t&&this.$store.commit("livechat/SET_MESSAGE_FOLLOWER_INFO",t);try{await this.checkAgent()}catch(e){Object(L.f)(e)}se.a.isInLightningConsole||0===this.recordTypes.length&&this.currentUser.Permissions&&this.currentUser.Permissions.Objects.CaseObj.IsInsertable&&await this.$store.dispatch("caseLayout/fetchRcordTypes")}},onReloadBtnClick(){this.isReloadLiveChatTipVisible=!1,E.a.fireEvent("reload-livechat-btn-clicked")},async getThread(e){try{const t=await g.h.getThread(e);if(this.$store.dispatch("livechat/setCurrentThread",t),!t)return;this.$store.commit("livechat/NEW_LIVE_CHAT",t),t.Agent&&!this.agentInfo[t.Agent.Id]&&this.$store.commit("livechat/SET_AGENT_INFO",t)}catch(e){this.$handleError(e)}},checkAgent(){return new b.a(e=>{const t=()=>{let t=!1,s=!1;for(let e of this.agents)s=!0,this.currentThread.Agent&&e.Id===this.currentThread.Agent.Id&&(t=!0);if(!t){let e=JSON.parse(V()(this.currentThread));e.IsDisabled=!t&&"In Progress"===this.currentThread.Status,e.HasNoAgent=!s,this.$store.dispatch("livechat/setCurrentThread",e)}e()};this.agents?t():this.$on("load-agents-finished",t)})},async getWeChatAccount(e){await this.$try(async()=>{const t=await g.t.getWeChatAccount(e);this.$store.commit("sidebar/SET_ALL_ACCOUNTS",[t])})},async setCurrentUserAgents(e){this.isCurrentUserAgentsLoaded||(await this.$try(async()=>{const t=await g.a.getCurrentUserAgents([e]);this.agents=t||[],this.isCurrentUserAgentsLoaded=!0}),this.$emit("load-agents-finished"))},async getContact(e){if(e.Contact.Id)try{const t=await Object(m.f)(e.Contact.Id);if(t.ok&&t.data){const e=JSON.parse(k.a.unescape(t.data));this.$store.commit("livechat/SET_CURRENT_THREAD_FOLLOWER_ACCOUNTID",e.Account.Id)}else t.ok||Object(L.f)(t.error)}catch(e){Object(L.f)(e)}},dragFilesEnter(){this.showDropFilesTip=!0},dragFilesLeave(){this.showDropFilesTip=!1},dropOnFiles(e){this.showDropFilesTip=!1,this.$root.$emit("drop-on-files",e)},receiveMessage(e){if(e.WeChatFollowerId__c===this.currentThread.Follower.Id)return"Completed"===this.currentThread.Status?(se.a.isInClassicConsole&&this.$router.replace({name:"console-message",params:{recordId:e.WeChatTranscript__c,followerId:e.WeChatFollowerId__c}}),void this.reloadLivechat()):void this.$app.$_mixinReceiveMessage(e)},switchPrimaryTab(e){this.currentThread&&this.currentThread.Id!==e||E.a.focusTab(E.a.tabId,()=>this.$root.$emit("focus-on-textarea"))},omniChannelWorkAcceptedHandler(e){this.currentThread&&this.currentThread.Follower.Id&&"In Progress"!==this.currentThread.Status&&this.reloadLivechat()},async reloadLivechat(){this.isReloadLiveChatTipVisible=!1,this.isLoadingPage=!0;let e=this.$route.params.recordId;await this.fetchData(e),this.isLoadingPage=!1},showConnectNotification(e){this.$root.$emit("open-toast-notification",e)},hideConnectNotification(){this.$root.$emit("close-toast-notification")},closeMessage(e){e===this.currentThreadId&&E.a.lockedTabTranscriptId!==this.currentThreadId&&this.closeConsoleTab()},closeConsoleTab(){E.a.closeTab()},threadEventHandler(e){this[e.method](e.result)},async setSessionIdToCookie(){const e=await Object(ee.e)();if(e.ok){const t=k.a.unescape(e.data);E.a.storeSessionId(t)}},openRelatedSubtabs(){se.a.isInClassicConsole?this.openSubtabsInClassicalConsole(E.a.tabId):se.a.isInLightningConsole&&E.a.isInWorkspace&&this.openSubtabsInLightningConsole(E.a.tabId)},openSubtabsInClassicalConsole(e){var t,s,i;const a=F()(t="".concat(window.location.protocol,"//")).call(t,window.location.hostname);E.a.openSubtab({tabId:e,url:F()(s="".concat(a,"/")).call(s,this.currentThread.Follower.Id),recordType:"Follower"});const n=window.CharketConsole,o=n.contactId||n.leadId,l=dt(n);o&&l&&E.a.openSubtab({tabId:e,url:F()(i="".concat(a,"/")).call(i,o),recordType:l})},async openSubtabsInLightningConsole(e){E.a.sObjectName===qe.a.getQualifiedName("WeChatFollower__c")&&this.$try(async()=>{const t=await g.f.getFollowerDetail(this.currentThread.Follower.Id),s=this.$store.getters["user/currentUser"].Permissions.Objects;t.Lead&&t.Lead.Id&&t.Lead.Name&&s.Lead.IsReadable&&E.a.openSubtab({tabId:e,objectType:"Lead",recordId:t.Lead.Id}),t.Contact&&t.Contact.Id&&t.Contact.Name&&s.Contact.IsReadable&&E.a.openSubtab({tabId:e,objectType:"Contact",recordId:t.Contact.Id})})},onRefresh(){this.reloadLivechat()}},async created(){document.title=this.$t("liveChatTitle");let e=this.$route.params.recordId;await this.fetchData(e),this.isLoadingPage=!1,se.a.isInLightningConsole&&E.a.hideLoadingSpinner(),this.currentThread&&this.openRelatedSubtabs(),E.a.addEventListener("receive-console-message",this.receiveMessage),E.a.addEventListener("switch-primary-tab",this.switchPrimaryTab),E.a.addEventListener("omni-channel-work-accepted",this.omniChannelWorkAcceptedHandler),E.a.addEventListener("reload-livechat",this.reloadLivechat),E.a.addEventListener("show-connect-notification",this.showConnectNotification),E.a.addEventListener("hide-connect-notification",this.hideConnectNotification),E.a.addEventListener("close-message",this.closeMessage),E.a.addEventListener("close-all-tab",this.closeConsoleTab),E.a.addEventListener("accept-chat-from-thread",e=>{this.$store.commit("livechat/CONNECT_WAITING_CHAT",e)}),E.a.addEventListener("reload-livechat-tip-appeared",()=>{this.isReloadLiveChatTipVisible=!0}),E.a.addEventListener("switch-follower",async e=>{this.isLoadingPage=!0,this.isCurrentUserAgentsLoaded=!1,await this.fetchData(e),this.isLoadingPage=!1}),E.a.addEventListener("tab-refreshed",async e=>{let{tabId:t,followerId:s}=e;t===E.a.tabId&&(this.isLoadingPage=!0,await this.fetchData(s),this.isLoadingPage=!1)}),E.a.addEventListener("sync-follower",async e=>{await this.fetchData(e)}),E.a.addEventListener("follower-block-status-changed",e=>{this.$store.commit("livechat/UPDATE_FOLLOWER_ISBLOCKED",e)}),E.a.addEventListener("follower-alias-changed",async e=>{await this.fetchData(e)})},beforeDestroy(){this.$root.$off(["close-thread"])}},dt=e=>{let{leadId:t,contactId:s}=e;return s?"Contact":t?"Lead":void 0};var ht=ct,ut=(s("1X+l"),s("9eMe")),pt=Object(Ue.a)(ht,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"console-message slds-grid",on:{dragenter:function(t){return e.dragFilesEnter()},dragover:function(e){e.preventDefault()},drop:function(t){return t.preventDefault(),e.dropOnFiles(t)},paste:function(t){return e.dropOnFiles(t)}}},[e.isReloadLiveChatTipVisible?s("reload-live-chat-tip",{on:{"click-reload":function(t){return e.onReloadBtnClick()}}}):e._e(),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical left-section"},[s("loading-spinner",{attrs:{"is-loading":e.isLoadingPage}}),e._v(" "),e.isMessageSectionVisible?s("message-section",{attrs:{"is-current-agent":e.isCurrentAgent},on:{refresh:e.onRefresh}}):e._e()],1),e._v(" "),e.currentThread&&!e.isLightningChatBody?s("div",{staticClass:"right-section slds-border_left"},[s("follower-about",{attrs:{"current-thread":e.currentThread,"current-user":e.currentUser}})],1):e._e(),e._v(" "),e.isNoRelatedMessageTipVisible?s("div",{staticClass:"slds-grid slds-grid_vertical no-follower-tip"},[s("icon",{attrs:{name:"noRelatedFollower",width:"300px",height:"150px"}}),e._v(" "),s("span",{staticClass:"no-follower-tip-content"},[e._v(e._s(e.$t("noRelatedMessage")))])],1):e._e(),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showDropFilesTip,expression:"showDropFilesTip"}],staticClass:"drag-tip-area",on:{dragleave:function(t){return e.dragFilesLeave()}}},[s("div",{staticClass:"drag-tip-content"},[e._v("\n      "+e._s(e.$t("dropUploadTip"))+"\n    ")])]),e._v(" "),s("img",{staticClass:"charket-emotions",staticStyle:{display:"none"},attrs:{src:"#"}})],1)}),[],!1,null,"378d2f14",null);"function"==typeof ut.default&&Object(ut.default)(pt);var mt=pt.exports,gt=s("tzDv"),ft=s.n(gt);var vt=new class{async checkPermission(){if(se.a.isInLightningConsole){return await E.a.getNotificationPermission()===ft.a.Permission.GRANTED}return new b.a(e=>{e(ft.a.Permission.get()===ft.a.Permission.GRANTED)})}async getPermissionInfo(){if(se.a.isInLightningConsole){return await E.a.getNotificationPermission()}return new b.a(e=>{e(ft.a.Permission.get())})}async isGranted(){return await this.getPermissionInfo()===ft.a.Permission.GRANTED}async isDenied(){return await this.getPermissionInfo()===ft.a.Permission.DENIED}async isDefault(){return await this.getPermissionInfo()===ft.a.Permission.DEFAULT}requestPermission(){se.a.isInLightningConsole?E.a.requestNotificationPermission():ft.a.Permission.request()}notify(e){let{notiMsg:t,body:s,icon:i,timeout:a,clickEvent:n}=e;if(se.a.isInLightningConsole)E.a.browserNotify({notiMsg:t,body:s,icon:i,timeout:a,clickEvent:n});else{if(!ft.a.Permission.has())return;ft.a.create(t,{body:s,icon:i,timeout:a,onClick:n})}}},_t={mounted(){this.checkPermission()},computed:{enableButtonVisible(){return!this.hasClickedRequest&&this.isDefault},closePageButtonVisible(){return this.isGranted||this.isDenied}},data(){return{isDenied:!1,isDefault:!1,isGranted:!1,hasClickedTest:!1,hasClickedRequest:!1,promptContent:this.$t("enableContent")}},methods:{async checkPermission(){this.isDenied=await vt.isDenied(),this.isDefault=await vt.isDefault(),this.isDenied&&(this.promptContent=this.$t("disallowedTip")),this.isDefault&&(this.promptContent=this.$t("enableContent"))},onRequestClick(){this.hasClickedRequest=!0,vt.requestPermission(),this.promptContent=this.$t("allowBrowserNotificationTip"),this.loopCheck()},loopCheck(){const e=He()(async()=>{this.isGranted=await vt.isGranted(),this.isDenied=await vt.isDenied(),(this.isGranted||this.isDenied)&&(this.promptContent=this.isGranted?this.$t("enableSuccess"):this.$t("disallowedTip"),clearInterval(e))},1e3)},onClosePageClick(){window.close()}}},Ct=(s("h96L"),s("o705")),bt=Object(Ue.a)(_t,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"permission-page"},[s("section",{staticClass:"slds-modal slds-fade-in-open slds-modal_prompt"},[s("div",{staticClass:"slds-modal__container prompt-container"},[s("div",{staticClass:"promp-center-wrapper"},[s("div",{staticClass:"slds-modal__content slds-p-around_medium prompt-area"},[s("p",{staticClass:"slds-text-align_center"},[e._v(e._s(e.promptContent))])]),e._v(" "),s("footer",{staticClass:"slds-modal__footer slds-theme_default"},[e.enableButtonVisible?s("button",{staticClass:"slds-button slds-button_brand",on:{click:e.onRequestClick}},[e._v(e._s(e.$t("enableButton")))]):e._e(),e._v(" "),e.closePageButtonVisible?s("button",{staticClass:"slds-button slds-button_brand",on:{click:e.onClosePageClick}},[e._v(e._s(e.$t("closePage")))]):e._e()])])])])])}),[],!1,null,"858b3d4c",null);"function"==typeof Ct.default&&Object(Ct.default)(bt);var wt=bt.exports;const yt=n.a.prototype.push,Tt=n.a.prototype.replace;n.a.prototype.push=function(e,t,s){if(t||s)return yt.call(this,e,t,s);try{return yt.call(this,e).catch(e=>e)}catch(e){}},n.a.prototype.replace=function(e,t,s){if(t||s)return Tt.call(this,e,t,s);try{return Tt.call(this,e).catch(e=>e)}catch(e){}};let Lt=null;const It=()=>{Lt.app.$root.$emit("module-load-start")},kt=()=>{Lt.app.$root.$emit("module-load-complete")},St=e=>{It(),s.e(22).then((()=>{e(s("iQsN")),kt()}).bind(null,s)).catch(s.oe)},Mt=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(13),s.e(0),s.e(8)]).then((()=>{e(s("DPCc")),kt()}).bind(null,s)).catch(s.oe)},At=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(13),s.e(0),s.e(8)]).then((()=>{e(s("qK12")),kt()}).bind(null,s)).catch(s.oe)},xt=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(13),s.e(0),s.e(8)]).then((()=>{e(s("/afw")),kt()}).bind(null,s)).catch(s.oe)},Nt=e=>{It(),s.e(19).then((()=>{e(s("0T+q")),kt()}).bind(null,s)).catch(s.oe)},Et=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(12),s.e(0),s.e(4)]).then((()=>{e(s("IWmz")),kt()}).bind(null,s)).catch(s.oe)},Dt=e=>{It(),s.e(5).then((()=>{e(s("+9ZA")),kt()}).bind(null,s)).catch(s.oe)},Pt=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(12),s.e(0),s.e(4)]).then((()=>{e(s("2ATp")),kt()}).bind(null,s)).catch(s.oe)},Rt=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(23),s.e(0),s.e(18)]).then((()=>{e(s("nXPk")),kt()}).bind(null,s)).catch(s.oe)},Ot=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(0),s.e(9)]).then((()=>{e(s("o2Zb")),kt()}).bind(null,s)).catch(s.oe)},Bt=e=>{It(),Promise.all([s.e(1),s.e(0),s.e(10)]).then((()=>{e(s("89El")),kt()}).bind(null,s)).catch(s.oe)},$t=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(3),s.e(0),s.e(17)]).then((()=>{e(s("WSgm")),kt()}).bind(null,s)).catch(s.oe)},Ft=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(3),s.e(0),s.e(15)]).then((()=>{e(s("S26R")),kt()}).bind(null,s)).catch(s.oe)},Ut=e=>{It(),Promise.all([s.e(1),s.e(2),s.e(3),s.e(0),s.e(16)]).then((()=>{e(s("V+Hv")),kt()}).bind(null,s)).catch(s.oe)};Lt=new n.a({routes:[{path:"/",name:"wechatAccounts",component:ze},{path:"/chat",name:"chat",component:St,meta:{permission:"LiveChat"}},{path:"/liveChatMonitor",name:"liveChatMonitor",component:e=>{It(),s.e(20).then((()=>{e(s("HYpb")),kt()}).bind(null,s)).catch(s.oe)},meta:{permission:"LiveChatMonitor"}},{path:"/chat/:followerId",name:"chat-follower",component:St,meta:{permission:"LiveChat"}},{path:"/chat-waiting",name:"chat-waiting",component:St,meta:{permission:"LiveChat"}},{path:"/chat-waiting/:followerId",name:"chat-waiting-follower",component:St,meta:{permission:"LiveChat"}},{path:"/chat-history",name:"chat-history",component:St,meta:{permission:"LiveChat"}},{path:"/chat-history/:followerId",name:"chat-history-follower",component:St,meta:{permission:"LiveChat"}},{path:"/:accountId/home",name:"home",component:e=>{It(),Promise.all([s.e(14),s.e(21)]).then((()=>{e(s("u1G+")),kt()}).bind(null,s)).catch(s.oe)},meta:{permission:"Home"}},{path:"/:accountId/followers",name:"followers",component:Nt,meta:{permission:"Followers"}},{path:"/:accountId/tags",name:"tags",component:Nt,meta:{permission:"Followers"}},{path:"/:accountId/mass",redirect:"/:accountId/mass/new",name:"mass",component:At,meta:{permission:"MassMessages"}},{path:"/:accountId/mass/new",name:"mass-new",component:At,meta:{permission:"MassMessages"}},{path:"/:accountId/mass/sent",name:"mass-sent",component:At,meta:{permission:"MassMessages"}},{path:"/:accountId/notifications",name:"notification-template",component:xt,meta:{permission:"Notifications"}},{path:"/:accountId/notifications/select",name:"notification-template-select",component:xt,meta:{permission:"Notifications"}},{path:"/:accountId/notifications/new",name:"notification-template-new",component:xt,meta:{permission:"Notifications"}},{path:"/:accountId/qr-codes",redirect:"/:accountId/qr-codes/temporaries",name:"qr-codes",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/permanents",name:"qr-codes-permanents",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/permanents/new",name:"qr-codes-permanents-new",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/permanents/edit",name:"qr-codes-permanents-edit",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/temporaries",name:"qr-codes-temporaries",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/temporaries/new",name:"qr-codes-temporaries-new",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/qr-codes/temporaries/edit",name:"qr-codes-temporaries-edit",component:Et,meta:{permission:"QRCodes"}},{path:"/:accountId/message",redirect:"/:accountId/message/structured-messages",name:"message",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/structured-messages",name:"message-structured-messages",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/structured-messages/new",name:"message-new-structured-messages",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/images",name:"message-images",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/voices",name:"message-voices",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/videos",name:"message-videos",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/texts",name:"message-texts",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/message/mini-program-pages",name:"message-mini-program-pages",component:Mt,meta:{permission:"MessageLibrary"}},{path:"/:accountId/agents",name:"agents",component:Pt,meta:{permission:"Agents"}},{path:"/:accountId/quick-replies",name:"agent-quick-replies",component:Pt,meta:{permission:"Agents"}},{path:"/:accountId/menus",redirect:"/:accountId/menus/default",name:"menus",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/default",name:"menus-default",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/default/clone",name:"menus-default-clone",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/custom",name:"menus-custom",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/custom/new",name:"menus-custom-new",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/custom/edit",name:"menus-custom-edit",component:Rt,meta:{permission:"Menus"}},{path:"/:accountId/menus/custom/clone",name:"menus-custom-clone",component:Rt,meta:{permission:"Menus"}},{path:"/consoleThread",name:"console-thread",component:it,meta:{permission:"LiveChat"}},{path:"/consoleMessage/:recordId",name:"console-message",component:mt,meta:{permission:"LiveChat"}},{path:"/:accountId/responses",redirect:"/:accountId/responses/replies",name:"responses",component:Ot,meta:{permission:"Responses"}},{path:"/:accountId/responses/replies",name:"responses-replies",component:Ot,meta:{permission:"Responses"}},{path:"/:accountId/responses/welcome",name:"responses-welcome",component:Ot,meta:{permission:"Responses"}},{path:"/:accountId/responses/replies/new",name:"responses-replies-new",component:Ot,meta:{permission:"Responses"}},{path:"/:accountId/responses/replies/edit",name:"responses-replies-edit",component:Ot,meta:{permission:"Responses"}},{path:"/:accountId/passes",name:"passes",component:Bt,meta:{permission:"Passes"}},{path:"/:accountId/passes/new",name:"passes-new",component:Bt,meta:{permission:"Passes"}},{path:"/:accountId/passes/edit",name:"passes-edit",component:Bt,meta:{permission:"Passes"}},{path:"/forms",name:"forms",component:$t,meta:{permission:"Forms"}},{path:"/forms/:formId/editor",name:"forms-editor",component:$t,meta:{permission:"Forms"}},{path:"/forms/:formId/publish",name:"forms-publish",component:$t,meta:{permission:"Forms"}},{path:"/forms/:formId/settings",name:"forms-settings",component:$t,meta:{permission:"Forms"}},{path:"/forms/:formId/editor/preview",name:"forms-preview",component:$t,meta:{permission:"Forms"}},{path:"/wechat-campaign",name:"wechat-campaign",component:Ft,meta:{permission:"WeChatCampaigns"}},{path:"/wechat-campaign/register",name:"wechat-campaign-register",component:Ft,meta:{permission:"WeChatCampaigns"}},{path:"/wechat-campaign/check-in",name:"wechat-campaign-check-in",component:Ft,meta:{permission:"WeChatCampaigns"}},{path:"/wechat-campaign/lucky-draw",name:"wechat-campaign-lucky-draw",component:Ft,meta:{permission:"WeChatCampaigns"}},{path:"/badges",name:"badges",component:e=>{It(),Promise.all([s.e(1),s.e(0),s.e(10)]).then((()=>{e(s("Yv0A")),kt()}).bind(null,s)).catch(s.oe)},meta:{permission:"NameBadgeTemplates"}},{path:"/survey",name:"survey",component:Ut,meta:{permission:"Surveys"}},{path:"/survey/:surveyId/editor",name:"survey-editor",component:Ut,meta:{permission:"Surveys"}},{path:"/survey/:surveyId/rules",name:"survey-rules",component:Ut,meta:{permission:"Surveys"}},{path:"/survey/:surveyId/settings",name:"survey-settings",component:Ut,meta:{permission:"Surveys"}},{path:"/survey/:surveyId/share",name:"survey-share",component:Ut,meta:{permission:"Surveys"}},{path:"/:accountId/url-shortener",name:"shortener",component:e=>{It(),s.e(24).then((()=>{e(s("PXrS")),kt()}).bind(null,s)).catch(s.oe)},meta:{permission:"URLShortener"}},{path:"/:accountId/coupons",name:"coupons",component:e=>{It(),Promise.all([s.e(1),s.e(2),s.e(0),s.e(9)]).then((()=>{e(s("Y9k4")),kt()}).bind(null,s)).catch(s.oe)},meta:{permission:"Coupons"}},{path:"/skills",name:"skills",component:Dt,meta:{permission:"Skills"}},{path:"/skills/new",name:"skills-new",component:Dt,meta:{permission:"Skills"}},{path:"/skills/edit",name:"skills-edit",component:Dt,meta:{permission:"Skills"}},{path:"/notification-permission-set",name:"notification-permission-set",component:wt}]}),Lt.beforeEach(async(e,t,s)=>{const i=(e,t)=>!(t&&(!e.Permissions||!e.Permissions.Pages||!e.Permissions.Pages[t])),a=["Notifications","QRCodes","URLShortener"],n=e.name,o=e.meta.permission,r=e.params.accountId;if(!De.state.user.currentUser.Id)if("consoleMessage"===E.a.componentName){const e=await E.a.getCurrentUser();De.commit("user/SET_CURRENT_USER",JSON.parse(e))}else await De.dispatch("user/initUser");se.a.isInLightningConsole&&"console-thread"!==e.name&&"console-message"!==e.name&&("consoleThread"===E.a.componentName?s({path:"/consoleThread",replace:!0}):"consoleMessage"===E.a.componentName&&s({path:"/consoleMessage/".concat(E.a.recordId),replace:!0}));const c=De.state.user.currentUser;if(n)if(r){r!==t.params.accountId&&0===De.state.sidebar.wechatAccounts.length&&await De.dispatch("sidebar/getAllAccounts");const e=De.state.sidebar.wechatAccounts[r];if(e)if(l()(a).call(a,o)){De.commit("account/UPDATE_ACCOUNT_PERMISSIONS",e.Type),De.state.account.notificationTemplate&&i(c,o)?s():s({path:"/".concat(r,"/home")})}else i(c,o)?s():s({path:"/".concat(r,"/home")});else s({path:"/"});window.dispatchEvent(new CustomEvent("app-rendered"))}else i(c,o)?(s(),window.dispatchEvent(new CustomEvent("app-rendered"))):s({path:"/"});else s({path:"/"})});var Vt=Lt,jt=s("R9w4"),zt=s.n(jt),Wt=s("i+Lc"),Ht=s.n(Wt),Gt=s("iP86"),Zt=s.n(Gt),Xt=s("R9hF"),Qt=s.n(Xt),Yt=s("LUW6");class qt{constructor(){let e={pageId:"charket-page-"+Object(Yt.a)(),storage:window.localStorage,activePageId:""};Qt()(this,e)}async init(){const e=this.storage.getItem("charketActivePage");await this._checkIfPageExisted(e)||this.storage.setItem("charketActivePage","");const t=await this._getExistedPageList();this.storage.setItem("charketPageList",V()(t)),window.addEventListener("storage",()=>{this._respondCheckingPageId();const e=this.storage.getItem("charketActivePage");e!==this.activePageId&&(this.activePageId=e,this.activePageId&&(this.activePageId!==this.pageId?this._inactivatePage():this._activatePage()))}),window.addEventListener("beforeunload",()=>{const e=this.storage.getItem("charketPageList"),t=e?JSON.parse(e):[],s=Q()(t).call(t,e=>e===this.pageId);if(s>-1&&Z()(t).call(t,s,1),0===t.length)return this.storage.removeItem("charketActivePage"),void this.storage.removeItem("charketPageList");this.activePageId===this.pageId&&this.storage.setItem("charketActivePage",t[t.length-1]),this.storage.setItem("charketPageList",V()(t))}),this._addCurrentPageToPageList(),this._setActivatedPage()}_addCurrentPageToPageList(){const e=this.storage.getItem("charketPageList"),t=e?JSON.parse(e):[];t.push(this.pageId),this.storage.setItem("charketPageList",V()(t))}_setActivatedPage(){const e=this.storage.getItem("charketActivePage");e?this.activePageId=this.storage.getItem("charketActivePage"):(this.activePageId=this.pageId,this.storage.setItem("charketActivePage",this.pageId),this._activatePage())}_activatePage(){this.trigger("activate-page")}_inactivatePage(){this.trigger("inactivate-page")}checkIfActivated(){return this.pageId===this.activePageId}activateCurrentPage(){this.charketActivePage!==this.pageId&&(this.activePageId=this.pageId,this.storage.setItem("charketActivePage",this.pageId),this._activatePage())}_getExistedPageList(){return new b.a(e=>{const t=this.storage.getItem("charketPageList"),s=t?JSON.parse(t):[];if(!s.length)return e([]);let i=0;const a=[],n=async()=>{if(await this._checkIfPageExisted(s[i])&&a.push(s[i]),i++,s.length===i)return e(a);n()};n()})}_checkIfPageExisted(e){return new b.a(t=>{let s=null;const i=()=>{if(!this.storage.getItem("checkingPageId"))return s&&clearTimeout(s),t(!0)};window.addEventListener("storage",i),this.storage.setItem("checkingPageId",e),s=Re()(()=>(window.removeEventListener("storage",i),t(!1)),100)})}_respondCheckingPageId(){this.storage.getItem("checkingPageId")===this.pageId&&this.storage.setItem("checkingPageId","")}}s("YcFl").mixin(qt);var Jt=qt,Kt={computed:Be()({currentSiderbarTab:function(){return this.$route.name?this.$route.name.substring(0,4):""},isMiniProgramAcc(){return"Mini Program"===this.currentAccount.Type}},Object(r.e)({showHome:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Home,showFollowers:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Followers,showMenus:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Menus,showResponses:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Responses,showMessageLibrary:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.MessageLibrary,showNotifications:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Notifications&&e.account.notificationTemplate,showQRCodes:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.QRCodes&&e.account.qrCode,showMassMessages:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.MassMessages,showAgents:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Agents,showWeChatPass:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Passes,showUrlShortener:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.URLShortener&&e.account.urlShortener,showWeChatCoupon:e=>e.user.currentUser.Permissions&&e.user.currentUser.Permissions.Pages&&e.user.currentUser.Permissions.Pages.Coupons}),Object(r.c)({accounts:"sidebar/wechatAccounts",currentAccount:"sidebar/currentAccount"})),watch:{accounts:function(e,t){this.$store.commit("SET_CURRENT_ACCOUNT",this.accounts[this.$route.params.accountId])}},methods:Be()({},Object(r.b)("sidebar",["switchAccount"]),{toggleWeChatAccounts(){this.$root.$emit("show-nav-box")},home(){if("home"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/home"})},agents(){if("agen"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/agents"})},followers(){if("foll"!==this.currentSiderbarTab&&"tags"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/followers"})},qrCodes(){if("qr-c"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/qr-codes"})},massMessage(){if("mass"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/mass"})},notifications(){if("noti"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/notifications"})},messageLibrary(){if("mess"!==this.currentSiderbarTab)return this.isMiniProgramAcc?this.$router.push({path:"/".concat(this.currentAccount.Id,"/message/images")}):this.$router.push({path:"/".concat(this.currentAccount.Id,"/message")})},menus(){if("menu"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/menus"})},responses(){if("resp"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/responses"})},weChatPass(){return this.$router.push({path:"/".concat(this.currentAccount.Id,"/passes")})},urlShortener(){if("shor"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/url-shortener"})},weChatCoupon(){if("coup"!==this.currentSiderbarTab)return this.$router.push({path:"/"+this.currentAccount.Id+"/coupons"})}})},es=(s("qehJ"),s("V0Um"),s("dxSf")),ts=Object(Ue.a)(Kt,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar slds-border_right slds-scrollable_y"},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-border_bottom account-switch"},[s("div",{staticClass:"account-btn"},[s("a",{staticClass:"down-btn",on:{click:e.toggleWeChatAccounts}},[s("icon",{attrs:{name:"menuIcon","class-name":"down-icon",width:"18px",height:"18px"}})],1),e._v(" "),s("span",{staticClass:"header-line"})]),e._v(" "),s("div",{staticClass:"account-name-content"},[s("span",{staticClass:"slds-truncate account-name-span"},[e._v(e._s(e.currentAccount.Name))])])]),e._v(" "),s("ul",[e.showHome?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"home"===this.$route.name},on:{click:function(t){return e.home()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"0"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[0]")}},[s("icon",{attrs:{name:"home","class-name":"home-icon","charket-icon":""}}),e._v(e._s(e.$t("tabList[0]")))],1)]):e._e(),e._v(" "),e.showFollowers?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"followers"===this.$route.name||"tags"===this.$route.name},on:{click:function(t){return e.followers()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"0"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[1]")}},[s("icon",{attrs:{name:"followers","class-name":"followers-icon","charket-icon":""}}),e._v(e._s(e.$t("tabList[1]")))],1)]):e._e(),e._v(" "),(e.showQRCodes||e.showWeChatPass||e.showWeChatCoupon)&&!e.isMiniProgramAcc?s("li",{staticClass:"sidebar-item-customize marketing-size"},[s("div",{staticClass:"nav-item"},[s("icon",{attrs:{name:"campaign","class-name":"marketing-icon","charket-icon":""}}),e._v(" "),s("h2",{staticClass:"slds-nav-vertical__title slds-text-title_caps marketing-label"},[e._v(e._s(e.$t("tabLabels[0]")))])],1),e._v(" "),s("ul",[e.showQRCodes?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"qr-c"===e.currentSiderbarTab},on:{click:function(t){return e.qrCodes()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[2]")}},[e._v(e._s(e.$t("tabList[2]")))])]):e._e(),e._v(" "),e.showWeChatCoupon?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"coup"===e.currentSiderbarTab},on:{click:function(t){return e.weChatCoupon()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("couponsLabel")}},[e._v(e._s(e.$t("couponsLabel")))])]):e._e(),e._v(" "),e.showWeChatPass?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"pass"===e.currentSiderbarTab},on:{click:function(t){return e.weChatPass()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[3]")}},[e._v(e._s(e.$t("tabList[3]")))])]):e._e()])]):e._e(),e._v(" "),e.showMassMessages||e.showMessageLibrary?s("li",{staticClass:"sidebar-item-customize"},[s("div",{staticClass:"nav-item"},[s("icon",{attrs:{name:"messageAll","class-name":"message-icon","charket-icon":""}}),e._v(" "),s("h2",{staticClass:"slds-nav-vertical__title slds-text-title_caps marketing-label message-label"},[e._v(e._s(e.$t("tabLabels[1]")))])],1),e._v(" "),s("ul",[e.showMassMessages&&!e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"mass"===e.currentSiderbarTab},on:{click:function(t){return e.massMessage()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[4]")}},[e._v(e._s(e.$t("tabList[4]")))])]):e._e(),e._v(" "),e.showMessageLibrary||e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"mess"===e.currentSiderbarTab},on:{click:function(t){return e.messageLibrary()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[5]")}},[e._v(e._s(e.$t("tabList[5]")))])]):e._e(),e._v(" "),e.showNotifications&&!e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"noti"===e.currentSiderbarTab},on:{click:function(t){return e.notifications()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[6]")}},[e._v(e._s(e.$t("tabList[6]")))])]):e._e()])]):e._e(),e._v(" "),e.showMenus?s("li",{staticClass:"sidebar-item-customize customize-size"},[s("div",{staticClass:"nav-item"},[s("icon",{attrs:{name:"settings","class-name":"customize-icon","charket-icon":""}}),e._v(" "),s("h2",{staticClass:"slds-nav-vertical__title slds-text-title_caps marketing-label customize-label"},[e._v(e._s(e.$t("tabLabels[2]")))])],1),e._v(" "),s("ul",[e.showMenus&&!e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"menu"===e.currentSiderbarTab},on:{click:function(t){return e.menus()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[7]")}},[e._v(e._s(e.$t("tabList[7]")))])]):e._e(),e._v(" "),e.showResponses||e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"resp"===e.currentSiderbarTab},on:{click:function(t){return e.responses()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"2.5rem"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[8]")}},[e._v(e._s(e.$t("tabList[8]")))])]):e._e()])]):e._e(),e._v(" "),e.showAgents?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"agen"===e.currentSiderbarTab},on:{click:function(t){return e.agents()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"0"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[9]")}},[s("icon",{attrs:{name:"agent","class-name":"agents-icon","charket-icon":""}}),e._v(e._s(e.$t("tabList[9]")))],1)]):e._e(),e._v(" "),e.showUrlShortener&&!e.isMiniProgramAcc?s("li",{staticClass:"slds-nav-vertical__item",class:{"slds-is-active":"shor"===e.currentSiderbarTab},on:{click:function(t){return e.urlShortener()}}},[s("a",{staticClass:"slds-nav-vertical__action",staticStyle:{"padding-left":"0"},attrs:{"aria-selected":"false",href:"javascript:void(0);",title:e.$t("tabList[10]")}},[s("icon",{attrs:{name:"urlShortener","class-name":"urlShortener-icon","charket-icon":""}}),e._v(e._s(e.$t("tabList[10]")))],1)]):e._e()])])}),[],!1,null,"2fb79498",null);"function"==typeof es.default&&Object(es.default)(ts);var ss=ts.exports,is={props:{autoDisappear:{type:Boolean,default:!0},disappearTime:{type:Number,default:5},isViewed:{type:Boolean,default:!1},content:{type:String,default:""},type:{type:String,default:"normal"},backgroundColor:{type:String},minWidth:{type:String},hasCloseBtn:{type:Boolean,default:!1},closeBtnSize:{type:Number,default:25},isAlert:{type:Boolean,default:!1},customStyle:{type:String,default:""}},data:()=>({isHover:!1,timeOver:!1}),computed:{style:function(){let e="";return"custom"===this.type&&this.backgroundColor&&(e="background-color: "+this.backgroundColor+";"),this.minWidth&&(e+="min-width: "+this.minWidth+";"),e+(this.customStyle&&""!==this.customStyle?" "+this.customStyle:"")},themeClass:function(){let e="";return this.isAlert?e+="slds-notify_alert slds-theme_alert-texture":e+="slds-notify_toast notify-position-middle","normal"!==this.type&&"custom"!==this.type&&(e+=" slds-theme_"+this.type),e},hasIcon:function(){return"error"===this.type||"success"===this.type||"warning"===this.type},contentStyle:function(){return"error"===this.type?"error-content":"success"===this.type?"success-content":"warning"===this.type?"warning-content":""}},methods:{closeNotification(){this.$router.app.$emit("close-toast-notification",this.isAlert)},contentMouseOver(){this.isHover=!0},contentMouseOut(){this.isHover=!1,this.timeOver&&(this.timeOver=!1,this.closeNotification())}},watch:{isViewed:function(e,t){if(e&&this.autoDisappear){let e=1e3*this.disappearTime;this.content.length>25&&(e=1e3*this.disappearTime+50*this.content.length),Re()(()=>{this.timeOver=!0,this.isHover||(this.closeNotification(),this.timeOver=!1)},e)}}}},as=(s("fqOo"),Object(Ue.a)(is,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[e.isViewed?s("div",{class:{"notify-position":!e.isAlert}},[s("div",{staticClass:"slds-notify notify-toast",class:[e.themeClass],style:e.style,attrs:{role:"alert"},on:{mouseover:function(t){return e.contentMouseOver()},mouseout:function(t){return e.contentMouseOut()}}},[s("span",{staticClass:"slds-assistive-text"},[e._v("Info")]),e._v(" "),e.hasCloseBtn?s("button",{staticClass:"slds-button slds-button_icon-inverse slds-notify__close",on:{click:function(t){return e.closeNotification()}}},[s("icon",{attrs:{name:"close",width:e.closeBtnSize+"px",height:e.closeBtnSize+"px"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1):e._e(),e._v(" "),s("div",{staticClass:"slds-notify__content",class:{"slds-grid":e.hasIcon}},[s("span",{directives:[{name:"show",rawName:"v-show",value:"success"===e.type,expression:"type === 'success'"}]},[s("icon",{staticClass:"notify-right",attrs:{name:"notification",width:"24px",height:"24px"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"error"===e.type||"warning"===e.type,expression:"type === 'error' || type === 'warning'"}]},[s("icon",{staticClass:"notify-right",attrs:{name:"warning",width:"24px",height:"24px"}})],1),e._v(" "),e._t("default",[s("h2",{staticClass:"slds-text-heading_small content-container",class:[e.contentStyle],attrs:{title:e.content},domProps:{innerHTML:e._s(e.content)}})])],2)])]):e._e()])}),[],!1,null,"e4241044",null).exports),ns=s("hOMy"),os=s.n(ns);const ls="replay";var rs=class{constructor(){Qt()(this,{_cometd:null,_extensionEnabled:null,_replay:null,_channel:null})}setReplay(e){this._replay=_()(e,10)}setChannel(e){this._channel=e}registered(e){this._cometd=e}incoming(e){"/meta/handshake"===e.channel&&e.ext&&e.ext[ls]&&(this._extensionEnabled=!0)}outgoing(e){if("/meta/subscribe"===e.channel&&this._extensionEnabled){e.ext||(e.ext={});const t={};t[this._channel]=this._replay,e.ext[ls]=t}}};const cs=s("YcFl");window.addEventListener("error",e=>{"Uncaught Illegal state: handshaken"===e.message&&$.cometd.disconnect()});class ds{constructor(e){this.subscriptionURI=e,this.replayId=""}_handleDisconnect(){this.trigger("disconnect")}_handleFailed(e){this.trigger("handle-failed",e)}_handleSubscribeSuccess(){this.trigger("subscribe-success")}_receiveMessage(e){this.trigger("receive-message",e)}init(){let e=!1;$.ajaxSetup({timeout:4e4}),$.cometd.registerExtension("connect",{outgoing(e){"/meta/connect"===e.channel&&(e.advice={interval:0,timeout:3e4})}}),$.cometd.addListener("/meta/handshake",e=>{e.successful?this.subscribeStreaming():this._handleFailed(e)}),$.cometd.addListener("/meta/subscribe",e=>{e.successful?this._handleSubscribeSuccess():this._handleFailed(e)}),$.cometd.addListener("/meta/disconnect",e=>{Re()(()=>{this._handleDisconnect()},100)}),$.cometd.addListener("/meta/connect",t=>{if($.cometd.isDisconnected())return;let s=e;e=t.successful,s||e||this.handleFailed(t)}),$.cometd.addListener("/meta/unsuccessful",e=>{this.trigger("unsuccessful",e),$.cometd.disconnect()}),$.cometd.websocketEnabled=!1,$.cometd.configure({url:window.location.protocol+"//"+window.location.host+"/cometd/40.0/",requestHeaders:{Authorization:"OAuth ".concat(_sfdcSessionId)},appendMessageTypeToURL:!1,useWorkerScheduler:!1})}subscribeStreaming(){$.cometd.subscribe(this.subscriptionURI,e=>{this._receiveMessage(e.data.sobject),this.replayId=e.data.event.replayId})}checkIfDisconnected(){return $.cometd.isDisconnected()}disconnect(){$.cometd.disconnect()}connect(){if("undefined"!=typeof $&&!this.checkIfDisconnected()&&!this.subscriptionURI)return;this.replayId&&(this.replayId,(e=>{const t=new rs;t.setChannel("/topic/Charket-LiveChat"),t.setReplay(e);const s="charketReplayExtension";null!==$.cometd.getExtension(s)&&$.cometd.unregisterExtension(s,t),$.cometd.registerExtension(s,t)})(this.replayId)),$.cometd.handshake()}getStatus(){return $.cometd.getStatus()}}cs.mixin(ds);var hs=ds,us={computed:Be()({},Object(r.c)("livechat",{$_mixinHasLoadedData:"hasLoadedData",$_mixinChattingThreads:"chattingThreads",$_mixinWaitingThreads:"waitingThreads",$_mixinTranscriptStore:"transcriptStore",$_mixinCurrentThread:"currentThread"}),Object(r.c)("chatsettings",{$_mixinNotificationSettings:"notificationSettings"}),Object(r.c)("sidebar",{$_mixinWeChatAccounts:"wechatAccounts"}),{$_mixinIsInConsoleMessage(){return(se.a.isInClassicConsole||se.a.isInLightningConsole)&&("console-message"===this.$route.name||"consoleMessage"===E.a.componentName)},$_mixinIsInConsoleThread(){return(se.a.isInClassicConsole||se.a.isInLightningConsole)&&("console-thread"===this.$route.name||"consoleThread"===E.a.componentName)},$_mixinIsInConsole(){return this.$_mixinIsInConsoleMessage||this.$_mixinIsInConsoleThread}}),watch:{$_mixinHasLoadedData(e){if(e&&0!==this.$_mixinTranscriptStore.length){for(const e of this.$_mixinTranscriptStore){var t,s;const i=K()(t=this.$_mixinChattingThreads).call(t,t=>t.Id===e.WeChatTranscript__c)||K()(s=this.$_mixinWaitingThreads).call(s,t=>t.Id===e.WeChatTranscript__c);i&&i.LastItem.WeChatCreatedTime>=e.WeChatCreatedTime__c||this.$store.dispatch("livechat/receiveMessage",{transcriptItem:e,isInConsoleMessage:this.$_mixinIsInConsoleMessage})}this.$store.commit("livechat/CLEAR_TRANSCRIPT_STORE")}}},methods:{async $_mixinReceiveMessage(e){let t=$e.a.sfdc_namespace?$e.a.sfdc_namespace:"";if((e=t?ps(t,e):e).Type__c=ms(e.Type__c),this.$_mixinIsCloseTypeTranscriptItem(e))return void this.$_mixinCloseThread(e);const s=e.ShortBody__c&&"string"==typeof e.ShortBody__c;e.ShortBody__c=s?JSON.parse(e.ShortBody__c):e.ShortBody__c;const i=JSON.parse(V()(e));this.$store.dispatch("livechat/receiveMessage",{transcriptItem:e,isInConsoleMessage:this.$_mixinIsInConsoleMessage}),this.$_mixinIsInConsoleMessage||(this.$_mixinIsInConsoleThread&&E.a.fireEvent("receive-console-message",i),re(i)||(this.$_mixinNotify(e),this.$store.commit("livechat/SET_UNREAD_COUNT",this.$store.getters["livechat/unreadCount"]+1),this.$root.$emit("unread-count-updated",e.SenderId__c)))},$_mixinIsCloseTypeTranscriptItem(e){var t;const s=e.WeChatTranscript__c,i=nt()(t=this.$_mixinWaitingThreads).call(t,e=>e.Id===s),a="Close"===e.Type__c,n="Lock"===e.Type__c&&i;return a||n},$_mixinCloseThread(e){var t;const s=e.WeChatTranscript__c,i=nt()(t=this.$_mixinWaitingThreads).call(t,e=>e.Id===s);if("console-message"===this.$route.name&&"Close"===e.Type__c&&E.a.lockedTabTranscriptId!==s)E.a.closeTab();else if("Close"===e.Type__c||"Lock"===e.Type__c&&i){const e=["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower","console-thread"];l()(e).call(e,this.$route.name)?this.$root.$emit("close-thread",s):this.$store.dispatch("livechat/closeSpecialChat",s)}},$_mixinNotify(e){this.$_mixinNotificationSettings.isDisabledNotification||(this.$_mixinNotificationSettings.desktopNotificationsEnabled&&this.$_mixinBrowserNotify(e),this.$_mixinNotificationSettings.soundNotificationsEnabled&&"Close"!==e.Type__c&&this.$_mixinVoiceNotify())},$_mixinVoiceNotify(){this.$emit("voice-prompt")},$_mixinBrowserNotify(e){var t;if("Close"===e.Type__c)return;let s,i=null!==e.ShortBody__c?e.ShortBody__c:"";if(l()(t=["Image","Video","Voice","Location","Lock"]).call(t,e.Type__c))s=e.Type__c?"[".concat(e.Type__c.toUpperCase(),"]"):"";else if("Link"===e.Type__c)s="[LINK]";else if("Transfer"===e.Type__c){var a;s="[TRANSFER]",l()(a=["Agent","Supervisor"]).call(a,e.SendBy__c)&&null!==i&&(s+="object"==typeof i?null===i.Comment?"":i.Comment:i)}else if("Template"===e.Type__c)s=e.HasMore__c?"[TEMPLATE]":"[TEMPLATE] ".concat(i.Title);else if("Link Structured Message"===e.Type__c||"WeChat Structured Message"===e.Type__c)s=!e.HasMore__c&&i&&i[0]?"[STRUCTURED MESSAGE] ".concat(i[0].Title):"[STRUCTURED MESSAGE]";else if("Skill Initiation"===e.BotType__c){const t=e.ShortBody__c.Skill.Initiator.Name,i=e.ShortBody__c.Skill.Name,a=this.$t("skillStartedMessage",[t,i]);s="[Skill Initiation] ".concat(a)}else s="object"==typeof i?i.Content:i;const n=e.WeChatFollowerId__c;let o=e.FollowerPhotoUrl__c,r=["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower"],c=async()=>{var t;let s=this.$router.currentRoute.name,i=nt()(t=this.$_mixinWaitingThreads).call(t,e=>e.Follower.Id===n)?"chat-waiting-follower":"chat-follower",a=this.$_mixinCurrentThread,o=l()(r).call(r,s);if(this.$_mixinIsInConsole){if("In Progress"===e.TranscriptStatus__c){var c;let t,s=window.location.protocol+"//"+window.location.hostname,i=e.WeChatTranscript__c;if(se.a.isInLightningConsole){const s=await g.f.getFollowerRelatedData(e.WeChatFollowerId__c);t=Je({Id:e.WeChatFollowerId__c},this.$store.getters["user/currentUser"].Permissions.Objects,s)}E.a.fireEvent("switch-primary-tab",i),E.a.openTab({pageReference:t,url:F()(c="".concat(s,"/")).call(c,i),tabLabel:"Chat with ".concat(e.SenderName__c)})}E.a.setChatListVisible(!0)}else o?a&&0!==a.length&&a.Follower.Id===n||this.$router.replace({name:i,params:{followerId:n}}):this.$router.push({name:i,params:{followerId:n}})},d="New message from "+(e.SenderName__c||e.SendBy__c);"Transfer"===e.Type__c&&(d="Transfer from Agent"),vt.notify({notiMsg:d,body:s,icon:o,timeout:1e4,clickEvent(){c(),window.top.focus(),this&&this.close&&this.close()}})}}};const ps=(e,t)=>{if(e&&e.length>0){var s=new RegExp('(")'+(e+"__")+'(\\w+":)',"g");return JSON.parse(V()(t).replace(s,"$1$2"))}return t},ms=e=>{const t=e.toLowerCase().replace(/( |^)[a-z]/g,e=>e.toUpperCase());return"Mp Chat Opened"===t?"MP Chat Opened":"Wechat Structured Message"===t?"WeChat Structured Message":t};var gs={computed:Be()({},Object(r.c)({$_mixinUnreadCount:"livechat/unreadCount"})),watch:{$route(e,t){var s;this.$_mixinUnreadCount>0&&this.mixinRouteToTitle[e.name]?document.title=F()(s="(".concat(this.$_mixinUnreadCount,") ")).call(s,this.mixinRouteToTitle[e.name]," | Charket"):this.mixinRouteToTitle[e.name]?document.title="".concat(this.mixinRouteToTitle[e.name]," | Charket"):document.title="Charket"},$_mixinUnreadCount(e,t){var s;(0===t&&null!==e?E.a.setUtilityBarHighLight(!0):0===e&&E.a.setUtilityBarHighLight(!1),e>0&&this.mixinRouteToTitle[this.$route.name])?document.title=F()(s="(".concat(e,") ")).call(s,this.mixinRouteToTitle[this.$route.name]," | Charket"):this.mixinRouteToTitle[this.$route.name]?document.title="".concat(this.mixinRouteToTitle[this.$route.name]," | Charket"):document.title="Charket"}},data(){return{mixinRouteToTitle:{wechatAccounts:this.$t("weChatAccTitle"),"wechat-campaign":this.$t("wechatCampaignTitle"),"wechat-campaign-register":this.$t("wechatCampaignTitle"),"wechat-campaign-check-in":this.$t("wechatCampaignTitle"),"wechat-campaign-lucky-draw":this.$t("wechatCampaignTitle"),chat:this.$t("liveChatTitle"),"chat-follower":this.$t("liveChatTitle"),"chat-waiting":this.$t("liveChatTitle"),"chat-waiting-follower":this.$t("liveChatTitle"),"chat-history":this.$t("liveChatTitle"),"chat-history-follower":this.$t("liveChatTitle"),liveChatMonitor:this.$t("monitorTitle"),forms:this.$t("formListTitle"),"forms-editor":this.$t("editFormTitle"),"forms-publish":this.$t("editFormTitle"),"forms-settings":this.$t("editFormTitle"),"forms-preview":this.$t("editFormTitle"),survey:this.$t("surveyListTitle"),"survey-editor":this.$t("surveyEditorTitle"),"survey-rules":this.$t("surveyEditorTitle"),"survey-settings":this.$t("surveyEditorTitle"),"survey-share":this.$t("surveyEditorTitle"),badges:this.$t("badgeTitle"),home:this.$t("homeTitle"),followers:this.$t("followerTitle"),tags:this.$t("tagTitle"),"qr-codes":this.$t("qrCodesTitle"),"qr-codes-permanents":this.$t("qrCodesTitle"),"qr-codes-permanents-new":this.$t("qrCodesTitle"),"qr-codes-permanents-edit":this.$t("qrCodesTitle"),"qr-codes-temporaries":this.$t("qrCodesTitle"),"qr-codes-temporaries-new":this.$t("qrCodesTitle"),"qr-codes-temporaries-edit":this.$t("qrCodesTitle"),coupons:this.$t("weChatCouponTitle"),passes:this.$t("weChatPassTitle"),"passes-new":this.$t("createPassTitle"),"passes-edit":this.$t("editPassTitle"),"mass-new":this.$t("massMsgTitle"),"mass-sent":this.$t("massMsgTitle"),"message-structured-messages":this.$t("msgLibrayTitle"),"message-images":this.$t("msgLibrayTitle"),"message-voices":this.$t("msgLibrayTitle"),"message-videos":this.$t("msgLibrayTitle"),"message-texts":this.$t("msgLibrayTitle"),"message-mini-program-pages":this.$t("msgLibrayTitle"),"notification-template":this.$t("notifiesTitle"),"notification-template-new":this.$t("notifiesTitle"),"menus-custom-edit":this.$t("editMenuTitle"),"menus-custom-clone":this.$t("cloneCMenuTitle"),"menus-default-clone":this.$t("cloneMenuTitle"),"menus-default":this.$t("defaultMenuTitle"),"menus-custom":this.$t("customMenuTitle"),"menus-custom-new":this.$t("newMenuTitle"),"responses-replies":this.$t("srResponseTitle"),"responses-welcome":this.$t("wmResponseTitle"),"responses-replies-new":this.$t("srResponseTitle"),"responses-replies-edit":this.$t("srResponseTitle"),agents:this.$t("agentsTitle"),"agent-quick-replies":this.$t("quickReplyTitle"),shortener:this.$t("urlShortenerTitle")}}}},fs=s("11pw"),vs={data:()=>({showAudioElement:!1}),computed:{audioUrl(){const e=[];e.push("../resource/"),fs.b.current.charketNamespace&&e.push("".concat(fs.b.current.charketNamespace,"__")),e.push("CharketNotificationAudio");const t=e.join("");return this.$logger.trace("Audio Notification","url",t),t}},mounted(){fs.b.current.isInLightningConsole||this.loadAudio()},methods:{loadAudio(){const e=()=>{this.showAudioElement=!0,this.$nextTick(()=>{this.$refs.AudioElement.load(),window.removeEventListener("click",e)})};window.addEventListener("click",e)},play(){fs.b.current.isInLightningConsole?E.a.playVoiceNotification():this.showAudioElement?this.$refs.AudioElement.play():this.$logger.warn("Audio Notification","Cannot play notification audio, the audio is not loaded yet.")}}},_s=Object(Ue.a)(vs,(function(){var e=this.$createElement,t=this._self._c||e;return this.showAudioElement?t("audio",{ref:"AudioElement",attrs:{src:this.audioUrl,type:"audio/mp3",hidden:""}}):this._e()}),[],!1,null,null,null).exports,Cs={data(){return{defaultOK:this.$t("global.confirmBtn"),defaultCancel:this.$t("global.cancelBtn"),title:"",content:"",ok:"",cancel:"",isConfirming:!1}},methods:{open(e){const{title:t,content:s,ok:i,cancel:a}=e;return this.title=t,this.content=s,this.ok=i||this.defaultOK,this.cancel=a||this.defaultCancel,this.$refs.ConfirmModal.open(),this},resume(){this.isConfirming=!1},close(){this.$refs.ConfirmModal.close(),this.$off("ok"),this.$off("cancel"),this.isConfirming=!1},onClickCancel(){this.$emit("cancel"),this.close()},onClickConfirm(){this.isConfirming=!0,this.$emit("ok")}}},bs=(s("qYjc"),Object(Ue.a)(Cs,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ld-modal",{ref:"ConfirmModal",staticClass:"confirm-modal",attrs:{title:e.title},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"confirm-modal__content slds-p-around_medium"},[e._v("\n      "+e._s(e.content)+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isConfirming},on:{click:function(t){return e.onClickCancel()}}},[e._v("\n      "+e._s(e.cancel)+"\n    ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isConfirming},on:{click:function(t){return e.onClickConfirm()}}},[e._v("\n      "+e._s(e.ok)+"\n    ")])]},proxy:!0}])})}),[],!1,null,"38a00745",null).exports),ws={components:{LoadingSpinner:ot.a},data:()=>({isLoading:!1,isLoaded:!1}),mounted(){this.$root.$on("module-load-start",()=>{this.isLoaded=!1,Re()(()=>{this.isLoaded||(this.isLoading=!0)},150)}),this.$root.$on("module-load-complete",()=>{this.isLoading=!1,this.isLoaded=!0})}},ys=Object(Ue.a)(ws,(function(){var e=this.$createElement;return(this._self._c||e)("loading-spinner",{attrs:{"is-loading":this.isLoading}})}),[],!1,null,null,null).exports;const Ts={en_US:"en",zh_CN:"cn"};var Ls={store:De,mixins:[us,gs],async beforeCreate(){await this.$store.dispatch("sidebar/getAllAccounts")},async created(){"consoleMessage"!==E.a.componentName&&(this.getUnreadMessageCount(),this.getLiveChatSettings(),this.getLiveChatNotificationSettings()),this.getCharketSettings();const e=()=>{this.$i18n.locale=Ts[this.currentUser.LanguageLocaleKey]||"en",this.loadingI18n=!1};if(this.currentUser.LanguageLocaleKey)e();else{const t=this.$watch("currentUser",s=>{s&&(e(),t())})}const t=async()=>{var e,t;let[s]=await b.a.all([Object(ee.g)(),this.fetchAgentStatuses()]);s.ok&&(this.subscriptionURI=k.a.unescape(s.data)),this.subscriptionURI?this.initStreaming():this.$store.commit("livechat/SET_INIT_FLAG",!0),this.multiplePageCtrl=new Jt,Zt()(e=this.multiplePageCtrl).call(e,"activate-page",()=>{this.$store.commit("livechat/SET_LIVECHAT_STATUS",!0),this.streaming&&(this.streaming.replayId="",this.$store.commit("livechat/SET_INIT_FLAG",!1),this.reconnectStreaming())}),Zt()(t=this.multiplePageCtrl).call(t,"inactivate-page",()=>{this.streaming.disconnect(),this.$store.commit("livechat/SET_LIVECHAT_STATUS",!1),"console-thread"===this.$route.name&&E.a.fireEvent("close-all-tab"),this.$root.$on("activate-livechat",()=>{this.multiplePageCtrl.activateCurrentPage(),this.$root.$off("activate-livechat")})}),await this.multiplePageCtrl.init(),se.a.isInLightningConsole&&this.multiplePageCtrl.activateCurrentPage()};if(se.a.isInLightningConsole){if("consoleThread"!==E.a.componentName)return;t()}else t()},async mounted(){this.checkNotificationPermission(),this.$on("voice-prompt",()=>{this.$refs.AudioNotification.play()}),this.notificationTimer=He()(()=>{this.$store.dispatch("chatsettings/checkNotificationEnabled")},6e4),this.addNetworkEventListener(),this.$root.$on("open-toast-notification",e=>{this.notificationMsg(e,!e.hideCloseButton)}),this.$root.$on("close-toast-notification",e=>{this.connectNotification.isViewed=!1,e&&this.closeEnableDestopNotificationTip()}),this.$root.$on("open-internet-check-tip",()=>{this.$refs.checkInternetTipModal.open()}),this.$root.$on("show-nav-box",()=>{this.showNavBox=!0})},components:{Sidebar:ss,ToastNotification:as,WeChatAccounts:ze,AudioNotification:_s,Confirm:bs,ModuleLoadingIndicator:ys,LdModal:ns.LdModal},watch:{$route(e,t){const s=["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower","console-thread"];!l()(s).call(s,e.name)||t.name&&l()(s).call(s,t.name)||!this.multiplePageCtrl||this.multiplePageCtrl.checkIfActivated()||this.multiplePageCtrl.activateCurrentPage()}},provide:{showErrorImg(e){const t=s("GHCX");e.target.src=t}},computed:Be()({},Object(r.c)("user",["userStatus","currentUser"]),Object(r.c)("livechat",{hasLoadedLiveChatData:"hasLoadedData",chattingThreads:"chattingThreads",waitingThreads:"waitingThreads"}),{show(){var e;if(!this.$route.name)return!1;if("notification-permission-set"===this.$route.name)return!1;if(z()(e=this.notShowSidebarNames).call(e,this.$route.name)>=0)return!1;const t=H()(this.$route.query);if(0===t.length)return!0;for(const e of t)if("hidesidebar"===e.toLowerCase()&&"1"===this.$route.query[e])return!1;return!0},isInClassicConsole:()=>se.a.isInClassicConsole,isInLightningConsole:()=>se.a.isInLightningConsole,rightPageSectionClass(){return{"full-page":!this.show||"wechatAccounts"===this.$route.name,"slds-scrollable":"wechatAccounts"===this.$route.name}}}),data:()=>({isStreamingFirstConnect:!0,multiplePageCtrl:null,streaming:null,failedCount:0,notificationTimer:null,showNavBox:!1,connectNotification:{isViewed:!1,content:"",type:"error",autoDisappear:!0},loadingI18n:!0,notShowSidebarNames:["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower","wechatAccounts","console-thread","console-message","liveChatMonitor","wechat-campaign","wechat-campaign-register","wechat-campaign-check-in","wechat-campaign-lucky-draw","badges","forms","forms-editor","forms-settings","forms-publish","forms-with-account","forms-preview","survey","survey-editor","survey-rules","survey-settings","survey-share","skills","skills-new","skills-edit"],timerToUpdateAgentTime:null,subscriptionURI:"",chatListWatcher:null,lastWindowActiveTime:null,hasCloseBtn:!0,delayToShowReconnectTipTimer:null,streamingLastConnectedTime:null,isBrowserNotificationPermissionTipVisible:!1}),methods:Be()({},Object(r.b)("user",["switchUserStatus"]),Object(r.b)("livechat",["setAgentStatus","updateAgentStatus","updateAgentLastActiveTime","initAgentStatuses"]),{async checkNotificationPermission(){var e;if(l()(e=window.location.href).call(e,"notification-permission-set"))return;const t=await vt.checkPermission();this.isBrowserNotificationPermissionTipVisible=!t},addNetworkEventListener(){window.addEventListener("offline",()=>{this.streaming&&(this.clearAgentTimeUpdateInterval(),this.showOfflineNotification(this.$t("netWorkOfflineTip")),this.$root.$emit("streaming-connect-failed"))}),window.addEventListener("online",async()=>{this.connectNotification.isViewed=!1,(se.a.isInClassicConsole||se.a.isInLightningConsole)&&E.a.fireEvent("hide-connect-notification"),this.streaming&&("disconnected"===this.streaming.getStatus()?this.reconnectStreaming():this.streaming.disconnect())})},getUnreadMessageCount(){this.$try(async()=>{await this.$store.dispatch("livechat/getUnreadMessageCount")})},getLiveChatSettings(){this.$try(async()=>{await this.$store.dispatch("chatsettings/getLiveChatSettings")})},getLiveChatNotificationSettings(){this.$try(async()=>{await this.$store.dispatch("chatsettings/getAgentsNotificationsSettings")})},ensureStreamingIsRunning(){const e=this.streaming.getStatus();return"connected"===e||"connecting"===e||("disconnected"===e||"disconnecting"===e?this.reconnectStreaming():this.streaming.disconnect(),!1)},initStreaming(){var e,t,s,i;this.streaming=new hs(this.subscriptionURI),Zt()(e=this.streaming).call(e,"disconnect",()=>{this.clearAgentTimeUpdateInterval(),this.chatListWatcher&&this.chatListWatcher(),"console-thread"===this.$route.name&&(E.a.setChatListLabel(this.$t("disconnected")),E.a.setUtilityBarHighLight(!0)),this.reconnectStreaming()}),Zt()(t=this.streaming).call(t,"subscribe-success",()=>{"console-thread"===this.$route.name&&(0===this.$_mixinUnreadCount&&E.a.setUtilityBarHighLight(!1),this.setUtilBarLabel(this.$_mixinChattingThreads.length),this.chatListWatcher=this.$watch("$_mixinChattingThreads.length",e=>{this.setUtilBarLabel(e)})),this.handleSubscribeSuccess()}),Zt()(s=this.streaming).call(s,"handle-failed",e=>{this.handleStreamingFailed(e)}),Zt()(i=this.streaming).call(i,"receive-message",e=>{this.$_mixinReceiveMessage(e)}),this.streaming.init()},setUtilBarLabel(e){var t;const s=E.a.utilityLabel||"Charket",i=0===e?s:F()(t="".concat(s," (")).call(t,e,")");E.a.setChatListLabel(i)},async handleSubscribeSuccess(){this.delayToShowReconnectTipTimer&&(clearTimeout(this.delayToShowReconnectTipTimer),this.delayToShowReconnectTipTimer=null),this.connectNotification.isViewed=!1,(se.a.isInClassicConsole||se.a.isInLightningConsole)&&E.a.fireEvent("hide-connect-notification"),this.failedCount=0,this.hasLoadedLiveChatData?this.pullLiveChatMessage():this.loadLiveChatData(),this.streamingLastConnectedTime=new Date,this.isStreamingFirstConnect?(await this.setAgentStatus(),this.isStreamingFirstConnect=!1):await Object(ee.m)(),this.ensureStreamingIsRunning()&&(this.lauchUpdateLastDestopActiveTimeTimer(),this.checkWindowActiveTimer||(this.checkWindowActiveTimer=He()(()=>{this.checkWindowActive()},4e4)))},async lauchUpdateLastDestopActiveTimeTimer(){await this.fetchAgentLastDesktopActiveTime(),this.clearAgentTimeUpdateInterval(),this.timerToUpdateAgentTime=He()(()=>{this.ensureStreamingIsRunning()?this.fetchAgentLastDesktopActiveTime():this.clearAgentTimeUpdateInterval()},4e4),this.$root.$emit("update-activetime-timer-lauched")},async ensureIfNeedReloadLiveChatDirectly(){var e;l()(e=["chat","chat-follower","chat-waiting","chat-waiting-follower","chat-history","chat-history-follower","console-thread"]).call(e,this.$route.name)?this.$root.$emit("need-reload-live-chat"):await this.loadLiveChatData()},async pullLiveChatMessage(){if(!this.streaming.replayId&&this.streamingLastConnectedTime)try{const t=this.streamingLastConnectedTime.toISOString(),s=await Object(ee.j)(t);if(s.ok){var e;const t=Ce()(e=JSON.parse(k.a.unescape(s.data))).call(e,e=>{const t=$e.a.sfdc_namespace?$e.a.sfdc_namespace:"";return t?Object(L.d)(t,e):e});d()(t).call(t,e=>{this.$_mixinReceiveMessage(e)})}else this.ensureIfNeedReloadLiveChatDirectly()}catch(e){this.ensureIfNeedReloadLiveChatDirectly()}},async loadLiveChatData(){this.$store.commit("livechat/SET_INIT_FLAG",!1),this.$root.$emit("reload-livechat"),await this.$store.dispatch("livechat/initLiveChat"),this.$store.commit("livechat/SET_INIT_FLAG",!0)},checkWindowActive(){const e=(new Date).getTime();this.lastWindowActiveTime&&e-this.lastWindowActiveTime>45e3&&(this.lastWindowActiveTime=null,this.clearAgentTimeUpdateInterval(),"disconnected"===this.streaming.getStatus()?this.reconnectStreaming():this.streaming.disconnect()),this.lastWindowActiveTime=e},async fetchAgentLastDesktopActiveTime(){try{let e=await Object(ee.r)(this.userStatus.Id);if(e.ok){let t=JSON.parse(k.a.unescape(e.data));if(!t.Id)return void this.streaming.disconnect();this.userStatus.Id!==t.Id&&this.switchUserStatus(t)}else this.$root.$emit("update-status-failed"),Object(L.f)(e),this.streaming.disconnect()}catch(e){this.$root.$emit("update-status-failed"),Object(L.f)(e),this.streaming.disconnect()}},reconnectStreaming(){if(!this.multiplePageCtrl.checkIfActivated())return;const e=e=>{(se.a.isInLightningConsole||se.a.isInClassicConsole)&&E.a.fireEvent("show-connect-notification",e)};if(this.failedCount>10){const t={content:this.$t("netWorkErrorTip"),type:"normal",autoDisappear:!1};this.notificationMsg(t,!1),e(t),this.$root.$emit("streaming-reconnect")}else this.delayToShowReconnectTipTimer||(this.delayToShowReconnectTipTimer=Re()(()=>{const t={content:this.$t("reconnecting"),type:"normal",autoDisappear:!1,hideCloseButton:!0};this.notificationMsg(t,!1),e(t),this.$root.$emit("streaming-reconnect"),this.delayToShowReconnectTipTimer=null},5e3));this.streaming.connect()},handleStreamingFailed(e){var t,s;this.clearAgentTimeUpdateInterval(),this.$root.$emit("streaming-connect-failed"),this.failedCount++;if(!e||!e.error)return;const i="401::Authentication invalid"===e.error||"403::Handshake denied"===e.error&&e.ext&&e.ext.sfdc&&"401::Authentication invalid"===e.ext.sfdc.failureReason,a="403::Handshake denied"===e.error&&e.ext&&e.ext.sfdc&&Ht()(t=e.ext.sfdc.failureReason).call(t,"403::To protect all customers from excessive")&&zt()(s=e.ext.sfdc.failureReason).call(s,"Please try your request again later.");i?window.location.reload():a&&(this.streamingNotificationObj={content:this.$t("limitErrorTip"),type:"normal",autoDisappear:!1})},clearAgentTimeUpdateInterval(){this.timerToUpdateAgentTime&&(clearInterval(this.timerToUpdateAgentTime),this.timerToUpdateAgentTime=null)},async fetchAgentStatuses(){try{let e=await Object(ee.d)();e.ok?this.initAgentStatuses(JSON.parse(k.a.unescape(e.data))):Object(L.f)(e)}catch(e){Object(L.f)(e)}},showOfflineNotification(e){const t={content:e,type:"normal",autoDisappear:!1};this.notificationMsg(t),(se.a.isInClassicConsole||se.a.isInLightningConsole)&&E.a.fireEvent("show-connect-notification",t)},notificationMsg(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.hasCloseBtn=t,this.connectNotification.isViewed=!0,this.connectNotification.content=e.content,this.connectNotification.type=e.type,this.connectNotification.autoDisappear=void 0===e.autoDisappear||e.autoDisappear},async onEnableDesktopNotificationClick(){if(se.a.isInLightningConsole)vt.requestPermission();else{const e=this.$router.resolve({name:"notification-permission-set"});window.open(e.href,"_blank")}this.closeEnableDestopNotificationTip()},closeEnableDestopNotificationTip(){this.isBrowserNotificationPermissionTipVisible=!1},closeNavBox(){this.showNavBox=!1},getCharketSettings(){const e=["consoleThread"];l()(e).call(e,E.a.componentName)||this.$try(async()=>{await this.$store.dispatch("charketApp/getCharketSettings")})},onClickTryAgain(){this.$refs.checkInternetTipModal.close()}}),beforeDestroy(){clearInterval(this.notificationTimer),clearInterval(this.checkWindowActiveTimer),this.clearAgentTimeUpdateInterval()}},Is=(s("0t5J"),s("Ty3K"),s("THyJ"),Object(Ue.a)(Ls,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charket charket-lightning",attrs:{id:"wrapper"}},[s("confirm",{ref:"GlobalConfirm"}),e._v(" "),s("audio-notification",{ref:"AudioNotification"}),e._v(" "),s("module-loading-indicator"),e._v(" "),s("ld-modal",{ref:"checkInternetTipModal",staticClass:"check-internet-tip-modal",attrs:{headless:!0},scopedSlots:e._u([{key:"content",fn:function(){return[s("p",{staticClass:"slds-p-around_medium slds-align_absolute-center"},[e._v(e._s(e.$t("checkInternetTip")))])]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{attrs:{neutral:""},on:{click:function(t){return e.onClickTryAgain()}}},[e._v("\n        "+e._s(e.$t("tryAgain"))+"\n      ")])]},proxy:!0}])}),e._v(" "),s("toast-notification",{attrs:{"is-viewed":!e.loadingI18n&&e.isBrowserNotificationPermissionTipVisible,"has-close-btn":!0,"auto-disappear":!0,"is-alert":!0,"close-btn-size":15,"custom-style":"position: absolute; z-index: 10000;"}},[s("h2",[e._v(e._s(e.$t("appPermissionLabel"))),s("span",{staticClass:"enable-notification-link",on:{click:e.onEnableDesktopNotificationClick}},[e._v(e._s(e.$t("appDesktopNotifyLabel")))]),e._v(".")])]),e._v(" "),e.showNavBox?s("we-chat-accounts",{attrs:{"show-account":e.showNavBox},on:{"close-account":e.closeNavBox}}):e._e(),e._v(" "),s("div",{staticClass:"slds-grid charket-app-page",class:{"lightning-console":e.isInLightningConsole,"classic-console":e.isInClassicConsole}},[e.show?s("sidebar"):e._e(),e._v(" "),s("toast-notification",{attrs:{type:e.connectNotification.type,"is-viewed":e.connectNotification.isViewed,content:e.connectNotification.content,"has-close-btn":e.hasCloseBtn,"auto-disappear":e.connectNotification.autoDisappear}}),e._v(" "),s("div",{staticClass:"right-page-section",class:e.rightPageSectionClass},[s("router-view",{attrs:{"transition-mode":"out-in"}})],1)],1)],1)}),[],!1,null,"1a4adaad",null).exports),ks=s("hdMt"),Ss=s.n(ks);const Ms={ArrayIncludes:function(){l()(Array.prototype)||Ss()(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),i=s.length>>>0;if(0===i)return!1;var a,n,o=0|t,l=Math.max(o>=0?o:i-Math.abs(o),0);for(;l<i;){if((a=s[l])===(n=e)||"number"==typeof a&&"number"==typeof n&&isNaN(a)&&isNaN(n))return!0;l++}return!1}})},StringIncludes:function(){l()(String.prototype)||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==z()(s=this).call(s,e,t);var s})},ArrayFindIndex:function(){Q()(Array.prototype)||Ss()(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),s=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<s;){var n=t[a];if(e.call(i,n,a,t))return a;a++}return-1}})},ObjectAssign:function(){"function"!=typeof Qt.a&&Ss()(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!==a)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s},writable:!0,configurable:!0})},polyfill:function(){var e;d()(e=H()(Ms)).call(e,e=>{const t=Ms[e];"polyfill"!==e&&"function"==typeof t&&t()})}};var As=Ms,xs=s("KN3F"),Ns=s("7aFC");var Es=function(e,t){O()(e).call(e,"fromNow",be.j),O()(e).call(e,"timezoneFilter",be.l),O()(e).call(e,"imgFilter",Ns.c),O()(e).call(e,"addSeparators",Ns.a),O()(e).call(e,"relatedCountFilter",Ns.e),O()(e).call(e,"formatDateFilter",be.c),O()(e).call(e,"formatDatetimeFilter",be.e),O()(e).call(e,"formatTimeFilter",be.h),O()(e).call(e,"formatWeekFilter",be.i),O()(e).call(e,"formatDistanceStrictFilter",be.f),O()(e).call(e,"isValidDate",be.k),O()(e).call(e,"formatNoTimeZoneDateTime",be.g)},Ds=s("433b"),Ps=s("7tDd");Ds.a.options.defaultTemplate='<div style="z-index: 999999;" class="tooltip slds-popover slds-popover_tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner slds-popover__body"></div></div>',Ds.a.options.defaultContainer=".charket";var Rs=function(e,t){e.directive("tooltip",Ds.a),e.directive("clickOutside",Ps.a)},Os=s("qSUR"),Bs=s("0TzP"),$s=s("nrQE");a.default.use(Os.a);const Fs=function(){const e={};for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return d()(s).call(s,t=>{const s=H()(t);d()(s).call(s,s=>{e[s]=e[s]||{},Qt()(e[s],t[s])})}),e}(Bs,$s);var Us=new Os.a({locale:"en",messages:Fs,silentTranslationWarn:!0,dateTimeFormats:{"en-US":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}},"zh-CN":{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}}},numberFormats:{"en-US":{currency:{style:"currency",currency:"USD"}},"zh-CN":{currency:{style:"currency",currency:"CNY",currencyDisplay:"symbol"}}}}),Vs=s("GONd");var js={install(e){if(e.prototype.$logger)throw new Error("[Plugin] conflict member `$logger`");e.prototype.$logger=Vs.a}},zs=s("gvr7"),Ws=s.n(zs);var Hs=class{constructor(e){this.error=e}isSessionExpired(){return this.error instanceof Error&&"SessionExpiredError"===this.error.name}isTimeout(){return null===this.error.result&&!this.error.statusCode&&this.error.xhr.isTimeout}isOffline(){return null===this.error.result&&!this.error.statusCode&&!1===navigator.onLine}parseMessage(){if(this.error instanceof Error)return this.error.message;let e="";return this.error.message?e=this.error.message:this.error.error&&this.error.error.message?e=this.error.error.message:this.error.error&&(e=this.error.error),e}};const Gs=[js,{install(e){e.prototype.$_charket_copyText=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy success",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"copy faild";const i=document.getElementsByTagName("body")[0],a=document.createElement("textarea");a.style.position="absolute",a.style.top="-10000px",a.value=e,i.appendChild(a),Ws()(a);const n=document.execCommand("copy");return i.removeChild(a),n?(this.$root.$emit("open-toast-notification",{content:t,type:"success"}),!0):(this.$root.$emit("open-toast-notification",{content:s,type:"error"}),!1)}}},{install(e){if(e.prototype.$parseErrorMessage)throw new Error("[Plugin] conflict member `$parseErrorMessage`");if(e.prototype.$parseErrorMessage=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=new Hs(e);if(s.isSessionExpired()&&t)return void window.location.reload();let i="";return i=s.isTimeout()||s.isOffline()?"en"===this.$i18n.locale?"Check your Internet connection and try again.":"请检查当前网络并重试。":s.parseMessage(),i},e.prototype.$handleError)throw new Error("[Plugin] conflict member `$handleError`");if(e.prototype.$handleError=function(e){const t=this.$parseErrorMessage(e);t?this.$toast({content:k.a.unescape(t),type:"error"}):console.warn("[Error Handler] got an error, but cannot paser error message",e)},e.prototype.$try)throw new Error("[Plugin] conflict member `$try`");e.prototype.$try=async function(e){if("function"!=typeof e)throw new Error("fn must be a function");try{await e()}catch(e){this.$handleError(e)}}}},{install(e){if(e.prototype.$toast)throw new Error("[Plugin] conflict member `$toast`");e.prototype.$toast=function(e){this.$root.$emit("open-toast-notification",e)}}}];var Zs={install(e,t){d()(Gs).call(Gs,s=>{s.install(e,t)})}},Xs=s("za7x"),Qs=s("GHCX"),Ys=s.n(Qs),qs={name:"SafeImage",props:{url:{type:String,default:""}},computed:{src(){var e,t;return!this.url||"string"!=typeof this.url||z()(e=this.url).call(e,"?file=undefined")>-1||z()(t=this.url).call(t,"?file=null")>-1?Ys.a:this.url}},methods:{onError(e){e.target.src=Ys.a}}},Js=Object(Ue.a)(qs,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{attrs:{src:e.src},on:{error:function(t){return e.onError(t)}}})}),[],!1,null,null,null).exports,Ks=s("ngIk"),ei=s("V9RP"),ti=s("oWfJ"),si={name:"tag-selector",components:{"input-select":Ks.a,"tag-dropdown":ei.a},mixins:[ti.a],props:{selectedTags:{type:Array,default:()=>[]},limitLength:{type:Number,default:()=>0}},data:()=>({currentSelectedTags:[]}),watch:{selectedTags(e){let t=[];d()(e).call(e,e=>{t.push({Name:e.TagName||e.Name,Id:e.TagId||e.Id})}),this.currentSelectedTags=t}},methods:{onChangeTags(e,t){this.currentSelectedTags=[...e],this.$emit("changed",this.currentSelectedTags),t&&this.onCloseTagDropdown()},onCloseTagDropdown(){this.showTagDropdown&&(this.$root.$emit("close-other-dropdown",null),this.showTagDropdown=!1)},reset(){this.currentSelectedTags=[]}}},ii=Object(Ue.a)(si,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tag-selector"},[s("input-select",{attrs:{currents:e.currentSelectedTags,"limit-length":e.limitLength},on:{"open-dropdown":e.openTagDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown,"remove-option":function(t){return e.onChangeTags(t,!0)}}}),e._v(" "),e.showTagDropdown?s("tag-dropdown",{attrs:{"account-id":e.$wechatAccount.id,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth,"is-single-selection":!1,"limit-length":e.limitLength,currents:e.currentSelectedTags},on:{close:e.closeDropdown,"select-option":function(t){return e.onChangeTags(t,!1)}}}):e._e()],1)}),[],!1,null,null,null).exports,ai={name:"mini-program-selector",components:{"mini-program-page-popup":s("+BhS").a},props:{selected:{type:Object,default:()=>({})},wechatAccountId:{type:String,default:()=>""}},data:()=>({selectedMiniProgram:{}}),created(){this.selectedMiniProgram=JSON.parse(V()(this.selected))},watch:{selected(e){this.selectedMiniProgram=e?JSON.parse(V()(e)):{}}},computed:{currentWeChatAccountId(){return this.$wechatAccount.id||this.wechatAccountId}},methods:{onClickSelectMiniProgram(){this.$refs.MiniProgramPagePopup.openModal("","miniProgramPage","")},onSelectMiniProgram(e){let[t]=e;this.selectedMiniProgram=t,this.$emit("changed",this.selectedMiniProgram)},onClickRemove(){this.selectedMiniProgram={},this.$emit("changed",{})}}},ni=(s("UPhs"),s("xIYg")),oi=Object(Ue.a)(ai,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mini-program-selector"},[e.selectedMiniProgram.messageId?s("div",[s("div",{staticClass:"slds-pill_container slds-size_1-of-1"},[s("span",{staticClass:"slds-pill slds-size_1-of-1"},[s("span",{staticClass:"slds-icon_container slds-pill__icon_container"},[s("icon",{attrs:{name:"miniProgram","fill-color":"#4CAE7C"}})],1),e._v(" "),s("span",{staticClass:"slds-pill__label"},[e._v(e._s(e.selectedMiniProgram.title))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-pill_remove remove-button",attrs:{title:"Remove"},on:{click:function(t){return t.stopPropagation(),e.onClickRemove()}}},[s("icon",{attrs:{name:"close","class-name":"slds-button__icon"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Remove")])],1)])])]):s("div",{staticClass:"slds-box slds-box_x-small slds-grid selector-content",on:{click:function(t){return e.onClickSelectMiniProgram()}}},[s("span",{staticClass:"selector-content__icon"},[s("icon",{attrs:{"class-name":"slds-button__icon slds-button__icon_large",name:"add",category:"utility","fill-color":"#706e6b;",width:"14px",height:"14px"}})],1),e._v(" "),s("span",{staticClass:"slds-truncate",attrs:{title:e.$t("selectMiniProLabel")}},[e._v("\n      "+e._s(e.$t("selectMiniProLabel"))+"\n    ")])]),e._v(" "),s("mini-program-page-popup",{ref:"MiniProgramPagePopup",attrs:{"acc-id":e.currentWeChatAccountId,"header-content":e.$t("global.popupHeader.selectMiniProgram"),"popup-type":"miniProgramPage"},on:{getSelectedMessage:function(t){return e.onSelectMiniProgram(t)}}})],1)}),[],!1,null,"246b67ce",null);"function"==typeof ni.default&&Object(ni.default)(oi);var li=oi.exports;var ri=function(e){e.component("icon",Xs.a),e.component(Js.name,Js),e.component(ii.name,ii),e.component(li.name,li)},ci=s("M2K/"),di=s.n(ci),hi={name:"SearchInput",props:{placeholder:{type:String,default:()=>""}},data:()=>({value:""}),methods:{search(){var e;this.$emit("search",di()(e=this.value).call(e))},onClickClear(){this.value="",this.$emit("clear")},focus(){this.$emit("focus")},input(){var e;this.$emit("input",di()(e=this.value).call(e))},reset(){this.value=""}}},ui=(s("KOxV"),Object(Ue.a)(hi,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right"},[s("icon",{attrs:{name:"search","class-name":"slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"slds-input",attrs:{placeholder:e.placeholder,type:"text"},domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()},input:[function(t){t.target.composing||(e.value=t.target.value)},function(t){return e.input()}],focus:function(t){return e.focus()}}}),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",on:{click:function(t){return e.onClickClear()}}},[s("icon",{attrs:{name:"close","class-name":"slds-button__icon slds-icon-text-light"}})],1)],1)])}),[],!1,null,null,null).exports),pi={name:"ScopedTabs",props:{tabs:{type:Array,default:()=>[]},currentTabName:{type:String,default:()=>""}},methods:{switchTab(e){this.$emit("switch",e)}}},mi=(s("265K"),Object(Ue.a)(pi,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-tabs_scoped"},[s("ul",{staticClass:"slds-tabs_scoped__nav",attrs:{role:"tablist"}},e._l(e.tabs,(function(t,i){return s("li",{key:i,staticClass:"slds-tabs_scoped__item",class:[t.name===e.currentTabName?"slds-is-active":""],attrs:{role:"presentation"},on:{click:function(s){return e.switchTab(t.name)}}},[s("a",{staticClass:"slds-tabs_scoped__link",attrs:{href:"javascript:void(0);",role:"tab",tabindex:"0","aria-selected":"true"}},[e._v(e._s(t.label))])])})),0),e._v(" "),s("div",{staticClass:"slds-text-body_small btn-group"},[e._t("button-group")],2)])}),[],!1,null,"ce46c5ba",null).exports),gi={name:"ActionMenu",props:{actions:{type:Array,default:()=>[]},item:{type:Object,default:()=>({})},customStyle:{type:String,default:()=>""}},data:()=>({windowEventHandler:null,windowRedrawListenerHandler:null,position:{left:"",top:""},showAction:!1,targetEle:null}),created(){this.windowEventHandler=e=>{if(!this.$el||this.$el.contains(e.target))return null;this.targetEle=null,this.showAction=!1},window.addEventListener("click",this.windowEventHandler),window.addEventListener("dragstart",this.windowEventHandler)},mounted(){this.$nextTick((function(){this.windowRedrawListenerHandler=()=>{if(!this.targetEle)return null;this.setActionMenuPosition(this.targetEle)},window.addEventListener("resize",this.windowRedrawListenerHandler),window.addEventListener("mousewheel",this.windowRedrawListenerHandler),window.addEventListener("DOMMouseScroll",this.windowRedrawListenerHandler)}))},beforeDestroy(){window.removeEventListener("click",this.windowEventHandler),window.removeEventListener("dragstart",this.windowEventHandler),window.removeEventListener("resize",this.windowRedrawListenerHandler),window.removeEventListener("mousewheel",this.windowRedrawListenerHandler),window.removeEventListener("DOMMouseScroll",this.windowRedrawListenerHandler)},methods:{selectedAction(e){let t="".concat(e.value.toLowerCase());this.$emit(t,this.item,t)},openActionBox(e){this.targetEle=e.currentTarget,this.showAction=!0,this.$nextTick((function(){this.setActionMenuPosition(this.targetEle)}))},setActionMenuPosition(e){let t=e.getBoundingClientRect();this.position.left="".concat(t.left-96+26,"px");let s=this.$refs.dropdown.clientHeight;document.querySelector(".charket-app-page").clientHeight-t.top<=s?this.position.top="".concat(t.top-s-7,"px"):this.position.top="".concat(t.top+29,"px")}}},fi=Object(Ue.a)(gi,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small",style:e.customStyle,attrs:{"aria-haspopup":"true"},on:{click:function(t){return e.openActionBox(t)}}},[s("icon",{attrs:{name:"down","class-name":"slds-button__icon"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showAction,expression:"showAction"}],ref:"dropdown",staticClass:"slds-dropdown slds-dropdown_left slds-dropdown_actions",staticStyle:{position:"fixed"},style:{left:e.position.left,top:e.position.top}},[s("ul",{staticClass:"slds-dropdown__list",attrs:{role:"men"}},e._l(e.actions,(function(t,i){return s("li",{key:i,staticClass:"slds-dropdown__item",attrs:{role:"presentation"},on:{click:function(s){return e.selectedAction(t)}}},[s("a",{attrs:{href:"javascript:void(0);",role:"menuitem"}},[s("span",{staticClass:"slds-truncate"},[e._v(e._s(t.label))])])])})),0)])])}),[],!1,null,"1dadb6b6",null).exports,vi={name:"UploadFile",inject:["showErrorImg"],components:{LimitedInput:s("BXKR").a},props:{label:{type:String,default:()=>""},showUploadIcon:{type:Boolean,default:()=>!1},fileType:{type:String,default:()=>"Image"}},data(){return{uploadFileMsg:{name:"",type:"",body:"",size:0,description:""},originalFileBody:"",isUploading:!1,uploadBtnName:this.$t("uploadBtn"),uploadedMsg:"",showUploadModal:!1,isOverSize:!1}},computed:{maxFileSize(){return"video"===this.fileType?2306867.2:2097152},canUploading(){return!!this.uploadFileMsg.name&&!this.isOverSize},acceptType(){let e="";switch(this.fileType){case"Image":e="image/bmp,image/png,image/jpeg,image/jpg,image/gif";break;case"Video":e="video/mp4";break;case"Voice":e="audio/mp3,audio/wma,audio/wav,audio/amr";break;default:e="image/bmp,image/png,image/jpeg,image/jpg,image/gif"}return e},textCountLimit(){return"Video"===this.fileType?64:80}},mounted(){this.$root.$on("upload-file-error",e=>{this.uploadedMsg=e,this.isUploading=!1,this.uploadBtnName=this.$t("uploadBtn")}),this.$root.$on("upload-file-success",()=>{this.closeModal()})},beforeDestroy(){this.$root.$off("upload-file-error"),this.$root.$off("upload-file-success")},methods:{onFileChange(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return null;this.uploadFileMsg.name=t[0].name,this.uploadFileMsg.type=t[0].type,this.uploadFileMsg.size=t[0].size,this.createImage(t[0]),this.showUploadModal=!0,e.srcElement.value=""},createImage(e){const t=new window.FileReader;t.onload=t=>{if(this.originalFileBody=t.target.result,e.size>this.maxFileSize)return this.uploadedMsg=this.$t("tooLarge"),void(this.isOverSize=!0);this.isOverSize=!1;let s=this.originalFileBody;for(s=s.substring(z()(s).call(s,",")+1);-1!==z()(s).call(s,"=",s.length-1);)s=s.substring(0,s.length-1);this.uploadFileMsg.body=s},t.readAsDataURL(e)},formattingText(e){this.uploadFileMsg.name=e},upload(){this.isUploading=!0,this.uploadBtnName=this.$t("uploadingBtn"),this.$emit("upload",this.uploadFileMsg)},closeModal(){this.uploadFileMsg={name:"",type:"",body:"",description:""},this.originalFileBody="",this.isUploading=!1,this.uploadBtnName=this.$t("uploadBtn"),this.uploadedMsg="",this.showUploadModal=!1,this.$emit("close")}}},_i=(s("xxAs"),s("5RF3")),Ci=Object(Ue.a)(vi,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"upload-file"}},[s("label",{staticClass:"slds-button slds-button_neutral upload-btn",attrs:{for:"uploadFile",title:e.label}},[e.showUploadIcon?s("icon",{attrs:{name:"upload","fill-color":"#0070D2",width:"12px",height:"12px"}}):e._e(),e._v(" "),e.showUploadIcon?e._e():s("span",[e._v(e._s(e.label))])],1),e._v(" "),s("input",{staticClass:"upload-file-input",attrs:{type:"file",id:"uploadFile",accept:e.acceptType},on:{change:e.onFileChange}}),e._v(" "),e.showUploadModal?s("div",[s("section",{staticClass:"slds-modal slds-fade-in-open",attrs:{role:"dialog",tabindex:"-1","aria-modal":"true"}},[s("div",{staticClass:"slds-modal__container upload-file-container"},[s("header",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",on:{click:function(t){return e.closeModal()}}},[s("icon",{attrs:{name:"close","class-name":"slds-button__icon slds-button__icon_large"}})],1),e._v(" "),"Image"===e.fileType?s("h2",{staticClass:"slds-text-heading_medium slds-hyphenate"},[e._v(e._s(e.$t("imageTitle")))]):e._e(),e._v(" "),"Video"===e.fileType?s("h2",{staticClass:"slds-text-heading_medium slds-hyphenate"},[e._v(e._s(e.$t("videoTitle")))]):e._e(),e._v(" "),"Voice"===e.fileType?s("h2",{staticClass:"slds-text-heading_medium slds-hyphenate"},[e._v(e._s(e.$t("voiceTitle")))]):e._e()]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium"},[e.uploadedMsg?s("div",{staticClass:"upload-alert"},[e._v(e._s(e.uploadedMsg))]):e._e(),e._v(" "),"Image"===e.fileType?s("div",{staticClass:"image-section"},[s("img",{attrs:{src:e._f("imgFilter")(e.originalFileBody)},on:{error:function(t){return e.showErrorImg(t)}}})]):e._e(),e._v(" "),s("div",{staticClass:"upload-msg-title"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v("\n                "+e._s(e.$t("titleLabel"))+"\n              ")])]),e._v(" "),s("div",{staticClass:"upload-count"},[s("limited-input",{attrs:{content:e.uploadFileMsg.name,sum:e.textCountLimit},on:{"formated-text":function(t){return e.formattingText(t)}}})],1)]),e._v(" "),"Video"===e.fileType?s("div",{staticClass:"upload-video-desc"},[s("div",{staticClass:"slds-form-element video-desc-label-section"},[s("label",{staticClass:"slds-form-element__label video-desc-label",attrs:{for:"videoDesc"}},[e._v("\n                "+e._s(e.$t("descriptionLabel"))+"\n              ")])]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.uploadFileMsg.description,expression:"uploadFileMsg.description"}],staticClass:"slds-textarea video-desc-value",attrs:{id:"videoDesc"},domProps:{value:e.uploadFileMsg.description},on:{input:function(t){t.target.composing||e.$set(e.uploadFileMsg,"description",t.target.value)}}})]):e._e()]),e._v(" "),s("footer",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand upload-btn",class:{"uploading-btn-width":e.isUploading},attrs:{disabled:e.isUploading||!e.canUploading},on:{click:function(t){return e.upload()}}},[e.isUploading?s("span",{staticClass:"slds-spinner_container position-spinner"},[e._m(0)]):e._e(),e._v("\n            "+e._s(e.uploadBtnName)+"\n          ")])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})]):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"slds-spinner slds-spinner_small more-size-loading",attrs:{role:"alert"}},[t("span",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("span",{staticClass:"slds-spinner__dot-b"})])}],!1,null,"98504796",null);"function"==typeof _i.default&&Object(_i.default)(Ci);var bi=Ci.exports,wi={props:{value:{type:Number},pageCount:{type:Number,required:!0},pageRange:{type:Number,default:()=>5},marginPages:{type:Number,default:()=>2},breakViewText:{type:String,default:()=>"…"}},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(e){this.innerValue=e}},range(){const e=Math.floor(this.pageRange/2);let t=0;this.selected-e>0&&(t=this.selected-1-e);let s=t+this.pageRange-1;return s>=this.pageCount&&(s=this.pageCount-1,t=s-this.pageRange+1),{lowIndex:t,highIndex:s}},pages(){if(this.pageCount<=this.pageRange)return this.getPageItems(0,this.pageCount-1);const e=this.getPageItems(0,this.marginPages-1),t=this.getLeftBreakViewPage(),s=this.getPageItems(this.range.lowIndex,this.range.highIndex),i=this.getRightBreakViewPage(),a=this.getPageItems(this.pageCount-this.marginPages,this.pageCount-1);return Qt()({},e,t,s,i,a)},isFirstPageSelected(){return 1===this.selected},isLastPageSelected(){return this.selected===this.pageCount||0===this.pageCount}},data:()=>({innerValue:1}),methods:{getPageItem(e){return{index:e,content:e+1,selected:e===this.selected-1}},getLeftBreakViewPage(){const e={};return this.selected-this.pageRange==1?e[this.range.lowIndex-1]=this.getPageItem(this.range.lowIndex-1):this.range.lowIndex>this.marginPages&&(e[this.range.lowIndex-1]={breakView:!0}),e},getRightBreakViewPage(){const e={};return this.selected+this.pageRange===this.pageCount?e[this.range.highIndex+1]=this.getPageItem(this.range.highIndex+1):this.range.highIndex+1<this.pageCount-this.marginPages&&(e[this.range.highIndex+1]={breakView:!0}),e},getPageItems(e,t){const s={};for(let i=e;i<=t;i++)s[i]=this.getPageItem(i);return s},handlePageSelected(e){this.innerValue=e,this.$emit("change",e)},onClickPrev(){this.selected<=1||this.handlePageSelected(this.selected-1)},onClickNext(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)}}},yi=(s("UQ48"),s("N11t")),Ti=Object(Ue.a)(wi,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"slds-grid slds-grid_align-center pagination"},[s("li",{attrs:{title:e.$t("preTitle")}},[s("a",{staticClass:"pagination__link pagination__turning",class:{pagination__disabled:e.isFirstPageSelected},on:{click:function(t){return e.onClickPrev()}}},[s("icon",{staticClass:"pagination__icon",attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1)]),e._v(" "),e._l(e.pages,(function(t,i){return s("li",{key:i},[t.breakView?s("a",{staticClass:"pagination__link pagination__disabled"},[e._v("\n      "+e._s(e.breakViewText)+"\n    ")]):s("a",{staticClass:"pagination__link",class:{pagination__active:t.selected},on:{click:function(s){return e.handlePageSelected(t.index+1)}}},[e._v("\n      "+e._s(t.content)+"\n    ")])])})),e._v(" "),s("li",{attrs:{title:e.$t("nextTitle")}},[s("a",{staticClass:"pagination__link pagination__turning",class:{pagination__disabled:e.isLastPageSelected},on:{click:function(t){return e.onClickNext()}}},[s("icon",{staticClass:"pagination__icon",attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1)])],2)}),[],!1,null,"bb0286b2",null);"function"==typeof yi.default&&Object(yi.default)(Ti);var Li=Ti.exports;var Ii=function(e){e.component("SearchInput",ui),e.component("ScopedTabs",mi),e.component("ActionMenu",fi),e.component("UploadFile",bi),e.component("Pagination",Li)},ki=s("IBQE"),Si=s.n(ki);var Mi={bind(e,t){function s(s){if(e.contains(s.target)||!t.expression)return!1;t.value(s)}e.__vueClickOutside__=s,document.addEventListener("click",s)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}};var Ai=e=>{e.directive("click-outside",Mi)},xi=s("ExbJ"),Ni=s.n(xi),Ei={props:{options:{type:[Array,Function],required:!0},placeholder:{type:String,default:()=>""},optionHeader:{type:String,default:()=>""},value:{type:[String,Boolean],default:()=>""},disabled:{type:Boolean,default:!1},invertSelect:{type:Boolean,default:!1},menuRows:{type:Number,default:0},menuPosition:{type:String,default:"left-bottom"}},data(){return{items:[],isItemsLoaded:!1,isLoadingItems:!1,selectedIndex:this.getSelectedIndex(),showDropdown:!1,onClickDocument:null}},computed:{text(){return-1!==this.selectedIndex&&this.items[this.selectedIndex]?this.items[this.selectedIndex].label:""},menuPositionStyle(){var e;if(!l()(e=["left-bottom","left-top","right-bottom","right-top"]).call(e,this.menuPosition))throw new Error("The menu-position option is only supported for these values: left-bottom, left-top, right-bottom, right-top");return{"left-bottom":"left: 0; right: auto; top: 100%; bottom: auto;","left-top":"left: 0; right: auto; top: auto; bottom: 100%;","right-bottom":"left: auto; right: 0; top: 100%; bottom: auto;","right-top":"left: auto; right: 0; top: auto; bottom: 100%;"}[this.menuPosition]},menuRowsClass(){var e;if(!l()(e=[0,5,7,10]).call(e,Number(this.menuRows)))throw new Error("The menu-rows option is only supported for these values: 0, 5, 7, 10");return 0===this.menuRows?"":"slds-dropdown_length-".concat(this.menuRows)},noRecordVisible(){return 0===this.items.length&&this.isItemsLoaded}},mounted(){this.attachEventListeners(),Ni()(this.options)&&(this.items=this.options,this.isItemsLoaded=!0)},beforeDestroy(){document.removeEventListener("click",this.onClickDocument)},methods:{getSelectedIndex(){var e;return Ni()(this.items)&&this.value?Q()(e=this.items).call(e,e=>e.value===this.value):-1},isOptionSelected(e){return this.selectedIndex===e},onClickCombobox(){this.showDropdown=!this.showDropdown},onClickOption(e){this.invertSelect&&this.selectedIndex===e?this.selectedIndex=-1:this.selectedIndex=e;const t=this.items[this.selectedIndex];this.$emit("change",t),this.showDropdown=!1},attachEventListeners(){this.onClickDocument=e=>{const t=e.target===this.$refs.ComboboxInput;this.isClickEventInDropdownMenu(e)||t||(this.showDropdown=!1)},document.addEventListener("click",this.onClickDocument)},isClickEventInDropdownMenu(e){const t=e=>e===this.$refs.DropdownMenu||!!e.parentElement&&t(e.parentElement);return t(e.srcElement)},reset(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.selectedIndex=this.getSelectedIndex():(this.isItemsLoaded=!1,this.isLoadingItems=!1,this.items=[],this.selectedIndex=-1,this.showDropdown=!1)}},watch:{options(e){Ni()(e)&&(this.items=e)},value(){this.selectedIndex=this.getSelectedIndex()},items(e,t){0===t.length&&Ni()(this.options)&&(this.selectedIndex=this.getSelectedIndex())},async showDropdown(e){!e||this.isItemsLoaded||Ni()(this.options)||(this.isLoadingItems=!0,this.items=await this.options(),this.selectedIndex=this.getSelectedIndex(),this.isLoadingItems=!1,this.isItemsLoaded=!0)}}},Di=(s("IrMH"),Object(Ue.a)(Ei,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slds-combobox_container ld-picklist"},[i("div",{staticClass:"slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click",class:{"slds-is-open":e.showDropdown},attrs:{"aria-expanded":"true","aria-haspopup":"listbox",role:"combobox"}},[i("div",{staticClass:"slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right",attrs:{role:"none"}},[i("input",{ref:"ComboboxInput",staticClass:"slds-input slds-combobox__input slds-combobox__input-value ld-picklist__input",class:{disabled:e.disabled},attrs:{placeholder:e.placeholder,disabled:e.disabled,type:"text",autocomplete:"off",role:"textbox",readonly:""},domProps:{value:e.text},on:{click:function(t){return e.onClickCombobox()}}}),e._v(" "),i("span",{staticClass:"slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right"},[e._t("default",[i("svg",{staticClass:"slds-icon slds-icon_xx-small slds-icon-text-default",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":s("gtSB")}})])])],2)]),e._v(" "),i("div",{ref:"DropdownMenu",staticClass:"slds-dropdown slds-dropdown_fluid",class:[e.menuRowsClass],style:e.menuPositionStyle,attrs:{role:"listbox"}},[i("ul",{staticClass:"slds-listbox slds-listbox_vertical",attrs:{role:"group"}},[e.optionHeader?i("li",{staticClass:"slds-listbox__item",attrs:{role:"presentation"}},[i("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain",attrs:{role:"presentation"}},[i("h3",{staticClass:"slds-listbox__option-header",attrs:{role:"presentation"}},[e._v("\n              "+e._s(e.optionHeader)+"\n            ")])])]):e._e(),e._v(" "),e.noRecordVisible?i("li",{staticClass:"slds-listbox__item",attrs:{role:"presentation"}},[i("div",{staticClass:"slds-listbox__option slds-listbox__option_plain",attrs:{role:"presentation"}},[i("div",{staticClass:"ld-picklist__no-record",attrs:{role:"presentation"}},[e._v("\n              "+e._s(e.$t("global.noRecords"))+"\n            ")])])]):e._e(),e._v(" "),e._l(e.items,(function(t,a){return i("li",{key:a,staticClass:"slds-listbox__item",attrs:{role:"presentation"},on:{click:function(t){return e.onClickOption(a)}}},[i("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",class:{"slds-is-selected":e.isOptionSelected(a)},attrs:{role:"option"}},[i("span",{staticClass:"slds-media__figure"},[i("svg",{staticClass:"slds-icon slds-icon_x-small slds-listbox__icon-selected",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":s("M0k5")}})])]),e._v(" "),i("span",{staticClass:"slds-media__body"},[i("span",{staticClass:"slds-truncate",attrs:{title:t.label}},[e._v("\n                "+e._s(t.label)+"\n              ")])])])])}))],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingItems,expression:"isLoadingItems"}],staticClass:"ld-picklist__loading-container"},[i("ld-loading",{attrs:{size:"small",type:"brand"}})],1)])])])}),[],!1,null,"6936fb65",null).exports);var Pi=e=>{e.component("ld-picklist",Di)},Ri={name:"ld-action-menu",props:{items:{type:Array,required:!0,default:()=>[]},position:{type:String,required:!1,default:"right",validator(e){var t;return l()(t=["left","right","bottom"]).call(t,e)}},width:{type:String,required:!1,default:"xx-small",validator(e){var t;return l()(t=["xx-small","x-small","small","medium","large"]).call(t,e)}},height:{type:Number,required:!1,default:6,validator(e){var t;return l()(t=[5,6,7,10]).call(t,e)}}},data:()=>({showMenu:!1}),computed:{dropdownClasses(){return["slds-dropdown_".concat(this.position),"slds-dropdown_".concat(this.width),"slds-dropdown_length-".concat(this.height)].join(" ")},dropdownListClasses(){return"slds-dropdown_length-".concat(this.height)}},methods:{onClickDownButton(){this.showMenu=!this.showMenu},onClickOutside(){this.showMenu=!1},onClickItem(e){this.$emit("click",e),this.showMenu=!1}}},Oi=Object(Ue.a)(Ri,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[i("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small",attrs:{"aria-haspopup":"true"},on:{click:function(t){return e.onClickDownButton()}}},[i("svg",{staticClass:"slds-button__icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":s("gtSB")}})]),e._v(" "),i("span",{staticClass:"slds-assistive-text"},[e._v("Show More")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"slds-dropdown slds-dropdown_actions",class:e.dropdownClasses},[i("ul",{staticClass:"slds-dropdown__list",class:e.dropdownListClasses,attrs:{role:"menu","aria-label":"Show More"}},e._l(e.items,(function(t,s){return i("li",{key:s,staticClass:"slds-dropdown__item",attrs:{role:"presentation"},on:{click:function(s){return e.onClickItem(t)}}},[i("a",{attrs:{href:"javascript:void(0);",role:"menuitem"}},[i("span",{staticClass:"slds-truncate",attrs:{title:t.label}},[e._v(e._s(t.label))])])])})),0)])])}),[],!1,null,null,null).exports;var Bi=e=>{e.component(Oi.name,Oi)},$i=s("7Cta"),Fi=s.n($i),Ui=s("0Gvj"),Vi=s.n(Ui),ji={name:"ld-image-viewer",props:{title:{type:String,default:""},url:{type:String,required:!0}},data:()=>({sampleImage:Vi.a,show:!1}),computed:{src(){var e,t;return!this.url||z()(e=this.url).call(e,"?file=undefined")>-1||z()(t=this.url).call(t,"?file=null")>-1?Fi.a:this.url}},methods:{onImageError(e){e.target.src=Fi.a},open(){this.show=!0},close(){this.$emit("close"),this.show=!1}}},zi=(s("Sa+P"),Object(Ue.a)(ji,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ld-image-viewer"},[i("div",{staticClass:"image-viewer__bg",on:{click:function(t){return e.close()}}}),e._v(" "),i("div",{staticClass:"slds-grid slds-grid_vertical-align-center image-viewer__header",on:{click:function(t){return e.close()}}},[i("img",{staticClass:"image-viewer__icon",attrs:{src:e.sampleImage}}),e._v(" "),i("span",{staticClass:"image-viewer__title"},[e._v(e._s(e.title))]),e._v(" "),i("a",{staticClass:"image-viewer__download slds-col_bump-left",attrs:{target:"_blank",href:e.url},on:{click:function(e){e.stopPropagation()}}},[i("svg",{staticClass:"slds-button__icon slds-button_icon-x-small",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":s("rl/i")}})])]),e._v(" "),i("button",{staticClass:"slds-button slds-button_icon-inverse image-viewer__close-btn",on:{click:function(t){return e.close()}}},[i("svg",{staticClass:"slds-button__icon slds-button_icon-x-small",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":s("Evxa")}})])])]),e._v(" "),i("div",{staticClass:"image-viewer__content"},[i("img",{staticClass:"image-viewer__image",attrs:{src:e.src},on:{error:function(t){return e.onImageError(t)}}})])])}),[],!1,null,"b3ee9406",null).exports);var Wi=e=>{e.component(zi.name,zi)};const Hi=["inverse","brand",""],Gi=["xx-small","x-small","small","medium","large"];var Zi={name:"ld-loading",props:{type:{type:String,validator:e=>l()(Hi).call(Hi,e),default:"brand"},size:{type:String,validator:e=>l()(Gi).call(Gi,e),default:"medium"}},computed:{typeClass(){return this.type?"slds-spinner_".concat(this.type):""},sizeClass(){return"slds-spinner_".concat(this.size)},spinnerClasses(){return[this.typeClass,this.sizeClass]}}},Xi=Object(Ue.a)(Zi,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner",class:this.spinnerClasses,attrs:{"aria-hidden":"false",role:"alert"}},[t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])}),[],!1,null,null,null).exports;var Qi=e=>{e.component(Xi.name,Xi)},Yi={name:"ld-dot-loading"},qi=(s("/mP/"),Object(Ue.a)(Yi,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading-area"},[t("div",{staticClass:"status-dot one-dot"}),this._v(" "),t("div",{staticClass:"status-dot two-dot"}),this._v(" "),t("div",{staticClass:"status-dot three-dot"})])}],!1,null,"1297336c",null).exports);var Ji=e=>{qi.name,e.component(qi.name,qi)},Ki={name:"ld-button-group",props:{buttonGroup:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},isDownDisabled:{type:Boolean,default:()=>!1},variation:{type:String,default:()=>"neutral"}},computed:{variationStyle(){return"slds-button slds-button_".concat(this.variation)}},data:()=>({showMenu:!1}),methods:{onClickDownButton(){this.showMenu=!this.showMenu},onClickOutside(){this.showMenu=!1},onClickButton(e){this.$emit("click-button",e),this.showMenu=!1},onClickItem(e){this.$emit("click-item",e),this.showMenu=!1}}},ea=Object(Ue.a)(Ki,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"slds-button-group",attrs:{role:"group"}},[e._l(e.buttonGroup,(function(t,i){return s("button",{key:i,class:e.variationStyle,attrs:{disabled:t.status},on:{click:function(s){return e.onClickButton(t)}}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),e._v(" "),0!==e.items.length?s("div",{staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click slds-button_last",class:{"slds-is-open":e.showMenu}},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-brand",attrs:{"aria-haspopup":"true",disabled:e.isDownDisabled},on:{click:function(t){return e.onClickDownButton()}}},[s("icon",{attrs:{name:"down","fill-color":"",width:"14px",height:"14px"}})],1),e._v(" "),s("div",{staticClass:"slds-dropdown slds-dropdown_right slds-dropdown_actions"},[s("ul",{staticClass:"slds-dropdown__list",attrs:{role:"menu"}},e._l(e.items,(function(t,i){return s("li",{key:i,staticClass:"slds-dropdown__item",attrs:{role:"presentation"},on:{click:function(s){return e.onClickItem(t)}}},[s("a",{attrs:{href:"javascript:void(0);",role:"menuitem",tabindex:"0"}},[s("span",{staticClass:"slds-truncate"},[e._v("\n              "+e._s(t.label)+"\n            ")])])])})),0)])]):e._e()],2)}),[],!1,null,null,null).exports;var ta=e=>{e.component(ea.name,ea)};var sa=e=>{e.use(Ai),e.use(Pi),e.use(Bi),e.use(Wi),e.use(Qi),e.use(Ji),e.use(ta)};var ia={computed:Be()({},Object(r.c)({$user:"user/currentUser"}),{$wechatAccount:{get(){return{id:this.$route.params.accountId}},set(){}},$app(){return this.$root.$children[0]}}),methods:{$confirm(e){return this.$root.$children[0].$refs.GlobalConfirm.open(e)}}},aa=s("WeHA"),na=s.n(aa),oa=s("QBew"),la=s.n(oa);s("NFMj");const ra=se.a.isInLightningConsole;a.default.use(xs.a),a.default.use(Es),a.default.use(Rs),a.default.use(Zs),a.default.use(ri),a.default.use(Ii),As.polyfill(),a.default.use(n.a),a.default.use(sa),a.default.use(na.a),a.default.use(os.a),a.default.use(la.a),a.default.mixin(ia),window._sfdcSessionId=ra?Si.a.getRESTAPISessionKey():_sfdcSessionId,a.default.http.headers.common.Authorization="OAuth "+_sfdcSessionId,a.default.http.headers.common["Content-Type"]="application/json";const ca=()=>{window.app=new a.default({i18n:Us,router:Vt,render:e=>e(Is)}).$mount("#app")};if(ra){const e=async()=>{try{await E.a.getComponentInfo(),E.a.getTabId(),ca()}catch(t){e()}};e()}else ca();!ra&&se.a.isInClassicConsole&&se.a.console.isInCustomConsoleComponent(e=>{e.inCustomConsoleComponent&&Vt.replace({name:"console-thread"}),window.CharketConsole&&window.CharketConsole.transcriptId&&Vt.replace({name:"console-message",params:{recordId:window.CharketConsole.transcriptId,followerId:window.CharketConsole.followerId}})})},W5f9:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},WCBH:function(e,t,s){},WGdl:function(e,t,s){},WJzM:function(e,t,s){"use strict";var i=s("7iCX");class a extends i.a{constructor(e){super(e),this.id=this.id||this.messageId,"Text Message"===this.type&&(this.content=this.textBody)}clone(){return new a(this.getData())}}t.a=a},WMoe:function(e,t,s){"use strict";var i=s("yz3v"),a=s.n(i);t.default=a.a},WfgW:function(e,t,s){},WuRX:function(e,t,s){"use strict";var i=s("vQrK"),a=s.n(i),n=s("u7w5"),o=s("HnSg"),l=s("L2JU"),r=s("4B+h"),c={props:{title:{type:String,default:""},reply:{type:Object,default:()=>({})},quickReplyType:{type:String,default:"All"}},computed:a()({},Object(l.e)({currentAccountId:e=>e.livechat.currentThread.WeChatAccount.Id})),components:{LimitedTextarea:o.a},data:()=>({replyTitle:"",msg:"",disabledSaveBtn:!0,disabledCancelBtn:!1,textLimitNumber:2e3}),created(){this.reply&&this.reply.Id&&(this.msg=this.reply.TextBody__c,this.replyTitle=this.reply.Name)},methods:{closePopup(){this.$emit("close-quick-reply")},setButtonsStatus(e){this.disabledSaveBtn=e,this.disabledCancelBtn=e},async saveMsg(){this.setButtonsStatus(!0);let e=this.replyTitle&&""!==this.replyTitle?this.replyTitle:this.msg.substring(0,79);if(this.reply.Id)try{const t=await Object(n.f)(this.reply.Id,this.msg,e);this.setButtonsStatus(!1),t.ok?this.$emit("close-quick-reply","edit",{Id:this.reply.Id,Name:e,TextBody__c:this.msg}):Object(r.f)(t)}catch(e){this.setButtonsStatus(!1),Object(r.f)(e)}else{let t=this.$route.params.accountId||this.currentAccountId;try{const s=await Object(n.c)(t,this.msg,e,"All"===this.quickReplyType?"Public":this.quickReplyType);this.setButtonsStatus(!1),s.ok?this.$emit("close-quick-reply","create",{Id:s.data,Name:e,TextBody__c:this.msg}):Object(r.f)(s)}catch(e){this.setButtonsStatus(!1),Object(r.f)(e)}}},onLimitedTextareaChange(e){let{content:t,size:s}=e;this.disabledSaveBtn=0===s||s>this.textLimitNumber,this.msg=t}}},d=(s("BADP"),s("KHd+")),h=s("DrCI"),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"new-quick-reply"}},[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container new-width",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closePopup()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.title))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium new-height"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control slds-grid new-short-code",attrs:{id:"title"}},[s("label",{attrs:{for:""}},[e._v("#")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.replyTitle,expression:"replyTitle"}],staticClass:"slds-col",attrs:{type:"text",placeholder:e.$t("shortCodeLabel")},domProps:{value:e.replyTitle},on:{input:function(t){t.target.composing||(e.replyTitle=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"new-type-prompt"},[e._v(e._s(e.$t("promptLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control",on:{keydown:function(e){e.stopPropagation()}}},[s("limited-textarea",{attrs:{content:e.msg,sum:2e3},on:{change:e.onLimitedTextareaChange}})],1)])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.disabledCancelBtn},on:{click:function(t){return e.closePopup()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.disabledSaveBtn},on:{click:function(t){return e.saveMsg()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"8b7fbeca",null);"function"==typeof h.default&&Object(h.default)(u);t.a=u.exports},X4XD:function(e,t,s){"use strict";var i=s("OB6B"),a={methods:{async onClickReload(){this.$emit("click-reload"),"consoleMessage"!==i.a.componentName&&"console-message"!==this.$route.name&&(this.$root.$emit("reload-livechat"),this.$store.commit("livechat/SET_INIT_FLAG",!1),await this.$store.dispatch("livechat/initLiveChat"),this.$store.commit("livechat/SET_INIT_FLAG",!0))}}},n=(s("Qgla"),s("KHd+")),o=s("XNrI"),l=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"active-live-chat-popup"},[s("div",{staticClass:"slds-modal slds-fade-in-open"},[s("div",{staticClass:"slds-modal__container modal-popup-container"},[s("div",{staticClass:"slds-modal__header custom-modal-header"},[s("h2",{staticClass:"slds-text-heading_medium"},[e._v("\n          "+e._s(e.$t("sorryToInterrupt"))+"\n        ")])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium custom-modal-content"},[e._v("\n        "+e._s(e.$t("needRefreshContent"))+"\n      ")]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("div",[s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",on:{click:function(t){return e.onClickReload()}}},[e._v("\n            "+e._s(e.$t("reload"))+"\n          ")])])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"ac9159b6",null);"function"==typeof o.default&&Object(o.default)(l);t.a=l.exports},X9gq:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 82 82" id="mini_program" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M72,0H10C4.5,0,0,4.5,0,10v62c0,5.5,4.5,10,10,10h62c5.5,0,10-4.5,10-10V10C82,4.5,77.5,0,72,0z M72.3,36\n  c-2.2,3.6-5.7,6.2-9.9,7.5c-1.1,0.3-2,0.5-2.9,0.5c-2.3,0-4.1-1.8-4.1-4.1s1.8-4.1,4.1-4.1c0.1,0,0.2,0,0.3-0.1l0.1,0\n  c2.4-0.7,4.3-2.1,5.4-3.9c0.7-1.1,1.1-2.4,1.1-3.7c0-4.4-4.1-8-9.1-8c-1.8,0-3.4,0.4-5,1.3c-2.6,1.5-4.2,4-4.2,6.7v26.1\n  c0,5.7-3.1,10.8-8.3,13.8c-2.7,1.6-5.8,2.4-9,2.4c-9.6,0-17.4-7.3-17.4-16.2c0-2.7,0.8-5.5,2.3-8c2.2-3.6,5.7-6.2,9.9-7.5\n  c1.2-0.3,2.1-0.5,2.9-0.5c2.3,0,4.1,1.8,4.1,4.1s-1.8,4.1-4.1,4.1c-0.1,0-0.2,0-0.3,0.1c-2.5,0.8-4.4,2.2-5.5,3.9\n  c-0.7,1.1-1,2.4-1,3.7c0,4.4,4.1,8,9.2,8c1.8,0,3.4-0.4,5-1.3c2.6-1.5,4.2-4,4.2-6.7V28c0-5.7,3.1-10.8,8.3-13.8\n  c2.6-1.6,5.7-2.4,9-2.4c9.6,0,17.4,7.3,17.4,16.2C74.6,30.7,73.8,33.5,72.3,36z" fill=""/> </symbol>',"mini_program")},X9i0:function(e,t,s){"use strict";var i=s("QuST"),a=s.n(i);t.default=a.a},XIlo:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));let i={isInLightningConsole:window.IS_IN_LIGHTNING_COMPONENT,isInClassicConsole:"undefined"!=typeof sforce&&null!==sforce&&void 0!==sforce.console&&null!==sforce.console&&sforce.console.isInConsole(),console:"undefined"!=typeof sforce&&null!==sforce&&void 0!==sforce.console&&null!==sforce.console&&sforce.console.isInConsole()?sforce.console:null,addEventListener(e,t){this.console.addEventListener(e,e=>{try{const s=JSON.parse(e.message);t(s)}catch(s){t(e.message)}})}}},XNr8:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},XNrI:function(e,t,s){"use strict";var i=s("AKja"),a=s.n(i);t.default=a.a},XYZ7:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 55 55" id="live_chat_monitor" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Live Chat Monitor</title> <desc>Created with Sketch.</desc> <g> <path d="M38.6,17.8c-1.5,0-2.8,1.3-2.8,2.9c0,0.6,0.2,1.1,0.4,1.5L32.9,27c-0.1,0-0.2,0-0.3,0l-6.3-6.8\n\t\tc0.4-0.5,0.7-1.1,0.7-1.8c0-1.6-1.2-2.9-2.8-2.9c-1.6,0-2.8,1.3-2.8,2.9c0,0.7,0.2,1.4,0.7,1.9L16.4,27c-1.5,0-2.7,1.3-2.7,2.9\n\t\tc0,1.6,1.2,2.9,2.8,2.9c1.6,0,2.8-1.3,2.8-2.9c0-0.4-0.1-0.9-0.3-1.2l5.3-6.2l6.2,6.6c0,0,0,0,0,0.1c-0.1,0.2-0.1,0.5-0.1,0.8\n\t\tc0,1.6,1.2,2.9,2.8,2.9c1.6,0,2.8-1.3,2.8-2.9c0-0.5-0.1-0.9-0.3-1.3l3.5-5.1c1.3-0.2,2.4-1.4,2.4-2.8\n\t\tC41.4,19.1,40.2,17.8,38.6,17.8z" fill=""/> <path d="M29.9,2.7c-0.1,0-4.4,0-4.7,0c-11.1,0-21.1,7.9-22,20.1c0,0.1,0,0.1,0,0c-2.1,14.8,11.5,26.6,22,30.3\n\t\tc-0.3-2.8-1.6-6.4,2-6.4c0.1,0,2.3,0,2.8,0c12.2,0,21.6-9.9,22-22C52.3,12.8,42.7,3.1,29.9,2.7z M29.9,43.1c-0.4,0-3.4,0.1-4.1,0.2\n\t\tc-0.5,0.1-1.1,0.2-1.8,0.6c-0.5,0.3-1,0.7-1.3,1.1c-0.7,0.8-1,1.6-1.2,2.4C13.4,42.7,5.3,33.7,6.8,23.2c1-10.2,9.3-17,18.4-17\n\t\tc0.3,0,4.4,0,4.4,0c10.7,0.4,19,8.4,18.7,18.3C48.2,35,39.9,43.1,29.9,43.1z" fill=""/> </g> </symbol>',"live_chat_monitor")},XfGo:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectSkillLabel":"选择技能","nameLabel":"技能名称","knowledgeSourceLabel":"知识源","relatedToLabel":"相关项","descriptionLabel":"描述","validForLabel":"有效时间(分钟)","displayInLiveChatLabel":"在 Live Chat 中显示","internalLabel":"内部","lastModifiedByLabel":"上次修改人"},"en":{"selectSkillLabel":"Select Skill","nameLabel":"Name","knowledgeSourceLabel":"Knowledge Source","relatedToLabel":"Related To","descriptionLabel":"Description","validForLabel":"Valid For (mins)","displayInLiveChatLabel":"Display in Live Chat","internalLabel":"Internal","lastModifiedByLabel":"Last Modified By"}}'),delete e.options._Ctor}},XflS:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 26 32" id="notify" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <rect x="4" y="9" width="18" height="2"/> <rect x="4" y="5" width="18" height="2"/> <rect x="4" y="17" width="18" height="10"/> <rect x="4" y="13" width="12" height="2"/> </g> <path d="M24,0H2C0.9,0,0,0.9,0,2v28c0,1.1,0.9,2,2,2h22c1.1,0,2-0.9,2-2V2C26,0.9,25.1,0,24,0z M24,29c0,0.5-0.5,1-1,1H3\r\n\tc-0.5,0-1-0.5-1-1V3c0-0.5,0.5-1,1-1h20c0.5,0,1,0.5,1,1V29z" fill=""/> </symbol>',"notify")},Xjgd:function(e,t,s){},XmpP:function(e,t,s){"use strict";var i=s("TDue");t.a={components:{SelectField:i.a},data:()=>({showMergeField:!1}),methods:{openMergeField(){this.showMergeField=!0},closeMergeField(){this.showMergeField=!1}}}},"Y/WH":function(e,t,s){"use strict";var i={components:{MiniProgramCard:s("RGla").MiniProgramCard},props:{miniProgramPage:{type:Object,default:()=>({})}}},a=s("KHd+"),n=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("mini-program-card",{attrs:{title:this.miniProgramPage.title,image:this.miniProgramPage.url,description:this.$t("global.miniProgramLabel")}})],1)}),[],!1,null,null,null);t.a=n.exports},Y4XF:function(e,t,s){},YDlF:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 41 30" id="broke_video" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M37.1,0H26.9h-2.4l-4.7,6.1l6,8.8L21,24.1l3.3,5.7h2.2h5.9h5.1c0.5,0,0.9-0.2,1.3-0.4c1.1-0.6,1.8-1.7,1.8-3\n\tv-23C40.5,1.6,39,0,37.1,0z M32.5,28h-7.1v-0.1l-2.2-3.8l4.8-9.2l-5.8-8.6l3.3-4.2h7V28z M38.4,26.7c0,0.5-0.5,1-1,1h-1.9\n\tc-0.5,0-1-0.5-1-1v-2.5c0-0.6,0.5-1,1-1h1.9c0.6,0,1,0.5,1,1V26.7z M38.4,19.7c0,0.6-0.5,1-1,1h-1.9c-0.5,0-1-0.4-1-1v-2.5\n\tc0-0.6,0.5-1,1-1h1.9c0.6,0,1,0.4,1,1V19.7z M38.4,12.6c0,0.5-0.5,1-1,1h-1.9c-0.5,0-1-0.5-1-1v-2.5c0-0.5,0.5-1,1-1h1.9\n\tc0.6,0,1,0.5,1,1V12.6z M38.4,5.6c0,0.6-0.5,1-1,1h-1.9c-0.5,0-1-0.4-1-1V3.1c0-0.5,0.5-1,1-1h1.9c0.6,0,1,0.4,1,1V5.6z" fill=""/> <path d="M22.4,14.8l-5.8-8.6L21.4,0H19H4C3.7,0,3.5,0,3.2,0.1C2.6,0.2,2.1,0.5,1.7,0.8C1,1.5,0.5,2.4,0.5,3.4v23\n\tc0,1.9,1.5,3.4,3.4,3.4h14.9H21L17.7,24L22.4,14.8z M6.5,26.7c0,0.5-0.5,1-1,1H3.6c-0.5,0-1-0.5-1-1v-2.5c0-0.6,0.5-1,1-1h1.9\n\tc0.6,0,1,0.5,1,1V26.7z M6.5,19.7c0,0.6-0.5,1-1,1H3.6c-0.5,0-1-0.4-1-1v-2.5c0-0.6,0.5-1,1-1h1.9c0.6,0,1,0.4,1,1V19.7z M6.5,12.6\n\tc0,0.5-0.5,1-1,1H3.6c-0.5,0-1-0.5-1-1v-2.5c0-0.5,0.5-1,1-1h1.9c0.6,0,1,0.5,1,1V12.6z M6.5,5.6c0,0.6-0.5,1-1,1H3.6\n\tc-0.5,0-1-0.4-1-1V3.1c0-0.5,0.5-1,1-1h1.9c0.6,0,1,0.4,1,1V5.6z M8.5,27.9V2h8.9l-3.2,4.2l6,8.8l-4.7,9.1l2.2,3.8H8.5z" fill=""/> </symbol>',"broke_video")},YLcN:function(e,t,s){"use strict";var i=s("vvYZ"),a=s.n(i);t.default=a.a},YhsT:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"aboutFollowerLabel":"关于此关注者","nameLabel":"名称","weChatAccLabel":"微信公众号","detailsLabel":"详情","relatedLabel":"相关","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","relatedToLabel":"相关","activityLabel":"最近活跃时间","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"电话","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名称","accountNameLabel":"客户名","changeSaveLabel":"更改已保存。","tagCreateSuccess":"标签已创建","tags":"标签","edit":"编辑","noTags":"没有标签","assignTagstitle":"分配标签","searchTags":"搜索标签"},"en":{"aboutFollowerLabel":"About This Follower","nameLabel":"Name","weChatAccLabel":"WeChat Account","detailsLabel":"Details","relatedLabel":"Related","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","relatedToLabel":"Related To","activityLabel":"Last Activity Time","leadLabel":"Lead | Leads","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact | Contacts","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","changeSaveLabel":"Changes were saved.","tagCreateSuccess":"Tag was created","tags":"Tags","edit":"Edit","noTags":"No Tags","assignTagstitle":"Assign Tags","searchTags":"Search Tags"}}'),delete e.options._Ctor}},YjsE:function(e,t,s){"use strict";var i={components:{StructureMessageDetailCard:s("NZ6z").StructureMessageDetailCard},props:{structureMessage:{type:Object,default:()=>({})},allowActions:{type:Boolean,default:!1},showViewIcon:{type:Boolean,default:!1}}},a=s("KHd+"),n=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.structureMessage.attachments?s("structure-message-detail-card",{attrs:{attachments:e.structureMessage.attachments,date:e._f("formatDatetimeFilter")(e.structureMessage.weChatLastModifiedTime,e.$user.TimeZoneSidKey),"link-title":e.$t("global.openLabel"),"message-type":e.structureMessage.type,"allow-actions":e.allowActions,"show-view-icon":e.showViewIcon,"tooltip-content":e.$t("global.syncedWithWeChatPlatform")}}):e._e()}),[],!1,null,null,null);t.a=n.exports},Ysrs:function(e,t,s){"use strict";var i=s("fO7v");s.n(i).a},ZVg1:function(e,t,s){},ZiMx:function(e,t,s){"use strict";var i=s("UD+S"),a=s.n(i);t.default=a.a},Zu1b:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="reply" ><path d="m19.2 18.1s-1.1-1.1-0.5-1.7l5.6-5.6c0.6-0.6 0.6-1.5 0-2.1l-2.1-2.2c-0.6-0.6-1.5-0.6-2.1 0l-13.5 13.5c-0.6 0.6-0.6 1.5 0 2.1l13.5 13.5c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1c0.6-0.6 0.6-1.5 0-2.1l-5.5-5.6c-0.6-0.6-0.2-1.5 0.5-1.7 11.1 0.4 20.1 9.3 20.8 20.6 0 0.8 0.7 1.4 1.5 1.4h3c0.9 0 1.4-0.7 1.3-1.6-0.7-14.5-11.7-25.9-26.7-26.4z" fill=""/></symbol>',"reply")},a0Jt:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 16 16" id="message_action" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M14.9,10.2L14.9,10l-1.3-3.7c-0.4-0.9-1.1-1.4-2-1.3c-0.7,0.1-1.2,0.5-1.4,1.1c0,0.1-0.2,0.2-0.3,0.1l0,0\n  L7.2,3.7C6.2,2.8,5,3.4,4.7,3.8c-0.5,0.5-1,1.5-0.3,2.3l0.1,0.1L6.4,8L5.7,8.8L5,9.5C4.8,9.8,4.6,10,4.5,10.2\n  c-0.6,0.7-0.6,1.4-0.1,2l0.1,0.1l2,1.9c1.6,1.5,4.2,1.6,5.9,0.1l0.2-0.1l1.7-1.6C14.9,12,15.2,11.1,14.9,10.2z M12.9,11.9L12.7,12\n  l-1.1,1c-1.1,1.1-2.9,1.1-4.1,0.1L7.4,13l-1.9-1.8l0.1-0.2l0.3-0.3l0.3-0.4c0.2-0.2,0.4-0.4,0.6-0.6l0.9-1C7.9,8.6,8,8.4,8,8.1\n  c0-0.3-0.1-0.6-0.4-0.9L7.5,7L5.7,5.3c-0.2-0.2-0.1-0.4,0-0.5c0.1-0.1,0.3-0.1,0.5,0l0.1,0.1l4.1,3.9c0.5,0.4,1.3,0.1,1.3-0.5\n  l0-0.1l-0.1-1.4c0-0.2,0-0.3,0.1-0.3l0.1,0c0.1,0,0.2,0,0.4,0.2l0,0.1l1,3.4C13.4,10.8,13.3,11.5,12.9,11.9z" fill=""/> <path d="M5.6,8.5C5.8,8.4,5.9,8.2,5.9,8c0-0.4-0.2-0.7-0.6-0.8l-0.1,0C4.6,7.2,4,6.9,3.6,6.5c-1.1-1-1.1-2.6,0-3.6\n  s2.8-1,3.8,0c0.4,0.4,0.7,1,0.8,1.6C8.2,4.8,8.6,5.1,9,5.1C9.2,5,9.4,5,9.5,4.8c0.2-0.2,0.2-0.4,0.2-0.6C9.6,3.3,9.2,2.5,8.5,1.8\n  C7.7,1,6.6,0.6,5.5,0.6c-1,0-2.1,0.4-2.8,1L2.5,1.8C1.7,2.6,1.2,3.6,1.2,4.7c0,1.1,0.5,2.1,1.3,2.9c0.7,0.6,1.6,1,2.6,1.2\n  C5.3,8.7,5.5,8.6,5.6,8.5z" fill=""/> </symbol>',"message_action")},a1Vi:function(e,t,s){"use strict";var i=s("jab7");s.n(i).a},aJkT:function(e,t,s){},aKmg:function(e,t,s){"use strict";var i=s("dDi8");s.n(i).a},aLob:function(e,t,s){"use strict";var i=s("5XP1"),a=s.n(i);t.default=a.a},aMAp:function(e,t,s){},aT8g:function(e,t,s){"use strict";var i=s("EXbK"),a=s.n(i);t.default=a.a},afxJ:function(e,t,s){"use strict";var i=s("4toV");s.n(i).a},ag2C:function(e,t,s){"use strict";var i={props:{livechatActive:{type:Boolean,required:!0}},methods:{restartLiveChat(){this.$root.$emit("activate-livechat")}}},a=(s("p3iR"),s("KHd+")),n=s("ZiMx"),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"active-live-chat-popup"},[e.livechatActive?e._e():s("div",{staticClass:"slds-modal slds-fade-in-open"},[s("div",{staticClass:"slds-modal__container modal-popup-container"},[s("div",{staticClass:"slds-modal__header custom-modal-header"},[s("h2",{staticClass:"slds-text-heading_medium"},[e._v("\n          "+e._s(e.$t("reloadHeader"))+"\n        ")])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium custom-modal-content"},[e._v("\n        "+e._s(e.$t("reloadContent"))+"\n      ")]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("div",[s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",on:{click:function(t){return e.restartLiveChat()}}},[e._v("\n            "+e._s(e.$t("reloadBtn"))+"\n          ")])])])])]),e._v(" "),e.livechatActive?e._e():s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"6cb52490",null);"function"==typeof n.default&&Object(n.default)(o);t.a=o.exports},aiNn:function(e,t,s){},au77:function(e,t,s){"use strict";var i=s("UmIh"),a=s.n(i);t.default=a.a},av5D:function(e,t,s){},ax3p:function(e,t,s){},b6s1:function(e,t,s){"use strict";var i=s("psiC"),a=s.n(i);t.default=a.a},bYLY:function(e,t,s){},bYcg:function(e,t,s){},bZcZ:function(e,t,s){"use strict";var i=s("KuEw"),a=s.n(i);t.default=a.a},"baI+":function(e,t,s){"use strict";var i=s("BYG8");s.n(i).a},c5Uu:function(e,t,s){"use strict";var i=s("sSdc"),a=s.n(i);t.default=a.a},cCa7:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 30 30" id="tag_grey" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="tag_grey_XMLID_28_" fill="" d="M26.6,1.4h-10c-0.9,0-2.3,0.3-3.8,1.7L2.1,13.7c-1.4,1.4-1.4,3.6,0,5l9,8.9\n  c1.4,1.4,3.7,1.4,5.1,0l11-11c0.7-0.7,1.9-2.1,1.9-3.5V3.8C29,2.4,27.9,1.4,26.6,1.4z M14.8,25.4c-0.7,0.7-1.9,0.7-2.6,0l-7.5-7.5\n  C4,17.2,4,16,4.7,15.3L6,14l10,10L14.8,25.4z M23.2,11.9c-1.4,1.5-3.7,1.5-5.1,0c-1.4-1.4-1.4-3.7,0-5.1c1.4-1.4,3.7-1.4,5.1,0\n  S24.6,10.5,23.2,11.9z"/> </symbol>',"tag_grey")},cSD4:function(e,t,s){},cSkf:function(e,t,s){},cYoD:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"tabList":["主页","关注者","二维码","凭证","群发消息","素材库","模板消息","菜单","自动回复","专员","短网址"],"tabLabels":["市场","消息","自定义"],"couponsLabel":"卡券"},"en":{"tabList":["Home","Followers","QR Codes","Passes","Mass Message","Message Library","Notifications","Menu","Response","Agents","URL Shortener"],"tabLabels":["MARKETING","MESSAGE","CUSTOMIZE"],"couponsLabel":"Coupons"}}'),delete e.options._Ctor}},cbFz:function(e,t,s){"use strict";var i=s("K0wY");s.n(i).a},cnZd:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 74.2 92.5" id="pass" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="pass_XMLID_1_"> <path id="pass_XMLID_11_" fill="" d="M68.6,0H46c0,0,0,0,0,0c0,4.9-4,8.9-8.9,8.9s-8.9-4-8.9-8.9c0,0,0,0,0,0H5.6C2.5,0,0,2.5,0,5.6\n\t\tv18h74.2v-18C74.2,2.5,71.7,0,68.6,0z"/> <path id="pass_XMLID_14_" fill="" d="M0,89.6c0,0.7,0.3,1.3,0.9,1.7c0.6,0.4,2,0.6,2.8,0.7c0.8,0,2-0.1,2.8-0.5\n\t\tc0.7-0.4,1.3-0.9,1.5-1.8c0.3-0.8,0.7-1.5,1.4-2c0.6-0.5,3.6-0.8,4.4-0.9c0.8-0.1,1.6,0.1,2.3,0.6c0.7,0.5,1.3,1.2,1.7,2.3\n\t\tc0.4,0.8,0.9,1.5,1.7,2c0.8,0.5,1.5,0.8,2.3,0.8c0.8,0.1,1.5-0.1,2.3-0.5c0.7-0.4,1.2-1.1,1.5-2c0.3-1.1,0.8-1.9,1.6-2.5\n\t\tc0.8-0.6,1.6-0.9,2.5-0.9c0.8,0,1.7,0.2,2.5,0.7c0.8,0.5,1.4,1.2,1.8,2.2c0.4,0.9,0.9,1.6,1.7,2c0.8,0.5,1.5,0.7,2.4,0.7\n\t\ts1.6-0.1,2.4-0.5c0.7-0.4,1.3-0.9,1.7-1.6c1.1-2.2,2.5-3.4,4.1-3.5c1.6-0.1,2.8,0.7,3.8,2.5c0.4,0.8,0.9,1.5,1.7,2\n\t\tc0.8,0.5,1.6,0.8,2.5,0.8c0.9,0,1.7-0.1,2.4-0.5c0.7-0.4,1.2-0.9,1.5-1.7c0.3-1.1,0.8-1.9,1.5-2.5c0.7-0.6,1.5-0.9,2.3-0.9\n\t\tc0.9-0.1,1.7,0.2,2.5,0.7c0.9,0.5,1.5,1.3,2.1,2.3c0.4,0.7,1,1.2,1.7,1.6c0.8,0.3,1.6,0.4,2.3,0.4c0.7-0.1,2.3-0.3,2.9-0.8\n\t\tc0.6-0.4,0.9-1,0.9-1.7V30.1H0V89.6z M21.2,42H63v5.8H21.2V42z M21.2,53.8H63v5.8H21.2V53.8z M21.2,65.4H63v5.8H21.2V65.4z\n\t\t M11.2,42h6.1v5.8h-6.1V42z M11.2,53.8h6.1v5.8h-6.1V53.8z M11.2,65.4h6.1v5.8h-6.1V65.4z"/> </g> </symbol>',"pass")},cybb:function(e,t,s){"use strict";s.d(t,"g",(function(){return p})),s.d(t,"a",(function(){return m})),s.d(t,"b",(function(){return g})),s.d(t,"c",(function(){return f})),s.d(t,"e",(function(){return v})),s.d(t,"d",(function(){return _})),s.d(t,"h",(function(){return C})),s.d(t,"i",(function(){return b})),s.d(t,"j",(function(){return w})),s.d(t,"f",(function(){return y})),s.d(t,"l",(function(){return T})),s.d(t,"k",(function(){return L}));var i=s("iSMj"),a=s("o7FV"),n=s("0UaF"),o=s("Se/U"),l=s("J+st"),r=s("f29V"),c=s("eLKX");const d={en:i.a,cn:a.a},h={en:{date:"M/d/yyyy",datetime:"M/d/yyyy h:mm a",time:"h:mm a",fromNow:"M/d/yy",week:"EEEE, d MMMM yyyy"},cn:{date:"yyyy-M-d",datetime:"yyyy-M-d ah:mm",time:"ah:mm",fromNow:"yyyy-M-d",week:"EEEE, yyyy-M-d"}},u={en:{hr:"hr",min:"min",now:"now"},cn:{hr:"小时",min:"分钟",now:"刚刚"}};function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datetime";return e?L(e)?Object(l.a)(new Date(e),h[window.app.$i18n.locale][t],{locale:d[window.app.$i18n.locale]}):0:""}function m(e,t){return L(e)?Object(r.a)(new Date(e),t):0}function g(e,t){return L(e)?Object(c.a)(new Date(e),t):0}function f(e,t){if(!e)return"";const s=g(e,t);return Object(l.a)(s,h[window.app.$i18n.locale].date,{locale:d[window.app.$i18n.locale]})}function v(e,t){if(!e)return"";const s=g(e,t);return Object(l.a)(s,h[window.app.$i18n.locale].datetime,{locale:d[window.app.$i18n.locale]})}function _(e,t,s){if(!e)return"";const i=g(e,s);return Object(l.a)(i,t)}function C(e,t){if(!e)return"";const s=g(e,t);return Object(l.a)(s,h[window.app.$i18n.locale].time,{locale:d[window.app.$i18n.locale]})}function b(e,t){if(!e)return"";const s=g(e,t);return Object(l.a)(s,h[window.app.$i18n.locale].week,{locale:d[window.app.$i18n.locale]})}function w(e,t,s){const i=t-e/1e3;if(!e)return"";if(i<60)return I(0,u[window.app.$i18n.locale].now);if(i<3600)return I(~~(i/60),u[window.app.$i18n.locale].min);if(i<172800)return I(~~(i/3600),u[window.app.$i18n.locale].hr);{const t=g(e,s);return Object(l.a)(t,h[window.app.$i18n.locale].fromNow,{locale:d[window.app.$i18n.locale]})}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e?Object(n.a)(new Date(e),new Date(t),{addSuffix:!0,locale:d[window.app.$i18n.locale]}):""}function T(e,t){if(!e)return"";const s=g(e,t);return Object(l.a)(s,"OOOO",{locale:d[window.app.$i18n.locale]})}function L(e){return Object(o.a)(new Date(e))}function I(e,t){return 0===e?t:1===e||"en"!==window.app.$i18n.locale?e+t:e+t+"s"}},d55s:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"typeLabel":"类型","statusLabel":"状态","startDateLabel":"开始日期","endDateLabel":"结束日期","respondLabel":"响应","memberStatusLabel":"成员状态更新日期","opportunityLabel":"业务机会","opportunityNameLabel":"业务机会名称","ownerLabel":"所有人","stageLabel":"阶段","closeDateLabel":"结束日期","caseLabel":"个案","caseNumberLabel":"个案编号","subjectLabel":"主题","timeOpenLabel":"日期/时间打开","noRelatedListLabel":"没有显示相关的列表","accountNameLabel":"客户名","viewAllLabel":"浏览全部"},"en":{"typeLabel":"Type","statusLabel":"Status","startDateLabel":"Start Date","endDateLabel":"End Date","respondLabel":"Responded","memberStatusLabel":"Member Status Updated Date","opportunityLabel":"Opportunity | Opportunities","opportunityNameLabel":"Opportunity Name","ownerLabel":"Owner","stageLabel":"Stage","closeDateLabel":"Close Date","caseLabel":"Case | Cases","caseNumberLabel":"Case Number","subjectLabel":"Subject","timeOpenLabel":"Date/Time Opened","noRelatedListLabel":"No related lists to display","accountNameLabel":"Account Name","viewAllLabel":"View All"}}'),delete e.options._Ctor}},dDi8:function(e,t,s){},dE3K:function(e,t,s){"use strict";var i={props:{message:Object,index:Number}},a=(s("zyxy"),s("KHd+")),n=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"date-title"},[t("span",{staticClass:"select-none"},[this._v(this._s(this.message.Content))])])}),[],!1,null,"175886ba",null);t.a=n.exports},dcdS:function(e,t,s){"use strict";var i=s("+dyS"),a=s.n(i),n={mixins:[s("tWg3").a],props:{options:{type:Array,default:()=>[]},currents:{type:Array,default:()=>[]},left:{type:Number,default:0},top:{type:Number,default:0},width:{type:Number,default:240},isSingleSelection:{type:Boolean,default:!0},limitLength:{type:Number,default:0},defaultLabel:{type:Boolean,default:!1},hasSortBy:{type:Boolean,default:!1},hasFilter:{type:Boolean,default:!1},hasApply:{type:Boolean,default:!1},none:{type:Boolean,default:!1},identityName:{default:!1},objectType:{type:String,default:""}},data:()=>({dropdownOptions:[],dropdownTop:0,dropdownLeft:0,filterName:""}),watch:{currents(e){this.dropdownOptions=[...this.options];for(let e of this.dropdownOptions){var t;this.$set(e,"isSelected",a()(t=this.currents).call(t,t=>t.Name===e.Name))}this.$nextTick((function(){this.dropDownScrollTop(this.dropdownOptions,this.currents,this.$refs.dropDownScrollTop)}))},options(){this.dropdownOptions=[...this.options];for(let e of this.dropdownOptions)this.bindSelect(e)}},created(){this.dropdownOptions=[...this.options];for(let e of this.dropdownOptions)this.bindSelect(e);const e=t=>{this.$el&&!this.$el.contains(t.target)&&(this.$emit("close"),this.$root.$emit("close-other-dropdown",null),document.removeEventListener("click",e))};document.addEventListener("click",e)},mounted(){this.$nextTick((function(){this.dropdownLeft=this.left,this.$refs.picklistDropdown&&(window.innerHeight-this.top<this.$refs.picklistDropdown.clientHeight&&this.top-this.picklistInputHeight>=this.$refs.picklistDropdown.clientHeight?this.dropdownTop=this.top-this.$refs.picklistDropdown.clientHeight-this.picklistInputHeight:this.dropdownTop=this.top),this.dropDownScrollTop(this.dropdownOptions,this.currents,this.$refs.dropDownScrollTop)}))},methods:{applyFilters(){this.$emit("apply-filters")},resetFilters(){for(let e of this.dropdownOptions)e.isSelected=!1;this.$emit("reset-filters")},bindSelect(e){if(!1===this.identityName){var t;this.$set(e,"isSelected",a()(t=this.currents).call(t,t=>t.Name===e.Name))}else{var s;const t=this.identityName;this.$set(e,"isSelected",a()(s=this.currents).call(s,s=>s[t]===e[t]))}}}},o=(s("N2Si"),s("KHd+")),l=s("VmJW"),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charket-picklist-dropdown",style:{left:e.dropdownLeft+"px",top:e.dropdownTop+"px",width:e.width+"px"}},[s("div",{staticClass:"slds-picklist slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[s("div",{ref:"picklistDropdown",staticClass:"dropdown-section",on:{click:function(e){e.stopPropagation()}}},[e.showLoading&&!e.none?s("div",{staticClass:"slds-spinner_container",staticStyle:{"min-height":"40px"}},[e._m(0)]):e._e(),e._v(" "),e.hasFilter?s("div",[s("div",{staticClass:"filter-title",domProps:{innerHTML:e._s(e.$t("filterLabel",["<span>"+e.objectType+"</span>"]))}}),e._v(" "),s("div",{staticClass:"filter-section"},[s("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right"},[s("span",{staticClass:"slds-icon slds-input__icon slds-input__icon_left",attrs:{"aria-hidden":"true"}},[s("icon",{attrs:{name:"search","fill-color":"#b0adab",width:"16px",height:"16px"}})],1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.filterName,expression:"filterName"}],staticClass:"slds-input slds-lookup__search-input",attrs:{type:"search",placeholder:""+e.$t("searchLabel")+e.objectType},domProps:{value:e.filterName},on:{input:function(t){t.target.composing||(e.filterName=t.target.value)}}}),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.filterName,expression:"filterName"}],staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",on:{click:function(t){return e.clearFilterName()}}},[s("icon",{attrs:{name:"close","fill-color":"#b0adab",height:"16px",width:"16px"}})],1)])])]):e._e(),e._v(" "),s("div",{ref:"dropDownScrollTop",staticClass:"slds-dropdown_length-7 dropdown-content",staticStyle:{"min-height":"40px"},attrs:{role:"listbox"}},[e.showLoading?e._e():s("ul",{staticClass:"slds-dropdown__list",attrs:{id:"option-list-01",role:"presentation"}},[e.hasSortBy?s("li",{staticClass:"sort-by-style"},[e._v(e._s(e.$t("sortByLabel")))]):e._e(),e._v(" "),e._l(e.filteredOptions,(function(t){return s("li",{class:{"slds-is-selected":t.isSelected},attrs:{role:"presentation"},on:{click:function(s){return e.select(t)}}},[s("span",{staticClass:"slds-lookup__item-action slds-lookup__item-action_label",attrs:{role:"option"}},[s("icon",{staticClass:"slds-icon slds-icon_selected slds-icon_x-small slds-icon-text-default slds-m-right_x-small slds-shrink-none",class:{"disabled-icon":!t.isSelected},attrs:{name:"check","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v(" "),t.isSelected?s("span",{staticClass:"slds-assistive-text"},[e._v("Current Selection:")]):e._e(),e._v(" "),s("span",[e._v(e._s(t.Name))])],1)])}))],2),e._v(" "),e.showLoading&&e.none?s("div",{staticClass:"no-record"},[e._v("No Result")]):e._e()]),e._v(" "),e.hasApply?s("div",{staticClass:"confirm-section"},[s("button",{staticClass:"slds-button slds-button_brand apply-btn",on:{click:function(t){return e.applyFilters()}}},[e._v(e._s(e.$t("applyLabel")))]),e._v(" "),s("div",{staticClass:"select-reset-filter",on:{click:function(t){return e.resetFilters()}}},[e._v("\n          "+e._s(e.$t("resetLabel"))+"\n        ")])]):e._e()])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner_brand slds-spinner slds-spinner_small",attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[this._v("Loading")]),this._v(" "),t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])}],!1,null,"32f2e85e",null);"function"==typeof l.default&&Object(l.default)(r);t.a=r.exports},dfdM:function(e,t,s){"use strict";var i=s("Sh+V"),a=s.n(i);t.default=a.a},dgU6:function(e,t,s){"use strict";var i=s("cSD4");s.n(i).a},dh31:function(e,t,s){},dklp:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAIAAAD+96djAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNERDI4OEFBODBDQjExRTdCOUZERjVCNTYxODQ3OUVBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNERDI4OEFCODBDQjExRTdCOUZERjVCNTYxODQ3OUVBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzlENUZFMDk3RTQ1MTFFN0I5RkRGNUI1NjE4NDc5RUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzlENUZFMEE3RTQ1MTFFN0I5RkRGNUI1NjE4NDc5RUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RDzw1AAAL60lEQVR42uxcaXBT1xU+V5u1WF5keRM2xjYGG7NjAw77VtqwlaQ4tCGTErI1bdNOfzSdTtOZTv6kK0nTyZR2WmjTpuk0TAnT4pQ1KWBTwBhjs9gGvGGDjXdZmy359lxJWHpPkrVYTxbgMxr7vau33Pfdc76z3PtEita9DZMCIJqEYBKISSAmgZgEYhKIhw8IkQjWlkDB9MceiJk5dONK+tUtIBY91kDQ2TPYvxgZTNU9xkCICMzKcyIyfdpjDER2Jijlzu28RxiIeDV9eSeULPBpF4V2uzAY2d9MHchjHk0g6KolkJtFn1zNKMBTCEAhswty6hwMDTMzycl8FIHA4S2ewzZkMlhY6OUAXRokxLGNKzfgVotPmkhKhBnZDzMQi+cxCByqsXSBT39x5y7068nNJu80IZPRb3yN7imFeQUPJxAiEV22yDnaKGnJMC2Df4zDLq42sO0GOxApSUgrHLBWLwF1LNvYsk4gBpGE2Qsi1elSQKmgIpGDJpna20bI4RNUpXAyRUMTQS64eAUMJtAmQqqWHVlbz/52dIF+EJ+ZbloD93uI0QTnq/FqsGqx8xZqFQZdpPEOWCxwrwta2vDi0QQEQrBiMV25GGKVXr6tvo6PRyqqaG4WZE3BD8VGbSI5+CnMnskOuN8Dnd3OgxuaGZXYTYAdhsePUJBIoKeflFfSzWshP5fm5zoPtgxB1VVy7CwMGiIIxJQ0unguIy2DkeAA1tbZe2qXRXPYULO+U/ZUg0bXWSYzOXqabaDy4/BqNSCXgS4V5ubD4ePUbhdwtd7lQ06fZ7ojlbJYG1F4QAqk7DOoqYPEeEhPYY4GEU/SMDe0dAFN1pDfffTgfALzZ9GCXKZHnd0E73jvfliBWF5EN69jPXAY7fxZqMzkr5/AiF0zW9rZB3W+vJKDgruMjDAVcDDfm99ipr6syBFQkyt1rsPaO8kf/+G8y1e+BMVz2VbTHai5gbiTw8ddRypiYE4+chC53epskUro80+7uDZvGi1ZSA6WwcUav88n1uWs948CKvOuL4+i4JSUJILj7+gE6siFKwSdHxq/X7HZIFnDqATjBaSSvgE22t6E1DdhMgYqJUN8YJD/tdUGbR3kXBU8AIIxy4JZ3EsQKMhlTOxreILyGvSJhT7bCQnBIIljiMRi9rfGzcT4j2ol739A3nqPOVe/IpXAknnePdfS+WFynw5i9xSV0js7+pXGFujtd4LiRhDe1GcEWSagayJ9ILN4lRRtmIBAcvauEvjVcChA4ImVtWxDb4CmtvB4Ll+dRAnAYAMiS9LQRD0DIZTmOzA0FFq3ScUliiyD1ktpeIDo17MwxJvykvrbYdKIMxfRjXuOKjnyWej9HjQyCrx8LYwBHTlyyksrus8LV8IEhNlC9n0It5r5WWNoBCGcxKr4Lddvkd//HYat4Ysj0Mlh0JKUQHduGa2m0dVLnTlCNAghdE2JaxeDGowgegeESbq6+8iho65dRAT9fJQIhqqYuTiDN0r+eTRwFELKPts6oL7RRRRrS6JFHdYvc+1euQ7dvYKn4eTYGdcOehMh6yWBCob8mLyPsvjJiohkn5hWIHFiKvkgIyC//pMz/8NAMzOdBfkZaSy/QvaKkTojyPEIRuUYJmDQ0dVLMMq82Qyt7a54NDGObl3PUQf0o8GObogLRabq6Defc+223iUfHKIY4S6a7ay7CS29/ZjdQPklDEPoa7tc4QOmdu/sjyAQqAib18KKYvfkEkQRnxzAkFE/yCoDo8+DKf+J8oiW6kjZ5yw7dsttJoAaZFJ3FKDuNpyqCO1KovHYLblQE7YAefzS00/+8gkrZ0W6VFc8lz79RV9puFoMOQpIk4FCDFIy3mccpmC0wb0huG2CQZuv7DMOCqdD1bXIAjFrulcUJARWJMDaRMhTAhFg1HG46wxwohfO9oONeoQSOzYRo5kZSPASWIWKJxhov/gMK6jyfLkafpgFqxIhSSoICo78RiuDxXHwRAK0WaCTl/qKCORPJ9XXMDkSHggEfvcOxILXv2fT4EUdqMQRIgQ0vZUJICZwzeBRp9KlkUs1wV4weLIsmsNbwoAovJYBW7UQeXkqGfboPLQvJxPmFwoMhFjMCentUprKBmeiZIMGtiV7UMmG5cG68yCBmF/ACxxnKmF78gT7zZ2pkKvgsxg4plQFAoJiBM01ihd0/nlRIQKtBFIkkCQBecA3RAeUKGZnJUsYI5AxGXR3ukdXi+YIBoRSDjlZ7g0L1DBN7uckfAydFGKGh+qrbjRUXksYMmkCcNlKEWRKaefN5qsXavX37iMcU2SMGn0JeuvZsbymaaOz8OGOI7IzeeOyKtE/t8eJofLijVdf+Wl3N6t6qtXKve98t2BlkdH33C0+sNJs3PXS2+fO1Tpavr5705s/fkErIR2+y9GrEqDWfQ4IOSI7I/CYIgiNoFPSeD57Xqw/IEQYiI+8/u1fOVBA0euN33l9LzEax1aHvb/4cBQFlAP7//1p2TmVaCwDQfXkf5uRJoxpaDkKkC5jxu/Xzm/fart7l5MUGwyma9VjTepgSH72TDWv8cyZagJjWQdqXzLXFKhWIwwQak6NODUAA8RuD1u9VJDNJj+Rn9nMny4ZCmAmScub6FIphAGCyz3y6FvGzY9rfc0AjhcI7uJgWQCnYloUF6fybNckjRWBYWafqOGXueITYgUFMRgguKUHawCJv4VCRkbKkiWcgDcvL3Pm3LEWnw9RKC1dxxkCiXj7U6vRz9hoNADBtVuzzf8ZfVamFO//9vtbtiyPjVUqFDHr1hf/4cCP9DBWcoaedcezG9/4wXM6nVYiEc/Mz9q3743CwuxeK4yNg4nnkoeDmKAOJo4wmtz3uoYD0gj0/MkJ6nff+56zrEWh0wqWET8Gdc9Knn95+yuvbndhamOfseU+j2GNZmGA6Olz32sfYoUjv9UnwwgYhxizou7h45tHIBDtRrtrG4YYwhwwtRuLX0s02OA+d2xIV48gpkG4q7KGRlixKMCyEiotImIKDAV3hWI4jgTERzUGj3ple6cwHGFfH+wup/ujyHee7vOg9sYWYYDoG4C7HKU428foMBqkzQKVvBnfxlYwWYQBAq2j6iqHlSn8rSMqgPjzXb7RkcpaIQsz56t565E+74VK/QSjcLwHLvPWHuoNcPm6kECYzHC2kkeEv7kDLeYJQ6FmEPZ7rD0kpyrAahUSCLzHyXK2bMvdW9vgrSZoME4ACpf08PMWD5/S0QUVVUJGlk63OUw+LuNZ5IAVftIIR7ohYvN/Dnr6WbNHbGazkY/+5VwYHYyENMHT3cfqP9wXjvDO1YNwcQDiJaxUQYiAEKCnfLfVOzeRQ8fgxq0QLhvilB85dprGq8GjQNpkhl+2QIKE1YtmKNncZ1imfKhd6dotUGdkvGj0FWufKIf/XQ7tFpKQu0YOllEkJG9vJ2FwcaqXfSIp5D//hZMVIZ8+jtlwx8q1ji62YkQshgkUs4XRVk3deK4x7jd4yi+Rnn66czMo5BODQr+eHPg4qLQiTF6DJ4tm013bJgwFsL9du6d0/K+KjgMIwl4UoaWbgioNCiKxKvrSTv4rKxEzDbptA5R4f6FFREAtAZWU1TXFYfKjNgoWGxisoLd6W64kEtFnNhNsvxzhFTNrS7yiECOGNAVoZAwLgQQR6bJAhwmGeUETIaieBKPextZImUZuFv3CCg9DAZ0SChNAGyMgCmCf40mVO2/k8Z2IEZZSEREgpFJa+iQvcsTO5cVBugJIpGgB75gVC1NVHndEvti6PhJA0DVLeUskRHYU1BPBmMlyhgVfkDUz0gUGQhEDK4p4bdNiQSWBiRKtnMHBH62NKwQGongeb+JPEwOJMphYyVB6TLvNyGavlgoHBF3IXzGTEQUvM6Ft6jy6IeSKGaSG9GSeOkijYyrYS08KhVtDlTuV15AUA1EixI4Fl0g1vB+hCBsQNC2Zp5CxEogeifd0W1lThNGIJM6KGblYwDJUCIKei9cdmqoVBghuiimLsoUiqKEyXlUkMV4YILg/7iIiEG3C50uhlg6RMfaiQiS8PgWzznLy9ywngeDK/wUYAIFq3RMGCwAgAAAAAElFTkSuQmCC"},dlcP:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 54 54" id="forms" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Forms</title> <desc>Created with Sketch.</desc> <g> <path d="M43.4,5.9h-4.8c-0.9,0-1.5,0.7-1.5,1.6c0,0.9,0.7,1.6,1.5,1.6h4.8c0.2,0,0.3,0.2,0.3,0.3v38.1\n\t\tc0,0.7-0.6,1.3-1.3,1.3H10.6c-0.2,0-0.3-0.2-0.3-0.3V9.3c0-0.2,0.2-0.3,0.3-0.3h4.7c0.9,0,1.6-0.7,1.6-1.6c0-0.9-0.7-1.6-1.6-1.6\n\t\th-4.7c-1.9,0-3.4,1.5-3.4,3.4v39.1c0,1.9,1.5,3.4,3.4,3.4h31.9c2.4,0,4.4-2,4.4-4.4v-38C46.9,7.4,45.3,5.9,43.4,5.9z" fill=""/> <path d="M19.9,9h14.2c0.9,0,1.6-0.7,1.6-1.6c0-0.9-0.7-1.6-1.6-1.6h-2.8c-0.4-2.3-2.4-4.1-4.9-4.1s-4.5,1.8-4.9,4.2\n\t\th-1.6c-0.9,0-1.6,0.7-1.6,1.6C18.3,8.3,19,9,19.9,9z M26.4,4.8c0.8,0,1.4,0.5,1.7,1.1h-3.4C25,5.2,25.6,4.8,26.4,4.8z" fill=""/> <path d="M36.9,16H16.8c-0.9,0-1.6,0.7-1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h20.1c0.9,0,1.5-0.7,1.5-1.6\n\t\tC38.4,16.7,37.8,16,36.9,16z" fill=""/> <path d="M36.9,21.1H16.8c-0.9,0-1.6,0.7-1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h20.1c0.9,0,1.5-0.7,1.5-1.6\n\t\tC38.4,21.8,37.8,21.1,36.9,21.1z" fill=""/> <path d="M36.9,26.3H16.8c-0.9,0-1.6,0.7-1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h20.1c0.9,0,1.5-0.7,1.5-1.6\n\t\tC38.4,27,37.8,26.3,36.9,26.3z" fill=""/> <path d="M38.4,32.9c0-0.9-0.7-1.6-1.5-1.6H16.8c-0.9,0-1.6,0.7-1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h20.1\n\t\tC37.8,34.5,38.4,33.8,38.4,32.9z" fill=""/> <path d="M16.8,36.5c-0.9,0-1.6,0.7-1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h13c0.9,0,1.6-0.7,1.6-1.6c0-0.9-0.7-1.6-1.6-1.6\n\t\tH16.8z" fill=""/> </g> </symbol>',"forms")},dpZH:function(e,t,s){"use strict";var i=s("g9kt");s.n(i).a},dxSf:function(e,t,s){"use strict";var i=s("cYoD"),a=s.n(i);t.default=a.a},e7zI:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"typeLabel":"类型","statusLabel":"状态","startDateLabel":"开始日期","endDateLabel":"结束日期","respondLabel":"响应","memberStatusLabel":"成员状态更新日期","opportunityLabel":"业务机会","opportunityNameLabel":"业务机会名称","ownerLabel":"所有人","stageLabel":"阶段","closeDateLabel":"结束日期","caseLabel":"个案","caseNumberLabel":"个案编号","subjectLabel":"主题","timeOpenLabel":"日期/时间打开","noRelatedListLabel":"没有显示相关的列表","accountNameLabel":"客户名","viewAllLabel":"浏览全部"},"en":{"typeLabel":"Type","statusLabel":"Status","startDateLabel":"Start Date","endDateLabel":"End Date","respondLabel":"Responded","memberStatusLabel":"Member Status Updated Date","opportunityLabel":"Opportunity | Opportunities","opportunityNameLabel":"Opportunity Name","ownerLabel":"Owner","stageLabel":"Stage","closeDateLabel":"Close Date","caseLabel":"Case | Cases","caseNumberLabel":"Case Number","subjectLabel":"Subject","timeOpenLabel":"Date/Time Opened","noRelatedListLabel":"No related lists to display","accountNameLabel":"Account Name","viewAllLabel":"View All"}}'),delete e.options._Ctor}},eAuN:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_radio" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_radio_XMLID_234_"> <path id="form_radio_XMLID_277_" d="M11,0.4c-6.1,0-11,4.9-11,11s4.9,11,11,11s11-4.9,11-11S17.1,0.4,11,0.4z M11,21.4\r\n\t\tc-5.5,0-10-4.5-10-10s4.5-10,10-10s10,4.5,10,10S16.5,21.4,11,21.4z" fill=""/> <circle id="form_radio_XMLID_278_" cx="11" cy="11.4" r="6"/> </g> </symbol>',"form_radio")},eFKJ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="drag_drop" ><path d="m20 4c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m12 0c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m-12 12c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m12 0c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m-12 12c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m12 0c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m-12 12c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z m12 0c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4z" fill=""/></symbol>',"drag_drop")},eJlX:function(e,t,s){"use strict";var i=s("HhFG");s.n(i).a},eTAV:function(e,t,s){"use strict";var i=s("Ln5d");s.n(i).a},eV5a:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="event" ><path fill="" d="m46.5 20h-41c-0.8 0-1.5 0.7-1.5 1.5v24.5c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4v-24.5c0-0.8-0.7-1.5-1.5-1.5z m-27.5 22c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m10 10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m10 10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m5-25h-5v-2c0-1.6-1.3-3-3-3-1.6 0-3 1.3-3 3v2h-14v-2c0-1.6-1.3-3-3-3-1.6 0-3 1.3-3 3v2h-5c-2.2 0-4 1.8-4 4v2.5c0 0.8 0.7 1.5 1.5 1.5h41c0.8 0 1.5-0.7 1.5-1.5v-2.5c0-2.2-1.8-4-4-4z"/></symbol>',"event")},eiBq:function(e,t,s){"use strict";var i=s("JswP");s.n(i).a},eoY4:function(e,t,s){"use strict";var i=s("UhGA"),a=s.n(i);t.default=a.a},eoaT:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"noAgentAssigned":"你没有被设置为专员","askAdmin":"请联系管理员。","goToAgents":"跳转到专员页面","dropUploadTip":"放置以上传至Live Chat","noRelatedMessage":"没有微信消息"},"en":{"noAgentAssigned":"No agent is assigned to you","askAdmin":"Ask your Charket admin for help.","goToAgents":"Go to Agents","dropUploadTip":"Drop to Upload to Live Chat","noRelatedMessage":"No chat messages"}}'),delete e.options._Ctor}},etOB:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 1792 1792" id="keyboard" ><path d="M320 1168v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm128-256v96q0 16-16 16h-224q-16 0-16-16v-96q0-16 16-16h224q16 0 16 16zm-128-256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm1024 512v96q0 16-16 16h-864q-16 0-16-16v-96q0-16 16-16h864q16 0 16 16zm-640-256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm-128-256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm384 256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm-128-256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm384 256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm384 256v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm-512-512v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm256 0v96q0 16-16 16h-96q-16 0-16-16v-96q0-16 16-16h96q16 0 16 16zm256 0v352q0 16-16 16h-224q-16 0-16-16v-96q0-16 16-16h112v-240q0-16 16-16h96q16 0 16 16zm128 752v-896h-1664v896h1664zm128-896v896q0 53-37.5 90.5t-90.5 37.5h-1664q-53 0-90.5-37.5t-37.5-90.5v-896q0-53 37.5-90.5t90.5-37.5h1664q53 0 90.5 37.5t37.5 90.5z" fill=""/></symbol>',"keyboard")},eydk:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 24 24" id="offline_dnd" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="offline_dnd_XMLID_1_"> <polygon id="offline_dnd_XMLID_3_" fill="#9faab6" points="22.7,8.5 18.5,8.5 22.7,3.4 22.7,1.5 15.7,1.5 15.7,3.5 19.4,3.5 15.7,8.6 15.7,10.5\n\t\t22.7,10.5 \t"/> <path id="offline_dnd_XMLID_9_" d="M22.5,17c-6.6,0-12-5.4-12-12c0-1.8,0.4-3.4,1.1-5C5.4,0.5,0.5,5.7,0.5,12c0,6.6,5.4,12,12,12\n\t\tc4.9,0,9-2.9,10.9-7C23.2,17,22.9,17,22.5,17z M12.5,20c-4.4,0-8-3.6-8-8c0-2,0.8-3.9,2.1-5.4c0.6,5.6,4.1,10.4,8.9,12.8\n\t\tC14.6,19.8,13.6,20,12.5,20z" fill=""/> </g> </symbol>',"offline_dnd")},ezS1:function(e,t,s){"use strict";var i=s("HZVY"),a=s.n(i);t.default=a.a},f1LM:function(e,t,s){"use strict";var i=s("H3kk");s.n(i).a},f9ow:function(e,t,s){},"fF+7":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 700 700" id="address" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path fill-rule="evenodd" clip-rule="evenodd" fill="" d="M357.19,694.089c-85.362-102.547-166.072-203.158-225.336-319.65\r\n\t\tc-46.472-91.341-42.608-177.377,14.54-261.672C228.322-8.085,405.59-32.955,518.948,60.679\r\n\t\tc61.472,50.778,93.983,115.877,96.244,196.016c0.998,35.459-9.96,67.761-24.283,99.12\r\n\t\tC533.491,481.523,446.936,587.003,357.19,694.089L357.19,694.089z M356.54,370.921c70.888,0.444,129.457-57.458,130.645-129.169\r\n\t\tc1.182-71.142-57.093-129.786-130.461-131.292c-69.075-1.419-129.641,58.346-129.553,127.834\r\n\t\tC227.269,311.5,284.792,370.473,356.54,370.921L356.54,370.921z"/> </g> </symbol>',"address")},fHQG:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"preTitle":"上一页","nextTitle":"下一页"},"en":{"preTitle":"Previous Page","nextTitle":"Next Page"}}'),delete e.options._Ctor}},fO7v:function(e,t,s){},fULz:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 100 100" id="call_history" ><path fill="" d="m28.1 48c-0.1 0.7-0.1 1.3-0.1 2h-6c0-0.7 0-1.3 0.1-2h6z m21.9-26c-14.8 0-26.9 11.5-27.9 26 0 0.3-0.1 0.7-0.1 1h-4.5c-1.3 0-2 1.5-1.2 2.4l7.5 9.1c0.6 0.7 1.7 0.7 2.3 0l7.5-9.1c0.8-1 0.1-2.4-1.2-2.4h-4.4v-1c1-11.2 10.5-20 21.9-20 13 0 23.3 11.3 21.9 24.5-1 9.5-10 18.5-19.6 19.4-7.1 0.7-13.8-1.9-18.5-7-0.6-0.7-1.4-1.1-2.2-0.1l-2.4 2.9c-0.5 0.6-0.1 1 0.4 1.5 5.4 5.7 12.8 8.9 20.8 8.8 14.4-0.2 26.5-11.6 27.5-26 1.3-16.3-11.7-30-27.8-30z m-2.8 20.8c0.7-0.9 0.7-2.2-0.1-3.2l-2.1-2.6c-1-1.2-2.8-1.3-3.9-0.2l-2.4 2.4c-0.5 0.5-0.8 1.2-0.8 2 0.3 5.5 2.8 10.8 6.5 14.4s8.9 6.2 14.4 6.5c0.7 0 1.5-0.2 2-0.8l2.4-2.4c1.1-1.1 1-2.9-0.2-3.9l-2.7-2.1c-0.9-0.7-2.2-0.8-3.2-0.1l-2.6 1.9c-0.3 0.3-0.8 0.2-1.1-0.1l-4.2-3.8-3.8-4.2c-0.3-0.3-0.3-0.8-0.1-1.1l1.9-2.7z"/></symbol>',"call_history")},fdjO:function(e,t,s){},fkEA:function(e,t,s){},fqOo:function(e,t,s){"use strict";var i=s("KcXz");s.n(i).a},fr83:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="delete_custom" ><path fill="" d="m45.5 10h-12.5v-4c0-2.2-1.8-4-4-4h-6c-2.2 0-4 1.8-4 4v4h-12.5c-0.8 0-1.5 0.7-1.5 1.5v3c0 0.8 0.7 1.5 1.5 1.5h39c0.8 0 1.5-0.7 1.5-1.5v-3c0-0.8-0.7-1.5-1.5-1.5z m-22.5-3c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v3h-6v-3z m18.5 13h-31c-0.8 0-1.5 0.7-1.5 1.5v23.5c0 2.8 2.2 5 5 5h24c2.8 0 5-2.2 5-5v-23.5c0-0.8-0.7-1.5-1.5-1.5z m-18.5 22c0 0.6-0.4 1-1 1h-2c-0.6 0-1-0.4-1-1v-14c0-0.6 0.4-1 1-1h2c0.6 0 1 0.4 1 1v14z m10 0c0 0.6-0.4 1-1 1h-2c-0.6 0-1-0.4-1-1v-14c0-0.6 0.4-1 1-1h2c0.6 0 1 0.4 1 1v14z"/></symbol>',"delete_custom")},g9FF:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAwCAYAAABuZUjcAAAFiUlEQVRoQ9WZeYhXVRTHP9/2HSJbLNrMyhKsiDLUsGylaEHIpCjCSkuhbDGhKCutTFohDBWT/mmxJItKKoIWtRUqW6A9oQ2pKNqooBNfeU/u3Hnvt8xvZpwODAPv3XvO593fueeec67ooUSEgCOA04ADgMHA7sX/v4HvgG+Lv3eBJyV93kNz3abZeFsSEUcBFwCnF5DtzP/AHwAskrS2nYn52JbBI2IYcBtwZicGi7l/AfcBt0r6qSf6moJHxLbAncBFwKY9MdJgzs/ATZLuaVdvQ/CI2Bt4ChjRQPEaYAXwVeLTWyY+f1CxD/ZooOMRYJKkP1v9gFrwiDgaWAbsXKHs++JXWCbpy2bGio18OHAucAmwVcWct+2Gkr5pps/vK8EjYgzwIrBFpuRX4A5DS/q9FQP5mIjYC7gZOA/YJHvvDXukpHXNdHcDL9zjrYqVft+RRJJdomOJiOOBpcCOmbJVwDhJDqm10gU8IrYDPDH36eVeIUm/dUycKIiIocUe8j5IZYmkSe2ALwAmZxMMPV5S9CZ0qSsidgLeBIZk+s+R9HCdzQ0rHhH+artDGvIcMUb39kpX+P1w4DVg++SdXfLAOpdJwX2i+TQsxRtxRG/5dLNfKyLGF1EsHXqlpLur5q4Hj4hRhW+nY2ZJ8u7vN4kIR7JxicEfgX0leRG7SAme+7bj9NCehryefmlEONY7oqVBo9LXVRwOzuJ2SwzOkOR43e8SEU8DpyaGl0o6u9uKF9meN0YqQ1o5EfviqyLCmeeSbK8NyjepV/wW4Npk4BpJh/QFVCs6I2IQYFdNo9uJkl5I5xv8UWBC8nCepJmtGOmrMRHxho/+RP80SfNz8FcB5yalTJV0f19BtaI3Ipwtpn49R9L1ObjLqfTUcobmmN5NIuIkYIZDVCsADcZ8CsyV9FKNHcfu6cm7ByRdmIP/AWydPBwpyUdwFfh7TXLzdr5ntaTRNXauAW5P3q2QdEoO7tIpzdDGSnqlRqGL3t7auKskpS66wWRE2C3Sw8+FdpeS0ZvzQ+DgBHSiJG/YqhU/Abi6F1zls8JV6hbIe8wFRykLJU3JV9xhxrlxKbX5QTt+0MnYiMjzptmSbsjBHwTOTx4uluTCeKNJRPgX2S8BmCJpYQ5+GXBv8tBl02BJ/24M8ohwiuv+SyrDJH2cg7uSz8sx5+CrNxK4T3Gf5qWslbRPzlJmh+8AhyYvF0hKN0e/fENEuHh2MZMGi0qWEnwWcGNC9w8wXJIPin6TigTLto+tOqhKcDcsvSG2SSgfl3RWf1FHhHstnwB7JjZrY31aus0BrstAXSQ/0R/wEeE23OWZrZMlPVdlPwXfoVj1tHPlps8oSS6a+0wiwq2IxZmB2tX2uLyv4vi9KFPg7tIYSV/3BXlEHAc8m3XNfgEOa1TMVHWyqnorTuztNnml1NG3RIR7OG43b54pmiDpsUbKq8CtxGnA2Gyie9o+rNyU76g5VLSu5wFTK+DmS5rWbEXqmp4un17O4mmpyxniTEnPN1Oev4+IzYCLAYffXWvmt5QrNWoze7M+lFXcqa3XiwbOckkOpZVSdBFGAmcUVU0rRch0SWka0k13s8a+TzJfnzixbyQGLxv7vrRye7q8zPIVzC4NJrsrm7ezPbwhfNOrFGuICOfh9sk0LWjXU6rGO311iTaxWKB8zBV11ywtgRfwHusbhdlAt6Snza9YWVxc+QpmvUSEOwtzK/RUwrcMnhhw1Dmm8Fk3SdMjuhG/i/JnACdNH1UNbAe+bfCKSGH32b+4nC0vaJ3L/wC4aelEbaUknwVNpQF8l2jTMXhTkh4MiIi8yi+1bIAfkOCFz9fBXyXprgELXsC7+eRolsvkAQ3eAH7dgAevgf/ifwFewF/qe3/ANcKk/wBru+2gXhEcowAAAABJRU5ErkJggg=="},g9kt:function(e,t,s){},gDko:function(e,t,s){},gOnx:function(e,t,s){"use strict";var i=s("JzNl");s.n(i).a},gYT7:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_rating" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="form_rating_XMLID_11_" d="M10.9,0C4.8,0-0.1,5-0.1,11c0,6.1,4.9,11,11,11s11-4.9,11-11C21.9,5,16.9,0,10.9,0z M10.9,21\r\n\t\tc-5.5,0-10-4.5-10-10s4.5-10,10-10c5.5,0,10,4.5,10,10S16.4,21,10.9,21z" fill=""/> <path id="form_rating_XMLID_16_" d="M13.7,8l-2.4-4.2L8.9,8L4.1,8.9l3.4,3.5l-0.5,4.8l0.1,0v0l4.4-2l4.4,2l-0.6-4.8l3.3-3.5L13.7,8\r\n\t\tz M14.1,12.5l0.4,3l-2.8-1.3L11.3,14L11,14.1l0.3-8.3l0,0l1.5,2.7L13,8.9L13.5,9l3,0.6l-2.1,2.2l-0.3,0.3L14.1,12.5z" fill=""/> </symbol>',"form_rating")},gZho:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"aboutFollowerLabel":"关于此关注者","nameLabel":"名称","weChatAccLabel":"微信公众号","detailsLabel":"详情","relatedLabel":"相关","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","relatedToLabel":"相关","activityLabel":"最近活跃时间","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"电话","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名称","accountNameLabel":"客户名","changeSaveLabel":"更改已保存。","tagCreateSuccess":"标签已创建","tags":"标签","edit":"编辑","noTags":"没有标签","assignTagstitle":"分配标签","searchTags":"搜索标签"},"en":{"aboutFollowerLabel":"About This Follower","nameLabel":"Name","weChatAccLabel":"WeChat Account","detailsLabel":"Details","relatedLabel":"Related","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","relatedToLabel":"Related To","activityLabel":"Last Activity Time","leadLabel":"Lead | Leads","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact | Contacts","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","changeSaveLabel":"Changes were saved.","tagCreateSuccess":"Tag was created","tags":"Tags","edit":"Edit","noTags":"No Tags","assignTagstitle":"Assign Tags","searchTags":"Search Tags"}}'),delete e.options._Ctor}},ghVa:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="download" ><path fill="" d="m48.5 31h-3c-0.8 0-1.5 0.7-1.5 1.5v10c0 0.8-0.7 1.5-1.5 1.5h-33c-0.8 0-1.5-0.7-1.5-1.5v-10c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v13.5c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4v-13.5c0-0.8-0.7-1.5-1.5-1.5z m-23.5 6.6c0.6 0.6 1.5 0.6 2.1 0l13.5-13.5c0.6-0.6 0.6-1.5 0-2.1l-2.1-2.1c-0.6-0.6-1.5-0.6-2.1 0l-5.6 5.6c-0.6 0.6-1.7 0.2-1.7-0.7v-21.3c-0.1-0.8-0.9-1.5-1.6-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v21.2c0 0.9-1.1 1.3-1.7 0.7l-5.6-5.6c-0.6-0.6-1.5-0.6-2.1 0l-2.1 2.2c-0.6 0.6-0.6 1.5 0 2.1l13.5 13.5z"/></symbol>',"download")},gsMA:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 24 24" id="online" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="online_XMLID_68_" d="M12,0c6.6,0,12,5.4,12,12s-5.4,12-12,12S0,18.6,0,12S5.4,0,12,0z" fill=""/> </symbol>',"online")},gtSB:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="down" ><path d="m8.3 14h35.4c1 0 1.7 1.3 0.9 2.2l-17.3 21.2c-0.6 0.8-1.9 0.8-2.5 0l-17.5-21.2c-0.7-0.9-0.1-2.2 1-2.2z" fill=""/></symbol>',"down")},gyM7:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="image_float_left" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="image_float_left_XMLID_10_"> <rect id="image_float_left_XMLID_11_" x="9.1" y="8" width="8.9" height="2"/> <rect id="image_float_left_XMLID_29_" x="9.1" y="11" width="8.9" height="2"/> <rect id="image_float_left_XMLID_32_" x="9.1" y="5" width="8.9" height="2"/> <rect id="image_float_left_XMLID_50_" y="1" width="18" height="2"/> <rect id="image_float_left_XMLID_63_" y="15" width="18" height="2"/> <rect id="image_float_left_XMLID_64_" x="0.1" y="5" width="7" height="8"/> </g> </symbol>',"image_float_left")},gz7n:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="hide" ><path d="m51.8 25.1c-1.6-3.2-3.7-6.1-6.3-8.4l-8.5 8.4v0.9c0 6.1-4.9 11-11 11h-0.9l-5.4 5.4c2 0.4 4.1 0.7 6.2 0.7 11.3 0 21.1-6.6 25.8-16.1 0.4-0.7 0.4-1.3 0.1-1.9z m-3.3-19.5l-2.1-2.1c-0.6-0.6-1.7-0.5-2.4 0.3l-7.3 7.3c-3.3-1.4-6.9-2.1-10.7-2.1-11.3 0-21.1 6.6-25.8 16.1-0.3 0.6-0.3 1.3 0 1.8 2.2 4.5 5.5 8.2 9.6 11l-6 6.1c-0.7 0.7-0.8 1.8-0.3 2.4l2.1 2.1c0.6 0.6 1.7 0.5 2.4-0.3l40.2-40.2c0.8-0.7 0.9-1.8 0.3-2.4z m-33.5 20.4c0-6.1 4.9-11 11-11 2 0 3.8 0.5 5.4 1.4l-3 3c-0.8-0.2-1.6-0.4-2.4-0.4-3.9 0-7 3.1-7 7 0 0.8 0.2 1.6 0.4 2.4l-3 3c-0.9-1.6-1.4-3.4-1.4-5.4z" fill=""/></symbol>',"hide")},h96L:function(e,t,s){"use strict";var i=s("mAtX");s.n(i).a},hAbA:function(e,t,s){"use strict";var i=s("26m3"),a=s.n(i);t.default=a.a},hAql:function(e,t,s){"use strict";var i=s("rLDg");s.n(i).a},hOrY:function(e,t,s){"use strict";var i=s("fdjO");s.n(i).a},hgdN:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectMiniProLabel":"选择一个小程序卡片"},"en":{"selectMiniProLabel":"Select a mini program page"}}'),delete e.options._Ctor}},hm3m:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 37 36" id="new_followers" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>&#x5206;&#x7EC4; copy 4</title> <desc>Created with Sketch.</desc> <g id="new_followers_&#x5206;&#x7EC4;-8" transform="translate(317.000000, 141.000000)"> </g> <g> <path d="M28.7,11.7c0-6.2-5.1-11.2-11.4-11.2c-6.3,0-11.4,5-11.4,11.2c0,4.3,2.4,8,6,9.9C6.7,23.5,3,28.4,3,34.2\r\n\t\tc0,0.6,0.4,1,1,1s1-0.4,1-1c0-6,4.7-10.9,10.7-11.3c0.5,0.1,1,0.1,1.5,0.1C23.5,23,28.7,18,28.7,11.7z M7.8,11.7\r\n\t\tc0-5.1,4.2-9.2,9.4-9.2c5.2,0,9.4,4.1,9.4,9.2c0,5.1-4.2,9.2-9.4,9.2c-0.1,0-0.1,0-0.2,0c-0.1-0.1-0.3-0.1-0.5-0.1\r\n\t\tc-0.2,0-0.5,0-0.7,0C11.3,20.2,7.8,16.4,7.8,11.7z" fill=""/> <path d="M32.8,28.5h-4.1v-4.2c0-0.5-0.4-1-1-1s-1,0.4-1,1v4.2H22c-0.5,0-1,0.4-1,1s0.4,1,1,1h4.7v4.4c0,0.5,0.4,1,1,1\r\n\t\ts1-0.4,1-1v-4.4h4.1c0.5,0,1-0.4,1-1S33.3,28.5,32.8,28.5z" fill=""/> </g> </symbol>',"new_followers")},hod3:function(e,t,s){},hxA4:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 15 15" id="check_in" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs/> <g id="check_in_WeChat-Campaign" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5"> <g id="check_in_registeration---create-QR-code---text-response" transform="translate(-167.000000, -196.000000)" fill="#1589EE "> <g id="check_in_Sidebar" transform="translate(0.000000, 140.000000)"> <g id="check_in_naviagtion"> <g id="check_in_check-in" transform="translate(0.990075, 38.974359)"> <path d="M173.263038,31.7948718 C169.435417,31.7948718 166.332517,28.5805059 166.332517,24.6153846 C166.332517,20.6502633 169.435417,17.4358974 173.263038,17.4358974 C177.090659,17.4358974 180.19356,20.6502633 180.19356,24.6153846 C180.19356,28.5805059 177.090659,31.7948718 173.263038,31.7948718 Z M170.27623,23.2642591 L168.64269,24.8472011 L172.107951,28.2051282 L177.883386,22.608583 L176.249846,21.025641 L172.107951,25.0392442 L170.27623,23.2642591 Z" id="check_in_Oval-241" fill=""/> </g> </g> </g> </g> </g> </symbol>',"check_in")},i71i:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"changeBtn":"更改","removeBtn":"删除"},"en":{"changeBtn":"Change","removeBtn":"Remove"}}'),delete e.options._Ctor}},i8mJ:function(e,t,s){"use strict";var i=s("uI3b"),a=s.n(i);t.default=a.a},iEH4:function(e,t,s){"use strict";var i=s("bYcg");s.n(i).a},iRzN:function(e,t,s){},iTeh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVGMDA5REY5QTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVGMDA5REZBQTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUYwMDlERjdBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUYwMDlERjhBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Z3lgfAAADGElEQVR42uyZW3OiQBCFFW8gF1FQXHdr8///UXafoxXxwk3xhmbbcjc13US3EhSGqpmnMLFif3D6zGlSff71u1LmJVVKvgSAABAAAkAACIDcVscwpGq1rACW1RsOndHoWykBoHrbsuAHVVUHg37JAKze3+ovq2uauq6VCeCQHMjO0HEajUZpAMIwcmcz9K2SdC8h5dQDnudH0Yrd0VRV01R+AdJ2+TqdJknC7vRtu5rZVaUHec7T089arcZunk4nIqRms6lpGncAF8eE4n58H5HnACqKNxt2p9c1+QJ493tYsiynO3WxWLKX8JlWq8ULQL1e75pdlB06nXa7ze7Ecbzb7dgdQ9d5AYAefRmPT29v7KaTeghBECI7yuZFd5bQdrudubRTyT2Oooh8AB5dkQDECv0g2OBONU3UqcnxSFTUVpTCAKBrwW0Iw2y+YC8VRSbBYR3H7GWWPpayew606aBvs/vwBMg9VlXUyuS3oKICAFjHBJG0cBHRCgUHRUYi2e8PGKCRNwBb/btjkoeARdIkfkWyXa4A6erTIiH3mPgMxIrCAD6sHhZp0+PxeKPEIgGqlY/z4xs+v/7zrTd5HgswXyxInvk3diFZp6MoLwDXGOJ1fMNYks/g5eFCaYYgDPDhpWDj398wftLxOZ0DLIPvB6REHU8qm+0Gp+gWBth/PQJnOYmB4ZIUyKgFt5+kgzUWGMnY5GDOD+DCAEGIWJBtW/hQ2x4OB7YBZIxHxrS80yip/jzE4Abwff/GBAP6IS1e5DyQHiOhvhAPAEbHYC9X6zVHI2V6kHfxfAPqJ/oJw4ijkRLsiEyPJPpDEiETXJYOvr+EWG+F4lzXRd6qa6Q9PNweBbjQNW+FWl/GE3bAP78P7dP2IO8buQC4MCw9jwSEoeOQUD2bzz8VAfOQ0LV4k/6fAJjParXO/kV5vJ02DJ146/k9KXYnfgFgmATxkM3XqcuezVwDQMhbLj3iPOTdFu8SYr0VjoV7ieeBLnQ9tyqT8eS+fzkngGu5tRwS+trgzyPAI5YAEAACQAAIAAEgAIpcfwQYACjwbUmhqBt3AAAAAElFTkSuQmCC"},iUF6:function(e,t,s){"use strict";var i=s("vQrK"),a=s.n(i),n=s("XIlo"),o=s("OB6B"),l=s("TPMu"),r=s("wG3i"),c=s.n(r),d=s("L2JU");const h=[{label:"00:00",value:"00:00"},{label:"00:30",value:"00:30"},{label:"01:00",value:"01:00"},{label:"01:30",value:"01:30"},{label:"02:00",value:"02:00"},{label:"02:30",value:"02:30"},{label:"03:00",value:"03:00"},{label:"03:30",value:"03:30"},{label:"04:00",value:"04:00"},{label:"04:30",value:"04:30"},{label:"05:00",value:"05:00"},{label:"05:30",value:"05:30"},{label:"06:00",value:"06:00"},{label:"06:30",value:"06:30"},{label:"07:00",value:"07:00"},{label:"07:30",value:"07:30"},{label:"08:00",value:"08:00"},{label:"08:30",value:"08:30"},{label:"09:00",value:"09:00"},{label:"09:30",value:"09:30"},{label:"10:00",value:"10:00"},{label:"10:30",value:"10:30"},{label:"11:00",value:"11:00"},{label:"11:30",value:"11:30"},{label:"12:00",value:"12:00"},{label:"12:30",value:"12:30"},{label:"13:00",value:"13:00"},{label:"13:30",value:"13:30"},{label:"14:00",value:"14:00"},{label:"14:30",value:"14:30"},{label:"15:00",value:"15:00"},{label:"15:30",value:"15:30"},{label:"16:00",value:"16:00"},{label:"16:30",value:"16:30"},{label:"17:00",value:"17:00"},{label:"17:30",value:"17:30"},{label:"18:00",value:"18:00"},{label:"18:30",value:"18:30"},{label:"19:00",value:"19:00"},{label:"19:30",value:"19:30"},{label:"20:00",value:"20:00"},{label:"20:30",value:"20:30"},{label:"21:00",value:"21:00"},{label:"21:30",value:"21:30"},{label:"22:00",value:"22:00"},{label:"22:30",value:"22:30"},{label:"23:00",value:"23:00"},{label:"23:30",value:"23:30"}];var u={computed:a()({},Object(d.c)({notificationSettings:"chatsettings/notificationSettings"})),watch:{notificationSettings:{handler(e){this.settings=JSON.parse(c()(e))},deep:!0}},data:()=>({options:h,settings:{desktopNotificationsEnabled:!0,mobileNotificationsEnabled:!0,emailNotificationsEnabled:!0,soundNotificationsEnabled:!0,autoDisableNotifications:{value:!1,startTime:"21:00",endTime:"09:00"}},loadingStatus:{desktopLoading:!1,mobileLoading:!1,emailLoading:!1,soundLoading:!1,disabledLoading:!1,timeLoading:!1,isSettingsLoading:!1}}),mounted(){this.$on("settings-updated",()=>{this.resetLoadingStatus()})},methods:{fetchData:async function(){this.loadingStatus.isSettingsLoading=!0;try{await this.$store.dispatch("chatsettings/getAgentsNotificationsSettings")}catch(e){this.$handleError(e)}this.loadingStatus.isSettingsLoading=!1},getSettingsValue(){return{IsEmailNotificationsEnabled:this.settings.emailNotificationsEnabled,IsMobileNotificationsEnabled:this.settings.mobileNotificationsEnabled,IsDesktopNotificationsEnabled:this.settings.desktopNotificationsEnabled,IsSoundNotificationsEnabled:this.settings.soundNotificationsEnabled,IsDoNotDisturbEnabled:this.settings.autoDisableNotifications.value,StartTime:this.settings.autoDisableNotifications.startTime,EndTime:this.settings.autoDisableNotifications.endTime}},async setNotificationsSettings(){const e=this.getSettingsValue();try{await this.$store.dispatch("chatsettings/setNotificationsSettings",e),this.$emit("settings-updated")}catch(e){this.$handleError(e),this.settings=JSON.parse(c()(this.notificationSettings))}},resetLoadingStatus(){this.loadingStatus={desktopLoading:!1,mobileLoading:!1,emailLoading:!1,soundLoading:!1,disabledLoading:!1,timeLoading:!1,isSettingsLoading:!1}},onDestopEnableChange(){this.loadingStatus.desktopLoading=!0,this.setNotificationsSettings()},onMobileNotificationsEnableChange(){this.loadingStatus.mobileLoading=!0,this.setNotificationsSettings()},onEmailEnableChange(){this.loadingStatus.emailLoading=!0,this.setNotificationsSettings()},onSoundNotificationsEnableChange(){this.loadingStatus.soundLoading=!0,this.setNotificationsSettings()},onAutoDisableNotificationChange(){this.loadingStatus.disabledLoading=!0,this.setNotificationsSettings()},onStartTimeChange(e){this.settings.autoDisableNotifications.startTime=e.value,this.loadingStatus.timeLoading=!0,this.setNotificationsSettings()},onEndTimeChange(e){this.settings.autoDisableNotifications.endTime=e.value,this.loadingStatus.timeLoading=!0,this.setNotificationsSettings()}}},p=(s("hAql"),s("KHd+")),m=s("lay+"),g=Object(p.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"notifications-settings"},[s("h1",{staticClass:"notification-settings-title"},[e._v(e._s(e.$t("notificationsLabel")))]),e._v(" "),s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.desktopNotificationsEnabled,expression:"settings.desktopNotificationsEnabled"}],attrs:{type:"checkbox",name:"desktop",id:"desktop"},domProps:{checked:Array.isArray(e.settings.desktopNotificationsEnabled)?e._i(e.settings.desktopNotificationsEnabled,null)>-1:e.settings.desktopNotificationsEnabled},on:{change:[function(t){var s=e.settings.desktopNotificationsEnabled,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&e.$set(e.settings,"desktopNotificationsEnabled",s.concat([null])):n>-1&&e.$set(e.settings,"desktopNotificationsEnabled",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.settings,"desktopNotificationsEnabled",a)},e.onDestopEnableChange]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"desktop"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("desktopEnableLabel")))])]),e._v(" "),s("div",{staticClass:"checkbox-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.desktopLoading,expression:"loadingStatus.desktopLoading"}],attrs:{size:"xx-small"}})],1)]),e._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.mobileNotificationsEnabled,expression:"settings.mobileNotificationsEnabled"}],attrs:{type:"checkbox",name:"mobile",id:"mobile"},domProps:{checked:Array.isArray(e.settings.mobileNotificationsEnabled)?e._i(e.settings.mobileNotificationsEnabled,null)>-1:e.settings.mobileNotificationsEnabled},on:{change:[function(t){var s=e.settings.mobileNotificationsEnabled,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&e.$set(e.settings,"mobileNotificationsEnabled",s.concat([null])):n>-1&&e.$set(e.settings,"mobileNotificationsEnabled",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.settings,"mobileNotificationsEnabled",a)},e.onMobileNotificationsEnableChange]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"mobile"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("mobileEnableLabel")))])]),e._v(" "),s("div",{staticClass:"checkbox-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.mobileLoading,expression:"loadingStatus.mobileLoading"}],attrs:{size:"xx-small"}})],1)]),e._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.emailNotificationsEnabled,expression:"settings.emailNotificationsEnabled"}],attrs:{type:"checkbox",name:"email",id:"email"},domProps:{checked:Array.isArray(e.settings.emailNotificationsEnabled)?e._i(e.settings.emailNotificationsEnabled,null)>-1:e.settings.emailNotificationsEnabled},on:{change:[function(t){var s=e.settings.emailNotificationsEnabled,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&e.$set(e.settings,"emailNotificationsEnabled",s.concat([null])):n>-1&&e.$set(e.settings,"emailNotificationsEnabled",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.settings,"emailNotificationsEnabled",a)},e.onEmailEnableChange]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"email"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("emailEnableLabel")))])]),e._v(" "),s("div",{staticClass:"checkbox-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.emailLoading,expression:"loadingStatus.emailLoading"}],attrs:{size:"xx-small"}})],1)]),e._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.soundNotificationsEnabled,expression:"settings.soundNotificationsEnabled"}],attrs:{type:"checkbox",name:"email",id:"sound"},domProps:{checked:Array.isArray(e.settings.soundNotificationsEnabled)?e._i(e.settings.soundNotificationsEnabled,null)>-1:e.settings.soundNotificationsEnabled},on:{change:[function(t){var s=e.settings.soundNotificationsEnabled,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&e.$set(e.settings,"soundNotificationsEnabled",s.concat([null])):n>-1&&e.$set(e.settings,"soundNotificationsEnabled",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.settings,"soundNotificationsEnabled",a)},e.onSoundNotificationsEnableChange]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"sound"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("soundEnableLabel")))])]),e._v(" "),s("div",{staticClass:"checkbox-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.soundLoading,expression:"loadingStatus.soundLoading"}],attrs:{size:"xx-small"}})],1)]),e._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.autoDisableNotifications.value,expression:"settings.autoDisableNotifications.value"}],attrs:{type:"checkbox",name:"automatic",id:"automatic"},domProps:{checked:Array.isArray(e.settings.autoDisableNotifications.value)?e._i(e.settings.autoDisableNotifications.value,null)>-1:e.settings.autoDisableNotifications.value},on:{change:[function(t){var s=e.settings.autoDisableNotifications.value,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&e.$set(e.settings.autoDisableNotifications,"value",s.concat([null])):n>-1&&e.$set(e.settings.autoDisableNotifications,"value",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.settings.autoDisableNotifications,"value",a)},e.onAutoDisableNotificationChange]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"automatic"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("dndLabel")))])]),e._v(" "),s("div",{staticClass:"checkbox-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.disabledLoading,expression:"loadingStatus.disabledLoading"}],attrs:{size:"xx-small"}})],1)]),e._v(" "),s("div",{staticClass:"time-range"},[s("ld-picklist",{staticClass:"picklist",attrs:{"menu-position":"left-top","menu-rows":5,value:e.settings.autoDisableNotifications.startTime,options:e.options,disabled:!e.settings.autoDisableNotifications.value},on:{change:function(t){return e.onStartTimeChange(t)}}},[s("icon",{attrs:{name:"clock",width:"16px",height:"16px","fill-color":"#706e6b"}})],1),e._v("\n        "+e._s(e.$t("toLabel"))+"\n        "),s("ld-picklist",{staticClass:"picklist",attrs:{"menu-position":"left-top","menu-rows":5,value:e.settings.autoDisableNotifications.endTime,options:e.options,disabled:!e.settings.autoDisableNotifications.value},on:{change:function(t){return e.onEndTimeChange(t)}}},[s("icon",{attrs:{name:"clock",width:"16px",height:"16px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{staticClass:"time-loading-container"},[s("ld-loading",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.startTimeLoading||e.loadingStatus.endTimeLoading,expression:"loadingStatus.startTimeLoading || loadingStatus.endTimeLoading"}],attrs:{size:"x-small"}})],1)],1)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus.isSettingsLoading,expression:"loadingStatus.isSettingsLoading"}],staticClass:"settings-loading"},[s("ld-loading")],1)])}),[],!1,null,"92f9488a",null);"function"==typeof m.default&&Object(m.default)(g);var f=g.exports,v={props:{show:{type:Boolean,default:!1},width:{type:String,default:""}},data:()=>({hideListener:null}),computed:{style:function(){return this.width?"width: ".concat(this.width):""}},created(){this.hideListener=()=>{this.$emit("close")},window.addEventListener("click",this.hideListener)},beforeDestroy(){window.removeEventListener("click",this.hideListener)},methods:{closeDropdown(){this.$emit("close")}}},_=Object(p.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-dropdown-trigger_click",class:{"slds-is-open":e.show},on:{click:function(e){e.stopPropagation()},mouseleave:function(t){return e.closeDropdown()}}},[s("div",{staticClass:"slds-dropdown slds-dropdown_left",style:e.style},[s("ul",{staticClass:"dropdown__list",attrs:{role:"menu"}},[e._t("default")],2)])])}),[],!1,null,null,null).exports,C={computed:a()({},Object(d.c)({currentUser:"user/currentUser",userStatus:"user/userStatus",notificationSettings:"chatsettings/notificationSettings",initialAgentStatuses:"livechat/initialAgentStatuses"}),{dynamicStatusText(){let e="";return this.isAway?e=this.$t("connecting"):this.isUpdatingUserStatus&&(e=this.$t("updating")),e},userStatusData(){return this.isAway||this.isUpdatingUserStatus?null:this.userStatus}}),watch:{userStatusData(e){this.changeConsoleUtiltiyIconStatus(e)}},data:function(){return{isInConsole:n.a.isInClassicConsole||n.a.isInLightningConsole,isDropDownViewed:!1,loadingStyle:"position: relative;margin: auto;z-index: 0;height: 100%",isAway:!1,isUpdatingUserStatus:!1}},components:{AgentStatusIcon:l.a,Dropdown:_,NotificationsSettings:f},mounted(){this.$root.$on("update-activetime-timer-lauched",()=>{this.isAway=!1}),this.$root.$on("streaming-reconnect",()=>{this.isDropDownViewed=!1,this.isAway=!0}),this.$root.$on("streaming-connect-failed",()=>{this.isAway=!0}),this.$root.$on("update-status-failed",()=>{this.isAway=!1})},beforeDestroy(){this.$root.$off("update-activetime-timer-lauched"),this.$root.$off("streaming-connect-failed"),this.$root.$off("update-status-failed")},methods:{toggleDropdown(){this.isAway||this.isUpdatingUserStatus||(this.isDropDownViewed=!this.isDropDownViewed)},async switchUserStatus(e){this.isDropDownViewed=!1,e.Id!==this.userStatus.Id&&(this.isUpdatingUserStatus=!0,await this.$store.dispatch("livechat/updateAgentStatus",{status:e}),this.isUpdatingUserStatus=!1)},hideDropdown(){this.isDropDownViewed=!1},closeSettingsModal(){this.$refs.settingsPopup.close()},openSettingsPopup(){this.$refs.notificationsSettings.fetchData(),this.$refs.settingsPopup.open()},changeConsoleUtiltiyIconStatus(e){this.isInConsole&&o.a.setUtilityIconStatus(e)}}},b=(s("Oygs"),s("22bM")),w=Object(p.a)(C,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical-align-center agent-setting slds-text-heading_small"},[s("span",{staticClass:"slds-grid slds-grid_vertical-align-center user-status-span",class:{console:e.isInConsole},on:{click:function(t){return t.stopPropagation(),e.toggleDropdown()}}},[s("div",{staticClass:"user-photo"},[s("img",{staticClass:"user-photo-img",attrs:{src:e.currentUser.SmallPhotoUrl,alt:""}}),e._v(" "),e.isUpdatingUserStatus||e.isAway?s("span",{staticClass:"loading-status-icon-wrapper slds-grid"},[s("icon",{staticClass:"loading-status-icon slds-grid",attrs:{name:"genericLoading",width:"10px",height:"10px","fill-color":"#9FAAB5"}})],1):s("span",{staticClass:"loading-status-icon-wrapper slds-grid"},[s("agent-status-icon",{staticClass:"slds-grid user-status-icon",attrs:{status:e.userStatus,"is-disabled-notification":e.notificationSettings.isDisabledNotification}})],1)]),e._v(" "),s("span",{staticClass:"user-status-name slds-truncate"},[e._v(e._s(e.dynamicStatusText||e.userStatusData.Name))])]),e._v(" "),e.isAway||e.isUpdatingUserStatus?e._e():s("span",{staticClass:"slds-grid slds-grid_vertical-align-center status-arrow",on:{click:function(t){return t.stopPropagation(),e.toggleDropdown()}}},[s("icon",{attrs:{name:"chevrondown","fill-color":"#706e6b","class-name":"slds-button__icon dropdown-icon",width:"12px",height:"12px"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isDropDownViewed,expression:"isDropDownViewed"}],staticClass:"dropdown-area"},[s("dropdown",{attrs:{show:!0},on:{close:e.hideDropdown}},e._l(e.initialAgentStatuses,(function(t,i){return s("li",{key:i,staticClass:"slds-dropdown__item",class:{"slds-is-selected":e.userStatus.Id===t.Id},on:{click:function(s){return e.switchUserStatus(t)}}},[s("span",{staticClass:"switch-status-link item-link",attrs:{role:"menuitem"}},[s("icon",{staticClass:"slds-icon slds-icon_x-small slds-icon-text-default slds-m-right_x-small slds-shrink-none slds-icon_selected",attrs:{name:"check","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v(" "),s("agent-status-icon",{attrs:{status:t,"is-disabled-notification":e.notificationSettings.isDisabledNotification}}),e._v(" "),s("p",{staticClass:"slds-truncate"},[e._v(e._s(t.Name))])],1)])})),0)],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-end slds-col settings-div"},[s("span",{staticClass:"action-icon_container",on:{click:e.openSettingsPopup}},[s("icon",{attrs:{name:"settings","fill-color":"#706e6b","hover-color":"#004487",width:"16px",height:"16px"}})],1)]),e._v(" "),s("ld-modal",{ref:"settingsPopup",staticClass:"notification-settings-modal",attrs:{width:"auto","min-width":"auto","max-width":533,title:e.$t("settingsHeader")},scopedSlots:e._u([{key:"content",fn:function(){return[s("notifications-settings",{ref:"notificationsSettings",staticClass:"slds-p-around_medium notification-settings-content"})]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{staticClass:"settings-btn",attrs:{brand:""},on:{click:function(t){return e.closeSettingsModal()}}},[e._v("\n        "+e._s(e.$t("global.doneBtn"))+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,"0820cc60",null);"function"==typeof b.default&&Object(b.default)(w);t.a=w.exports},iscZ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 16.7" id="structured_message" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="structured_message_XMLID_1_"> <path id="structured_message_XMLID_20_" d="M18.1,0H1.9C0.8,0,0,0.8,0,1.9v12.9c0,1,0.8,1.9,1.9,1.9h16.2c1,0,1.9-0.8,1.9-1.9V1.9\n\t\tC20,0.8,19.2,0,18.1,0z M19,14.8c0,0.5-0.4,0.9-0.9,0.9H1.9c-0.5,0-0.9-0.4-0.9-0.9V1.9C1,1.4,1.4,1,1.9,1h16.2\n\t\tC18.6,1,19,1.4,19,1.9V14.8z" fill=""/> <rect id="structured_message_XMLID_7_" x="3.3" y="3.4" width="7.8" height="5.6"/> <rect id="structured_message_XMLID_4_" x="12.2" y="3.4" width="4.4" height="1.1"/> <rect id="structured_message_XMLID_23_" x="12.2" y="5.6" width="4.4" height="1.1"/> <rect id="structured_message_XMLID_24_" x="12.2" y="7.8" width="4.4" height="1.1"/> <rect id="structured_message_XMLID_25_" x="3.3" y="10" width="13.3" height="1.1"/> <rect id="structured_message_XMLID_2_" x="3.3" y="12.3" width="13.3" height="1.1"/> </g> </symbol>',"structured_message")},itEF:function(e,t,s){"use strict";var i=s("4LGG"),a=s.n(i),n=s("WJzM"),o=s("HAvB"),l=s("tI07"),r=s("o0cn");class c{static from(e){let{mode:t,items:s}=e;return new c(t,a()(s).call(s,e=>c.createItem(e)))}static createItem(e){return"Skill"===e.type?new o.a(e):"Pass"===e.type?new l.a(e):"Notification Template"===e.type?new r.a(e):new n.a(e)}constructor(e,t){this.mode=e||"Random",this.items=t}toPascalData(){var e;return{Mode:this.mode,Items:a()(e=this.items).call(e,e=>e.toPascalData())}}}t.a=c},j2po:function(e,t,s){"use strict";var i=s("autp"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("SLhn"),r=s.n(l),c=s("Ip10"),d=s.n(c),h=s("3O4B"),u=s.n(h),p=s("WE60"),m=s.n(p),g=s("kWsH"),f=s.n(g),v=s("dUVM"),_=s.n(v),C=s("3dLu"),b=s.n(C),w=s("4LGG"),y=s.n(w),T=s("nGYt"),L=s.n(T),I=s("0G99"),k=s.n(I),S=s("+Bun"),M=s.n(S),A=s("8Vev"),x=s.n(A),N=s("wG3i"),E=s.n(N),D=s("+dyS"),P=s.n(D),R={props:{commonSelectedTags:{type:Array,default:()=>[]},tagId:{type:String,default:()=>""},halfSelectedTags:{type:Array,default:()=>[]},selectedCount:{type:Number,default:()=>0}},computed:{isSelected(){var e;return P()(e=this.commonSelectedTags).call(e,e=>this.tagId===e)},isHalfSelected(){var e;return P()(e=this.halfSelectedTags).call(e,e=>this.tagId===e)}}},O=(s("nUrL"),s("KHd+")),B=Object(O.a)(R,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",attrs:{role:"option"}},[s("span",{staticClass:"slds-media__figure icon-content"},[e.isSelected?s("icon",{staticClass:"slds-icon slds-icon_x-small",attrs:{name:"check",width:"14px",height:"14px","fill-color":"#706E6B"}}):e._e(),e._v(" "),e.isHalfSelected?s("icon",{staticClass:"slds-icon slds-icon_x-small",attrs:{name:"dash",width:"14px",height:"14px","fill-color":"#706E6B"}}):e._e()],1),e._v(" "),s("span",{staticClass:"slds-media__body",class:{"disabled-style":20===e.selectedCount&&!e.isSelected&&!e.isHalfSelected}},[s("span",{staticClass:"slds-truncate"},[e._t("default")],2)])])}),[],!1,null,"ffe7d632",null).exports,$=s("M2K/"),F=s.n($),U=s("BXKR"),V=s("4Wlx"),j=s("4B+h"),z=s("LQ5e"),W=s.n(z),H=s("L2JU"),G={components:{LimitedInput:U.a},data:()=>({tagName:"",canSave:!0,accountId:""}),computed:o()({},Object(H.c)({currentThread:"livechat/currentThread"}),{isSaveButtonDisabled(){return this.tagName.length<=0||!this.canSave}}),created(){this.accountId=this.$route.params.accountId?this.$route.params.accountId:this.currentThread.WeChatAccount.Id},methods:o()({},Object(H.b)("tag",["updateTagList"]),{onClickClose(){this.$emit("close-tag-popup")},formatedText(e){this.tagName=e},onClickSave(){var e;this.canSave=!1,Object(V.c)(e=>{if(e.ok){const t=JSON.parse(W.a.unescape(e.data));this.$emit("close-tag-popup",t),this.updateTagList(JSON.parse(W.a.unescape(e.data))),this.$root.$emit("open-toast-notification",{content:this.$t("createTagSuccessNotification"),type:"success"})}else Object(j.f)(e);this.canSave=!0},F()(e=this.tagName).call(e),this.accountId,!0)}})},Z=(s("HU9x"),s("8q59")),X=Object(O.a)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container create-tag-modal",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.onClickClose()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("createTagLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium create-tag"},[s("div",{staticClass:"create-tag__label"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required",attrs:{title:"required"}},[e._v("* ")]),e._v("\n            "+e._s(e.$t("nameLabel"))+"\n          ")]),e._v(" "),s("div",{staticClass:"create-tag__input"},[s("limited-input",{attrs:{content:e.tagName,sum:20},on:{"formated-text":function(t){return e.formatedText(t)}}})],1)])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:!e.canSave},on:{click:function(t){return e.onClickClose()}}},[e._v("\n          "+e._s(e.$t("global.cancelBtn"))+"\n        ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSaveButtonDisabled},on:{click:function(t){return e.onClickSave()}}},[e._v("\n          "+e._s(e.$t("global.saveBtn"))+"\n        ")])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"2da5cdb4",null);"function"==typeof Z.default&&Object(Z.default)(X);var Q={components:{AssignTagsPicklistItem:B,CreateTag:X.exports},props:{tags:{type:Array,default:()=>[]},buttonDisabled:{type:Boolean,default:()=>!1},selectedFollowerList:{type:Array,default:()=>[]},isMulty:{type:Boolean,default:()=>!1}},mounted(){this.selectedFollowers=JSON.parse(E()(this.selectedFollowerList)),this.sortTags(),this.$refs.searchInput.focus(),this.selectedCount=this.isMulty?this.maxTagsLen:20-this.maxTagsLen},computed:{filteredTags(){var e;return this.searchKey?x()(e=this.tags).call(e,e=>{var t;return M()(t=e.Name.toLowerCase()).call(t,this.searchKey.toLowerCase())>-1}):this.tags},clearSearchIconVisible(){return!!this.searchKey},isSingleFollower(){return 1===this.selectedFollowers.length},isNewTagSelected(){return!this.isMulty&&this.commonSelectedTags.length<20||this.isMulty&&this.maxTagsLen>0}},watch:{maxTagsLen(e){this.selectedCount=this.isMulty?e:20-e}},data:()=>({commonSelectedTags:[],searchKey:"",halfSelectedTags:[],maxTagsLen:0,selectedFollowers:[],selectedCount:0,originCommonSelectedTags:[],originHalfSelectedTags:[],isShowTagPopup:!1}),methods:{closeCreateTagPopup(e){if(this.isShowTagPopup=!1,e){var t;if(this.clearSearchKey(),this.filteredTags.unshift(e),document.querySelector(".pick-list").scrollTop=0,this.isNewTagSelected)k()(t=this.selectedFollowers).call(t,t=>{t.WeChatTags.push(e)});this.commonSelectedTags=this.filterCommonTagIds(),this.halfSelectedTags=this.filterPrivateTagIds(),this.maxTagsLen=this.calcMaxTagsLength()}},openNewTagPopup(){this.isShowTagPopup=!0},getAllFollowerTagIds(){var e;let t=[];return k()(e=this.selectedFollowers).call(e,e=>{var s;k()(s=e.WeChatTags).call(s,e=>{t.push(e.Id)})}),t=[...new L.a(t)],t},filterCommonTagIds(){var e,t;let s=[];return k()(e=this.selectedFollowers).call(e,e=>{var t;s.push(y()(t=e.WeChatTags).call(t,e=>e.Id))}),x()(t=s.shift()).call(t,e=>b()(s).call(s,t=>-1!==M()(t).call(t,e)))},filterPrivateTagIds(){let e=this.getAllFollowerTagIds();const t=this.filterCommonTagIds();return e=x()(e).call(e,e=>!_()(t).call(t,e)),e},calcMaxTagsLength(){var e;const t=y()(e=this.selectedFollowers).call(e,e=>e.WeChatTags||[]);return f()(t).call(t,(e,t)=>t.length-e.length),20-t[0].length},sortTags(){this.commonSelectedTags=this.filterCommonTagIds(),this.halfSelectedTags=this.filterPrivateTagIds(),this.maxTagsLen=this.calcMaxTagsLength(),this.originCommonSelectedTags=JSON.parse(E()(this.commonSelectedTags)),this.originHalfSelectedTags=JSON.parse(E()(this.halfSelectedTags))},selectTag(e){const t=this.getAllFollowerTagIds();if(m()(t).call(t,t=>t===e)>-1){var s,i,a;k()(s=this.selectedFollowers).call(s,t=>{let s=t.WeChatTags;const i=m()(s).call(s,t=>t.Id===e);i>-1&&u()(s).call(s,i,1)}),this.commonSelectedTags=x()(i=this.commonSelectedTags).call(i,t=>t!==e),this.halfSelectedTags=x()(a=this.halfSelectedTags).call(a,t=>t!==e)}else{var n;if(0===this.maxTagsLen)return;k()(n=this.selectedFollowers).call(n,t=>{var s;const i=d()(s=this.tags).call(s,t=>t.Id===e);t.WeChatTags.push(i)}),this.commonSelectedTags.push(e)}this.maxTagsLen=this.calcMaxTagsLength()},clearSearchKey(){this.searchKey=""},calcTagIdsToRemove(){var e,t;let s=[];const i=x()(e=this.originCommonSelectedTags).call(e,e=>{var t;return!_()(t=this.commonSelectedTags).call(t,e)}),a=x()(t=this.originHalfSelectedTags).call(t,e=>{var t,s;return!_()(t=this.halfSelectedTags).call(t,e)&&!_()(s=this.commonSelectedTags).call(s,e)});return s=r()(i).call(i,a),s},save(){const e=this.calcTagIdsToRemove();this.$emit("save",this.commonSelectedTags,e)},cancel(){this.$emit("cancel")}}},Y=(s("oo6j"),s("tQyZ")),q=Object(O.a)(Q,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element tag-popup",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-combobox_container"},[s("div",{staticClass:"slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open",attrs:{"aria-expanded":"true","aria-haspopup":"listbox",role:"combobox"}},[s("div",{staticClass:"slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid",attrs:{role:"listbox"}},[s("div",{staticClass:"picklist-title slds-grid"},[s("span",[s("span",{staticClass:"slds-m-right_x-small"},[e._v(e._s(e.$t("assignTagstitle")))]),e._v(" "),s("span",{staticClass:"selected-count"},[e._v(e._s(e.selectedCount)),e.isMulty?e._e():s("span",[e._v("/20")])])]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-small",on:{click:e.openNewTagPopup}},[s("icon",{attrs:{name:"add","class-name":"slds-button__icon",width:"13px",height:"13px"}})],1)]),e._v(" "),s("div",{staticClass:"slds-border_top slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right picklist-search-area"},[s("icon",{staticClass:"slds-icon-text-light slds-input__icon slds-input__icon_left",attrs:{name:"search",width:"14px",height:"14px","fill-color":"#706E6B"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],ref:"searchInput",staticClass:"slds-input",attrs:{placeholder:e.$t("searchTags"),type:"text"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),e.clearSearchIconVisible?s("button",{staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",on:{click:e.clearSearchKey}},[s("icon",{attrs:{name:"lightningClear",width:"14px",height:"14px","fill-color":"#706E6B"}})],1):e._e()],1),e._v(" "),s("ul",{staticClass:"slds-scrollable_y pick-list",attrs:{role:"presentation"}},e._l(e.filteredTags,(function(t){return s("li",{key:t.Id,staticClass:"slds-listbox__item",attrs:{role:"presentation"},on:{click:function(s){return e.selectTag(t.Id)}}},[s("assign-tags-picklist-item",{attrs:{"tag-id":t.Id,"common-selected-tags":e.commonSelectedTags,"half-selected-tags":e.halfSelectedTags,"selected-count":e.isMulty?20-e.selectedCount:e.selectedCount}},[e._v("\n                "+e._s(t.Name)+"\n              ")])],1)})),0),e._v(" "),s("div",{staticClass:"edit-btn-group slds-p-top_x-small slds-p-bottom_x-small"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.buttonDisabled},on:{click:function(t){return e.cancel()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.buttonDisabled},on:{click:function(t){return e.save()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])])])]),e._v(" "),e.isShowTagPopup?s("create-tag",{on:{"close-tag-popup":e.closeCreateTagPopup}}):e._e()],1)}),[],!1,null,"513b2856",null);"function"==typeof Y.default&&Object(Y.default)(q);var J=q.exports;t.a={components:{AssignTagsPicklist:J},data:()=>({assignTagsPicklistBtnDisabled:!1,assignTagsPicklistVisible:!1,tagList:[]}),computed:o()({},Object(H.c)({currentAccountTags:"tag/tagList"})),methods:{toggle(){this.assignTagsPicklistVisible||(this.initTagList(),this.assignTagsPicklistVisible=!0,a()(()=>{window.addEventListener("click",this.closeAssignTagsPicklist)},0))},closeAssignTagsPicklist(){this.assignTagsPicklistVisible=!1,window.removeEventListener("click",this.closeAssignTagsPicklist)},initTagList(){this.tagList=[];for(let e in this.currentAccountTags){const t=this.currentAccountTags[e];this.tagList.push({Id:t.Id,Name:t.Name})}}}}},j5tF:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"offline":"离线","notAcceptChat":"不接收对话","online":"在线","settingsHeader":"设置","connecting":"连接中...","updating":"更新中..."},"en":{"offline":"Offline","notAcceptChat":"Don\'t Accept Chats","online":"Online","settingsHeader":"Settings","connecting":"Connecting...","updating":"Updating..."}}'),delete e.options._Ctor}},j7Ze:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"retrivingHistory":"正在加载历史消息...","loadOldMessage":"加载历史消息","today":"今天","yesterday":"昨天","noMessageTip":"没有微信消息"},"en":{"retrivingHistory":"Retrieving chat history...","loadOldMessage":"Load old messages","today":"Today","yesterday":"Yesterday","noMessageTip":"No chat messages"}}'),delete e.options._Ctor}},"jIQ+":function(e,t,s){"use strict";var i=s("bYLY");s.n(i).a},jMrX:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"aboutFollowerLabel":"关于此关注者","nameLabel":"名称","weChatAccLabel":"微信公众号","detailsLabel":"详情","relatedLabel":"相关","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","relatedToLabel":"相关","activityLabel":"最近活跃时间","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"电话","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名称","accountNameLabel":"客户名","changeSaveLabel":"更改已保存。","tagCreateSuccess":"标签已创建","tags":"标签","edit":"编辑","noTags":"没有标签","assignTagstitle":"分配标签","searchTags":"搜索标签"},"en":{"aboutFollowerLabel":"About This Follower","nameLabel":"Name","weChatAccLabel":"WeChat Account","detailsLabel":"Details","relatedLabel":"Related","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","relatedToLabel":"Related To","activityLabel":"Last Activity Time","leadLabel":"Lead | Leads","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact | Contacts","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","changeSaveLabel":"Changes were saved.","tagCreateSuccess":"Tag was created","tags":"Tags","edit":"Edit","noTags":"No Tags","assignTagstitle":"Assign Tags","searchTags":"Search Tags"}}'),delete e.options._Ctor}},jab7:function(e,t,s){},jfyV:function(e,t,s){"use strict";var i={props:{direction:{type:String,default:"left"},content:{type:String,default:""},positionStyle:{type:String,default:""},bodyStyle:{type:String,default:""},isViewed:{type:Boolean,default:!1},showModal:{type:Boolean,default:!0}},methods:{closePopover(){this.$emit("close")}}},a=(s("0Z8u"),s("KHd+")),n=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isViewed,expression:"isViewed"}],staticClass:"slds-popover",class:["slds-nubbin_"+e.direction],style:e.positionStyle,attrs:{role:"dialog"}},[s("div",{staticClass:"slds-popover__body emotion-main",style:e.bodyStyle},[e._t("default",[s("p",[e._v(e._s(e.content))])])],2),e._v(" "),e.showModal?s("div",{staticClass:"emotion-modal",on:{click:function(t){return e.closePopover()}}}):e._e()])}),[],!1,null,"b5b3e33a",null);t.a=n.exports},jkSJ:function(e,t,s){"use strict";var i=s("4LGG"),a=s.n(i),n=s("11pw"),o=s("DInU"),l=s("rVwK");const r=new o.n;var c=class{static async getQRCodes(e){var t;const s=await r.getQRCodes(e);return n.a.trace("QRCodeService","getQRCodes > result",s),s.qrcodes=a()(t=s.qrcodes).call(t,e=>new l.h(e)),s}static async getById(e){const t=await r.getQRCodeById(e);return new l.h(t)}static async getRelatedObjects(){return await r.getRelatedObjectNames()}static async create(e){this.tryRemoveIllegalData(e);const{qrcodeid:t}=await r.createQRCode(e);await r.generateQRCode(t)}static update(e){return this.tryRemoveIllegalData(e),r.updateQRCode(e)}static async activate(e){await r.activate(e)}static async deactivate(e){await r.deactivate(e)}static tryRemoveIllegalData(e){e.WeChatMessage.FileMapping&&(delete e.WeChatMessage.FileMapping,delete e.WeChatTags)}};const d=new o.e;var h=class{static async getFollowers(e){var t;const s=await d.getFollowers(e);return s.Followers=a()(t=s.Followers).call(t,e=>new l.c(e)),s}static async block(e,t){await d.block(e,t)}static async unblock(e,t){await d.unblock(e,t)}static async sync(e){return await d.sync(e)}static async getFollowerDetail(e){return await d.getFollowerDetail(e)}static async getFollowerRelatedData(e){return await d.getFollowerRelatedData(e)}};const u=new o.t;var p=class{static async getWeChatTags(e){const t=await u.getWeChatTags(e);return a()(t).call(t,e=>new l.k(e))}static async getTagTypes(){const e=["WeChat"],{Enabled:t}=await u.checkCharketTagEnabled();return t&&e.push("Charket"),e}};const m=new o.n;var g=class{static async getCampaignMemberStatusOptions(e){const{campaignMemberStatus:t}=await m.getCampaignMemberStatus(e);return t}},f=s("4MOm");const v=new o.o;var _=class{static async getRecentItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=f.a.getQualifiedName(e),i=await v.getRecentlyViewedRecords(s,t);return a()(i).call(i,e=>new l.i(e))}static async searchRecords(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=f.a.getQualifiedName(t),o=await v.searchRecords(e,n,s,i);return a()(o).call(o,e=>new l.i(e))}static async searchRecordsWithLayoutFields(e,t){var s;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=f.a.getQualifiedName(t),{Columns:r,Records:c}=await v.searchRecordsWithLayoutFields(e,o,i,n);return{columns:a()(s=r||[]).call(s,e=>new l.i(e)),records:a()(c).call(c,e=>new l.i(e))}}};const C=new o.j;var b=class{static async getById(e){return await C.getWeChatMessage(e)}};const w=new o.u;var y=class{static async getAllValidWeChatAccounts(){return await w.getAllValidWeChatAccounts()}static async getWeChatAccount(e){return await w.getWeChatAccount(e)}};const T=new o.q;var L=class{static async getAllMergeableSObjects(e){const t=await T.getAllMergeableSObjects(e);let s=[];if(!t||t.length<=0)return s;for(const e of t)s.push({name:e.Label,value:e.Name,objectKey:!0});return s}static async getMergeableSObject(e){const t=await T.getMergeableSObject(e);return{name:t.Label,value:t.Name}}static async getObjectsByPageName(e){const t=await T.getObjectsByPageName(e);let s=[];if(!t||t.length<=0)return s;for(const e of t)s.push({name:e.Label,value:e.Name,objectKey:!0});return s}static async getFields(e){const t=await T.getFields(e);return a()(t).call(t,e=>({name:e.Label,label:e.Name,value:e.ReferenceName,isReferenceType:e.IsReferenceType,relationshipName:e.RelationshipName,type:e.Type}))}};const I=new o.a;var k=class{static async getCurrentUserAgents(e){const t=await I.getCurrentUserAgents(e);return a()(t).call(t,e=>new l.a(e))}static getLeastActiveAgents(e,t,s){return I.getLeastActiveAgents(e,t,s)}},S=s("vQrK"),M=s.n(S);const A=new o.r;const x=(e,t,s)=>M()({numberOfRowsToReturn:t,numberOfRowsToSkip:(e-1)*t},s);var N=class{static async getAllPickListValues(){return await A.getAllPickListValues()}static async getSkills(e){var t;let{pageNumber:s,pageSize:i,conditions:n}=e;const o=x(s,i,n),r=await A.getSkills(o);return r.records=a()(t=r.records).call(t,e=>new l.j(e)),r}static activate(e){return A.activate(e)}static deactivate(e){return A.deactivate(e)}static delete(e){return A.deleteSkill(e)}static async executeSkill(e){let{skillId:t,followerId:s,forceExecute:i}=e;await A.executeSkill({skillId:t,followerId:s,forceExecute:i})}static async getSkill(e){const t=await A.getSkill(e);return new l.j(t)}static saveSkill(e){return A.saveSkill(e)}};const E=new o.g;var D=class{static async sendNotificationTemplateMessage(e){let{msg:t,followerId:s,forceSend:i}=e;await E.sendNotificationTemplateMessage({msg:t,followerId:s,forceSend:i})}static async sendMessage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.forceSend=!!e.forceSend,await E.sendMessage(e)}static async resendMessage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.forceSend=!!e.forceSend,await E.resendMessage(e)}static async getUnreadMessageCount(){return await E.getUnreadMessageCount()}static async getLiveChatSettings(){return await E.getLiveChatSettings()}static async getAgentsNotificationsSettings(){return await E.getAgentsNotificationsSettings()}static async setNotificationsSettings(e){await E.setNotificationsSettings(e)}static async getChatItem(e){return await E.getChatItem(e)}static async getThread(e){return await E.getTranscript(e)}static acceptChat(e){return E.acceptChat(e)}static createNewThread(e){return E.createNewThread(e)}static updateQuickReplyMessage(e){return E.updateQuickReplyMessage(e)}static async getQuickReplyMessages(e){let{type:t,wechatAccountId:s,searchKey:i,orderBy:a,numToReturn:n}=e;const{QuickReplyMsgs:o}=await E.getQuickReplyMessage({type:t,wechatAccountId:s,searchKey:i,orderBy:a,numToReturn:n});return o}};const P=new o.c;var R=class{static async getCharketSettings(){const{IsPardotEnabled:e,IsCustomDomainEnabled:t,IsCharketSmsEnabled:s,ChatFormatTimeZone:i}=await P.getCharketSettings();return{isPardotEnabled:e,isCustomDomainEnabled:t,isCharketSmsEnabled:s,chatFormatTimeZone:i}}},O=s("2mf0");const B=new o.h,$=(e,t)=>{const s={Scope:t};if("All"===t)return s;if("ListView"===t)return s.ListView=e.SelectedListView,s;const i=[];return s.Filters=i,e.HasSelectedCampaign&&(s.CampaignId=e.SelectedCampaign.Id,e.SelectedCampaign.status&&i.push({Type:"CampaignMemberStatus",Operation:"equals",Value:e.SelectedCampaign.status})),e.HasSelectedTag&&i.push({Type:"Tag",Operation:"equals",Value:e.SelectedTag.Id}),e.HasSelectedRelatedTo&&i.push({Type:"RelatedTo",Operation:"equals",Value:e.RelatedTo}),s};var F=class{static async getFilterResult(e){let{wechatAccountId:t,filter:s,filterType:i}=e;const a=$(s,i);return B.getSelectedFollowerCount(t,a)}static send(e){let{wechatAccountId:t,contentId:s,filter:i,filterType:a,timeToFire:n}=e;const o=$(i,a);return B.asyncSendMassMessage(t,s,o,n)}static sendNotificationTemplateAsync(e){let{wechatAccountId:t,id:s,filter:i,filterType:a,timeToFire:n}=e;const o=$(i,a);return B.asyncSendMassTemplateMessage(t,s,o,n)}static sendNotificationTemplate(e){let{wechatAccountId:t,id:s,eventId:i,followers:a}=e;return B.sendMassTemplateMessage(t,s,i,a)}static async mustSendNotificationTemplateAsync(e){let{wechatAccountId:t,filter:s,filterType:i}=e;const a=$(s,i),{IsTemplateMessageSendByAsync:n}=await B.isTemplateMessageSendByAsync(t,a);return n}static createNotificationTemplateParentEvent(e){let{wechatAccountId:t,templateId:s,filter:i,filterType:a}=e;const n=$(i,a);return B.createTemplateMessageParentEvent(t,s,n)}static getProgressOfNotificationTemplateParentEvent(e){let{parentEventId:t,requestCount:s,totalCount:i}=e;return B.getMassSendTemplateMessageResult(t,s,i)}static async getEventsWithPaging(e){let{wechatAccountId:t,pageNumber:s,pageSize:i,statusFilter:n}=e;const{events:o,paging:r}=await B.getSentMassMessages(t,s,i,n);return{events:o?a()(o).call(o,e=>{const t=new l.d(e);return t.message&&(t.message=new l.e(t.message)),t.template&&(t.template=new l.f(t.template)),t}):[],paging:r}}};const U=new o.h,V=new o.f;var j=class{static async getListViewSupportedSObjects(){const e=await U.getListViewSupportedSObjects();return a()(e).call(e,e=>({label:e.Label,value:e.Name}))}static async getListViews(e){const t=await V.getListViews(e);return a()(t).call(t,e=>({label:e.Label,value:e.Id}))}};const z=new o.m;var W=class{static async getWeChatPasses(e){let{wechatAccountId:t,offset:s,limit:i,keyword:n}=e;const o=await z.getWeChatPasses(t,s,i,n);return a()(o).call(o,e=>new l.g(e))}static async getById(e){const t=await z.getWeChatPass(e);return new l.g(t)}},H=s("9IDl");const G=new o.l;var Z=class{static async getNotificationTemplates(e){let{wechatAccountId:t,offset:s,limit:i,keyword:n}=e;const o=await G.getNotificationTemplates(t,s,i,n);return a()(o).call(o,e=>new l.f(e))}static async getByIds(e){const t=await G.getWeChatNotifications(e);return a()(t).call(t,e=>new l.f(e))}static async getById(e){const t=await G.getTemplate(e);return 0!==t.length?new l.f(t[0]):null}static async getMergedTemplateMessage(e,t,s){const i=await G.getMergedTemplateMessage({id:e,followerId:t,agentId:s});return i?new l.f(i):null}},X=s("0G99"),Q=s.n(X),Y=s("kWsH"),q=s.n(Y);const J=new o.i,K=e=>{var t,s;e.MenuItems&&(e.MenuItems=q()(t=e.MenuItems).call(t,(e,t)=>e.Order-t.Order),Q()(s=e.MenuItems).call(s,e=>{var t,s;e.itemId=e.Id,e.SubItems=q()(t=e.SubItems).call(t,(e,t)=>e.Order-t.Order),Q()(s=e.SubItems).call(s,e=>{e.itemId=e.Id})}));return e};var ee=class{static async getDefaultMenu(e){const{defaultMenu:t}=await J.getDefaultMenu(e);return K(t)}static getFilters(){return J.getMenuFilters()}static async getById(e){const t=await J.getMenu(e);return K(t)}static updateDefaultMenu(e,t){return J.updateMenu(e,t)}static publishDefaultMenu(e){return J.publishMenu(e)}static updateCustomMenu(e,t){return J.updateCustomMenu(e,t)}static publishCustomMenu(e,t){return J.publishCustomMenu(e,t)}static getCustomMenus(e){let{wechatAccountId:t,offset:s,pageSize:i,type:a}=e;return J.getCustomMenus({wechatAccountId:t,offset:s,pageSize:i,type:a})}static getCustomMenuCounts(e){return J.getCustomMenuCount(e)}static async getConfirmMessage(e,t){return J.getSavePriorityConfirmMessage(e,t)}static updateFollowerTagPriority(e,t){return J.savePriority(e,t)}static deleteCustomMenu(e){return J.deleteCustomMenu(e)}};s("n/5B");const te=new o.b;var se=class{static saveImage(e){let{flowStepId:t,name:s,body:i,contentType:a,attachmentId:n}=e;return te.saveImage(t,s,i,a,n)}};s.d(t,"o",(function(){return c})),s.d(t,"f",(function(){return h})),s.d(t,"s",(function(){return p})),s.d(t,"c",(function(){return g})),s.d(t,"p",(function(){return _})),s.d(t,"l",(function(){return b})),s.d(t,"t",(function(){return y})),s.d(t,"q",(function(){return L})),s.d(t,"a",(function(){return k})),s.d(t,"r",(function(){return N})),s.d(t,"h",(function(){return D})),s.d(t,"d",(function(){return R})),s.d(t,"k",(function(){return O.a})),s.d(t,"i",(function(){return F})),s.d(t,"g",(function(){return j})),s.d(t,"n",(function(){return W})),s.d(t,"e",(function(){return H.a})),s.d(t,"m",(function(){return Z})),s.d(t,"j",(function(){return ee})),s.d(t,"b",(function(){return se}))},"k/R5":function(e,t,s){},kGY6:function(e,t,s){},kQ0q:function(e,t,s){},kTU7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"sortByLabel":"排序","filterLabel":"依照{0}过滤","searchLabel":"搜索","applyLabel":"应用","resetLabel":"重置"},"en":{"sortByLabel":"Sort by","filterLabel":"Filter by {0}","searchLabel":"Search ","applyLabel":"Apply","resetLabel":"Reset"}}'),delete e.options._Ctor}},kk2Z:function(e,t,s){"use strict";var i=s("ODR7"),a=s.n(i);t.default=a.a},ksWA:function(e,t,s){"use strict";var i=s("obT8");s.n(i).a},lJtq:function(e,t,s){"use strict";var i=s("Tsu/"),a=s.n(i);t.default=a.a},"lay+":function(e,t,s){"use strict";var i=s("twJQ"),a=s.n(i);t.default=a.a},lwUO:function(e,t,s){"use strict";var i=s("rbrY"),a=s.n(i);t.default=a.a},"m6i+":function(e,t,s){},mAtX:function(e,t,s){},mCSQ:function(e,t,s){"use strict";var i=s("ATNP"),a=s.n(i);t.default=a.a},mNTr:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 18 18" id="clear_format" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#AAAAAA;} </style> <g id="clear_format_XMLID_5_"> <g id="clear_format_XMLID_37_"> <path id="clear_format_XMLID_38_" fill="" d="M6.4,0L0,6.4l5.5,5.5l0,0l6.1,6.1l6.4-6.4L6.4,0z M7,10.5L2.8,6.4l3.5-3.5L10.5,7L7,10.5z"/> </g> </g> </symbol>',"clear_format")},md81:function(e,t,s){"use strict";var i=s("UTNU");s.n(i).a},meVp:function(e,t,s){},mlV6:function(e,t,s){},moPg:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 36 36" id="total_followers" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>&#x5206;&#x7EC4;</title> <desc>Created with Sketch.</desc> <g> <path d="M22.8,29c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1c0.6,0,1-0.4,1-1v-5C23.8,29.4,23.4,29,22.8,29z" fill=""/> <path d="M26.8,25c-0.6,0-1,0.4-1,1v9c0,0.6,0.4,1,1,1c0.6,0,1-0.4,1-1v-9C27.8,25.4,27.4,25,26.8,25z" fill=""/> <path d="M30.8,28c-0.6,0-1,0.4-1,1v6c0,0.6,0.4,1,1,1s1-0.4,1-1v-6C31.8,28.4,31.3,28,30.8,28z" fill=""/> <path d="M17.7,0.5c-6.4,0-11.5,5.2-11.5,11.6c0,4.8,2.9,8.9,7,10.7C7.8,24.6,4,29.4,4,35.1C4,35.6,4.5,36,5,36\r\n\t\ts1-0.4,1-0.9c0-6.2,5.3-11.2,11.9-11.2c0.2,0,0.5-0.1,0.6-0.2c5.9-0.5,10.6-5.5,10.6-11.6C29.2,5.7,24.1,0.5,17.7,0.5z M17.7,21.7\r\n\t\tc-5.3,0-9.5-4.3-9.5-9.6c0-5.3,4.3-9.6,9.5-9.6c5.3,0,9.5,4.3,9.5,9.6C27.2,17.4,23,21.7,17.7,21.7z" fill=""/> </g> </symbol>',"total_followers")},mpUe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="},mqxs:function(e,t,s){},"n/5B":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var i=s("kWsH"),a=s.n(i);const n=new(s("DInU").s),o=8e3,l=5;class r{static getServerGMTTime(){return n.getCurrentGMTTime()}constructor(){this.calibrationDiffs=[],this.calibrationTimeErrorCount=0,this.timeDiff=0,this.init()}getCurrentTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;return Math.abs(this.timeDiff)<e?(new Date).getTime():(new Date).getTime()-this.timeDiff}async init(){this.timeDiff=await this.getAverageDifference()}async getAverageDifference(){if(this.calibrationDiffs.length===l){var e;const t=a()(e=this.calibrationDiffs).call(e,(e,t)=>e-t);return Math.floor((t[0]+t[1])/2)}const t=(new Date).getTime();try{const e=await r.getServerGMTTime(),s=(new Date).getTime();return s-t<o&&this.calibrationDiffs.push(s-e),this.calibrationTimeErrorCount=0,this.getAverageDifference()}catch(e){return this.calibrationTimeErrorCount++,this.calibrationTimeErrorCount>=5?0:this.getAverageDifference()}}}const c=new r},nAR7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"typeLabel":"类型","statusLabel":"状态","startDateLabel":"开始日期","endDateLabel":"结束日期","respondLabel":"响应","memberStatusLabel":"成员状态更新日期","opportunityLabel":"业务机会","opportunityNameLabel":"业务机会名称","ownerLabel":"所有人","stageLabel":"阶段","closeDateLabel":"结束日期","caseLabel":"个案","caseNumberLabel":"个案编号","subjectLabel":"主题","timeOpenLabel":"日期/时间打开","noRelatedListLabel":"没有显示相关的列表","accountNameLabel":"客户名","viewAllLabel":"浏览全部"},"en":{"typeLabel":"Type","statusLabel":"Status","startDateLabel":"Start Date","endDateLabel":"End Date","respondLabel":"Responded","memberStatusLabel":"Member Status Updated Date","opportunityLabel":"Opportunity | Opportunities","opportunityNameLabel":"Opportunity Name","ownerLabel":"Owner","stageLabel":"Stage","closeDateLabel":"Close Date","caseLabel":"Case | Cases","caseNumberLabel":"Case Number","subjectLabel":"Subject","timeOpenLabel":"Date/Time Opened","noRelatedListLabel":"No related lists to display","accountNameLabel":"Account Name","viewAllLabel":"View All"}}'),delete e.options._Ctor}},nIP5:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 100 100" id="lead_gray" ><circle fill="#54698d" cx="50" cy="29" r="9"/><path fill="" d="m78 44h-56c-2 0-2.8 2.5-1.1 3.6l14.6 9.4c0.7 0.5 1.1 1.4 0.8 2.2l-5.5 18.3c-0.6 2 2 3.4 3.5 1.9l14.2-15c0.8-0.9 2.2-0.9 3 0l14.2 15c1.4 1.5 4 0.1 3.5-1.9l-5.5-18.3c-0.2-0.8 0.1-1.7 0.8-2.2l14.6-9.4c1.7-1.1 0.9-3.6-1.1-3.6z"/></symbol>',"lead_gray")},nLMK:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newCaseLabel":"新建个案","recordTypeLabel":"选择一个记录类型"},"en":{"newCaseLabel":"New Case","recordTypeLabel":"Select a record type"}}'),delete e.options._Ctor}},nUrL:function(e,t,s){"use strict";var i=s("oOOd");s.n(i).a},ncnd:function(e,t,s){"use strict";var i=s("WfgW");s.n(i).a},ngIk:function(e,t,s){"use strict";var i=s("8Vev"),a=s.n(i),n=s("autp"),o=s.n(n),l=s("SLhn"),r=s.n(l),c=s("rZkV"),d=s.n(c);var h={props:{optionsName:{type:String,default:""},currents:{type:Array,default:()=>[]},isDisabled:{type:Boolean,default:!1},isDanger:{type:Boolean,default:!1},defaultLabel:{type:String,default:""},isSingleSelection:{type:Boolean,default:!0},showList:{type:Boolean,default:!0},type:{default:()=>null},limitLength:{type:Number,default:0},isModalSmaller:{type:Boolean,default:!1}},watch:{currents(e){this.options=[...this.currents]}},computed:{selectedResult:function(){const e=[...this.options];let t="";if(0===e.length)t=this.defaultLabel||this.$t("noneLabel");else if(1===e.length)t=e[0].Name;else if(e.length>1){var s,i,a;t=this.limitLength>0?r()(s=r()(i="".concat(e.length,"/")).call(i,this.limitLength," ")).call(s,this.$t("selectLabel")):r()(a="".concat(e.length," ")).call(a,this.$t("selectLabel"))}return{selectedOptions:e,label:t}}},data(){return{options:[],targetEle:null,uniqueRef:d()(e=Math.random().toString(36)).call(e,4),dropdownOpened:!1};var e},methods:{switchDropdown(){this.isDisabled||(this.$emit("close-dropdown"),this.dropdownOpened=!this.dropdownOpened,this.dropdownOpened&&o()(()=>{const e=this.targetEle.getBoundingClientRect(),t=240-e.width;this.$root.$emit("close-other-dropdown",this.uniqueRef),this.isModalSmaller?this.$emit("open-dropdown",e.left-t,e.bottom,e.width,this.type):window.innerWidth-e.right<=54&&e.width<190?this.$emit("open-dropdown",e.left-t,e.bottom,e.width,this.type):this.$emit("open-dropdown",e.left,e.bottom,e.width,this.type)},100))},removeSelectedOption(e,t){var s;this.options=a()(s=this.options).call(s,t=>t.Name!==e.Name),this.$emit("remove-option",this.options)},resizePage(){if(this.dropdownOpened){const e=this.targetEle.getBoundingClientRect(),t=240-e.width;this.isModalSmaller?this.$emit("open-dropdown",e.left-t,e.bottom,e.width,this.type):window.innerWidth-e.right<=54&&e.width<190?this.$emit("open-dropdown",e.left-t,e.bottom,e.width,this.type):this.$emit("open-dropdown",e.left,e.bottom,e.width,this.type)}}},created(){this.options=[...this.currents]},mounted(){this.targetEle=this.$refs[this.uniqueRef],this.$nextTick((function(){window.addEventListener("resize",this.resizePage),window.addEventListener("mousewheel",this.resizePage),window.addEventListener("DOMMouseScroll",this.resizePage)})),this.$root.$on("close-other-dropdown",e=>{this.dropdownOpened=e===this.uniqueRef})},destroyed(){window.removeEventListener("resize",this.resizePage),window.removeEventListener("mousewheel",this.resizePage),window.removeEventListener("DOMMouseScroll",this.resizePage)}},u=(s("tr46"),s("KHd+")),p=s("DjGp"),m=Object(u.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"charket-picklist"}},[s("div",{staticClass:"slds-picklist slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"},[s("div",{staticClass:"slds-form-element"},[e.optionsName?s("label",{staticClass:"slds-form-element__label",attrs:{for:"text-input-01"}},[e._v(e._s(e.optionsName))]):e._e(),e._v(" "),s("div",{ref:e.uniqueRef,staticClass:"slds-form-element__control slds-input-has-icon slds-picklist__input value-section-width",on:{click:function(t){return e.switchDropdown()}}},[s("input",{staticClass:"slds-lookup__search-input slds-input selected-result-label",class:{"is-danger":e.isDanger,"label-disabled":e.isDisabled},attrs:{id:"text-input-01",type:"search",isDisabled:e.isDisabled,readonly:"readonly"},domProps:{value:e.selectedResult.label}}),e._v(" "),s("a",{staticClass:"slds-button slds-input__icon slds-text-color_default box-shadow-btn",class:{"btn-disabled":e.isDisabled},attrs:{"aria-expanded":"false",tabindex:"-1"}},[s("icon",{staticClass:"slds-button__icon",attrs:{name:"down","fill-color":"#706e6b",width:".8125rem",height:".8125rem"}})],1)])])]),e._v(" "),e.selectedResult.selectedOptions.length>1&&e.showList?s("div",{staticClass:"slds-pill_container slds-pill_container_bare slds-grid slds-wrap select-option-list"},e._l(e.selectedResult.selectedOptions,(function(t){return s("span",{staticClass:"slds-pill select-option-value"},[s("span",{staticClass:"slds-pill__label"},[e._v(e._s(t.Name))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_icon slds-pill__remove",on:{click:function(s){return s.stopPropagation(),e.removeSelectedOption(t,s)}}},[s("icon",{attrs:{name:"close",height:"16px",width:"16px","fill-color":"#b0adab","class-name":"close-icon","charket-icon":""}})],1)])})),0):e._e()])])}),[],!1,null,"15a5a05f",null);"function"==typeof p.default&&Object(p.default)(m);t.a=m.exports},nrQE:function(e){e.exports={cn:{global:{newBtn:"新建",editBtn:"编辑",deleteBtn:"删除",nextBtn:"下一步",closeBtn:"关闭",cancelBtn:"取消",confirmBtn:"确定",doneBtn:"完成",saveBtn:"保存",submitBtn:"提交",backBtn:"返回",chooseBtn:"选择",deactivateBtn:"禁用",activateBtn:"启用",yesBtn:"是",noBtn:"否",campaignName:"市场活动",search:"搜索",itemLabel:"项目",syncBtn:"同步",previewBtn:"预览",notifyLabel:"模板消息",passLabel:"凭证",textLabel:"文本",imageLabel:"图片",strucLabel:"图文消息",voiceLabel:"语音",videoLabel:"视频",couponLabel:"卡券",skillLabel:"技能",miniProgramLabel:"小程序卡片",syncedWithWeChatPlatform:"与微信同步",all:"全部",title:"标题",unsavedLabel:"你有未保存的更改。你确定要放弃这些更改吗?",space:"\r",popupHeader:{createTextMessage:"创建文本消息",selectTextMessage:"选择文本消息",editTextMessage:"编辑文本消息",selectStructuredMessage:"选择图文消息",selectImage:"选择图片",selectVoiceClip:"选择语音",selectVideo:"选择视频",selectCoupon:"选择卡券",selectSkill:"选择技能",selectPass:"选择凭证",selectMiniProgram:"选择小程序卡片",selectNotificationTemplateLabel:"选择模板消息"},ueditor:{circle:"大圆圈",disc:"小黑点",square:"小方块"},appPermissionLabel:"Charket 需要授权才能",appDesktopNotifyLabel:"启用桌面通知",dayLabel:"天",hourLabel:"时",minuteLabel:"分",secondLabel:"秒",loading:"加载中",wechatLabel:"微信",phoneLabel:"手机",desktopLabel:"桌面",copySuccess:"ID已被复制至你的粘贴板。",copyFailed:"复制失败。",copyIDLabel:"复制ID",openLabel:"打开",netWorkErrorTip:"请检查当前网络并重试。",netWorkOfflineTip:"网络连接不可用。正在尝试重新连接。",reconnecting:"重新连接...",textMsgLabel:"文本消息",strucMsgLabel:"图文消息",registerLabel:"注册",checkInLabel:"签到",qrCodeConfirmHeader:"保存{0}",qrCodeConfirmContent:"二维码所使用的回复中包含的表单和当前选择的表单不一致，可能会导致{0}出现问题，请修改相关的二维码回复。",confirmSaveBtn:"忽略&保存",searchPlaceholder:"搜索此列表...",syncNotifyContent:"请求已经提交。同步完成后，你将收到电子邮件通知。",noRecords:"没有记录",uploadBtn:"上传",noneLabel:"--无--",fieldErrorLabel:"填写此字段",resultLabel:"结果"}},en:{global:{newBtn:"New",editBtn:"Edit",deleteBtn:"Delete",nextBtn:"Next",closeBtn:"Close",cancelBtn:"Cancel",confirmBtn:"OK",doneBtn:"Done",saveBtn:"Save",submitBtn:"Submit",backBtn:"Back",chooseBtn:"Choose",deactivateBtn:"Deactivate",activateBtn:"Activate",yesBtn:"Yes",noBtn:"No",campaignName:"Campaign | Campaigns",search:"Search",itemLabel:"item | items",syncBtn:"Sync",previewBtn:"Preview",notifyLabel:"Notification",passLabel:"Pass",textLabel:"Text",imageLabel:"Image",strucLabel:"Structured Message",voiceLabel:"Voice Clip",videoLabel:"Video",couponLabel:"Coupon",skillLabel:"Skill",miniProgramLabel:"Mini Program Page",syncedWithWeChatPlatform:"Synced with WeChat",all:"All",title:"Title",unsavedLabel:"You have unsaved changes. Are you sure you want to discard these changes?",space:" ",popupHeader:{createTextMessage:"Create Text Message",selectTextMessage:"Select Text Message",editTextMessage:"Edit Text Message",selectStructuredMessage:"Select Structured Message",selectImage:"Select Image",selectVoiceClip:"Select Voice Clip",selectVideo:"Select Video",selectCoupon:"Select Coupon",selectSkill:"Select Skill",selectPass:"Select Pass",selectMiniProgram:"Select Mini Program Page",selectNotificationTemplateLabel:"Select Notification Template"},ueditor:{circle:"circle",disc:"disc",square:"square"},appPermissionLabel:"Charket needs your permission to",appDesktopNotifyLabel:"enable desktop notifications",dayLabel:"d",hourLabel:"h",minuteLabel:"m",secondLabel:"s",loading:"loading",wechatLabel:"WeChat",phoneLabel:"PHONE",desktopLabel:"DESKTOP",copySuccess:"The ID has been copied to your clipboard.",copyFailed:"Copy failed.",copyIDLabel:"Copy ID",openLabel:"Open",netWorkErrorTip:"Check your Internet connection and try again.",netWorkOfflineTip:"You are currently offline. We'll keep trying to reconnect.",reconnecting:"Reconnecting...",textMsgLabel:"text message",strucMsgLabel:"structured message",registerLabel:"registration | Registration",checkInLabel:"check-in | Check-in",qrCodeConfirmHeader:"Save {0}",qrCodeConfirmContent:"The form selected for the QR code auto response is different from the form selected for the event {0}. This will cause issues with the event {0}. Please update the response message of the QR codes.",confirmSaveBtn:"Ignore & Save",searchPlaceholder:"Search this list...",syncNotifyContent:"Your request was submitted. You will receive an email once the sync is completed.",noRecords:"No Records",uploadBtn:"Upload",noneLabel:"--None--",fieldErrorLabel:"Complete this field",resultLabel:" Results"}}}},o0cn:function(e,t,s){"use strict";var i=s("7iCX");class a extends i.a{constructor(e){super(e,["contentMapping"]),this.type="Notification Template"}}t.a=a},o0tz:function(e,t,s){},o705:function(e,t,s){"use strict";var i=s("BEhI"),a=s.n(i);t.default=a.a},oA5C:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY5MjhCQ0U2QTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY5MjhCQ0U3QTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUYwMDlERkZBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUYwMDlFMDBBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64uK3JAAADrUlEQVR42uyay3OaUBTGARGRlwZUzLtpmmwybTrdZdNu+x+322aTZdNOM22SSaY2L/EtCioglpRO5p6bNDONKDDDXWTk6FzOT77z3XOvIX8cnxBxHhQR85EAJAAJQAKQACQAcxs5SaJIMq4AiiKXy+rS0mIsAbzsC4riveB5vlQqxgxAkf9m74+FfF4UhTgB2I6NRcqqmk6nYwOg671avQ7uSlFBCWlONdBud3q9PhoReF4Q+OgCuBN85qqmOY6DRoqFAjm1q84E4KS1/OH7c9tlAJLrYkJiGEYQhMgBeNkfnHKNHvnpbBV7Dp6KzMEAjcgL+WgB+Nn7r69a1FdtFftAs9lCL1mWzWQyUQEYuexhhUMjXypMa7SARkzTHI1GaEQSxagAZKjh+x0tTYPgwbkymYBIt6sDO5rOiwKWkMTob7d7aKShk5pZhJXQw0qZpukwASZwkhWxulZw0cjRjYReOuMxpiIumw0NwKva/fNnGMOb1SZ6edWkhmOQomGaQHtT1DE1vef8rKe+aSug72c6an6CPCKiZuZAucMn4KkoBADUMQ8rGdMBtbhZBH5f01n00rJsCJCeNwCa/Z/GgThvKaBNEAxg/wYoU6yn8Hq7uQJg2fuj0gQy4GjwBLoGibUVoQE8mP1tv9kHKaYpIBLLIaICQBAP94+p/5kJyxjjmS3Atny5tzV44MSBB+ut7YK6ZOjIAPyLYU22QM/jAOPPcQAvlUqFCXCfgSKJDRksXvU+cFVFcB4xfsxV57QOoAy76xZPA988q4MnUJKGsIvOQADryWk8vYvyGYitlZsO81K9AKZp5bUOiVZ9iesCk+W4Rxbm+QH4DFuypyAg4s+XYFFbVlw2NUALgIXND7ZNm3c3imV/2S9X6mDanUX9kR2Mpx9sYQ5zP6Bb0v4xyK8gTVQO7OWlHOiu+4YRmS3lmP14pNrw29zbaKJHJ576Mf3oei8yW8rU8PU6UPOrNVtm28BPFRm9HA6H01Rw8BJCvXVZdnfLv9B3RVHANl/tTmfKO9JE0MP31tMq+27zgiJdtH0oFYtY+WLnjZEA8BleyDRFgGooqyq2ea83GhPsxCJ0CSHzguzv/ybgmU+/bwRxo9kPSRKxw/Tbc9JaPaBvasYjk2E88WDBqlazbTseAKOR1Wq1MefBzraiLqFGs3l3pmuYZlDimaELPcjg/c1ms9dX18HOPCcAn4Ekyel9MwQJ3Y3AsyeS/5VIABKABCABSAASgARgqvFbgAEADcp192Zz45MAAAAASUVORK5CYII="},oDwF:function(e,t,s){"use strict";var i=s("J6B0");s.n(i).a},oDxX:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="pin" ><path fill="" d="m49.5 15.4l-13.5-13.5c-1.4-1.4-3.6-1.4-5 0s-1.4 3.6 0 5l0.7 0.7-16.2 10.7-0.5-0.5c-1.4-1.4-3.6-1.4-5 0s-1.4 3.6 0 5l7.2 7.2-14.8 14.8c-1.4 1.4-1.4 3.7 0 5.1 1.4 1.4 3.7 1.4 5.1 0l14.8-14.9 6.3 6.3c1.4 1.4 3.6 1.4 5 0s1.4-3.6 0-5l-0.5-0.5 10.6-16.3 0.7 0.7c1.4 1.4 3.6 1.4 5 0 1.4-1.2 1.4-3.4 0.1-4.8z"/></symbol>',"pin")},oOOd:function(e,t,s){},oQDe:function(e,t,s){},oTfw:function(e,t,s){"use strict";var i=s("RBRD"),a=s.n(i);t.default=a.a},oWfJ:function(e,t,s){"use strict";t.a={data:()=>({showDropdown:!1,showTagDropdown:!1,dropdownLeft:0,dropdownTop:0,dropdownWidth:0,dropdownRefId:"",dropdownType:"",dropdownOptionData:{options:[],currents:[]}}),methods:{openDropdown(e,t,s,i){this.dropdownRefId=(new Date).getTime(),this.dropdownType=i,this.dropdownLeft=e,this.dropdownTop=t,this.dropdownWidth=s<180?240:s,this.showDropdown=!0,this.showTagDropdown=!1},closeDropdown(){this.dropdownType="",this.showDropdown=!1,this.showTagDropdown=!1},resizeDropdown(e,t,s){this.dropdownLeft=e,this.dropdownTop=t,this.dropdownWidth=s<190?240:s},openTagDropdown(e,t,s){this.dropdownLeft=e,this.dropdownTop=t,this.dropdownWidth=s<190?240:s,this.showTagDropdown=!0,this.showDropdown=!1}}}},oZp4:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 70 80" id="stru_wechat" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="stru_wechat_XMLID_4_"> <path id="stru_wechat_XMLID_17_" d="M64,0H6C2.7,0,0,2.7,0,6v68c0,3.3,2.7,6,6,6h58c3.3,0,6-2.7,6-6V6C70,2.7,67.3,0,64,0z M4,8.7\r\n\t\th25v4H4V8.7z M66,73.1c0,1.9-1.5,3.4-3.4,3.4H7.4c-1.9,0-3.4-1.5-3.4-3.4V15.9h62V73.1z" fill=""/> <rect id="stru_wechat_XMLID_23_" x="8" y="19.9" width="28" height="22"/> <rect id="stru_wechat_XMLID_24_" x="40" y="19.9" width="22" height="4"/> <rect id="stru_wechat_XMLID_26_" x="40" y="27.9" width="22" height="4"/> <rect id="stru_wechat_XMLID_28_" x="40" y="35.9" width="22" height="4"/> <rect id="stru_wechat_XMLID_35_" x="8" y="45.9" width="54" height="4"/> <rect id="stru_wechat_XMLID_36_" x="8" y="53.9" width="54" height="4"/> <rect id="stru_wechat_XMLID_37_" x="8" y="61.9" width="28" height="4"/> </g> </symbol>',"stru_wechat")},obT8:function(e,t,s){},oo6j:function(e,t,s){"use strict";var i=s("f9ow");s.n(i).a},owmz:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},ozue:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="clear" xmlns:xlink="http://www.w3.org/1999/xlink"> <style type="text/css"> .st0{fill:#FFFFFF;fill-opacity:0.6;} </style> <circle class="st0" cx="26" cy="26" r="24"/> <path d="M30.9,26.8l7.8,7.8c0.4,0.4,0.4,1,0,1.4l-2.8,2.8c-0.4,0.4-1,0.4-1.4,0L26.7,31c-0.4-0.4-1-0.4-1.4,0l-7.8,7.8\n\tc-0.4,0.4-1,0.4-1.4,0L13.3,36c-0.4-0.4-0.4-1,0-1.4l7.8-7.8c0.4-0.4,0.4-1,0-1.4l-7.9-7.9c-0.4-0.4-0.4-1,0-1.4l2.8-2.8\n\tc0.4-0.4,1-0.4,1.4,0l7.9,7.9c0.4,0.4,1,0.4,1.4,0l7.8-7.8c0.4-0.4,1-0.4,1.4,0l2.8,2.8c0.4,0.4,0.4,1,0,1.4l-7.8,7.8\n\tC30.6,25.8,30.6,26.4,30.9,26.8z" fill=""/> </symbol>',"clear")},p3iR:function(e,t,s){"use strict";var i=s("UpaT");s.n(i).a},p5Y3:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("00Ee");function a(e){return Object(i.a)({method:"AttachmentRemoteActions.deleteAttachment",args:[e]})}},pG6u:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="pined" ><path fill="" d="m36.9 23.7h-0.5l-3.4-15.8h0.9c1.6 0 2.9-1.3 2.9-2.9s-1.3-2.9-2.9-2.9h-15.8c-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9h0.9l-3.3 15.8h-0.5c-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9h8.4v17.4c0 1.6 1.3 3 3 3s3-1.3 3-3v-17.3h7.4c1.6 0 2.9-1.3 2.9-2.9s-1.4-3-3-3z"/></symbol>',"pined")},pjkw:function(e,t,s){"use strict";var i=s("ZVg1");s.n(i).a},pjrz:function(e,t,s){},psiC:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"infoLabel":"详细信息"},"en":{"infoLabel":"Info"}}'),delete e.options._Ctor}},pweZ:function(e,t,s){"use strict";var i=s("kKky"),a=s.n(i),n=s("iP86"),o=s.n(n),l=s("SLhn"),r=s.n(l),c=s("+Bun"),d=s.n(c),h=s("dUVM"),u=s.n(h),p=s("vQrK"),m=s.n(p),g=s("/GJs"),f=s("2ABW"),v=s("XIlo"),_=s("OB6B"),C=s("4B+h"),b=s("rvCA"),w=s("L2JU"),y=s("odh7"),T=s("cybb"),L=s("LQ5e"),I=s.n(L),k={computed:m()({},Object(w.c)({sendingStatus:"livechat/sendingStatus"}),{isHistoryTab(){var e,t;return v.a.isInClassicConsole||v.a.isInLightningConsole?u()(e=this.tabName.toLocaleLowerCase()).call(e,"history"):d()(t=this.$route.name).call(t,"history")>-1},isWaitingTab(){var e,t;return this.isInConsole?u()(e=this.tabName.toLocaleLowerCase()).call(e,"waiting"):d()(t=this.$route.name).call(t,"waiting")>-1},noNameFollowerInfo(){if(this.thread&&this.thread.Follower.Id){const e=this.thread.Follower.Id,t=e.substring(0,e.length-3);return Object(C.c)(t)}return{Name:"A",BgColor:"#29a49c"}},textMessageContent(){if("Skill Initiation"===this.thread.LastItem.BotType){var e;const t=this.$t("skillStartedMessage",[this.thread.LastItem.Body.Skill.Initiator.Name,this.thread.LastItem.Body.Skill.Name]),s=this.$t("skillInitiation");return r()(e="[".concat(s,"] ")).call(e,t)}return this.thread.LastItem.Body.Content},templateMessageContent(){return"Template"!==this.thread.LastItem.Type?"":this.thread.LastItem.Body&&this.thread.LastItem.Body.Title?r()(e="".concat(this.$t("templateLabel")," ")).call(e,this.thread.LastItem.Body.Title):this.$t("templateLabel");var e},structuredMessageContent(){return"Link Structured Message"!==this.thread.LastItem.Type&&"WeChat Structured Message"!==this.thread.LastItem.Type?"":this.thread.LastItem.Body&&this.thread.LastItem.Body[0]?r()(e="".concat(this.$t("structureMessageLabel")," ")).call(e,this.thread.LastItem.Body[0].Title):this.$t("structureMessageLabel");var e},otherMessageContent(){const e={Click:this.thread.LastItem.Body?this.thread.LastItem.Body.Content:"",View:this.thread.LastItem.Body?this.thread.LastItem.Body.Content:"","Link Structured Message":this.structuredMessageContent,"WeChat Structured Message":this.structuredMessageContent,"Mini Program Page":this.$t("miniProgramPageLabel"),Image:this.$t("imageLabel"),Voice:this.$t("voiceLabel"),Video:this.$t("videoLabel"),"Short Video":this.$t("shortVideoLabel"),Location:this.$t("locationLabel"),Link:this.$t("linkLabel"),Coupon:this.$t("couponLabel"),Pass:this.$t("passLabel"),Subscribe:this.$t("subscribeLabel"),Unsubscribe:this.$t("unsubscribeLabel"),Scan:this.$t("scanLabel"),Template:this.templateMessageContent,Transfer:this.$t("transferLabel"),Lock:this.$t("lockLabel"),File:this.$t("unsupportedFileMessageLabel"),"MP Chat Opened":this.mpChatOpenedMsgFilter(this.thread.LastItem.Body?this.thread.LastItem.Body.Content:"")};return this.thread.LastItem.Type?e[this.thread.LastItem.Type]:""},unreadCount(){return this.thread.UnreadCount},isReplyMessage(){return this.thread.LastItem.SendBy&&"Follower"!==this.thread.LastItem.SendBy&&"Charket Bot"!==this.thread.LastItem.SendBy&&"Transfer"!==this.thread.LastItem.Type},isReplyIconVisible(){return this.isReplyMessage&&!this.hasFailedMessages},followerId(){return this.thread.Follower?this.thread.Follower.Id:""},hasFailedMessages(){return!(!this.followerId||!this.sendingStatus[this.followerId])&&this.sendingStatus[this.followerId].errorCount>0},isTextMessageVisible(){return"Text"===this.thread.LastItem.Type&&!this.hiddenContent&&this.showEmotion&&!this.isLoadingTextMessage},isLoadingTextMessage(){return"Text"===this.thread.LastItem.Type&&this.thread.LastItem.HasMore}}),props:{thread:{type:Object},timeZoneSidKey:String,isMonitor:{type:Boolean,default:()=>!1},tabName:String,hiddenContent:{type:Boolean,default:()=>!1}},components:{Emotions:g.a},mixins:[b.a],inject:["showErrorImg"],mounted(){this.$root.$on("update-livechat-time",this.changeTimeNow),"consoleThread"===_.a.componentName&&(o()(_.a).call(_.a,"utility-open",this.reRenderEmotionComponent),o()(_.a).call(_.a,"utility-close",this.reRenderEmotionComponent))},watch:{unreadCount(){this.$nextTick(()=>{this.$emit("set-unread-info")})}},beforeDestroy(){this.$root.$off("update-livechat-time",this.changeTimeNow),"consoleThread"===_.a.componentName&&(_.a.unbind("utility-open",this.reRenderEmotionComponent),_.a.unbind("utility-close",this.reRenderEmotionComponent))},data:function(){return{timeNow:Object(y.a)(Object(T.a)(new Date)),isInConsole:(v.a.isInClassicConsole||v.a.isInLightningConsole)&&("console-message"===this.$route.name||"console-thread"===this.$route.name),freezeMsgI18n:{blockedMsg:this.$t("freezeBlockedMsg"),unfollowedMsg:this.$t("freezeUnfollowedMsg")},isStartingHistoryChat:!1,isCloseChatModalVisible:!1,showEmotion:!0}},methods:{onCloseChatModalYes(){this.$_mixinCloseTranscript()},reRenderEmotionComponent(){this.showEmotion=!1,this.$nextTick(()=>{this.showEmotion=!0})},mpChatOpenedMsgFilter(e){if(!e)return"";const t=d()(e).call(e,"["),s=a()(e).call(e,"]");if(t>-1&&s>-1){const i=e.substring(t,s+1);return this.$t("mpChatOpenedMsg",[i])}return this.$t("mpChatNoBtnOpenedMsg")},changeTimeNow(){this.timeNow=Object(y.a)(Object(T.a)(new Date))},async acceptWaitingChat(e){await this.$try(async()=>{await this.$store.dispatch("livechat/acceptChat",e.Id),this.$root.$emit("switch-chatting"),this.$root.$emit("open-primary-tab",e)}),v.a.isInClassicConsole&&_.a.fireEvent("accept-chat-from-thread",e.Id)},async startHistoryChat(e){try{const t=e.Follower.Id;this.isStartingHistoryChat=!0;const s=await Object(f.c)(t);if(s.ok){let e=JSON.parse(I.a.unescape(s.data));this.$store.commit("livechat/NEW_LIVE_CHAT",e),this.$store.dispatch("livechat/setCurrentThread",e),this.$root.$emit("switch-chatting"),this.$root.$emit("open-primary-tab",e)}else Object(C.f)(s)}catch(e){Object(C.f)(e)}finally{this.isStartingHistoryChat=!1}},closeChat(e){if(e.IsDisabled)return this.$root.$emit("close-thread",e.Id),void((v.a.isInClassicConsole||v.a.isInLightningConsole)&&_.a.fireEvent("close-message",e.Id));this.openCloseChatModal()},openCloseChatModal(){const e=this.thread.Follower.Id;this.mixinSendingStatus[e]&&this.mixinSendingStatus[e].errorCount>0&&this.$root.$emit("open-toast-notification",{content:this.$t("sendingError"),type:"error"}),this.mixinClosingThread=this.thread,this.isCloseChatModalVisible=!0},hideCloseChatModal(){this.mixinClosingThread=null,this.isCloseChatModalVisible=!1}}},S=(s("qamR"),s("KHd+")),M=s("Ut47"),A=Object(S.a)(k,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_align-spread thread-list-item"},[e.isCloseChatModalVisible?s("div",{staticClass:"close-chat-modal slds-grid slds-grid_vertical",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"close-chat-modal-content"},[e._v("\n      "+e._s(e.$t("askToClose"))+"\n    ")]),e._v(" "),s("div",{staticClass:"close-chat-modal-footer slds-grid slds-grid_align-spread"},[s("button",{staticClass:"slds-button slds-button_brand close-chat-modal-btn",attrs:{disabled:e.mixinCloseChatModalBtnDisabled},on:{click:e.onCloseChatModalYes}},[e._v(e._s(e.$t("yes")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral close-chat-modal-btn",attrs:{disabled:e.mixinCloseChatModalBtnDisabled},on:{click:e.hideCloseChatModal}},[e._v(e._s(e.$t("no")))])])]):e._e(),e._v(" "),s("div",{staticClass:"slds-grid item-info"},[s("div",{staticClass:"avatar"},[-1===e.thread.Follower.PhotoUrl?s("div",{staticClass:"thread-photo-framework"}):e._e(),e._v(" "),e.thread.Follower.PhotoUrl&&-1!==e.thread.Follower.PhotoUrl?s("img",{staticClass:"avatar-img-small",attrs:{src:e._f("imgFilter")(e.thread.Follower.PhotoUrl)},on:{error:function(t){return e.showErrorImg(t)}}}):e._e(),e._v(" "),e.thread.Follower.PhotoUrl?e._e():s("div",{staticClass:"slds-avatar avatar-noname",style:{"background-color":e.noNameFollowerInfo.BgColor}},[e._v(e._s(e.noNameFollowerInfo.Name))])]),e._v(" "),s("div",{staticClass:"information-section",class:{"monitor-info-section":e.isMonitor}},[s("div",{staticClass:"username slds-truncate",class:{unread:e.isWaitingTab||e.unreadCount>0}},[-1!==e.thread.Follower.Name?s("span",[e._v(e._s(e.thread.Follower.Name))]):s("div",{staticClass:"thread-name-framework"})]),e._v(" "),-1===e.thread.Follower.Name?s("div",{staticClass:"slds-grid message-content"},[s("div",{staticClass:"thread-content-framework"})]):s("div",{staticClass:"slds-grid message-content",class:{unread:e.isWaitingTab||e.unreadCount>0,"has-indicator-icon":e.isReplyMessage||e.hasFailedMessages}},[e.isReplyIconVisible?s("span",{staticClass:"reply-icon"},[s("icon",{attrs:{name:"replyIcon",width:"14px",height:"14px","fill-color":"#706e6b"}})],1):e._e(),e._v(" "),e.hasFailedMessages?s("span",{staticClass:"error-info"},[s("icon",{attrs:{name:"infoFill",width:"14px",height:"14px","fill-color":"#D4504C"}})],1):e._e(),e._v(" "),e.isTextMessageVisible?s("emotions",{attrs:{content:e.textMessageContent,ellipsis:!0}}):e._e(),e._v(" "),e.isLoadingTextMessage?s("ld-dot-loading"):s("p",{staticClass:"other-content slds-truncate"},[e._v("\n          "+e._s(e.otherMessageContent)+"\n        ")])],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical other-section"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.thread.LastItem.Type,expression:"thread.LastItem.Type"}],staticClass:"time"},[-1===e.thread.Follower.Name?s("div",{staticClass:"thread-time-framework"}):s("span",[e._v(e._s(e._f("fromNow")(e.thread.LastItem.WeChatCreatedTime,e.timeNow,e.timeZoneSidKey)))])]),e._v(" "),-1===e.thread.Follower.Name?s("div",{staticClass:"unread-count"},[s("div",{staticClass:"thread-unread-framework"})]):s("div",{staticClass:"unread-count"},[!e.isWaitingTab||e.thread.IsDisabled||e.isMonitor?e._e():s("button",{staticClass:"slds-button slds-button_neutral accept-btn",on:{click:function(t){return e.acceptWaitingChat(e.thread)}}},[e._v(e._s(e.$t("acceptBtn")))]),e._v(" "),e.isHistoryTab&&!e.isMonitor?s("button",{staticClass:"slds-button slds-button_neutral start-btn",attrs:{disabled:e.isStartingHistoryChat},on:{click:function(t){return t.stopPropagation(),e.startHistoryChat(e.thread)}}},[e._v(e._s(e.$t("startBtn")))]):e._e(),e._v(" "),!e.isHistoryTab&&e.unreadCount>0?s("span",{staticClass:"slds-badge slds-theme_success unread-count-badge",class:{"unread-monitor":e.isMonitor,"unread-waiting":e.isWaitingTab&&!(e.isInConsole&&e.thread.IsDisabled)}},[e._v(e._s(e.unreadCount))]):e._e()]),e._v(" "),-1!==e.thread.Follower.Name?s("div",{staticClass:"close-div"},[e.isHistoryTab||!e.thread.IsDisabled&&e.isWaitingTab?e._e():s("span",{class:{"close-link-position":0===e.unreadCount&&!e.thread.LastItem.Type},on:{click:function(t){return t.stopPropagation(),e.closeChat(e.thread)}}},[s("icon",{staticClass:"close-chat-icon-span",attrs:{name:"close","fill-color":"#706e6b","class-name":"close-chat-icon",width:"15px",height:"15px","charket-icon":""}})],1)]):e._e()])])}),[],!1,null,"2660d9c0",null);"function"==typeof M.default&&Object(M.default)(A);t.a=A.exports},qMNs:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="charket_home" xmlns:xlink="http://www.w3.org/1999/xlink"> <path fill="" d="M19.6,11.293h-2.752v7.422c0,0.25-0.167,0.417-0.417,0.417h-4.003c-0.25,0-0.417-0.167-0.417-0.417v-4.603\r\n\tH8.008v4.603c0,0.25-0.167,0.417-0.417,0.417H3.588c-0.25,0-0.417-0.167-0.417-0.417v-7.422H0.419c-0.167,0-0.334-0.083-0.375-0.25\r\n\tc-0.083-0.167-0.042-0.334,0.083-0.459l9.591-9.591c0.167-0.167,0.459-0.167,0.584,0l9.591,9.591\r\n\tc0.125,0.125,0.125,0.292,0.083,0.459C19.933,11.209,19.767,11.293,19.6,11.293z"/> </symbol>',"charket_home")},qQw5:function(e,t,s){"use strict";var i=s("meVp");s.n(i).a},qYYU:function(e,t,s){"use strict";var i=s("k/R5");s.n(i).a},qYjc:function(e,t,s){"use strict";var i=s("m6i+");s.n(i).a},qamR:function(e,t,s){"use strict";var i=s("aJkT");s.n(i).a},qehJ:function(e,t,s){"use strict";var i=s("oQDe");s.n(i).a},qez6:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"recentColors":"常用颜色","basicColor":"基本颜色","moreColor":"更多颜色"},"en":{"recentColors":"Recent Colors","basicColor":"Basic Color","moreColor":"More Color"}}'),delete e.options._Ctor}},qm5O:function(e,t,s){},qmDu:function(e,t,s){"use strict";var i=s("DedT");s.n(i).a},qu3d:function(e,t,s){"use strict";var i=s("T1iG");s.n(i).a},r1PH:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 1792 1792" id="play" ><path d="M1312 896q0 37-32 55l-544 320q-15 9-32 9-16 0-32-8-32-19-32-56v-640q0-37 32-56 33-18 64 1l544 320q32 18 32 55zm128 0q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z" fill=""/></symbol>',"play")},rAq2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAGAUlEQVRoQ9Wad8hVdRjHP9/2hsiGRcusLKFBlKGGZZM2ViZFEe0UypZCUWZamTQhDBWT/mlYlkUlFdFSm1DagHZGC6koWlTQE9+3c+XXec+555z33lAfEOG9z/h97+/Zvys6pIgQsD9wHLAb0B/YNvv/T+Ab4Ovs39vAY5I+6dBsL3Efok8UEQcCZwHHZ4duouddAwJmS1reRLCMtzGQiBgE3ASc2IUD/AHcBdwo6YdO9NUGEhEbA7cC5wJrd2K0QPZHYLKkO/qqtxaQiNgReBzYq42hZcBC4PMkJtZPYmaPLI62a6PjAeBsSb83BVQJJCIOAuYDWxYo/za7pfmSPqsyniWG/YDTgQuBDQpk3rTbSvqqSl/6eVsgETEceA5YL6f0Z+AWg5D0axODLd6I2AG4HjgDWCunwwngAEkr6uouBZK50xsFN/GOM5Uku1DHFBGHAfOAzXPKFgMjJTmFV1IhkIjYBLCifEws8Dco6ZdKzQ0YImJgFoOOo5TmSjq7jqoyIDOB83MKDGKUpKijuClPRGwBvA4MyMmeJun+Kn29gESEvxW7T5pinZGGdfsm8oeLiMHAK8CmyWd24d2rXKwIiCuuq3WLHNh7NYmJiDgWmAI4jV4pyW5aiyJiVJYlU/7LJN3eTsF/gETE0Cw2UplJkpxdalNEvOaskwk8Iumk2sJARDhTjkxkvgd2luQvtZDyQPKx4ToxsGmKjYjvAPu8aamkfRoCca1xxkzP1zZWVjJmxcpd6jaJUbuF60Uj6hSIjUXEE8AxieF5kk6tvJGsm3WgpTSgTsXOK+8SEHfWcxPddqt+ZUGf3sgNwFWJ4DJJeze6ioy5S0D6AXbtNHseIenZojOlQB4ERidM0yVNXFVAMvdKk4b/NE7SjCogLwPurVo0VtLdqxiIu+E0LqZKuqYKiMfPtKq6A3VN6UURcaTrg1NiCdCdkkbQvdKXJXwfAdMkvVBix7VjfPLZPZLOqQLyG7BhwjREkluGIiBLK2aTJhe5RNKwEjsTgJuTzxZKOroKiEfNtAMdIemlEgNeIvQpERToWywpdemVLBFhN0qLsRcXhSN2GuzvAXsmhsZIcgIoupHDgSvauNYuiWt5Lv+i5Io+zlyr7AtzjHoAa9EsSRdU3YjTmmeDFlX2N2X+0430a90Rke/7pki6tgrIvcCZCdMcSV40NKYuAvGN+XZbdIGkWVVALgbuTJg8ZvaX9HdTJN0AkrX03n+lNEjSB1VAvCnJj6+eQZasIiDuMtxttGi5JKf1Qsp3v28Baac6U1IabLUwdXojEeFlhIe7NPm0PUseyCTguuS0fwGDJblw1aYuAMk3jLZ9SFnh9Id5IF4++9AbJad+WNIptVH8m21eBYZkMt55nVxXPiK86/oQ2D6RKa01LZ6iUXcqcHXOsJcOjzY4jOeIydmoO0FSfjwoVRURXptekmM4StLT7ewXAdkMcNpLN4tewg2V5CXE/0YR4dXPnJyBytvo5VotBRHh+jE7p9Dbv+GSyhrAjgBGxKHAU7mt5k/AvnWGu3abxqLdlgcdu1ltV6mDLiK8Q/Pzwro5/tGSHqqjox0QK3XbMiKnyL2Ti6cfaTpa1mVPFdOBsQWHnSFpXB0Qpa6VuJjHzRdz+bz1sTvgiZKeqWss0bsOcB7gdL91iXyjXq/Os4KD/77cRiO17VTrZ4cFkpwkCinb0jgln5BNfWVDWSo/XlLaNpV+Z5VALJlVWj+3edBpRwbSeujxI6ifI1qPo36y26qNsCfJ/POF2WuBqQUkcQnPIfbpRgu3Gq7ndt0j7ZjsfTIvcmnVs1wjINntWMYvTt7tljZxNQ5vlkXZQ6if7HooIry5mVYg3xZMYyCJQWe1gzOf99I7bSna4fCS40nATeD7RYx9AdNnIPkDRITdbdfsxwKtHwx4lvEe2Eto93CLJLkWVVIbMIXZrGtAKk/WB4aIyG9RWlp6gVmtgWQxUwbmckm3tZCt9kAyMF4GOlvm6XxJPT3hGgGkDZgVkno6gzUGSAmYTyX1bFnWKCAZmIuyoc0zkn/u8bz//g8ZHUVPzHX5fQAAAABJRU5ErkJggg=="},rLDg:function(e,t,s){},rPvE:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 24 24" id="offline" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="offline_XMLID_68_" d="M11.9,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S7.5,4,11.9,4 M11.9,0c-6.6,0-12,5.4-12,12\n\t\ts5.4,12,12,12c6.6,0,12-5.4,12-12S18.6,0,11.9,0L11.9,0z" fill=""/> </symbol>',"offline")},rVwK:function(e,t,s){"use strict";var i=s("wG3i"),a=s.n(i),n=s("R9hF"),o=s.n(n);const l=86400;var r=class{constructor(e){o()(this,e)}get isRelatedToCampaignFlow(){return"Registration"===this.RelatedObjectType||"Check-in"===this.RelatedObjectType}get hasWeChatTags(){return this.WeChatTagIds.length>0}get hasExpired(){return this.ExpirationSeconds<=0}get expirationDate(){const e=new Date;return e.setSeconds(e.getSeconds()+this.ExpirationSeconds),e}isTypeEqual(e){return this.Type===e}getData(){return JSON.parse(a()(this))}willExpireInDays(e){return!this.hasExpired&&this.ExpirationSeconds/l<=e}};var c=class{constructor(e){o()(this,e)}};var d=class{constructor(e){o()(this,e)}},h=s("WJzM");var u=class{constructor(e){o()(this,e)}},p=s("HAvB"),m=(s("itEF"),s("tI07")),g=s("7iCX");class f extends g.a{constructor(e){super(e),this.id=this.couponId,this.url=this.logoUrl}clone(){return new f(this.getData())}}var v=f,_=s("o0cn");class C extends g.a{constructor(e){super(e,["template"]),this.id=this.eventId}}var b=C;class w extends g.a{}var y=w;s.d(t,"h",(function(){return r})),s.d(t,"c",(function(){return c})),s.d(t,"k",(function(){return d})),s.d(t,"e",(function(){return h.a})),s.d(t,"a",(function(){return u})),s.d(t,"j",(function(){return p.a})),s.d(t,"g",(function(){return m.a})),s.d(t,"b",(function(){return v})),s.d(t,"f",(function(){return _.a})),s.d(t,"d",(function(){return b})),s.d(t,"i",(function(){return y}))},rbrY:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"emojiTitle":"选择表情","imageTitle":"选择图片","strucMsgTitle":"选择图文","voiceTitle":"选择语音","couponTitle":"选择卡券","videoTitle":"选择视频","miniProgramLabelTitle":"选择小程序卡片","notificationTitle":"选择模板消息","skillsLabel":"选择一个技能","addMsgTitle":"添加图片, 语音或者视频","sendMessagePlaceholder":"按 {0} 组合键来添加一个换行, 输入 ‘{1}’ 开头来选择一个快捷回复","yes":"是","no":"否","acceptBtn":"接受","startChatBtn":"开始会话","freezeUnfollowedMsg":"无法给已经取消关注的用户发送消息。","freezeBlockedMsg":"无法给已经加入黑名单的用户发送消息。","send":"发送","fileSaveLabel":"文件保存成功！","noCurrentAgent":"{0}已经在服务这个关注者。","quickReplyTitle":"选择一个快捷回复","sendBtn":"发送","sendImage":"发送图片","sendVoiceClip":"发送语音","sendVideo":"发送视频","executeSkillSuccess":"技能“{0}”已开启。","confirmToForceExecuteSkillMessage":"开启当前技能会停止正在运行的技能“{0}”。确定要开启吗？","miniProgramCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前小程序进行互动的关注者发送消息。","subscriptionAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","subscriptionAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你仍可以发送消息，但此次消息会消耗当前关注者今天仅能接收一次群发消息的配额。","serviceAccountCannotSendTip":"无法给在 <b>48</b> 小时内没有和当前公众号进行互动的关注者发送消息。","serviceAccountCanSendTip":"该关注者在 <b>48</b> 小时内没有和当前公众号进行互动。你可以发送模板消息或者消息，但每个消息（不包括模板消息）会消耗 1 次当前关注者一个月接收 <b>4</b> 次群发消息的配额。","sendNotification":"发送模板消息","sendMessage":"发送消息"},"en":{"emojiTitle":"Choose an emoji","imageTitle":"Select an image","strucMsgTitle":"Select a structured message","voiceTitle":"Select a voice clip","couponTitle":"Select a coupon","videoTitle":"Select a video","miniProgramLabelTitle":"Select a mini program page","notificationTitle":"Select a notification template","skillsLabel":"Select a skill","addMsgTitle":"Add an image, voice clip or video","sendMessagePlaceholder":"{0} to add a new line. Start with \'{1}\' to select a Quick Reply","yes":"Yes","no":"No","acceptBtn":"Accept","startChatBtn":"Start Chat","freezeUnfollowedMsg":"Can\'t send a message to a WeChat user who has unfollowed your WeChat business account.","freezeBlockedMsg":"Can\'t send a message to a blocked WeChat user.","send":"Send","fileSaveLabel":"The file was saved.","noCurrentAgent":"{0} is already assisting this WeChat follower.","quickReplyTitle":"Select a quick reply","sendBtn":"Send","sendImage":"Send Image","sendVoiceClip":"Send Voice Clip","sendVideo":"Send Video","executeSkillSuccess":"The skill \\"{0}\\" was started.","confirmToForceExecuteSkillMessage":"Starting this skill will stop the currently running skill \\"{0}\\". Are you sure to start it?","miniProgramCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat mini program over the past <b>48</b> hours.","subscriptionAccountCannotSendTip":"You cannot send messages to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","subscriptionAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send a message to this WeChat follower but it will consume the only mass message this WeChat follower can receive today.","serviceAccountCannotSendTip":"You can only send notifications to this WeChat follower who has not initiated any interactions with your WeChat account over the past <b>48</b> hours.","serviceAccountCanSendTip":"This WeChat follower has not initiated any interactions with your WeChat account over the past <b>48</b> hours. You can still send to this WeChat follower notifications or messages but each message will consume one of the <b>4</b> mass messages this WeChat follower can receive each month.","sendNotification":"Send Notification","sendMessage":"Send Message"}}'),delete e.options._Ctor}},rfdZ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 20 20" id="live_chat" xmlns:xlink="http://www.w3.org/1999/xlink"> <path fill="" d="M10.994,0.002c-0.175-0.006-0.349,0.007-0.521,0.017c-0.189-0.01-0.379-0.017-0.571-0.017\r\n\tc-0.142,0-0.283,0.004-0.423,0.01c-0.118-0.005-0.237-0.01-0.357-0.01c-4.413,0-8.06,3.274-8.649,7.525\r\n\tC0.445,7.666,0.419,7.808,0.397,7.959C-0.437,13.814,4.95,18.53,9.122,20c0.064-1.407-0.817-2.53,0.606-2.53\r\n\tc0.041,0-0.054,0.004-0.054,0.006v-0.009c0-0.002,0.475-0.006,0.624-0.014c0.173,0.011,0.433,0.017,0.608,0.017\r\n\tc4.824,0,8.626-3.913,8.778-8.734C19.834,4.019,16.062,0.177,10.994,0.002z M5.359,10c-0.723,0-1.31-0.586-1.31-1.31\r\n\tc0-0.723,0.586-1.31,1.31-1.31c0.723,0,1.31,0.586,1.31,1.31C6.668,9.414,6.082,10,5.359,10z M9.928,10\r\n\tc-0.723,0-1.31-0.586-1.31-1.31c0-0.723,0.586-1.31,1.31-1.31c0.723,0,1.31,0.586,1.31,1.31C11.237,9.414,10.651,10,9.928,10z\r\n\t M14.496,10c-0.723,0-1.31-0.586-1.31-1.31c0-0.723,0.586-1.31,1.31-1.31s1.31,0.586,1.31,1.31C15.806,9.414,15.22,10,14.496,10z"/> </symbol>',"live_chat")},ri1n:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 41 30" id="broke_image" xmlns:xlink="http://www.w3.org/1999/xlink"> <g> <path d="M10.2,11.4c1.7,0,3.1-1.4,3.1-3.1c0-1.7-1.4-3.1-3.1-3.1S7.1,6.6,7.1,8.3C7.1,10,8.5,11.4,10.2,11.4z\n\t\t M10.2,7.1c0.7,0,1.2,0.6,1.2,1.2c0,0.7-0.6,1.2-1.2,1.2S9,9,9,8.3C9,7.6,9.6,7.1,10.2,7.1z" fill=""/> <path d="M36.8,0.2h-7.9l0,0h-2.4l-4.7,6l5.9,8.8L23,24l3.3,5.7h1.5l0,0h9c1.9,0,3.5-1.6,3.5-3.5V3.7\n\t\tC40.3,1.7,38.7,0.2,36.8,0.2z M38.4,26.2c0,0.9-0.7,1.6-1.6,1.6h-9.4L25.2,24l4.7-9.1l-2.5-3.8l1-0.8c0.2-0.2,0.7-0.2,0.9,0l9,9\n\t\tV26.2z M38.4,16.7L30.7,9c-0.5-0.5-1.1-0.7-1.8-0.7c-0.6,0-1.1,0.2-1.6,0.6c-0.1,0.1-0.8,0.6-1,0.7l-2.1-3.2l3.3-4.2h9.4\n\t\tc0.9,0,1.6,0.7,1.6,1.6V16.7z" fill=""/> <path d="M19.4,24l4.7-9.1l-5.8-8.6l4.7-6.1h-2.4l0,0H4c-1.9,0-3.5,1.6-3.5,3.5v22.5c0,1.9,1.6,3.5,3.5,3.5h17.3l0,0\n\t\th1.4L19.4,24z M2.4,3.7c0-0.9,0.7-1.6,1.6-1.6h15.2L16,6.2l5,7.3l-6.1,6.1c-0.2,0.2-0.7,0.2-0.9,0l-3.2-3.2\n\t\tC10.3,16,9.6,15.8,9,15.8c-0.7,0-1.3,0.3-1.8,0.7l-4.8,4.8V3.7z M4,27.8c-0.9,0-1.6-0.7-1.6-1.6v-2.2l6.1-6.1\n\t\tc0.2-0.2,0.7-0.2,0.9,0l3.2,3.2c0.5,0.5,1.1,0.7,1.8,0.7c0.7,0,1.3-0.3,1.8-0.7l5.4-5.4L17.2,24l2.2,3.8H4z" fill=""/> </g> </symbol>',"broke_image")},"rl/i":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="download" ><path fill="" d="m48.5 31h-3c-0.8 0-1.5 0.7-1.5 1.5v10c0 0.8-0.7 1.5-1.5 1.5h-33c-0.8 0-1.5-0.7-1.5-1.5v-10c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v13.5c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4v-13.5c0-0.8-0.7-1.5-1.5-1.5z m-23.5 6.6c0.6 0.6 1.5 0.6 2.1 0l13.5-13.5c0.6-0.6 0.6-1.5 0-2.1l-2.1-2.1c-0.6-0.6-1.5-0.6-2.1 0l-5.6 5.6c-0.6 0.6-1.7 0.2-1.7-0.7v-21.3c-0.1-0.8-0.9-1.5-1.6-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v21.2c0 0.9-1.1 1.3-1.7 0.7l-5.6-5.6c-0.6-0.6-1.5-0.6-2.1 0l-2.1 2.2c-0.6 0.6-0.6 1.5 0 2.1l13.5 13.5z"/></symbol>',"download")},rn8t:function(e,t,s){},rvCA:function(e,t,s){"use strict";var i=s("vQrK"),a=s.n(i),n=s("2ABW"),o=s("4B+h"),l=s("OB6B"),r=s("L2JU");t.a={computed:a()({},Object(r.c)({mixinSendingStatus:"livechat/sendingStatus"})),data:()=>({mixinCloseChatModalBtnDisabled:!1,mixinClosingThread:null}),methods:{$_mixinCloseTranscript(){const e=this.mixinClosingThread.Follower.Id;this.mixinSendingStatus[e]&&0===this.mixinSendingStatus[e].count&&this.mixinSendingStatus[e].errorCount>0&&this.$store.commit("livechat/UPDATE_SENDING_STATUS",{followerId:e,type:"remove"}),this.mixinCloseChatModalBtnDisabled=!0;const t=this.mixinClosingThread.Id,s=async()=>{let s=null;this.$store.commit("livechat/UPDATE_SENDING_STATUS",{followerId:e,type:"remove"});try{let e=await Object(n.a)({transcriptId:t});this.mixinCloseChatModalBtnDisabled=!1,e.ok?(this.$root.$emit("close-thread",t),"console-message"!==this.$route.name&&"consoleMessage"!==l.a.componentName||l.a.fireEvent("close-message",t)):(s=e,Object(o.f)(e))}catch(e){this.mixinCloseChatModalBtnDisabled=!1,s=e,this.$root.$emit("open-internet-check-tip")}s||(this.mixinClosingThread=null,this.$emit("close-chat-finished"))};if(!this.mixinSendingStatus[e]||this.mixinSendingStatus[e]&&0===this.mixinSendingStatus[e].count&&0===this.mixinSendingStatus[e].errorCount)s();else{const t=this.$watch(()=>this.mixinSendingStatus,()=>{this.mixinSendingStatus[e].count>0||(0===this.mixinSendingStatus[e].errorCount?(s(),t()):this.mixinCloseChatModalBtnDisabled=!1)},{deep:!0})}}}}},"s+qR":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 36 35" id="unable_video" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M35.2,26.3l-1.8-1c1.2-2.3,1.9-4.9,1.9-7.7c0-9.4-7.6-17-17-17C12.3,0.5,7,3.6,4,8.2L2,7.1\n\t\tC1.8,7,1.6,6.9,1.5,6.9c-0.3,0-0.7,0.2-0.8,0.5C0.4,7.9,0.5,8.5,1,8.7l2,1.2c-1.1,2.3-1.8,4.9-1.8,7.6c0,9.4,7.6,17,17,17\n\t\tc5.9,0,11.1-3,14.2-7.6l1.8,1c0.2,0.1,0.3,0.1,0.5,0.1c0.3,0,0.7-0.2,0.8-0.5C35.8,27.1,35.7,26.5,35.2,26.3z M18.3,2.4\n\t\tc8.3,0,15.1,6.8,15.1,15.1c0,2.4-0.6,4.7-1.6,6.7l-8-4.6l0.1,0L12.3,13V13L5.7,9.2C8.4,5.1,13,2.4,18.3,2.4z M18.3,32.6\n\t\tc-8.3,0-15.1-6.8-15.1-15.1c0-2.4,0.6-4.6,1.5-6.6l7.6,4.4v8.8c0,0.5,0.2,0.9,0.7,1.2c0.2,0.1,0.4,0.2,0.7,0.2\n\t\tc0.2,0,0.5-0.1,0.7-0.2l7.6-4.5l8.9,5.1C28.1,30,23.5,32.6,18.3,32.6z" fill=""/> <path d="M25.5,18.6c0.4-0.2,0.7-0.7,0.7-1.1c0-0.5-0.2-0.9-0.7-1.1L14.3,9.8c-0.4-0.2-0.9-0.2-1.3,0\n\t\tc-0.4,0.2-0.7,0.7-0.7,1.2v1l12.4,7.2L25.5,18.6z" fill=""/> </symbol>',"unable_video")},s0iP:function(e,t,s){"use strict";var i=s("4iiW");s.n(i).a},s2Bn:function(e,t,s){"use strict";var i=s("4fD3");s.n(i).a},sN31:function(e,t,s){"use strict";var i=s("XNr8"),a=s.n(i);t.default=a.a},sSdc:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"campaignEntranceLabel":"微信市场活动","liveChatEntranceLabel":"Live Chat","monitorEntranceLabel":"Live Chat Monitor","formEntranceLabel":"表单","surveyEntranceLabel":"问卷","badgeEntranceLabel":"名牌模板","link":"关联新的微信公众号","skillsEntranceLabel":"技能"},"en":{"campaignEntranceLabel":"WeChat Campaigns","liveChatEntranceLabel":"Live Chat","monitorEntranceLabel":"Live Chat Monitor","formEntranceLabel":"Forms","surveyEntranceLabel":"Surveys","badgeEntranceLabel":"Name Badge Templates","link":"Link New Account","skillsEntranceLabel":"Skills"}}'),delete e.options._Ctor}},sdLM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABSElEQVRYR9XZv0oDQRAG8O97Blt9ObsQKwtbSQgIthGx9eFEG/MGZsIGhSPc5WZ350+88hh2fszuscMcEfSIyFVJRfK7JiVrgltjReQZwH3xAViTXGnXcgeKyAuA5QD0A+Ca5JcG6QocwRWTALgh+ZEKnMAV0yvJYUXPOl0qeAb3DuCW5F5TveNHpQ3UxlnizIHWOFOgB84MKCJbAHcjx6D6zJ2u0X0GPXHdFfTGdQEjcM3AKFwTMBJXDYzGVQEzcGpgFk4FzMTNArNx/x94bH8d71lNC6e6izORKmBmJdXALGQVMANZDYxGNgEjkc3AKGQXMALZDfRGmgA9kWZAL6Qp0ANpDrRGugBnkG8kF5pOZrYf1C4yFTfRBV3GAPMPPYIss8EyAv7UFMBti4fJReQJwMPvu0eSGw3OfYtPkOU3hJDcaXEl7gB6zOkpy/uT+AAAAABJRU5ErkJggg=="},shFL:function(e,t,s){},sq5X:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"typeLabel":"类型","statusLabel":"状态","startDateLabel":"开始日期","endDateLabel":"结束日期","respondLabel":"响应","memberStatusLabel":"成员状态更新日期","opportunityLabel":"业务机会","opportunityNameLabel":"业务机会名称","ownerLabel":"所有人","stageLabel":"阶段","closeDateLabel":"结束日期","caseLabel":"个案","caseNumberLabel":"个案编号","subjectLabel":"主题","timeOpenLabel":"日期/时间打开","noRelatedListLabel":"没有显示相关的列表","accountNameLabel":"客户名","viewAllLabel":"浏览全部"},"en":{"typeLabel":"Type","statusLabel":"Status","startDateLabel":"Start Date","endDateLabel":"End Date","respondLabel":"Responded","memberStatusLabel":"Member Status Updated Date","opportunityLabel":"Opportunity | Opportunities","opportunityNameLabel":"Opportunity Name","ownerLabel":"Owner","stageLabel":"Stage","closeDateLabel":"Close Date","caseLabel":"Case | Cases","caseNumberLabel":"Case Number","subjectLabel":"Subject","timeOpenLabel":"Date/Time Opened","noRelatedListLabel":"No related lists to display","accountNameLabel":"Account Name","viewAllLabel":"View All"}}'),delete e.options._Ctor}},sqev:function(e,t,s){"use strict";var i=s("tHhy");s.n(i).a},"t/6k":function(e,t,s){"use strict";var i=s("0EVj"),a=s.n(i);t.default=a.a},t7kI:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_date" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_date_XMLID_1_"> <g id="form_date_XMLID_31_"> <path id="form_date_XMLID_74_" d="M18.9,20.8H3.1c-1.4,0-2.6-1.2-2.6-2.6V5.3c0-1.4,1.2-2.6,2.6-2.6h1.7v1H3.1\r\n\t\t\tc-0.9,0-1.6,0.7-1.6,1.6v12.9c0,0.9,0.7,1.6,1.6,1.6h15.8c0.9,0,1.6-0.7,1.6-1.6V5.3c0-0.9-0.7-1.6-1.6-1.6h-1.8v-1h1.8\r\n\t\t\tc1.4,0,2.6,1.2,2.6,2.6v12.9C21.5,19.6,20.3,20.8,18.9,20.8z" fill=""/> </g> <g id="form_date_XMLID_30_"> <rect id="form_date_XMLID_73_" x="7.9" y="2.7" width="6.1" height="1"/> </g> <g id="form_date_XMLID_29_"> <rect id="form_date_XMLID_70_" x="1" y="6.7" width="20" height="1"/> </g> <g id="form_date_XMLID_27_"> <g id="form_date_XMLID_28_"> <path id="form_date_XMLID_116_" d="M15.6,5.3L15.6,5.3c-0.3,0-0.6-0.2-0.6-0.5V1.7c0-0.3,0.2-0.5,0.5-0.5h0.1\r\n\t\t\t\tc0.3,0,0.5,0.2,0.5,0.5v3.1C16.1,5.1,15.9,5.3,15.6,5.3z" fill=""/> </g> </g> <g id="form_date_XMLID_22_"> <g id="form_date_XMLID_26_"> <path id="form_date_XMLID_113_" d="M6.5,5.3L6.5,5.3c-0.3,0-0.6-0.2-0.6-0.5V1.7c0-0.3,0.2-0.5,0.5-0.5h0.1\r\n\t\t\t\tC6.7,1.2,7,1.5,7,1.7v3.1C7,5.1,6.7,5.3,6.5,5.3z" fill=""/> </g> </g> <g id="form_date_XMLID_17_"> <g id="form_date_XMLID_18_"> <path id="form_date_XMLID_109_" d="M12.3,17.8h-1.9V12H9v-1.2c0.6,0,1.1-0.1,1.3-0.3c0.2-0.2,0.3-0.4,0.3-0.7h1.7V17.8z" fill=""/> </g> </g> </g> </symbol>',"form_date")},t8rE:function(e,t,s){},tCAP:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="copy" ><path d="m44 2h-26c-2.2 0-4 1.8-4 4v2h24c2.2 0 4 1.8 4 4v28h2c2.2 0 4-1.8 4-4v-30c0-2.2-1.8-4-4-4z m-6 14c0-2.2-1.8-4-4-4h-26c-2.2 0-4 1.8-4 4v30c0 2.2 1.8 4 4 4h26c2.2 0 4-1.8 4-4v-30z m-18 7c0 0.6-0.4 1-1 1h-8c-0.6 0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1h8c0.6 0 1 0.4 1 1v2z m8 16c0 0.6-0.4 1-1 1h-16c-0.6 0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1h16c0.6 0 1 0.4 1 1v2z m4-8c0 0.6-0.4 1-1 1h-20c-0.6 0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1h20c0.6 0 1 0.4 1 1v2z" fill=""/></symbol>',"copy")},tHhy:function(e,t,s){},tI07:function(e,t,s){"use strict";var i=s("7iCX");class a extends i.a{constructor(e){super(e),this.id=e.passId,this.type="Pass",this.brand=e.brandName,this.url=e.logoUrl}clone(){return new a(this.getData())}}t.a=a},tJv4:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="unmuted" ><g><path d="m41.5 18c-1.4 0-2.5 1-2.5 2.4v4c0 7-5.9 12.8-13.1 12.8s-13.1-5.8-13.1-12.8v-4c0-1.4-1.1-2.4-2.5-2.4s-2.3 1-2.3 2.4v4c0 8.9 6.8 16.2 15.5 17.4v3.4h-4.1c-1.4 0-2.5 1-2.5 2.4s1.1 2.4 2.5 2.4h13.1c1.4 0 2.5-1 2.5-2.4s-1.1-2.4-2.5-2.4h-4.1v-3.4c8.8-1.2 15.6-8.5 15.6-17.4v-4c0-1.4-1.1-2.4-2.5-2.4z m-15.5 14.4c4.4 0 8-3.6 8-8v-14.5c0-4.4-3.5-7.9-7.9-7.9h-0.2c-4.4 0-7.9 3.5-7.9 7.9v14.5c0 4.4 3.6 8 8 8z" fill=""/></g></symbol>',"unmuted")},tQyZ:function(e,t,s){"use strict";var i=s("YhsT"),a=s.n(i);t.default=a.a},tWg3:function(e,t,s){"use strict";var i=s("WE60"),a=s.n(i),n=s("+Bun"),o=s.n(n),l=s("8Vev"),r=s.n(l);t.a={data:()=>({picklistInputHeight:40,dropdownLiHeight:35}),computed:{showLoading(){return this.dropdownOptions.length<=0},selectedResult:function(){var e;return r()(e=this.dropdownOptions).call(e,e=>e.isSelected)},filteredOptions:function(){var e;let t=this;return r()(e=t.dropdownOptions).call(e,(function(e){var s;return-1!==o()(s=e.Name.toLowerCase()).call(s,t.filterName.toLowerCase())}))}},watch:{top(e){this.$refs.picklistDropdown&&(window.innerHeight-e<this.$refs.picklistDropdown.clientHeight&&e-this.picklistInputHeight>=this.$refs.picklistDropdown.clientHeight?this.dropdownTop=e-this.$refs.picklistDropdown.clientHeight-this.picklistInputHeight:this.dropdownTop=e)},left(e){this.dropdownLeft=e}},methods:{select(e){if(this.isNoLabelSelected=!1,this.isSingleSelection){this.defaultLabel?e.isSelected=!e.isSelected:e.isSelected=!0;for(let t of this.dropdownOptions)t.Name!==e.Name&&(t.isSelected=!1)}else 0===this.limitLength?e.isSelected=!e.isSelected:this.selectedResult.length<this.limitLength?e.isSelected=!e.isSelected:e.isSelected&&(e.isSelected=!e.isSelected);this.$emit("select-option",this.selectedResult,null)},dropDownScrollTop(e,t,s){if(t.length>0){const i=a()(e).call(e,e=>e.Name===t[0].Name);this.hasNoTag?s.scrollTop=this.dropdownLiHeight*(i+1):s.scrollTop=this.dropdownLiHeight*i}return s.scrollTop},clearFilterName(){this.filterName=""}}}},tdbD:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="delete_icon" ><path d="m45.5 10h-12.5v-4c0-2.2-1.8-4-4-4h-6c-2.2 0-4 1.8-4 4v4h-12.5c-0.8 0-1.5 0.7-1.5 1.5v3c0 0.8 0.7 1.5 1.5 1.5h39c0.8 0 1.5-0.7 1.5-1.5v-3c0-0.8-0.7-1.5-1.5-1.5z m-22.5-3c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v3h-6v-3z m18.5 13h-31c-0.8 0-1.5 0.7-1.5 1.5v23.5c0 2.8 2.2 5 5 5h24c2.8 0 5-2.2 5-5v-23.5c0-0.8-0.7-1.5-1.5-1.5z m-18.5 22c0 0.6-0.4 1-1 1h-2c-0.6 0-1-0.4-1-1v-14c0-0.6 0.4-1 1-1h2c0.6 0 1 0.4 1 1v14z m10 0c0 0.6-0.4 1-1 1h-2c-0.6 0-1-0.4-1-1v-14c0-0.6 0.4-1 1-1h2c0.6 0 1 0.4 1 1v14z" fill=""/></symbol>',"delete_icon")},tr46:function(e,t,s){"use strict";var i=s("qm5O");s.n(i).a},twFZ:function(e,t,s){"use strict";var i=s("sq5X"),a=s.n(i);t.default=a.a},twJQ:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"notificationsLabel":"通知","desktopEnableLabel":"启用桌面通知","mobileEnableLabel":"启用移动端通知","emailEnableLabel":"启用电子邮件通知","soundEnableLabel":"启动声音通知","dndLabel":"禁用通知时间段:","toLabel":"到"},"en":{"notificationsLabel":"Notifications","desktopEnableLabel":"Desktop notifications enabled","mobileEnableLabel":"Mobile notifications enabled","emailEnableLabel":"Email notifications enabled","soundEnableLabel":"Sound notifications enabled","dndLabel":"Disable notifications from:","toLabel":"to"}}'),delete e.options._Ctor}},u6OF:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"noResultLabel":"{0}在{1}中没有结果","resultLabel":"结果","orderLabel":"结果•按相关度排序"},"en":{"noResultLabel":"No results for {0} in {1}","resultLabel":"Result | Results","orderLabel":"Results • Sorted by relevancy"}}'),delete e.options._Ctor}},u7w5:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"j",(function(){return n})),s.d(t,"h",(function(){return o})),s.d(t,"l",(function(){return l})),s.d(t,"k",(function(){return r})),s.d(t,"d",(function(){return c})),s.d(t,"g",(function(){return d})),s.d(t,"a",(function(){return h})),s.d(t,"i",(function(){return u})),s.d(t,"e",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"f",(function(){return g}));var i=s("00Ee");function a(e){return Object(i.a)({method:"AgentRemoteActions.createAgent",args:[e]})}function n(e,t,s){return Object(i.a)({method:"AgentRemoteActions.syncAgentToWeChat",args:[e,t,s]})}function o(e,t,s,a){return Object(i.a)({method:"AgentRemoteActions.getAgents",args:[e,t,s,a]})}function l(e){return Object(i.a)({method:"AgentRemoteActions.updateAgent",args:[e]})}function r(e){return Object(i.a)({method:"AgentRemoteActions.syncAgents",args:[e]})}function c(e){return Object(i.a)({method:"AgentRemoteActions.inactiveAgent",args:[e]})}function d(e){return Object(i.a)({method:"AgentRemoteActions.getAgentCounts",args:[e]})}function h(e){return Object(i.a)({method:"AgentRemoteActions.activeAgent",args:[e]})}function u(e,t,s,a){return Object(i.a)({method:"AgentRemoteActions.getQuickReplyMessages",args:[e,t,s,a]})}function p(e){return Object(i.a)({method:"AgentRemoteActions.deleteQuickReplyMessage",args:[e]})}function m(e,t,s,a){return Object(i.a)({method:"AgentRemoteActions.createQuickReplyMessage",args:[e,t,s,a]})}function g(e,t,s){return Object(i.a)({method:"AgentRemoteActions.editQuickReplyMessage",args:[e,t,s]})}},uDmp:function(e,t,s){},uI3b:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"detailsLabel":"详情"},"en":{"detailsLabel":"Details"}}'),delete e.options._Ctor}},ua36:function(e,t,s){"use strict";var i=s("XfGo"),a=s.n(i);t.default=a.a},ujln:function(e,t,s){"use strict";var i=s("pjrz");s.n(i).a},"v+77":function(e,t,s){"use strict";var i=s("1B6c");s.n(i).a},v4Qw:function(e,t,s){"use strict";var i=s("6aOF");s.n(i).a},vFaf:function(e,t,s){"use strict";var i=s("qez6"),a=s.n(i);t.default=a.a},vGT7:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="settings" ><path fill="" d="m26.1 19.1c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7z m21 13.3l-3.7-3.1c0.2-1.1 0.3-2.3 0.3-3.4s-0.1-2.3-0.3-3.4l3.7-3.1c1.2-1 1.6-2.8 0.8-4.2l-1.6-2.8c-0.6-1-1.7-1.6-2.9-1.6-0.4 0-0.8 0.1-1.1 0.2l-4.6 1.7c-1.8-1.6-3.8-2.7-5.9-3.4l-0.8-4.7c-0.3-1.6-1.7-2.5-3.3-2.5h-3.2c-1.6 0-3 0.9-3.3 2.5l-0.8 4.6c-2.2 0.7-4.2 1.9-6 3.4l-4.6-1.7c-0.4-0.1-0.7-0.2-1.1-0.2-1.2 0-2.3 0.6-2.9 1.6l-1.6 2.8c-0.8 1.4-0.5 3.2 0.8 4.2l3.7 3.1c-0.2 1.1-0.3 2.3-0.3 3.4 0 1.2 0.1 2.3 0.3 3.4l-3.7 3.1c-1.2 1-1.6 2.8-0.8 4.2l1.6 2.8c0.6 1 1.7 1.6 2.9 1.6 0.4 0 0.8-0.1 1.1-0.2l4.6-1.7c1.8 1.6 3.8 2.7 5.9 3.4l0.8 4.8c0.3 1.6 1.6 2.7 3.3 2.7h3.2c1.6 0 3-1.2 3.3-2.8l0.8-4.8c2.3-0.8 4.4-2 6.2-3.7l4.3 1.7c0.4 0.1 0.8 0.2 1.2 0.2 1.2 0 2.3-0.6 2.9-1.6l1.5-2.6c0.9-1.1 0.5-2.9-0.7-3.9z m-21 4.7c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z"/></symbol>',"settings")},vL7M:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"aboutFollowerLabel":"关于此关注者","nameLabel":"名称","weChatAccLabel":"微信公众号","detailsLabel":"详情","relatedLabel":"相关","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","relatedToLabel":"相关","activityLabel":"最近活跃时间","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"电话","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名称","accountNameLabel":"客户名","changeSaveLabel":"更改已保存。","tagCreateSuccess":"标签已创建","tags":"标签","edit":"编辑","noTags":"没有标签","assignTagstitle":"分配标签","searchTags":"搜索标签"},"en":{"aboutFollowerLabel":"About This Follower","nameLabel":"Name","weChatAccLabel":"WeChat Account","detailsLabel":"Details","relatedLabel":"Related","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","relatedToLabel":"Related To","activityLabel":"Last Activity Time","leadLabel":"Lead | Leads","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact | Contacts","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","changeSaveLabel":"Changes were saved.","tagCreateSuccess":"Tag was created","tags":"Tags","edit":"Edit","noTags":"No Tags","assignTagstitle":"Assign Tags","searchTags":"Search Tags"}}'),delete e.options._Ctor}},vZXS:function(e,t,s){"use strict";var i=s("yiqd"),a=s.n(i);t.default=a.a},vkTm:function(e,t,s){"use strict";var i=s("autp"),a=s.n(i),n=s("3O4B"),o=s.n(n),l=s("WE60"),r=s.n(l),c=s("Zss7"),d=s.n(c);function h(e,t){const s=e&&e.a;let i=null;i=e&&e.hsl?d()(e.hsl):e&&e.hex&&e.hex.length>0?d()(e.hex):d()(e),i&&i.setAlpha(s||1);let a=i.toHsl(),n=i.toHsv();return 0===a.s&&(a.h=e.h||t||0,n.h=e.h||t||0),{hsl:a,hex:i.toHexString().toUpperCase(),rgba:i.toRgb(),hsv:n,oldHue:e.h||t||a.h,source:e.source,a:e.a||i.getAlpha()}}var u={props:["value"],data(){return{val:h(this.value)}},computed:{colors:{get(){return this.val},set(e){this.val=e}}},watch:{value(e){this.val=h(e)}},methods:{colorChange(e,t){this.oldHue=this.colors.hsl.h,this.colors=h(e,t||this.oldHue)},isValidHex:e=>d()(e).isValid(),simpleCheckForValidColor(e){for(var t=["r","g","b","a","h","s","a","v"],s=0,i=0,a=0;a<t.length;a++){var n=t[a];e[n]&&(s++,isNaN(e[n])||i++)}if(s===i)return e}}},p=s("hKI/"),m={props:{value:Object},computed:{colors(){return this.value},bgColor(){return"hsl(".concat(this.colors.hsl.h,", 100%, 50%)")},pointerTop(){return-100*this.colors.hsv.v+100+"%"},pointerLeft(){return 100*this.colors.hsv.s+"%"}},methods:{throttle:s.n(p)()((e,t)=>{e(t)},20,{leading:!0,trailing:!1}),handleChange(e,t){!t&&e.preventDefault();const s=this.$refs.container,i=s.clientWidth,a=s.clientHeight,n=s.getBoundingClientRect().left+window.pageXOffset,o=s.getBoundingClientRect().top+window.pageYOffset;let l=(e.pageX||(e.touches?e.touches[0].pageX:0))-n,r=(e.pageY||(e.touches?e.touches[0].pageY:0))-o;l<0?l=0:l>i?l=i:r<0?r=0:r>a&&(r=a);const c=100*l/i,d=-100*r/a+100;this.throttle(this.onChange,{h:this.colors.hsl.h,s:c,v:d>0?d:.01,a:this.colors.hsl.a,source:"hsva"})},onChange(e){this.$emit("change",e)},handleMouseDown(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},g=(s("iEH4"),s("KHd+")),f=Object(g.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"container",staticClass:"vue-color__saturation",style:{background:this.bgColor},on:{mousedown:this.handleMouseDown}},[t("div",{staticClass:"vue-color__saturation_white"}),this._v(" "),t("div",{staticClass:"vue-color__saturation_black"}),this._v(" "),t("div",{staticClass:"vue-color__saturation_pointer",style:{top:this.pointerTop,left:this.pointerLeft}},[t("div",{staticClass:"vue-color__saturation_circle"})])])}),[],!1,null,null,null).exports,v={props:{value:Object,direction:{type:String,default:"vertical"}},computed:{colors(){return this.value},directionClass(){return{"vue-color__c-hue_horizontal":"horizontal"===this.direction,"vue-color__c-hue_vertical":"vertical"===this.direction}},pointerTop(){return"vertical"===this.direction?-100*this.colors.hsl.h/360+100+"%":0},pointerLeft(){return"vertical"===this.direction?0:100*this.colors.hsl.h/360+"%"}},methods:{handleChange(e,t){!t&&e.preventDefault();const s=this.$refs.container,i=s.clientWidth,a=s.clientHeight,n=s.getBoundingClientRect().left+window.pageXOffset,o=s.getBoundingClientRect().top+window.pageYOffset,l=(e.pageX||(e.touches?e.touches[0].pageX:0))-n,r=(e.pageY||(e.touches?e.touches[0].pageY:0))-o;let c=null,d=null;"vertical"===this.direction?(r<0?c=359:r>a?c=0:(d=-100*r/a+100,c=360*d/100),this.colors.hsl.h!==c&&this.$emit("change",{h:c,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(l<0?c=0:l>i?c=359:(d=100*l/i,c=360*d/100),this.colors.hsl.h!==c&&this.$emit("change",{h:c,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}},_=(s("GYO2"),Object(g.a)(v,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["vue-color__c-hue",this.directionClass]},[t("div",{ref:"container",staticClass:"vue-color__c-hue__container",on:{mousedown:this.handleMouseDown,touchmove:this.handleChange,touchstart:this.handleChange}},[t("div",{staticClass:"vue-color__c-hue__pointer",style:{top:this.pointerTop,left:this.pointerLeft}},[t("div",{staticClass:"vue-color__c-hue__picker"})])])])}),[],!1,null,null,null).exports),C={props:{colors:Object},components:{Saturation:f,Hue:_},data:()=>({}),methods:{selectColor(e){this.$emit("change",e)}}},b=(s("s0iP"),Object(g.a)(C,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vue-color__chrome",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"vue-color__chrome__saturation-wrap"},[s("saturation",{on:{change:e.selectColor},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),s("div",{staticClass:"vue-color__chrome__hue-wrap"},[s("hue",{on:{change:e.selectColor},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)])])}),[],!1,null,"09f5349e",null).exports),w={props:{hexValue:[String,Number]},methods:{update(e){this.handleChange(e.target.value)},handleChange(e){e.length>=7&&this.$emit("change",{hex:e.substring(0,7)})}}},y=(s("CxwK"),{mixins:[u],components:{MoreColor:b,HexInput:Object(g.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vue-color__editable-input",on:{click:function(e){e.stopPropagation()}}},[t("input",{staticClass:"vue-color__editable-input__input",domProps:{value:this.hexValue},on:{input:this.update}})])}),[],!1,null,null,null).exports},computed:{activeColor(){return this.colors.hex}},data:()=>({showColorList:!1,availableColors:["#ffffff","#ffd7d5","#ffdaa9","#fffed5","#d4fa00","#73fcd6","#a5c8ff","#ffacd5","#ff7faa","#d6d6d6","#ffacaa","#ffb995","#fffb00","#73fa79","#00fcff","#78acfe","#d84fa9","#ff4f79","#b2b2b2","#d7aba9","#ff6827","#ffda51","#00d100","#00d5ff","#0080ff","#ac39ff","#ff2941","#888888","#7a4442","#ff4c00","#ffa900","#3da742","#3daad6","#0052ff","#7a4fd6","#d92142","#000000","#7b0c00","#ff4c41","#d6a841","#407600","#007aaa","#021eaa","#797baa","#ab1942"],recentColors:[],basicColorPicker:!0,moreColorPicker:!1}),methods:{selectColor(e){this.colorChange(e)},inputColor(e){e&&e.hex&&this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"})},outputColor(e){if("none"!==e){var t,s;const a=r()(t=this.recentColors).call(t,t=>t===e);var i;if(a>-1)o()(i=this.recentColors).call(i,a,1);o()(s=this.recentColors).call(s,0,0,e),this.recentColors.length>8&&this.recentColors.pop()}this.$emit("get-color",e),this.showColorList=!1},open(){this.showColorList=!this.showColorList,this.$emit("update-showing-status",this.showColorList);const e=()=>{this.showColorList=!1,this.$emit("update-showing-status",this.showColorList),window.removeEventListener("click",e)};a()(()=>{window.addEventListener("click",e)},100)},close(){this.showColorList=!1,this.$emit("update-showing-status",this.showColorList)},showBasicColorPicker(){this.basicColorPicker=!0,this.moreColorPicker=!1},showMoreColorPicker(){this.basicColorPicker=!1,this.moreColorPicker=!0}}}),T=(s("5nLN"),s("vFaf")),L=Object(g.a)(y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"color-picker-page"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showColorList,expression:"showColorList"}],staticClass:"font-color-list"},[s("div",{staticClass:"rencent-select-color"},[s("div",{staticClass:"recent-color-label"},[e._v("\n        "+e._s(e.$t("recentColors"))+"\n      ")]),e._v(" "),s("ul",{staticClass:"slds-grid recent-color-list"},[s("li",{staticClass:"recent-color-none",on:{click:function(t){return t.preventDefault(),e.outputColor("none")}}}),e._v(" "),e._l(e.recentColors,(function(t){return s("li",{style:{"background-color":t},on:{click:function(s){return s.preventDefault(),e.outputColor(t)}}})}))],2)]),e._v(" "),s("div",{staticClass:"choose-select-color"},[s("button",{style:{color:e.basicColorPicker?"#8d8d8d":"#d2d2d2"},attrs:{type:"button",name:"button"},on:{click:function(t){return t.stopPropagation(),e.showBasicColorPicker()}}},[e._v(e._s(e.$t("basicColor")))]),e._v(" "),s("button",{style:{color:e.moreColorPicker?"#8d8d8d":"#d2d2d2"},attrs:{type:"button",name:"button"},on:{click:function(t){return t.stopPropagation(),e.showMoreColorPicker()}}},[e._v(e._s(e.$t("moreColor")))])]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.basicColorPicker,expression:"basicColorPicker"}],staticClass:"slds-grid slds-wrap font-color-ul"},e._l(e.availableColors,(function(t){return s("li",[s("a",{style:{backgroundColor:t},attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.outputColor(t)}}})])})),0),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.moreColorPicker,expression:"moreColorPicker"}],staticClass:"more-color-list"},[s("more-color",{attrs:{colors:e.colors},on:{change:e.selectColor}})],1),e._v(" "),s("div",{staticClass:"slds-grid color-picker-toolbar"},[s("div",{staticClass:"select-active-color",style:{background:e.activeColor}}),e._v(" "),s("div",{staticClass:"select-color-filed"},[s("hex-input",{attrs:{"hex-value":e.colors.hex},on:{change:e.inputColor}})],1),e._v(" "),s("button",{attrs:{type:"button",name:"button"},on:{click:function(t){return e.outputColor(e.activeColor)}}},[e._v(e._s(e.$t("global.confirmBtn")))])])])])}),[],!1,null,"e44a2a1a",null);"function"==typeof T.default&&Object(T.default)(L);t.a=L.exports},vtZj:function(e,t,s){"use strict";var i=s("R189");s.n(i).a},vvYZ:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"currentLabel":"当前选择","noMatchLabel":"没有发现匹配项"},"en":{"currentLabel":"Current Selection","noMatchLabel":"No matches found"}}'),delete e.options._Ctor}},w2Vt:function(e,t,s){"use strict";var i={props:{spinnerType:{type:String,default:"brand"},size:{type:String,default:"medium"},isLoading:{type:Boolean,default:!0},customStyle:{type:String,default:""},spinnerStyle:{type:String,default:""}}},a=s("KHd+"),n=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.isLoading,expression:"isLoading"}],staticClass:"slds-spinner_container",style:this.customStyle},[t("div",{staticClass:"slds-spinner",class:["slds-spinner_"+this.spinnerType,"slds-spinner_"+this.size],style:this.spinnerStyle,attrs:{"aria-hidden":"false",role:"alert"}},[t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])])}),[],!1,null,null,null);t.a=n.exports},wA34:function(e,t,s){"use strict";var i=s("SLhn"),a=s.n(i),n=s("+Bun"),o=s.n(n),l=s("Ip10"),r=s.n(l),c=s("0G99"),d=s.n(c),h=s("wG3i"),u=s.n(h),p={props:{notify:{type:Object,default:()=>({})},hasBorder:{type:Boolean,default:!0},createdDate:{type:[String,Date],default:""}},data:()=>({showFirst:"",showRemark:""}),computed:{notification:function(){var e,t;let s=JSON.parse(u()(this.notify)),i=s.Content.split(/{{.*?}}/gm),a=s.Content.match(/{{.*?}}/gm),n=[];d()(i).call(i,(e,t)=>{n.push({name:e,value:a[t],key:a[t],color:"#000000"})}),this.$set(s,"contentTemplate",n);let l=r()(e=s.contentTemplate).call(e,e=>{var t;return e.key&&0===o()(t=e.key).call(t,"{{first.")}),c=r()(t=s.contentTemplate).call(t,e=>{var t;return e.key&&0===o()(t=e.key).call(t,"{{remark.")});return l&&(l.color=s.ContentMapping.first.color,l.value=s.ContentMapping.first.value),c&&(c.color=s.ContentMapping.remark.color,c.value=s.ContentMapping.remark.value),d()(a).call(a,(e,t)=>{if(0===o()(e).call(e,"{{first."))this.showFirst=e;else if(0===o()(e).call(e,"{{remark."))this.showRemark=e;else{var i;let t=e.match(/({{=?)(\S*)(?=.DATA)/g);const a=t[0].substr(2,t[0].length-1);let n=r()(i=s.contentTemplate).call(i,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===a);n.value=s.ContentMapping[a].value,n.color=s.ContentMapping[a].color}}),s},isShowDetail(){return this.notification.NotificationURL||this.miniProgramPage&&this.miniProgramPage.Id},miniProgramPage(){return this.notification.MiniProgramPage||null}},methods:{openToLink(){var e;if(this.notification.NotificationURL&&-1===o()(e=this.notification.NotificationURL).call(e,"{!"))window.open(this.notification.NotificationURL);else if(this.notification.MiniProgramPage&&this.notification.MiniProgramPage.Id){var t,s;const e=a()(t=a()(s="".concat(window.location.protocol,"//")).call(s,window.location.hostname,"/")).call(t,this.notification.MiniProgramPage.Id);window.open(e)}}}},m=(s("Gm4R"),s("KHd+")),g=s("i8mJ"),f=Object(m.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"template-detail",class:{"can-click":e.isShowDetail},on:{click:function(t){return t.stopPropagation(),e.openToLink(t)}}},[s("div",{staticClass:"slds-box template-container",class:{"no-border":!e.hasBorder}},[s("div",{staticClass:"template-body",class:{"has-padding":!e.isShowDetail}},[s("span",{staticClass:"slds-text-heading_small title"},[e._v(e._s(e.notification.Title))]),e._v(" "),e.createdDate&&0!==e.createdDate?s("span",{staticClass:"slds-text-body_small date-value"},[e._v(e._s(e._f("formatDateFilter")(e.createdDate)))]):s("span",{staticClass:"slds-text-body_small date-value"},[e._v(e._s(e._f("formatDateFilter")(e.notification.CreatedDate)))]),e._v(" "),e._l(e.notification.contentTemplate,(function(t){return[t.name?s("pre",{staticClass:"keyword"},[e._v(e._s(t.name))]):e._e(),e._v(" "),t.value?s("pre",{staticClass:"keyword",style:{color:t.color}},[e._v(e._s(t.value))]):e._e()]})),e._v(" "),s("pre",{staticClass:"blank-pre"},[e._v(e._s("\n"))])],2),e._v(" "),e.isShowDetail?s("div",{staticClass:"slds-grid template-footer"},[e.miniProgramPage?s("icon",{staticClass:"detail-icon",attrs:{name:"miniProIcon",width:"16px",height:"16px","fill-color":"#706e6b","charket-icon":""}}):s("span",{staticClass:"slds-text-body_regular detail-value"},[e._v("\n        "+e._s(e.$t("detailsLabel"))+"\n      ")]),e._v(" "),e.miniProgramPage?s("span",{staticClass:"mini-program-title"},[e._v("\n        "+e._s(e.miniProgramPage.Title)+"\n      ")]):e._e(),e._v(" "),s("span",{staticClass:"detail-icon"},[s("icon",{attrs:{name:"chevronright","fill-color":"#b0adab",width:"14px",height:"14px"}})],1)],1):e._e()])])}),[],!1,null,"11735c84",null);"function"==typeof g.default&&Object(g.default)(f);t.a=f.exports},wYeh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAgUlEQVRIS2N8/vnvfwYygN/se2Bdm1KVyNDNwMBIrsWStVfBFj5v1h61mKgQGA1qooIJpGg0cREdVFCFo4mL6BAbTVxEBxUscZn23f5/+tF3UvVRpN5UjpOBccAsHq0WiY280exEbEjB1I2W1USH2GjiIjqoRhsCpAbVgCUuSjttAMurysGKqYD9AAAAAElFTkSuQmCC"},wxJj:function(e,t,s){},x9kv:function(e,t,s){"use strict";var i=s("vQrK"),a=s.n(i),n=s("XIlo"),o=s("OB6B"),l=s("autp"),r=s.n(l),c=s("Ip10"),d=s.n(c),h=s("0G99"),u=s.n(h),p=s("8Vev"),m=s.n(p),g=s("4LGG"),f=s.n(g),v=s("rZkV"),_=s.n(v),C=s("SLhn"),b=s.n(C),w=s("ip3M"),y=s.n(w),T=s("wG3i"),L=s.n(T),I=s("DbBp"),k=s("zlqK"),S=s("dE3K"),M=s("WE60"),A=s.n(M),x=s("yCxO"),N=s.n(x);s("CAgN");const E={inline:!0,title:!1,fullscreen:!1,button:!1,navbar:!1,toolbar:!1,transition:!1,loading:!1},D=s("I7pr"),P=s("GHCX");var R={name:"ImageViewer",props:{images:{type:Array,default:()=>[]},selected:{type:String,default(){return this.viewImages[0].url}}},data:()=>({$viewer:null,handleCLickEvent:null,handleKeydownEvent:null,activeImage:{index:0,url:""},isLoadingImage:!0,viewImages:[]}),computed:{isShowingLastImage(){return this.activeImage.index===this.viewImages.length-1},isShowingFirstImage(){return 0===this.activeImage.index},selectedIndex(){var e;const t=A()(e=this.viewImages).call(e,e=>e.url===this.selected);return-1===t?0:t}},watch:{images:{handler(e){this.initViewImages(e)},deep:!0}},created(){this.initViewImages(this.images),this.handleCLickEvent=e=>{this.$viewer&&"IMG"!==e.target.tagName&&this.$emit("close")},window.addEventListener("click",this.handleCLickEvent),this.handleKeydownEvent=e=>{switch(e.keyCode||e.which||e.charCode){case 27:e.preventDefault(),this.onClickClose();break;case 37:this.isShowingFirstImage||this.onClickPrev();break;case 39:this.isShowingLastImage||this.onClickNext()}},window.addEventListener("keydown",this.handleKeydownEvent)},mounted(){this.activeImage={index:this.selectedIndex,url:this.selected},this.isLoadingImage=!this.isImageOk(this.activeImage.url),this.createViewer(),this.$viewer.view(this.activeImage.index)},destroyed(){this.$viewer&&this.$viewer.destroy(),window.removeEventListener("click",this.handleCLickEvent),window.removeEventListener("keydown",this.handleKeydownEvent)},methods:{initViewImages(e){this.viewImages=[];for(let t=0,s=e.length;t<s;t++){const s=e[t];this.isImageOk(s)?this.viewImages.push({id:t,source:s,complete:!0,url:s}):this.viewImages.push({id:t,source:D,complete:!1,url:s})}this.tryLoadIncompleteImages()},isImageOk(e){if("/servlet/servlet.FileDownload?file=-1"===e)return!1;const t=new Image;return t.src=e,!!t.complete&&0!==t.naturalWidth},tryLoadIncompleteImages(){var e;u()(e=this.viewImages).call(e,e=>{if(!e.complete&&"/servlet/servlet.FileDownload?file=-1"!==e.url){const t=new Image;t.src=e.url,t.onload=()=>{t.complete&&e.id===this.activeImage.index&&(e.complete=!0,e.source=e.url,this.isLoadingImage=!1,this.createViewer(),this.$viewer.view(e.id))},t.onerror=()=>{e.id===this.activeImage.index&&(e.complete=!0,e.source=P,this.isLoadingImage=!1,this.createViewer(),this.$viewer.view(e.id))}}})},replaceViewer(e,t){const s=this.viewImages[e];this.isImageOk(t)?(this.isLoadingImage=!1,s.source===D&&(s.source=t,this.createViewer(),this.$viewer.view(e))):this.isLoadingImage=!0},shouldCreateNewViewer(){return this.viewImages.length>this.$viewer.images.length&&this.$viewer.index===this.$viewer.images.length-1},createViewer(){this.$viewer&&this.$viewer.destroy();const e=document.querySelector(".image-section");e&&(this.$viewer=new N.a(e,E))},onClickNext(){if(this.shouldCreateNewViewer()){const e=this.activeImage.index+1,t=this.viewImages[e],s=t.url;this.isLoadingImage=!this.isImageOk(s),this.isLoadingImage||(t.source=s,t.complete=!0),this.createViewer(),this.$viewer.view(e),this.activeImage={index:e,url:s}}else{this.$viewer.next(!0);const e=this.$viewer.index,t=this.viewImages[e].url;this.activeImage={index:e,url:t},this.replaceViewer(e,t)}},onClickPrev(){this.$viewer.prev(!0);const e=this.$viewer.index,t=this.viewImages[e].url;this.activeImage={index:e,url:t},this.replaceViewer(e,t)},onClickZoomIn(){const e=this.$viewer.options.zoomRatio;this.$viewer.zoom(e,!0,null)},onClickZoomOut(){const e=this.$viewer.options.zoomRatio;this.$viewer.zoom(-e,!0,null)},onClickClose(){this.$emit("close")},onClickAnticlockwise(){this.$viewer.rotate(-90)},onClickClockwise(){this.$viewer.rotate(90)},onClickReset(){this.$viewer.reset()}}},O=(s("T0uT"),s("KHd+")),B=Object(O.a)(R,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-viewer"},[i("ul",{staticClass:"image-section"},e._l(e.viewImages,(function(e,t){return i("li",{key:t},[i("img",{key:"viewImage"+t,attrs:{src:e.source,id:"viewImage"+t}})])})),0),e._v(" "),e.isLoadingImage?i("ld-loading"):e._e(),e._v(" "),i("a",{staticClass:"image-viewer__button image-viewer__close-button",on:{click:function(t){return t.stopPropagation(),e.onClickClose(t)}}},[i("icon",{attrs:{name:"close",width:"20px",height:"20px","fill-color":"white"}})],1),e._v(" "),i("a",{staticClass:"image-viewer__button image-viewer__download-button",attrs:{href:e.activeImage.url,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[i("icon",{attrs:{name:"download",width:"20px",height:"20px","fill-color":"white"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowingLastImage,expression:"!isShowingLastImage"}],staticClass:"image-viewer__button image-viewer__button--large image-viewer__next-button",on:{click:function(t){return t.stopPropagation(),e.onClickNext(t)}}},[i("img",{staticClass:"image-viewer__img",attrs:{src:s("D2YR")}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowingFirstImage,expression:"!isShowingFirstImage"}],staticClass:"image-viewer__button image-viewer__button--large image-viewer__prev-button",on:{click:function(t){return t.stopPropagation(),e.onClickPrev(t)}}},[i("img",{staticClass:"image-viewer__img",attrs:{src:s("sdLM")}})]),e._v(" "),i("div",{staticClass:"toolbar",on:{click:function(e){e.stopPropagation()}}},[i("img",{staticClass:"toolbar__button toolbar__zoom-out-button",attrs:{src:s("g9FF")},on:{click:e.onClickZoomOut}}),e._v(" "),i("img",{staticClass:"toolbar__button",attrs:{src:s("rAq2")},on:{click:e.onClickZoomIn}}),e._v(" "),i("div",{staticClass:"toolbar__line"}),e._v(" "),i("img",{staticClass:"toolbar__button",attrs:{src:s("LBA5")},on:{click:e.onClickAnticlockwise}}),e._v(" "),i("img",{staticClass:"toolbar__button toolbar__clockwise-button",attrs:{src:s("9xVO")},on:{click:e.onClickClockwise}}),e._v(" "),i("div",{staticClass:"toolbar__line"}),e._v(" "),i("img",{staticClass:"toolbar__button toolbar__reset-button",attrs:{src:s("+2/o")},on:{click:e.onClickReset}})])],1)}),[],!1,null,"08349930",null).exports,$=s("icGI"),F=s.n($),U=s("suXn"),V=s.n(U),j=s("L2JU"),z=s("cybb"),W=s("sWYD"),H=s("gXqy"),G={components:{UsersMessage:I.a,SystemMessage:k.a,virtualList:F.a,DateInfo:S.a,ImageViewer:B},props:{checkedMessages:Array,canNewCase:Boolean},computed:a()({},Object(j.c)({followers:"livechat/followers",currentThread:"livechat/currentThread",currentUser:"user/currentUser",messageListObj:"livechat/messageListObj",senders:"livechat/senders"}),{messages(){return this.followerId&&this.messageListObj[this.followerId]?this.messageListObj[this.followerId].Messages:[]},messageList(){const e={},t=JSON.parse(L()(this.messages)),s=Object(z.b)(new Date,this.currentUser.TimeZoneSidKey);for(const i of t){i.WeChatCreatedTime=Object(z.b)(i.WeChatCreatedTime,this.currentUser.TimeZoneSidKey);const t=Object(W.a)(i.WeChatCreatedTime,"M/d/yyyy");if(0===Object(H.a)(s,i.WeChatCreatedTime)){if(!e[this.$t("today")]){const s=new Date(t).getTime();e[this.$t("today")]={Type:"DateInfo",WeChatCreatedTime:s,Content:this.$t("today"),height:51}}}else if(1===Object(H.a)(s,i.WeChatCreatedTime)){if(!e[this.$t("yesterday")]){const s=new Date(t).getTime();e[this.$t("yesterday")]={Type:"DateInfo",WeChatCreatedTime:s,Content:this.$t("yesterday"),height:51}}}else{const s=Object(z.g)(t,"week");if(!e[s]){const i=new Date(t).getTime();e[s]={Type:"DateInfo",WeChatCreatedTime:i,Content:s,height:51}}}}const i=y()(e),a=V.a.orderBy(b()(t).call(t,i),"WeChatCreatedTime","asc");return a.length>this.messagesPage*this.messagesPageLimit?_()(a).call(a,-this.messagesPage*this.messagesPageLimit):a},currentCheckedMessages:{get(){return this.checkedMessages},set(e){this.$emit("update:checkedMessages",e)}},followerId(){return this.currentThread&&this.currentThread.Follower?this.currentThread.Follower.Id:""},hasMoreInStore(){return!(!this.followerId||!this.messageListObj[this.followerId])&&this.messageListObj[this.followerId].Messages.length>=this.messagesPage*this.messagesPageLimit},imageMessages(){var e;return f()(e=this.imagesSnapshot).call(e,e=>"/servlet/servlet.FileDownload?file=".concat(e.attachmentId))}}),watch:{currentThread(e){this.messagesPage=1,this.currentCheckedMessages=[],this.loadDisabled=!0,this.initMessages(e.Follower.Id)},messages:{handler(e,t){if(this.isViewImage){var s;const t=m()(e).call(e,e=>"Image"===e.Type&&e.Body&&e.Body.AttachmentId),i=[];u()(t).call(t,e=>{var t;const s=d()(t=this.imagesSnapshot).call(t,t=>t.id===e.Id);s?"-1"===s.attachmentId&&(s.attachmentId=e.Body.AttachmentId):e.WeChatCreatedTime>=this.imagesSnapshot[this.imagesSnapshot.length-1].createdTime&&i.push({id:e.Id,attachmentId:e.Body.AttachmentId,createdTime:e.WeChatCreatedTime})}),this.imagesSnapshot=b()(s=this.imagesSnapshot).call(s,i)}const i=V.a.orderBy(e,"WeChatCreatedTime","asc")[e.length-1];this.syncLastMessageToThread(i);const a=this.$refs.messageList,n=a.scrollHeight-a.scrollTop-a.clientHeight<20;this.$nextTick(()=>{(n||e!==t)&&a.scrollHeight>a.clientHeight&&(a.scrollTop=a.scrollHeight),r()(()=>{this.loadDisabled=!1},0)})},deep:!0}},mounted(){const e=this.$refs.messageList;this.followerId&&this.initMessages(this.followerId),this.messages.length>0&&e.scrollHeight>e.clientHeight&&this.$nextTick(()=>{e.scrollTop=e.scrollHeight}),this.$root.$on("message-list-scroll-bottom",()=>{e&&e.scrollHeight>e.clientHeight&&(e.scrollTop=e.scrollHeight)}),this.$root.$on("text-message-loaded",this.scrollToBottom)},beforeDestroy(){this.$root.$off("message-list-scroll-bottom"),this.$root.$off("text-message-loaded",this.scrollToBottom)},data:()=>({messagesPage:1,messagesPageLimit:20,loadingMessage:!1,currentViewImage:{name:"",url:""},isViewImage:!1,isScrollToLoad:!1,loadDisabled:!1,selectedImage:"",imagesSnapshot:[]}),methods:{syncLastMessageToThread(e){const t=this.currentThread.Id;this.messageListObj[this.followerId]&&(this.$store.commit("livechat/SET_THREAD_LAST_ITEM",{id:t,item:e}),o.a.fireEvent("thread-last-item-updated",{id:t,item:e}))},async initMessages(e){if(e&&!this.messageListObj[e]){const t=this.currentThread.Id;if(!t)return;this.loadingMessage=!0,await this.$store.dispatch("livechat/loadMessage",{followerId:e,transcriptId:t,cursor:""}),this.loadingMessage=!1}},scrollToBottom(){const e=this.$refs.messageList,t=e.lastChild.clientHeight,s=e.scrollHeight-e.scrollTop-e.clientHeight<t;this.$nextTick(()=>{s&&e.scrollHeight>e.clientHeight&&(e.scrollTop=e.scrollHeight)})},getVariableHeight(e){let t=this.messageList[e];return t&&t.height},messageTypeFilter:e=>"DateInfo"===e.Type?"DateInfo":"System"!==e.SendBy&&"Lock"!==e.Type&&"Close"!==e.Type&&"MP Chat Opened"!==e.Type?"UsersMessage":"SystemMessage",viewCurrentImage(e){var t;this.selectedImage=e;const s=m()(t=this.messageList).call(t,e=>"Image"===e.Type&&e.Body&&e.Body.AttachmentId&&"-1"!==e.Body.AttachmentId);this.imagesSnapshot=f()(s).call(s,e=>({id:e.Id,attachmentId:e.Body.AttachmentId,createdTime:e.WeChatCreatedTime})),this.isViewImage=!0},closeViewImage(){this.selectedImage="",this.isViewImage=!1},removeMessage(e){const t=e.MsgId,s=this.followerId;this.$store.commit("livechat/REMOVE_SPECIAL_MESSAGE",{messageId:t,followerId:s})},async loadMessage(e){if(this.loadDisabled)return;const t=this.followerId;let s=this.$refs.messageList;if(e||s&&0===s.scrollTop)if(this.hasMoreInStore){const e=s.scrollHeight;this.loadingMessage=!0,r()(()=>{this.messagesPage++,this.loadingMessage=!1,this.$nextTick(()=>{const t=s.scrollHeight;s.scrollTop=t-e})},500)}else if(this.messageListObj[t]&&this.messageListObj[t].NextTranscriptId&&!this.isScrollToLoad&&!this.loadingMessage){this.isScrollToLoad=!0;const e=s.scrollHeight;this.loadingMessage=!0,await this.$store.dispatch("livechat/loadMessage",{followerId:t,transcriptId:this.messageListObj[t].NextTranscriptId,cursor:this.messageListObj[t].Cursor||""}),this.isScrollToLoad=!1,this.loadingMessage=!1,this.hasMoreInStore&&this.messagesPage++,this.$nextTick(()=>{if(s){const t=s.scrollHeight;s.scrollTop=t-e}})}},copyMsg(e){e.preventDefault();const t=e.clipboardData||window.clipboardData,s=window.getSelection().getRangeAt(0),i=document.createElement("DIV"),a=s.cloneContents();i.appendChild(a);let n=[];console.dir(i);const o=e=>{const t=[],s=e=>{if(e.childNodes.length>=1)for(const i of e.childNodes)3===i.nodeType&&" "!==i.nodeValue?t.push(i.nodeValue):1===i.nodeType&&("BR"===i.nodeName&&t.push("\n"),s(i))};return s(e),t.join("").split("\n")};if(1===i.childNodes[0].nodeType&&(i.querySelector(".copy-use-li")||i.querySelector(".only-copy-name")||i.querySelector(".only-copy-timedetail")||i.querySelector(".only-copy-info"))){let e=i.querySelector(".copy-use-li");const t=e=>{let[t,s,i,a]=[e.querySelector(".only-copy-name"),e.querySelector(".only-copy-timedetail"),e.querySelector(".only-copy-info"),e.querySelector(".only-copy-content")];const l=t?t.textContent.replace(/(^\s*)|(\s*$)/g,""):"",r=s?s.textContent.replace(/(^\s*)|(\s*$)/g,""):"",c=i?i.textContent:"",d=a?o(a).join("\n"):"";var h,u,p;l||r||c?n.push(b()(h=b()(u=b()(p="".concat(l," ")).call(p,r," ")).call(u,c,"\n")).call(h,d,"\n")):n.push("".concat(d,"\n"))};for(;e;)t(e),e.parentNode.removeChild(e),e=i.querySelector(".copy-use-li");t(i)}else{const e=o(i);n=[...e]}const l=n.join("\n");t.setData("text",l)},getCaseCheckBoxVisible(e){return this.canNewCase&&!e.Error}}},Z=(s("a1Vi"),s("Qh4b")),X=Object(O.a)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-list-page"},[s("ul",{ref:"messageList",staticClass:"message-list-wrapper slds-scrollable_y",on:{scroll:function(t){return e.loadMessage()},copy:function(t){return e.copyMsg(t)}}},[e.currentThread.Id&&(e.loadingMessage||e.messageListObj[e.followerId]&&(0!==e.messageListObj[e.followerId].Messages.length||e.messageListObj[e.followerId].NextTranscriptId))?e._e():s("li",{staticClass:"no-message-tip"},[e._v(e._s(e.$t("noMessageTip")))]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.hasMoreInStore||e.messageListObj[e.followerId]&&e.messageListObj[e.followerId].NextTranscriptId,expression:"hasMoreInStore || (messageListObj[followerId] && messageListObj[followerId].NextTranscriptId)"}],staticClass:"load-more-area"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!e.loadingMessage,expression:"!loadingMessage"}],staticClass:"scroll-message",on:{click:function(t){return e.loadMessage(!0)}}},[e._v(e._s(e.$t("loadOldMessage")))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingMessage,expression:"loadingMessage"}],staticClass:"scroll-message"},[e._v(e._s(e.$t("retrivingHistory")))])]),e._v(" "),e._l(e.messageList,(function(t,i){return s("li",{key:t.MsgId,staticClass:"slds-media slds-comment slds-hint-parent copy-use-li"},[s(e.messageTypeFilter(t),{tag:"component",attrs:{"current-user":e.currentUser,index:i,senders:e.senders,"current-thread":e.currentThread,"time-zone-sid-key":e.currentUser.TimeZoneSidKey,"show-case-checkbox":e.getCaseCheckBoxVisible(t),"checked-messages":e.currentCheckedMessages,message:t},on:{"update:checkedMessages":function(t){e.currentCheckedMessages=t},"update:checked-messages":function(t){e.currentCheckedMessages=t},"view-current-image":e.viewCurrentImage,"remove-message":function(t){return e.removeMessage(t)},"update:message":function(e){t=e}}})],1)}))],2),e._v(" "),e.isViewImage?s("image-viewer",{ref:"ImageViewer",attrs:{images:e.imageMessages,selected:e.selectedImage},on:{close:e.closeViewImage}}):e._e()],1)}),[],!1,null,"2ff32734",null);"function"==typeof Z.default&&Object(Z.default)(X);var Q=X.exports,Y=s("dUVM"),q=s.n(Y),J=s("M2K/"),K=s.n(J),ee=s("i+Lc"),te=s.n(ee),se=s("3O4B"),ie=s.n(se),ae=s("oG9Y"),ne=s.n(ae),oe=s("kZKX"),le=s.n(oe),re=s("jfyV"),ce=s("tNI8"),de=s.n(ce),he={components:{Popovers:re.a},mounted(){this.initPopoverStyle(),window.addEventListener("resize",this.initPopoverStyle)},data:()=>({isVisible:!1,emojis:de.a,popoverStyle:""}),methods:{initPopoverStyle(){var e,t;const s=this.$el.offsetHeight+14,i=this.$el.offsetWidth/2-25,a=document.body.offsetWidth;let n="";a<560&&(n="".concat(.9*a,"px")),this.popoverStyle=b()(e=b()(t="position: absolute; left: ".concat(i,"px; bottom: ")).call(t,s,"px; display: none;")).call(e,n?"width:"+n:"",";")},close(){this.isVisible=!1,this.$emit("closed")},onActivatorClick(){this.isVisible=!0},onEmojiClick(e){this.$emit("choose",e),this.close()}},beforeDestroy(){window.removeEventListener("resize",this.initPopoverStyle)}},ue=(s("s2Bn"),Object(O.a)(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"emoji-chooser",on:{click:e.onActivatorClick}},[i("span",{on:{click:function(e){e.stopPropagation()}}},[i("popovers",{staticClass:"emoji-popover",attrs:{"is-viewed":e.isVisible,direction:"bottom-left","position-style":e.popoverStyle},on:{close:e.close}},[i("ul",{staticClass:"slds-grid slds-wrap emoji-list"},e._l(e.emojis,(function(t,a){return i("li",{key:a,on:{click:function(t){return t.stopPropagation(),e.onEmojiClick(a)},mousedown:function(e){e.preventDefault()}}},[i("img",{class:["charket-emotions","charket-emotions-"+t],attrs:{src:s("mpUe")}})])})),0)])],1),e._v(" "),e._t("activator")],2)}),[],!1,null,"8fc6be28",null).exports),pe=s("+Bun"),me=s.n(pe),ge=s("jkSJ"),fe=s("u7w5"),ve=s("w2Vt"),_e=s("WuRX"),Ce=s("CjVY"),be=s.n(Ce),we=s("qGaL"),ye={props:{type:{type:String,default:"livechat"}},computed:a()({},Object(j.c)({followers:"livechat/followers",currentThread:"livechat/currentThread",replies:"livechat/quickReplies"}),{wechatAccountId(){return this.currentThread?this.currentThread.WeChatAccount.Id:""},orderBy(){return"All"===this.quickReplyType?this.allRepliesOrder:this.myRepliesOrder},quickReplies(){return this.showSearch?this.searchedQuickReplies:this.wechatAccountId&&this.replies[this.wechatAccountId]&&this.replies[this.wechatAccountId][this.orderBy]?"All"===this.quickReplyType?this.replies[this.wechatAccountId][this.orderBy].All||[]:this.replies[this.wechatAccountId][this.orderBy].Private||[]:[]},showQuickReplyList(){return this.quickReplies&&this.quickReplies.length>0&&!this.isLoadingQuickReplies},showNoRecordsTip(){return this.quickReplies&&0===this.quickReplies.length&&!this.isLoadingQuickReplies}}),components:{LoadingSpinner:ve.a,NewQuickReply:_e.a},watch:{async searchKey(e){Object(we.getSizeOfUTF8Text)(K()(e).call(e))>=2?await this.getQuickReplies():this.filterQuickReplies(e)},$route(e,t){e.params.followerId!==t.params.followerId&&this.$emit("hide-quick-reply")}},data(){return{needToShowMoreMsgId:null,currentFollower:{},searchedQuickReplies:[],quickReplyType:"All",isAllRepliesShow:!0,isLoadingQuickReplies:!1,loadingStyle:"position: relative;margin: auto;z-index: 0;height: 100%",quickReplyPopup:{quickReplyTitle:this.$tc("quickReplyTitle",1),showNewQuickReply:!1,currentQuickReply:{}},deleteReplyId:"",searchKey:"",myRepliesOrder:"Most Times Used",allRepliesOrder:"Most Times Used",sortWays:[{label:this.$t("orderOptionLabel1"),value:"Most Times Used"},{label:this.$t("orderOptionLabel2"),value:"Fewest Times Used"},{label:this.$t("orderOptionLabel3"),value:"Last Created Date"},{label:this.$t("orderOptionLabel4"),value:"Oldest Created Date"}],showSortBox:!1,showSearch:!1,quickSearchTimer:null,debounceToShow:!0,delayToShow:!1,defaultMiniImg:s("1amv")}},methods:{showMore(e){this.needToShowMoreMsgId=e},showLess(e){this.needToShowMoreMsgId=null},quickReplyFilter:e=>be.a.decorateText(e),switchTab(e){"Private"===e?(this.isAllRepliesShow=!1,this.quickReplyType="Private",this.replies[this.wechatAccountId][this.orderBy].Private||this.getQuickReplies()):"All"===e&&(this.isAllRepliesShow=!0,this.quickReplyType="All")},chooseQuickReply(e){this.$emit("select",e.TextBody__c.replace(/&lt;/g,"<").replace(/\starget="_blank"/g,""),e.Id)},async getQuickReplies(e){this.isLoadingQuickReplies=!0,await this.fetchQuickReplies(e&&"boolean"==typeof e),this.isLoadingQuickReplies=!1},async fetchQuickReplies(e){this.clearSearchTimer();const t=this.wechatAccountId,s=this.showSearch?"All":this.quickReplyType,i=this.searchKey,a=this.showSearch?"Most Times Used":this.orderBy;await this.$try(async()=>{const n=await ge.h.getQuickReplyMessages({type:s,wechatAccountId:t,searchKey:e?"":i,orderBy:a,numToReturn:200});n&&(this.showSearch?this.searchedQuickReplies=n:this.$store.dispatch("livechat/updateQuickReplies",{replies:n,type:s,id:t,updateWay:"refresh",orderBy:a}))})},async refreshReplies(){this.getQuickReplies()},filterQuickReplies(e){this.clearSearchTimer();let t=[];this.wechatAccountId&&(t=this.replies[this.wechatAccountId]["Most Times Used"].All||[]),this.quickSearchTimer=r()(()=>{this.searchedQuickReplies=[];for(const a of t){var s,i;me()(s=a.Name.toLowerCase()).call(s,e.toLowerCase())>-1?this.searchedQuickReplies.push(a):me()(i=a.TextBody__c.toLowerCase()).call(i,e.toLowerCase())>-1&&this.searchedQuickReplies.push(a)}this.isLoadingQuickReplies=!1},500),""===e&&(this.searchedQuickReplies=t)},closeNewQuickReplyPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.quickReplyPopup.currentQuickReply={},this.quickReplyPopup.showNewQuickReply=!1,"create"===e?(t&&this.$store.dispatch("livechat/updateQuickReplies",{id:this.wechatAccountId,updateWay:"create",reply:t}),this.$root.$emit("open-toast-notification",{content:this.$t("saveNotifyContent"),type:"success"})):"edit"===e&&(this.$store.dispatch("livechat/updateQuickReplies",{id:this.wechatAccountId,updateWay:"edit",reply:t}),this.$root.$emit("open-toast-notification",{content:this.$t("changeNotifyContent"),type:"success"}))},openNewQuickReplyPopup(){this.quickReplyPopup.quickReplyTitle=this.$tc("quickReplyTitle",1),this.quickReplyPopup.showNewQuickReply=!0},openEditReplyPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.quickReplyPopup.quickReplyTitle=this.$tc("quickReplyTitle",2),this.quickReplyPopup.showNewQuickReply=!0,this.quickReplyPopup.currentQuickReply=e},openDeleteReplyPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.$confirm({title:this.$t("delModalHeader"),content:this.$t("delModalContent"),ok:this.$t("global.deleteBtn")});t.$on("ok",async()=>{try{Object(fe.e)(this.deleteReplyId).then(e=>{e.ok?(t.close(),this.$store.dispatch("livechat/updateQuickReplies",{id:this.wechatAccountId,updateWay:"delete",reply:{Id:this.deleteReplyId}}),this.$root.$emit("open-toast-notification",{content:this.$t("delNotifyContent"),type:"success"})):(t.resume(),this.$root.$emit("open-toast-notification",{content:e.error,type:"error"}))})}catch(e){this.$handleError(e),t.resume()}}),this.deleteReplyId=e.Id},deleteQuickReply(){},clearSearchKey(){this.searchKey="",this.$refs.SearchInput.reset()},cancelSearch(){this.debounceToShow=!1,this.showSearch=!1,r()(()=>{this.searchKey="",this.delayToShow=!1,this.debounceToShow=!0},200),this.clearSearchKey()},showReplySortBox(){if(this.showSortBox=!this.showSortBox,this.showSortBox){const e=()=>{this.showSortBox=!1,window.removeEventListener("click",e)};window.addEventListener("click",e)}},sortQuickReplies(e){"All"===this.quickReplyType?this.allRepliesOrder=e:this.myRepliesOrder=e,this.showSortBox=!1,this.getQuickReplies()},showSearchInput(){this.showSearch=!0,this.isAllRepliesShow=!0,this.quickReplyType="All",this.debounceToShow=!1,r()(()=>{this.debounceToShow=!0,this.delayToShow=!0},200),this.searchedQuickReplies=this.replies[this.wechatAccountId]["Most Times Used"].All},async onSearchInputFocus(){""!==this.searchKey&&(this.isLoadingQuickReplies=!0,await this.fetchQuickReplies(!0),this.filterQuickReplies(this.searchKey))},clearSearchTimer(){this.quickSearchTimer&&clearTimeout(this.quickSearchTimer)}},mounted(){this.replies[this.wechatAccountId]||this.getQuickReplies()}},Te=(s("5Hwo"),s("2I5Q")),Le=Object(O.a)(ye,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical quick-reply"},[s("div",{staticClass:"quick-reply-header"},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center quick-reply-title",class:{"quick-reply-title-search slds-border_bottom":e.showSearch}},[s("transition",{attrs:{name:"fade-title"}},[e.showSearch||e.delayToShow?e._e():s("h2",{staticClass:"slds-text-heading_large title"},[e._v(e._s(e.$t("qrTitle")))])]),e._v(" "),e.showSearch||e.delayToShow?e._e():s("div",{staticClass:"slds-grid slds-grid_align-spread replay-action"},[s("span",{staticClass:"search-btn",on:{click:function(t){return e.showSearchInput()}}},[s("icon",{attrs:{name:"search",category:"utility","class-name":"slds-button__icon slds-button__icon_large","fill-color":"#706e6b",width:"18px",height:"18px"}})],1)]),e._v(" "),s("transition",{attrs:{name:"spread"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.delayToShow&&e.showSearch,expression:"delayToShow && showSearch"}],staticClass:"quick-reply-search slds-grid slds-grid_vertical-align-center slds-grid_align-spread"},[s("search-input",{ref:"SearchInput",staticClass:"search-input",attrs:{placeholder:e.$t("searchLabel")},on:{search:e.getQuickReplies,clear:e.clearSearchKey,focus:e.onSearchInputFocus},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),s("span",{staticClass:"cancel-button",on:{click:e.cancelSearch}},[e._v(e._s(e.$t("global.cancelBtn")))])],1)])],1),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.showSearch||e.delayToShow?e._e():s("div",{staticClass:"slds-var-p-left_large slds-var-p-right_large slds-border_bottom"},[s("ul",{staticClass:"slds-tabs_default__nav tab-switcher-container",attrs:{role:"tablist"}},[s("li",{staticClass:"slds-tabs_default__item slds-text-heading_label tab-item",class:{"slds-active":e.isAllRepliesShow},attrs:{title:e.$tc("allReplyLabel",2),role:"presentation"}},[s("span",{staticClass:"slds-tabs_default__link",on:{click:function(t){return e.switchTab("All")}}},[e._v("\n              "+e._s(e.$tc("allReplyLabel",1))+"\n            ")])]),e._v(" "),s("li",{staticClass:"slds-tabs_default__item slds-text-heading_label tab-item",class:{"slds-active":!e.isAllRepliesShow},attrs:{title:e.$tc("myReplyLabel",2),role:"presentation"}},[s("span",{staticClass:"slds-tabs_default__link",on:{click:function(t){return e.switchTab("Private")}}},[e._v("\n              "+e._s(e.$tc("myReplyLabel",1))+"\n            ")])])])])])],1),e._v(" "),s("div",{staticClass:"quick-reply-list-panel",class:{"reply-only-search":e.delayToShow}},[s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-border_bottom quick-reply-action-bar"},[e.showSearch||e.delayToShow?e._e():s("div",{staticClass:"quick-reply-amount slds-grid slds-grid_vertical-align-center"},[e.quickReplies.length>0?s("p",[s("span",[e._v(e._s(e._f("addSeparators")(e.quickReplies.length)))]),e._v(" "),e.quickReplies.length>1?s("span",[e._v(e._s(e.$tc("global.itemLabel",2)))]):s("span",[e._v(e._s(e.$tc("global.itemLabel",1)))])]):e._e()]),e._v(" "),e.showSearch||e.delayToShow?e._e():s("div",{staticClass:"quick-reply-operations"},["Private"===e.quickReplyType?s("button",{staticClass:"new-icon slds-button slds-button_icon-border",on:{click:function(t){return e.openNewQuickReplyPopup()}}},[s("icon",{attrs:{name:"add",category:"utility","class-name":"slds-button__icon slds-button__icon_large","fill-color":"#706e6b",width:"15px",height:"15px"}})],1):e._e(),e._v(" "),s("button",{staticClass:"new-icon slds-button slds-button_icon-border",on:{click:function(t){return t.stopPropagation(),e.showReplySortBox()}}},[s("icon",{attrs:{name:"sort",category:"utility","class-name":"slds-button__icon slds-button__icon_large","fill-color":"#706e6b",width:"15px",height:"15px"}})],1),e._v(" "),s("button",{staticClass:"refresh-icon slds-button slds-button_icon-border",on:{click:function(t){return e.refreshReplies()}}},[s("icon",{attrs:{name:"refresh",category:"utility","class-name":"slds-button__icon slds-button__icon_large","fill-color":"#706e6b",width:"15px",height:"15px"}})],1),e._v(" "),e.showSortBox?s("div",{staticClass:"slds-listbox slds-listbox_vertical slds-dropdown reply-sort-box",class:{"replay-sort-my":"All"!==e.quickReplyType}},e._l(e.sortWays,(function(t){return s("div",{staticClass:"slds-listbox__item check-sort-item",on:{click:function(s){return e.sortQuickReplies(t.value)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.orderBy===t.value,expression:"orderBy === sortWay.value"}],staticClass:"check-icon"},[s("icon",{attrs:{name:"check","fill-color":"#0070d2",width:"15px",height:"15px"}})],1),e._v(" "),s("span",[e._v(e._s(t.label))])])})),0):e._e()])])]),e._v(" "),e.quickReplyPopup.showNewQuickReply?s("new-quick-reply",{attrs:{title:e.quickReplyPopup.quickReplyTitle,reply:e.quickReplyPopup.currentQuickReply,"quick-reply-type":e.quickReplyType},on:{"close-quick-reply":e.closeNewQuickReplyPopup}}):e._e(),e._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"quick-reply-list-wrapper"},[e.showQuickReplyList?s("ul",{directives:[{name:"show",rawName:"v-show",value:e.debounceToShow,expression:"debounceToShow"}],staticClass:"slds-scrollable_y quick-reply-list",class:{console:"console"===e.type}},e._l(e.quickReplies,(function(t){return s("li",{key:t.Id,staticClass:"slds-comment",on:{click:function(s){return e.chooseQuickReply(t)}}},[s("div",{staticClass:"quick-reply-message"},[s("div",{staticClass:"slds-grid slds-grid_align-spread title"},[s("p",{staticClass:"text-body"},[e._v(e._s(t.Name))]),e._v(" "),"Private"===e.quickReplyType?s("a",{staticClass:"delete-reply-link slds-col_bump-left",on:{click:function(s){return s.stopPropagation(),e.openDeleteReplyPopup(t)}}},[s("icon",{attrs:{name:"deleteReplyIcon","text-color":"default","class-name":"edit-icon",width:"14px",height:"14px","charket-icon":""}})],1):e._e(),e._v(" "),"Private"===e.quickReplyType?s("a",{staticClass:"edit-reply-field-link",on:{click:function(s){return s.stopPropagation(),e.openEditReplyPopup(t)}}},[s("icon",{attrs:{name:"editReplyIcon","text-color":"default","class-name":"edit-icon",width:"14px",height:"14px","charket-icon":""}})],1):e._e()]),e._v(" "),s("div",{staticClass:"content-wrapper",class:{"content-less-wrapper":e.needToShowMoreMsgId!==t.Id}},[s("div",{staticClass:"content text-body"},[s("span",{staticClass:"text-wrapper",domProps:{innerHTML:e._s(e.quickReplyFilter(t.TextBody__c))}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.needToShowMoreMsgId!==t.Id,expression:"needToShowMoreMsgId !== message.Id"}],staticClass:"show-more-icon",on:{click:function(s){return s.stopPropagation(),e.showMore(t.Id)}}},[s("icon",{attrs:{name:"chevrondown",width:"14px",height:"14px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.needToShowMoreMsgId===t.Id,expression:"needToShowMoreMsgId === message.Id"}],staticClass:"show-less-icon",on:{click:function(s){return s.stopPropagation(),e.showLess(t.Id)}}},[s("icon",{attrs:{name:"chevronup",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])])])})),0):e._e(),e._v(" "),e.showNoRecordsTip?s("div",{staticClass:"no-record-div"},[s("span",[e._v(e._s(e.$t("noRecordLabel")))])]):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoadingQuickReplies,size:"small","custom-style":e.loadingStyle}})],1)])],1)])}),[],!1,null,"09e91e65",null);"function"==typeof Te.default&&Object(Te.default)(Le);var Ie={components:{QuickReply:Le.exports,Popovers:re.a},data:()=>({isVisible:!1,popoverStyle:""}),mounted(){this.initPopoverStyle()},methods:{initPopoverStyle(){var e;const t=this.$el.offsetHeight+14,s=this.$el.offsetWidth/2-25;this.popoverStyle=b()(e="position: absolute;left: ".concat(s,"px;bottom: ")).call(e,t,"px;width: 300px; height: 60vh;min-height: 300px;display: none;")},open(){this.isVisible=!0},close(){this.$emit("close"),this.isVisible=!1},onPopoverClosed(){this.close()},onSelect(e,t){this.$emit("choose",{content:e,id:t}),this.close()}}},ke=(s("Iio1"),Object(O.a)(Ie,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"quick-reply-chooser",on:{click:this.open}},[t("div",{on:{click:function(e){e.stopPropagation()}}},[t("popovers",{attrs:{"is-viewed":this.isVisible,direction:"bottom-left","position-style":this.popoverStyle},on:{close:this.onPopoverClosed}},[t("div",{staticClass:"quick-replies-wrapper"},[t("quick-reply",{on:{select:this.onSelect}})],1)])],1),this._v(" "),this._t("activator")],2)}),[],!1,null,"7fd73d72",null).exports),Se=s("iP86"),Me=s.n(Se),Ae=s("fFyZ"),xe=s("DXHa"),Ne=s("oAj7"),Ee=s("gwH6"),De=s("tpyg"),Pe=s("9PLC"),Re=s("M9dV");const Oe=new le.a([["Image","global.popupHeader.selectImage"],["Skill","global.popupHeader.selectSkill"],["Video","global.popupHeader.selectVideo"],["Voice Message","global.popupHeader.selectVoiceClip"],["Coupon","global.popupHeader.selectCoupon"],["Notification Template","global.popupHeader.selectNotificationTemplateLabel"],["Structured Message","global.popupHeader.selectStructuredMessage"],["Mini Program Page","global.popupHeader.selectMiniProgram"]]);var Be=class{constructor(e){this.componentInstance=e}createLayout(e){const t={title:this.componentInstance.$t(Oe.get(e)),primaryButton:this.componentInstance.primaryButton,secondaryButton:this.componentInstance.secondaryButton,searchPlaceholder:this.componentInstance.$t("global.searchPlaceholder"),noRecords:this.componentInstance.$t("global.noRecords"),hasAction:this.componentInstance.hasAction};switch(e){case"Image":case"Voice Message":case"Video":t.uploader=this.createUploaderLayout(e);break;case"Structured Message":t.editButton=this.componentInstance.$t("global.editBtn"),t.openLabel=this.componentInstance.$t("global.openLabel"),t.syncedTooltip=this.componentInstance.$t("global.syncedWithWeChatPlatform"),t.createLabel=this.componentInstance.$t("newStructuredMessage");break;case"Coupon":t.editButton=this.componentInstance.$t("global.editBtn"),t.headers=[{text:this.componentInstance.$t("type"),value:"type"},{text:this.componentInstance.$t("name"),value:"name"},{text:this.componentInstance.$t("expirationDate"),value:"expirationDate"},{text:this.componentInstance.$t("quantity"),value:"quantity"},{text:this.componentInstance.$t("status"),value:"status"}];break;case"Notification Template":t.headers=[{text:this.componentInstance.$t("titleLabel"),value:"title"},{text:this.componentInstance.$t("keywordLabel"),value:"keywordNames"},{text:this.componentInstance.$t("urlLabel"),value:"notificationURL"},{text:this.componentInstance.$t("noteLabel"),value:"note"},{text:this.componentInstance.$t("createdLabel"),value:"createdBy"}];break;case"Skill":t.headers=[{text:this.componentInstance.$t("nameLabel"),value:"name"},{text:this.componentInstance.$t("knowledgeSourceLabel"),value:"knowledgeSource"},{text:this.componentInstance.$t("relatedToLabel"),value:"relatedTo"},{text:this.componentInstance.$t("descriptionLabel"),value:"description"},{text:this.componentInstance.$t("validForLabel"),value:"validFor"},{text:this.componentInstance.$t("displayInLiveChatLabel"),value:"isDisplayInLiveChat"},{text:this.componentInstance.$t("internalLabel"),value:"isInternal"},{text:this.componentInstance.$t("lastModifiedByLabel"),value:"lastModifiedBy"}]}return t}createUploaderLayout(e){return{title:new le.a([["Image",this.componentInstance.$t("imageTitle")],["Voice Message",this.componentInstance.$t("voiceTitle")],["Video",this.componentInstance.$t("videoTitle")]]).get(e),label:this.componentInstance.$t("titleLabel"),descriptionLabel:this.componentInstance.$t("descriptionLabel"),secondaryButton:this.componentInstance.$t("cancelBtn"),sizeLimitError:this.componentInstance.$t("tooLarge"),upload:this.componentInstance.$t("uploadBtn"),uploading:this.componentInstance.$t("uploadingBtn")}}createDataProvider(e){const t={wechatAccount:this.componentInstance.wechatAccount,structuredType:this.componentInstance.structuredType};switch(e){case"Skill":t.formatter=e=>{var t;e.compoundRelatedTo={id:e.relatedTo?e.relatedTo.id:"",name:e.relatedTo?e.relatedTo.name:""},"Survey"===e.knowledgeSource&&e.relatedTo&&e.relatedTo.id?(e.compoundRelatedTo.href="javascript: void(0);",e.compoundRelatedTo.onClick=e=>{this.componentInstance.$router.push({name:"survey-editor",params:{surveyId:e.relatedTo.id}})}):e.relatedTo&&e.relatedTo.id&&(e.compoundRelatedTo.href="/".concat(e.relatedTo.id));const s=Object(z.e)(e.lastModifiedDate,this.componentInstance.$user.TimeZoneSidKey);return e.compoundLastModifiedBy=e.lastModifiedBy.name?b()(t="".concat(e.lastModifiedBy.name,", ")).call(t,s):s,e};break;case"Structured Message":t.formatter=e=>(e.localizedWeChatLastModifiedTime=Object(z.e)(e.weChatLastModifiedTime,this.componentInstance.$user.TimeZoneSidKey),e);break;case"Coupon":const e=this.componentInstance.$t("to");t.formatter=t=>{var s,i;const a=Object(z.e)(t.beginDate,this.componentInstance.$user.TimeZoneSidKey),n=Object(z.e)(t.endDate,this.componentInstance.$user.TimeZoneSidKey);return t.expirationDate=b()(s=b()(i="".concat(a," ")).call(i,e," ")).call(s,n),t};break;case"Notification Template":t.formatter=e=>{var t;return e.localizedCreatedDate=Object(z.e)(e.createdDate,this.componentInstance.$user.TimeZoneSidKey),e.createdBy=b()(t="".concat(e.createdByUser,", ")).call(t,e.localizedCreatedDate),e};break;case"Voice Message":case"Video":t.formatter=e=>(e.localizedUpdateDateTime=Object(z.e)(e.updateDateTime,this.componentInstance.$user.TimeZoneSidKey),e)}return Re.a.create(e,t)}};const $e=new le.a([["Image",Ae.MediaMessageChooser],["Voice Message",Ae.MediaMessageChooser],["Video",Ae.MediaMessageChooser],["Structured Message",xe.StructuredMessageChooser],["Coupon",Ne.CouponChooser],["Notification Template",Ee.NotificationTemplateMessageChooser],["Mini Program Page",De.MiniProgramPageChooser],["Skill",Pe.SkillChooser]]),Fe=new le.a([["Image",30],["Voice Message",30],["Video",30],["Structured Message",10],["Coupon",50],["Notification Template",50],["Skill",50],["Mini Program Page",10]]);var Ue={components:{MediaMessageChooser:Ae.MediaMessageChooser,StructuredMessageChooser:xe.StructuredMessageChooser,CouponChooser:Ne.CouponChooser,NotificationTemplateMessageChooser:Ee.NotificationTemplateMessageChooser,MiniProgramPageChooser:De.MiniProgramPageChooser,SkillChooser:Pe.SkillChooser},props:{type:{type:String,required:!0},wechatAccount:{type:Object,default:()=>({id:"",name:"",type:""})},structuredType:{type:String,default:"mpnews"},primaryButton:{type:String,default(){return this.$t("global.confirmBtn")}},secondaryButton:{type:String,default(){return this.$t("global.cancelBtn")}},hasAction:{type:Boolean,default:!1}},data:()=>({helperInstance:null,dataProvider:null,items:[],errorMessage:"",offset:0,hasMore:!0,layout:{},uploadMethod:null}),computed:{helper(){return this.helperInstance||(this.helperInstance=new Be(this)),this.helperInstance},infiniteDisabled(){return!!this.items&&!this.hasMore}},render(e){var t;const s=this.createChooserProps(this.type),i=$e.get(this.type),a=[e("span",{on:{click:this.onActivatorClick},slot:"activator"},[this.$slots.activator])];return q()(t=["Notification Template","Structured Message"]).call(t,this.type)&&this.$slots.action&&a.push(e("span",{slot:"create-button"},[this.$slots.action])),e(i,{props:s,on:{infinite:this.onInfinite,search:this.onSearch,choose:this.onChooserChoose}},a)},methods:{createChooserProps(e){const t={items:this.items,layout:this.helper.createLayout(e),infiniteDisabled:this.infiniteDisabled,errorMessage:this.errorMessage};switch(e){case"Image":case"Voice Message":case"Video":t.type=e,t.uploadMethod=this.uploadMethod}return t},onSearch(e){this.items=void 0,this.offset=0,this.loadData(e)},async onInfinite(){this.isLazyloading||(this.isLazyloading=!0,await this.loadData(),this.isLazyloading=!1)},onActivatorClick(){this.items=void 0,this.offset=0,this.dataProvider=this.helper.createDataProvider(this.type);const e=["Image","Voice Message","Video"];var t;q()(e).call(e,this.type)?this.uploadMethod=Me()(t=this.dataProvider.create).call(t,this.dataProvider):this.uploadMethod=null;this.loadData()},async loadData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.errorMessage="",this.dataProvider.get)try{const t=await this.dataProvider.get({keyword:e,limit:Fe.get(this.type)+1,offset:this.offset});t.length===Fe.get(this.type)+1?(t.pop(),this.hasMore=!0):this.hasMore=!1,this.items=this.items||[],this.items.push(...t),this.offset=this.items.length}catch(e){this.errorMessage=e.message}},onChooserChoose(e){this.$emit("choose",e)}}},Ve=s("X9i0"),je=s("SiW9"),ze=s("ua36"),We=s("oTfw"),He=s("dfdM"),Ge=Object(O.a)(Ue,void 0,void 0,!1,null,"16d5908c",null);"function"==typeof Ve.default&&Object(Ve.default)(Ge),"function"==typeof je.default&&Object(je.default)(Ge),"function"==typeof ze.default&&Object(ze.default)(Ge),"function"==typeof We.default&&Object(We.default)(Ge),"function"==typeof He.default&&Object(He.default)(Ge);var Ze=Ge.exports;const Xe=new le.a([["Voice Message",Ze],["Video",Ze],["Coupon",Ze],["Notification Template",Ze],["Skill",Ze]]),Qe=new le.a([["Voice Message","unmuted"],["Video","video"],["Coupon","coupon"],["Notification Template","notify"],["Skill","skillResponse"]]),Ye=new le.a([["Voice Message","voiceTitle"],["Video","videoTitle"],["Coupon","couponTitle"],["Notification Template","notificationTitle"],["Skill","skillsLabel"]]);var qe={components:{MessageChooser:Ze},props:{choosers:{type:Array,default:()=>[]},wechatAccount:{type:Object,default:()=>({id:"",name:"",type:""})}},data:()=>({isChooserBoxVisible:!1,isChooserBoxMini:!1,boxStyle:{}}),render(e){return e("div",{staticClass:"toolbox"},[this.createActivator(e),this.createChooserList(e),this.createToolboxBg(e)])},methods:{setToolboxStyle(){const e=this.$refs.chooserBox.offsetWidth,t=this.$el.offsetWidth,s=this.$el.offsetHeight+12,i=-(e-t)/2;this.boxStyle={left:"".concat(i,"px"),bottom:"".concat(s,"px")}},createToolboxBg(e){return e("div",{staticClass:"toolbox-bg",class:{disapear:!this.isChooserBoxVisible||this.isChooserBoxMini},on:{click:this.onToolboxBgClick}})},createChooserList(e){var t;const s=f()(t=this.choosers).call(t,t=>e("li",{staticClass:"toolbox-list-item"},[this.createChooserListItem(e,t)]));return e("ul",{staticClass:"slds-popover slds-nubbin_bottom slds-popover_small toolbox-list",class:{disapear:!this.isChooserBoxVisible,mini:this.isChooserBoxMini},style:this.boxStyle,ref:"chooserBox"},s)},createChooserListItem(e,t){const s=Xe.get(t);return s||console.error("unsupported type '".concat(t," in toolbox'")),e(s,this.getChooserConfig(t),[e("span",{staticClass:"slds-grid",on:{click:this.onChooserItemClick},slot:"activator"},[this.createChooserIcon(e,t),this.createChooserText(e,t)])])},createChooserIcon(e,t){const s={name:Qe.get(t),charketIcon:!0,width:"20px",height:"20px"};switch(t){case"Coupon":s.height="15px";break;case"Notification Template":case"Skill":s.height="18px"}return e("icon",{props:s,staticClass:"type-icon"})},createChooserText(e,t){return e("span",{staticClass:"chooser-item-text"},this.$t(Ye.get(t)))},getChooserConfig(e){const t={type:e,wechatAccount:this.wechatAccount,primaryButton:this.$t("send"),hasAction:!0},s={choose:t=>{this.onChooserChoosed(e,t)}};return"Notification Template"===e&&(t.primaryButton=this.$t("next")),{props:t,on:s}},createActivator(e){return this.$slots.activator?e("span",{on:{click:this.onActivatorClick}},[this.$slots.activator]):""},onChooserItemClick(){this.isChooserBoxMini=!0},onActivatorClick(){this.isChooserBoxVisible=!0,this.isChooserBoxMini=!1,this.$nextTick(()=>{this.setToolboxStyle()})},onToolboxBgClick(){this.isChooserBoxVisible=!1},onChooserChoosed(e,t){this.$emit("choose",{type:e,payload:t})}}},Je=(s("+YkF"),s("sN31")),Ke=Object(O.a)(qe,void 0,void 0,!1,null,"6ceed634",null);"function"==typeof Je.default&&Object(Je.default)(Ke);var et=Ke.exports,tt=s("20nU");const st=new le.a([["Emoji",ue],["Quick Reply",ke],["Image",Ze],["Voice Message",Ze],["Video",Ze],["Structured Message",Ze],["Coupon",Ze],["Notification Template",Ze],["Skill",Ze],["Mini Program Page",Ze]]),it=new le.a([["Emoji","emoji"],["Quick Reply","quickReply"],["Image","image"],["Voice Message","unmuted"],["Video","video"],["Structured Message","StructuredMessage"],["Coupon","coupon"],["Notification Template","notify"],["Skill","skillResponse"],["Mini Program Page","miniProgram"],["Upload","multiMsg"],["Action","threedots"]]),at=new le.a([["Emoji","emojiTitle"],["Quick Reply","quickReplyTitle"],["Image","imageTitle"],["Voice Message","voiceTitle"],["Video","videoTitle"],["Structured Message","strucMsgTitle"],["Coupon","couponTitle"],["Notification Template","notificationTitle"],["Skill","skillsLabel"],["Mini Program Page","miniProgramLabelTitle"]]),nt=["Voice Message","Video","Coupon","Notification Template","Skill"],ot=new le.a([["Emoji","emoji"],["Quick Reply","quickReply"],["Image","image"],["Voice Message","voice"],["Video","video"],["Structured Message","strucutured"],["Coupon","coupon"],["Notification Template","notification"],["Skill","skill"],["Mini Program Page","miniProgram"]]);var lt={components:{EmojiChooser:ue,QuickReplyChooser:ke,MessageChooser:Ze,Toolbox:et},props:{wechatAccount:{type:Object,default:()=>({id:"",name:"",type:""})},choosers:{type:Array,default:()=>[]},hasUpload:{type:Boolean,default:!1},structuredType:{type:String,default:"mpnews"}},data:()=>({iconActive:{emoji:!1,quickReply:!1},size:"normal",toolbarMinWidth:0}),render(e){var t,s;const i=f()(t=m()(s=this.choosers).call(s,e=>"normal"===this.size||("small"===this.size?!q()(nt).call(nt,e):void 0))).call(t,t=>{const s={};return"Emoji"===t&&(s.on={mousedown:e=>{e.stopPropagation(),e.preventDefault()}}),e("li",s,[this.createChooser(e,t)])});return this.hasUpload&&i.push(e("li",{on:{click:this.onUploadClick},attrs:{title:this.$t("addMsgTitle")}},[this.createUploadIcon(e)])),"small"===this.size&&i.push(e("li",{},[this.createToolbox(e)])),e("ul",{staticClass:"slds-grid toolbar"},i)},mounted(){this.setToolbarMinWidth(),this.setSize(),window.addEventListener("resize",this.setSize)},methods:{createToolbox(e){var t;return e(et,{props:{wechatAccount:this.wechatAccount,choosers:m()(t=this.choosers).call(t,e=>q()(nt).call(nt,e))},on:{choose:e=>{this.onToolboxChoosed(e)}}},[this.createIcon(e,"Action")])},setSize(){const e=this.$el.clientWidth;this.size=e>this.toolbarMinWidth?"normal":"small"},setToolbarMinWidth(){var e;const t=m()(e=ne()(this.$el.childNodes)).call(e,e=>"LI"===e.nodeName).length;this.toolbarMinWidth=20*t+15*(t-1)+40},createChooser(e,t){const s=st.get(t);s||console.error("unsupported chooser type: '".concat(t,"', make sure you have provided the right type"));const i=[this.createIcon(e,t)];return"Notification Template"===t?i.push(e("button",{staticClass:"slds-button slds-button_neutral",on:{click:()=>{this.gotoNewNotify()}},slot:"action"},[this.$t("global.newBtn")])):"Structured Message"===t&&i.push(e("button",{staticClass:"slds-button slds-button_neutral",attrs:{title:this.$t("newStructuredMessage")},on:{click:()=>{this.onStructuredMessageAddClick()}},slot:"action"},[e("icon",{props:{width:"12px",height:"12px",name:"add",fillColor:"#0070D2"}})])),e(s,this.getChooserConfig(t,e),i)},createUploadIcon(e){const t="Service Account"===this.wechatAccount.type||"Subscription Account"===this.wechatAccount.type?"image/bmp,image/png,image/jpeg,image/jpg,image/gif, video/mp4, audio/mp3,audio/wma,audio/wav,audio/amr":"image/bmp,image/png,image/jpeg,image/jpg,image/gif";return[this.createIcon(e,"Upload"),e("input",{ref:"uploadInput",style:{display:"none"},attrs:{type:"file",accept:t},on:{change:this.onUploadInputChange}})]},onUploadClick(){this.$refs.uploadInput.click()},onUploadInputChange(e){this.$emit("upload-change",e)},getChooserConfig(e,t){const s={},i={};switch(e){case"Emoji":case"Quick Reply":s.closed=this.onEmojiChooserClosed;break;case"Image":case"Structured Message":case"Voice Message":case"Video":case"Coupon":case"Notification Template":case"Mini Program Page":case"Skill":i.type=e,i.wechatAccount=this.wechatAccount,i.primaryButton=this.$t("send"),i.hasAction=!0,i.structuredType=this.structuredType}return s.choose=t=>{this.onChooserChoosed(e,t)},"Notification Template"===e&&(i.primaryButton=this.$t("global.nextBtn")),"Skill"===e&&(i.primaryButton=this.$t("global.confirmBtn")),{on:s,props:i}},createIcon(e,t){return e("icon",this.getIconConfig(t))},getIconConfig(e){const t={staticClass:"type-icon",slot:"activator",ref:ot.get(e)},s={width:"20px",height:"20px","charket-icon":!0,name:it.get(e)},i={title:at.get(e)},a={},n={};switch(e){case"Emoji":a.active=this.iconActive.emoji,n.click=this.onEmojiIconClick;break;case"Quick Reply":a.active=this.iconActive.quickReply,n.click=this.onQuickReplyIconClick;break;case"Mini Program Page":s.width="18px",s.height="18px"}return t.props=s,t.attr=i,t.class=a,t.on=n,t},onStructuredMessageAddClick(){if(n.a.isInLightningConsole){var e;const t=tt.a.sfdc_namespace?"".concat(tt.a.sfdc_namespace,"__"):"";return void o.a.openWindow(b()(e="/apex/".concat(t,"CharketApp?isdtp=p1#/")).call(e,this.wechatAccount.id,"/message/structured-messages/new"))}const t=window.location.href.split(this.$route.path)[0]+"/"+this.wechatAccount.id+"/message/structured-messages/new";window.open(t)},onEmojiIconClick(){this.iconActive.emoji=!0},onEmojiChooserClosed(){this.iconActive.emoji=!1},onQuickReplyIconClick(){this.iconActive.quickReply=!0},onQuickReplyChooserClosed(){this.iconActive.quickReply=!1},onChooserChoosed(e,t){this.$emit("choose",{type:e,payload:t})},onToolboxChoosed(e){let{type:t,payload:s}=e;this.onChooserChoosed(t,s)},clickChooser(e){const t=this.$refs[ot.get(e)];t&&t.$el.click()},gotoNewNotify(){const e=this.wechatAccount.id;if(n.a.isInLightningConsole){var t;const s=tt.a.sfdc_namespace?"".concat(tt.a.sfdc_namespace,"__"):"";return void o.a.openWindow(b()(t="/apex/".concat(s,"CharketApp?isdtp=p1#/")).call(t,e,"/notifications/select"))}const s=window.location.href.split(this.$route.path)[0]+"/"+e+"/notifications/select";window.open(s)}},beforeDestroy(){window.removeEventListener("resize",this.setSize)}},rt=(s("Vl1u"),s("aLob")),ct=Object(O.a)(lt,void 0,void 0,!1,null,"4825e0ea",null);"function"==typeof rt.default&&Object(rt.default)(ct);var dt=ct.exports,ht=s("ejTr"),ut=s.n(ht);var pt=class{static getSupportedChoosers(e){var t;const s={Emoji:!0,"Quick Reply":!0,Image:!0,"Structured Message":!0,"Voice Message":!0,Video:!0,Coupon:!0,"Notification Template":!0,"Mini Program Page":!0,Skill:!0};var i;"Mini Program"===e&&u()(i=["Structured Message","Voice Message","Video","Coupon"]).call(i,e=>{s[e]=!1});return"Service Account"!==e&&(s["Notification Template"]=!1),m()(t=ut()(s)).call(t,e=>s[e])}static calculateLastActiveTime(e){if(!e||!e.Follower||!e.Follower.LastActiveTime)return!0;const t=e.Follower.LastActiveTime;return((new Date).getTime()-t)/1e3/60/60>=48}},mt=s("vkTm"),gt=s("ngIk"),ft=s("dcdS"),vt=s("oWfJ"),_t=s("7aFC");var Ct={components:{ColorPicker:mt.a,InputSelect:gt.a,Dropdown:ft.a},filters:{capitalize:_t.b},mixins:[vt.a],props:{notify:{type:Object,default:function(){return{}}},selectedMiniProgram:{type:Object,default:function(){return{}}}},data(){return{notification:{},sendBtnDisabled:!1,createdDate:(new Date).getTime(),colorPickerPosition:"",redirectOptionData:{options:[{Name:this.$t("urlLabel"),Value:"URL"},{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],currents:[{Name:this.$t("urlLabel"),Value:"URL"}]},selectedMiniProgramPage:{}}},computed:{isRedirectToURL(){return"URL"===this.redirectOptionData.currents[0].Value},isShowDetail(){return this.notification.notificationURL||this.selectedMiniProgramPage.messageId},hasSelectedMiniProgramPage(){return this.selectedMiniProgramPage&&this.selectedMiniProgramPage.messageId}},mounted(){this.initNotify()},methods:{isFirstOrRemarkKey:e=>"first"===e||"remark"===e,initNotify(){let e=JSON.parse(L()(this.notify));const t=e.content.split(/{{.*?}}/gm),s=e.content.match(/{{.*?}}/gm);let i=[];const a=e.contentMapping;u()(t).call(t,(e,t)=>{const a=s[t]?s[t].replace(/{{/,"").replace(/.DATA}}/,""):"";i.push({name:e,value:s[t],key:a,color:"#000000"})}),u()(s).call(s,(e,t)=>{let s=e.match(/({{=?)(\S*)(?=.DATA)/g);const n=s[0].substr(2,s[0].length-1);let o=d()(i).call(i,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===n);o.value=a[n].value,o.color=a[n].color}),this.$set(e,"contentTemplate",i),e.notificationURL=e.contentMapping.url||e.notificationURL,this.notification=e,this.selectedMiniProgram.messageId&&(this.redirectOptionData.currents=[{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],this.selectedMiniProgramPage=JSON.parse(L()(this.selectedMiniProgram)))},closeModal(){this.$emit("close")},sendNotificationTemplate(){var e;this.isRedirectToURL?(this.selectedMiniProgramPage=null,this.notification.miniProgramPage=null,this.notification.miniProgramPageId="",this.notification.contentMapping.url=this.notification.notificationURL):(this.notification.notificationURL="",this.notification.contentMapping.url="",this.notification.miniProgramPageId=this.selectedMiniProgramPage.messageId||"",this.notification.miniProgramPage={id:this.selectedMiniProgramPage.messageId,title:this.selectedMiniProgramPage.title,appId:this.selectedMiniProgramPage.miniProgramAppId||"",pagePath:this.selectedMiniProgramPage.pagePath||""}),u()(e=this.notification.contentTemplate).call(e,e=>{e.key&&(this.notification.contentMapping[e.key]={value:e.value,color:e.color})}),this.$emit("send-notification-template",[this.notification])},openToLink(){if(this.isRedirectToURL){const e=this.notification.contentMapping.url?this.notification.contentMapping.url:this.notification.notificationURL;window.open(e)}else if(this.hasSelectedMiniProgramPage){var e,t;const s=b()(e=b()(t="".concat(window.location.protocol,"//")).call(t,window.location.hostname,"/")).call(e,this.selectedMiniProgramPage.messageId);window.open(s)}},onClickEditColor(e,t){var s;const i=e.currentTarget;this.$refs.BackgroundColorPicker.close(),this.colorType=t,this.colorPickerPosition=b()(s="position: absolute; left: ".concat(i.offsetLeft-211,"px; top: ")).call(s,i.offsetTop,"px;"),this.$refs.BackgroundColorPicker.open()},onBackgroundColorChanged(e){var t;d()(t=this.notification.contentTemplate).call(t,e=>e.key===this.colorType).color=e},onRedirectToChanged(e){this.redirectOptionData.currents=e,"URL"===e[0].Value?this.selectedMiniProgramPage={}:"Mini Program Page"===e[0].Value&&(this.notification.notificationURL=""),this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},onMiniProgramChanged(e){this.selectedMiniProgramPage=e}}},bt=(s("0TXy"),s("eoY4")),wt=Object(O.a)(Ct,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"send-notification-popup"},[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open send-notification-popup__modal",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container send-notification-popup__container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeModal()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("global.closeBtn")))])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("PreviewNotificationLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium scroll-content"},[s("div",{staticClass:"template"},[s("div",{staticClass:"slds-box template-preview"},[s("div",{staticClass:"slds-text-heading_small template-preview__title"},[e._v(e._s(e.notification.title))]),e._v(" "),e.createdDate&&0!==e.createdDate?s("div",{staticClass:"slds-text-body_small template-preview__date"},[e._v(e._s(e._f("formatDateFilter")(e.createdDate)))]):s("div",{staticClass:"slds-text-body_small template-preview__date"},[e._v(e._s(e._f("formatDateFilter")(e.notification.createdDate)))]),e._v(" "),e._l(e.notification.contentTemplate,(function(t){return[t.name?s("pre",{staticClass:"template-preview__content__keyword"},[e._v(e._s(t.name))]):e._e(),e._v(" "),t.value?s("pre",{staticClass:"template-preview__content__keyword",style:{color:t.color}},[e._v(e._s(t.value))]):e._e()]})),e._v(" "),e.isShowDetail?s("div",{staticClass:"slds-grid template-preview__detail",class:{"template-preview__detail--mini":!e.isRedirectToURL},on:{click:function(t){return e.openToLink()}}},[e.hasSelectedMiniProgramPage?s("icon",{staticClass:"detail-icon",attrs:{name:"miniProIcon",width:"16px",height:"16px","fill-color":"#706e6b","charket-icon":""}}):e._e(),e._v(" "),e.isRedirectToURL?s("span",{staticClass:"slds-text-body_regular template-preview__detail__value"},[e._v("\n                "+e._s(e.$t("detailsLabel"))+"\n              ")]):e._e(),e._v(" "),e.hasSelectedMiniProgramPage?s("span",{staticClass:"mini-program-title"},[e._v("\n                "+e._s(e.selectedMiniProgramPage.title)+"\n              ")]):e._e(),e._v(" "),s("span",{staticClass:"slds-grid slds-grid_vertical-align-center detail-icon"},[s("icon",{attrs:{name:"chevronright","fill-color":"#b0adab",width:"14px",height:"14px"}})],1)],1):e._e()],2),e._v(" "),s("div",{staticClass:"slds-border_left template-edit"},[e._l(e.notification.contentTemplate,(function(t,i){return s("div",{key:i,staticClass:"template-edit__item"},[t.key?s("label",{staticClass:"template-edit__item__label"},[e._v("\n                "+e._s(e._f("capitalize")(t.key))+"\n              ")]):e._e(),e._v(" "),t.key?s("div",{staticClass:"template-edit__item__box"},[e.isFirstOrRemarkKey(t.key)?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"keyword.value"}],staticClass:"slds-textarea template-edit__item__value",domProps:{value:t.value},on:{input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"keyword.value"}],staticClass:"slds-input template-edit__item__value",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}}),e._v(" "),s("span",{staticClass:"template-edit__item__icon down-btn",on:{click:function(s){return s.stopPropagation(),e.onClickEditColor(s,t.key)}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):e._e()])})),e._v(" "),s("div",{staticClass:"template-edit__item"},[s("label",[e._v("Redirect To")]),e._v(" "),s("div",{staticClass:"template-edit__item__redirect"},[s("input-select",{staticClass:"template-edit__item__redirect__picklist",attrs:{currents:e.redirectOptionData.currents},on:{"close-dropdown":e.closeDropdown,"open-dropdown":e.openDropdown,resize:e.resizeDropdown}}),e._v(" "),e.isRedirectToURL?s("div",{staticClass:"template-edit__item__redirect__content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.notification.notificationURL,expression:"notification.notificationURL"}],staticClass:"slds-input",attrs:{type:"text",placeholder:e.$t("placeholderLabel")},domProps:{value:e.notification.notificationURL},on:{input:function(t){t.target.composing||e.$set(e.notification,"notificationURL",t.target.value)}}})]):s("div",{staticClass:"template-edit__item__redirect__content"},[s("mini-program-selector",{attrs:{selected:e.selectedMiniProgramPage},on:{changed:function(t){return e.onMiniProgramChanged(t)}}})],1)],1)])],2),e._v(" "),s("div",{style:e.colorPickerPosition},[s("color-picker",{ref:"BackgroundColorPicker",attrs:{value:""},on:{"get-color":function(t){return e.onBackgroundColorChanged(t)}}})],1)])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.sendBtnDisabled},on:{click:e.sendNotificationTemplate}},[e._v(e._s(e.$t("sendBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop upload-popup-backdrop slds-backdrop_open"}),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.redirectOptionData.options,currents:e.redirectOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth},on:{"select-option":function(t){return e.onRedirectToChanged(t)},close:function(t){return e.closeDropdown()}}}):e._e()],1)}),[],!1,null,"4d276bf6",null);"function"==typeof bt.default&&Object(bt.default)(wt);var yt=wt.exports,Tt=s("GfEe"),Lt=s.n(Tt),It={data:()=>({isPlaceholderVisible:!0,isReplyOnFocus:!1,selection:null,range:null,rangeContainer:null,rangeOffset:null}),methods:{focus(){this.$refs.replyArea.focus()},handleContentChange(){const e=this.$refs.replyArea.innerHTML;e.length>0&&(this.isPlaceholderVisible=!1),this.$emit("change",Object(we.formatRichText)(e))},insertEmoji(e){this.isReplyOnFocus||(this.$refs.replyArea.focus(),this.setRangeToEnd()),this.isPlaceholderVisible=!1;const t=Object(Ce.getEmojiImgTemplate)({name:de.a[e],title:e}),s=(new DOMParser).parseFromString(t,"text/html").body.firstChild,i=window.getSelection(),a=i.getRangeAt(0);a.deleteContents(),a.insertNode(s),a.setStartAfter(s),i.collapse(a.startContainer,a.startOffset),this.handleContentChange()},insertQuickReply(e){this.$refs.replyArea.focus();const t=e.split(/\n/g);this.$refs.replyArea.innerHTML="";const s=document.createDocumentFragment();for(let[e,i]of Lt()(t).call(t)){const a=document.createTextNode(i),n=document.createElement("BR");s.appendChild(a),e<t.length-1&&s.appendChild(n)}this.$refs.replyArea.appendChild(s);const i=this.$refs.replyArea.childNodes,a=window.getSelection(),n=document.createRange();n.setStartAfter(i[i.length-1]),a.collapse(n.startContainer,n.startOffset),this.handleContentChange()},onPaste(e){Object(we.pasteData)(e,()=>{this.$refs.replyArea.childNodes.length>0&&(this.isPlaceholderVisible=!1,this.handleContentChange())})},replyOnFocus(){if(this.isReplyOnFocus=!0,this.isPlaceholderVisible){const e=window.getSelection(),t=document.createRange();t.setStart(this.$refs.replyArea,0),e.collapse(t.startContainer,t.startOffset)}this.$emit("focus")},onBlur(){this.isReplyOnFocus=!1,this.$emit("blur")},controlPlaceholder(e){const t=e.keyCode>=65&&e.keyCode<=90,s=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=95,i=e.keyCode>=106&&e.keyCode<=111||e.keyCode>=186&&e.keyCode<=222;e&&(t||s||i)&&(this.isPlaceholderVisible=!1),this.placeholderTimer&&clearTimeout(this.placeholderTimer),this.placeHolderTimer=r()(()=>{const e=this.$refs.replyArea.childNodes;let t=0;for(const s of e)1===s.nodeType&&t++;1===t&&""===this.$refs.replyArea.textContent&&"BR"===e[0].nodeName&&(this.$refs.replyArea.innerHTML=""),this.isPlaceholderVisible=0===e.length},50)},keyBoardAction(e){if(this.controlPlaceholder(e),(e.shiftKey||e.altKey)&&13===e.keyCode){e.preventDefault();const t=this.$refs.replyArea.scrollTop;Object(we.breaksLine)(this.$refs.replyArea),r()(()=>{this.$refs.replyArea.scrollTop=t+20})}else 13===e.keyCode&&(e.preventDefault(),this.handleEnter());this.$emit("keydown",e)},handleEnter(){this.$emit("enter",this.getFormattedContent())},blur(){this.$refs.replyArea.blur()},clearContent(){this.$refs.replyArea.innerHTML="",this.isPlaceholderVisible=!0},setSourceContent(e){this.$refs.replyArea.focus(),e?(this.isPlaceholderVisible=!1,this.$refs.replyArea.innerHTML=e,this.$nextTick(()=>{this.setRangeToEnd()})):(this.isPlaceholderVisible=!0,this.$refs.replyArea.innerHTML="")},setRangeToEnd(){this.$refs.replyArea.focus();const e=document.getSelection(),t=e.getRangeAt(0);t.setStart(this.$refs.replyArea,this.$refs.replyArea.childNodes.length),e.collapse(t.startContainer,t.startOffset)},getSourceContent(){return this.$refs.replyArea.innerHTML},getFormattedContent(){return Object(we.formatRichText)(this.$refs.replyArea.innerHTML)}}},kt=(s("2udy"),s("6g5z")),St=Object(O.a)(It,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-editor"},[s("label",{directives:[{name:"show",rawName:"v-show",value:e.isPlaceholderVisible,expression:"isPlaceholderVisible"}],staticClass:"chat-input-label"},[e._v("\n    "+e._s(e.$t("sendMessagePlaceholder",["Alt or Shift + Enter","#"]))+"\n  ")]),e._v(" "),s("div",{ref:"replyArea",staticClass:"slds-scrollable_y chat-input-textarea",attrs:{contenteditable:"true"},on:{focus:e.replyOnFocus,keydown:function(t){return t.stopPropagation(),e.keyBoardAction(t)},paste:e.onPaste,blur:e.onBlur,input:e.handleContentChange}})])}),[],!1,null,"2b6adbec",null);"function"==typeof kt.default&&Object(kt.default)(St);var Mt=St.exports,At=s("+dyS"),xt=s.n(At),Nt=s("2ABW"),Et=s("LQ5e"),Dt=s.n(Et),Pt={components:{Loading:ve.a},computed:a()({},Object(j.c)({currentThread:"livechat/currentThread",followers:"livechat/followers",mostUsedReplies:"livechat/popoverReplies"})),mounted(){this.checkOperate();let e="";var t;this.shortCut&&(e=K()(t=this.shortCut.substring(1)).call(t).replace(/^[\f\n\r\t\v]/,""));this.mostUsedReplies[this.currentThread.WeChatAccount.Id]&&this.mostUsedReplies[this.currentThread.WeChatAccount.Id].length>0?(this.searchInMostUsed(e),this.getQuickReplies(e)):(this.loading=!0,this.getQuickReplies(e))},props:{shortCut:{type:String,default:""}},watch:{shortCut(e){var t;this.searchTimer&&clearTimeout(this.searchTimer),this.checkOperate(),this.choosedIndex=0;const s=e.length>1?K()(t=e.substring(1,e.length)).call(t):"";this.searchInMostUsed(s),this.searchTimer=r()(()=>{this.getQuickReplies(s)},200)}},data:()=>({showedReplies:[],loading:!1,searchTimer:null,choosedIndex:0,showOperate:!0}),methods:a()({},Object(j.d)("livechat",{updatePopoverReplies:"UPDATE_POPOVER_REPLIES"}),{async getQuickReplies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const s=await Object(Nt.f)(this.currentThread.WeChatAccount.Id,e);if(this.loading=!1,s.ok){const i=JSON.parse(Dt.a.unescape(s.data)).QuickReplyMsgs;var t;if(""===e&&this.updatePopoverReplies({id:this.currentThread.WeChatAccount.Id,replies:i}),0===this.showedReplies.length)this.showedReplies=i||[];else b()(t=this.showedReplies).call(t,m()(i).call(i,e=>{var t;return xt()(t=this.showedReplies).call(t,t=>t.Name===e.Name)}));0===i.length&&this.$emit("close-popover")}}catch(e){this.$emit("close-popover"),this.loading=!1}},searchInMostUsed(e){const t=this.mostUsedReplies[this.currentThread.WeChatAccount.Id]||[];if(this.showedReplies=[],""===e)this.showedReplies=t||[];else for(const i of t){var s;i.Name&&me()(s=i.Name.toLowerCase()).call(s,e.toLowerCase())>-1&&this.showedReplies.push(i)}0===this.showedReplies.length&&(this.loading=!0)},chooseQuickReply(e){this.choosedIndex=e},chooseByKeyBoard(e){"UP"===e&&(this.choosedIndex--,this.choosedIndex<0&&(this.choosedIndex=0)),"DOWN"===e&&(this.choosedIndex++,this.choosedIndex>this.showedReplies.length-1&&(this.choosedIndex=this.showedReplies.length-1));const t=this.$refs.replyList.childNodes[this.choosedIndex].offsetTop-33,s=this.$refs.replyList.scrollTop;t<s&&(this.$refs.replyList.scrollTop=t),t>s+224&&(this.$refs.replyList.scrollTop=t-224)},checkOperate(){const e=this.$refs.operateHeader.offsetWidth,t=this.$refs.matchCode.offsetWidth;this.showOperate=e-280>=t+24},select(e){e=e||this.showedReplies[this.choosedIndex],this.$emit("select",e)}})},Rt=(s("H09C"),s("MssT")),Ot=Object(O.a)(Pt,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-box quick-reply-list"},[s("div",{ref:"operateHeader",staticClass:"slds-grid slds-grid_align-spread operate-header slds-border_bottom"},[s("span",{ref:"matchCode",staticClass:"match-code"},[e._v(e._s(e.$t("replyLabel1"))+' "'+e._s(e.shortCut)+'"')]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showOperate,expression:"showOperate"}],staticClass:"slds-grid slds-grid_align-spread operate-content"},[s("span",[e._v(e._s(e.$t("replyLabel2"))+" ↑ ↓ "+e._s(e.$t("replyLabel3")))]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.$t("replyLabel4",["&crarr;"]))}}),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.$t("replyLabel5",["<strong>esc</strong>"]))}})])]),e._v(" "),s("ul",{ref:"replyList",staticClass:"quick-reply-ul"},e._l(e.showedReplies,(function(t,i){return s("li",{key:i,staticClass:"slds-grid",class:{"current-reply":i===e.choosedIndex},on:{mouseenter:function(t){return e.chooseQuickReply(i)},click:function(s){return e.select(t)}}},[s("div",{staticClass:"slds-col reply-body slds-truncate"},[s("strong",[e._v("#"+e._s(t.Name))]),e._v(" — "),s("span",[e._v(e._s(t.TextBody__c))])])])})),0),e._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{"custom-style":"position: relative;height: 32px;",size:"small"}})],1)}),[],!1,null,"1305f2db",null);"function"==typeof Rt.default&&Object(Rt.default)(Ot);var Bt=Ot.exports,$t={data:()=>({hasConfirmedToUseMassSend:!1,isStartingHistoryChat:!1,isInLightningConsole:n.a.isInLightningConsole}),watch:{isMaskLayerVisible(e){e&&this.$emit("open")},followerId(){this.hasConfirmedToUseMassSend=!1}},computed:a()({},Object(j.c)({currentThread:"livechat/currentThread",followers:"livechat/followers",wechatAccounts:"sidebar/wechatAccounts"}),{followerId(){return this.currentThread&&this.currentThread.Follower?this.currentThread.Follower.Id:""},isWaitingThread(){return"Waiting"===this.currentThread.Status},isHistoryThread(){return"Completed"===this.currentThread.Status},isChattingThread(){return"In Progress"===this.currentThread.Status},isNewThread(){return"New"===this.currentThread.Status},transcriptId(){return this.currentThread?this.currentThread.Id:null},currentFollower(){return this.currentThread&&this.currentThread.Follower.Id?this.followers[this.currentThread.Follower.Id]||this.currentThread.Follower:null},isFollowerOverActiveTime(){return pt.calculateLastActiveTime(this.currentThread)},isMaskLayerVisible(){return!this.isChattingThread||this.isFollowerOverActiveTime||this.isFreezeMsgVisible||this.currentThread.IsDisabled},isMassSendFreezeMessageVisible(){return this.isChattingThread&&!this.isFreezeMsgVisible&&this.isFollowerOverActiveTime&&!this.hasConfirmedToUseMassSend},isOtherFreezeMessageVisible(){return this.isFreezeMsgVisible&&this.currentFollower&&void 0!==this.currentFollower.IsFollowing&&!this.isWaitingThread},isNoAgentFreezeMessageVisible(){return this.isInLightningConsole&&this.currentThread.IsDisabled},isAcceptFreezeButtonVisible(){return this.currentFollower.WeChatAccount&&"Mini Program"===this.currentFollower.WeChatAccount.Type?this.isWaitingThread:this.isWaitingThread&&this.currentFollower.IsFollowing},isCloseFreezeButtonVisible(){return!this.isInLightningConsole&&this.currentThread.IsDisabled},isStartFreezeButtonVisible(){return this.currentFollower&&this.currentFollower.WeChatAccount&&"Mini Program"===this.currentFollower.WeChatAccount.Type?this.isHistoryThread||this.isNewThread:(this.isHistoryThread||this.isNewThread)&&this.currentFollower.IsFollowing&&!this.currentFollower.IsBlocked},freezeMsg(){return this.currentFollower?this.currentFollower.IsBlocked?this.$t("freezeBlockedMsg"):this.$t("freezeUnfollowedMsg"):""},isFreezeMsgVisible(){return!(!this.currentFollower||!this.currentFollower.WeChatAccount||"Mini Program"===this.currentFollower.WeChatAccount.Type)&&(this.currentFollower.IsBlocked||!this.currentFollower.IsFollowing)},sendTip(){return"Mini Program"===this.currentThread.WeChatAccount.Type?this.$t("miniProgramCannotSendTip"):"Subscription Account"===this.currentThread.WeChatAccount.Type?this.isPost48HourMessagesEnabled?this.$t("subscriptionAccountCanSendTip"):this.$t("subscriptionAccountCannotSendTip"):"Service Account"===this.currentThread.WeChatAccount.Type?this.isPost48HourMessagesEnabled?this.$t("serviceAccountCanSendTip"):this.$t("serviceAccountCannotSendTip"):""},isPostMessageButtonGroupVisible(){return"Subscription Account"===this.currentThread.WeChatAccount.Type&&this.isPost48HourMessagesEnabled||"Service Account"===this.currentThread.WeChatAccount.Type},enableSendNotifactionButton(){return"Service Account"===this.currentThread.WeChatAccount.Type},enableSendMessageButton(){return this.isPost48HourMessagesEnabled},isPost48HourMessagesEnabled(){return this.wechatAccounts[this.currentThread.WeChatAccount.Id].IsPost48HourMessagesEnabled}}),methods:{async acceptWaitingChat(e,t){await this.$try(async()=>{await this.$store.dispatch("livechat/acceptChat",e),this.$root.$emit("switch-chatting")}),n.a.isInClassicConsole&&o.a.fireEvent("accept-chat-from-message",e)},closeDisabledThread(e){this.$root.$emit("close-thread",e.Id),"console-message"===this.$route.name&&o.a.fireEvent("close-message",e.Id)},async startHistoryChat(e){try{this.isStartingHistoryChat=!0;const t=await ge.h.createNewThread(e);if(t.Follower=this.currentThread.Follower,this.$store.commit("livechat/SET_AGENT_INFO",{Agent:t.Agent}),this.$store.dispatch("livechat/setCurrentThread",t),this.$store.commit("livechat/NEW_LIVE_CHAT",t),this.$root.$emit("switch-chatting"),!this.isInLightningConsole)return void this.$router.replace({name:"chat-follower",params:{followerId:e}});o.a.fireEvent("create-thread",t)}catch(e){this.$handleError(e)}finally{this.isStartingHistoryChat=!1}},onClickSendMessage(){this.hasConfirmedToUseMassSend=!0,this.$emit("mass-send-confirm")},onClickCancel(){this.hasConfirmedToUseMassSend=!1,this.$emit("mass-send-cancel")},check(){return this.isMaskLayerVisible},onSendNotificationClick(){this.$emit("send-notification-click")}}},Ft=(s("H5Ss"),s("lwUO")),Ut=Object(O.a)($t,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.isMaskLayerVisible,expression:"isMaskLayerVisible"}],staticClass:"textarea-mask-layer",class:{"mass-send-enable":e.hasConfirmedToUseMassSend}},[e.hasConfirmedToUseMassSend?s("span",{staticClass:"cancel-button",on:{click:e.onClickCancel}},[e._v("\n    "+e._s(e.$t("global.cancelBtn"))+"\n  ")]):e._e(),e._v(" "),e.currentThread.IsDisabled?e._e():s("span",{staticClass:"freeze-msg"},[e.isMassSendFreezeMessageVisible?s("div",{staticClass:"freeze-msg__content"},[e.hasConfirmedToUseMassSend?e._e():s("div",[s("p",{staticClass:"freeze-msg__tip",domProps:{innerHTML:e._s(e.sendTip)}}),e._v(" "),e.isPostMessageButtonGroupVisible?s("div",{staticClass:"button-group"},[e.enableSendNotifactionButton?s("ld-button",{staticClass:"freeze-msg__button",attrs:{slot:"activator",neutral:""},on:{click:e.onSendNotificationClick},slot:"activator"},[s("ld-button-svg-icon",{staticClass:"button-icon",attrs:{slot:"icon",left:"",content:"#notify"},slot:"icon"}),e._v("\n            "+e._s(e.$t("sendNotification"))+"\n          ")],1):e._e(),e._v(" "),e.enableSendMessageButton?s("ld-button",{staticClass:"freeze-msg__button",attrs:{neutral:""},on:{click:e.onClickSendMessage}},[s("ld-button-svg-icon",{staticClass:"button-icon",attrs:{slot:"icon",left:"",content:"#message-all"},slot:"icon"}),e._v("\n            "+e._s(e.$t("sendMessage"))+"\n          ")],1):e._e()],1):e._e()])]):e._e(),e._v(" "),e.isOtherFreezeMessageVisible?s("div",{staticClass:"freeze-msg__content"},[e._v("\n      "+e._s(e.freezeMsg)+"\n    ")]):e._e()]),e._v(" "),e.isNoAgentFreezeMessageVisible?s("span",{staticClass:"freeze-msg"},[s("div",{staticClass:"freeze-msg__content"},[e._v(e._s(e.$t("noCurrentAgent",[e.currentThread.Agent.Name])))])]):e._e(),e._v(" "),e.isAcceptFreezeButtonVisible?s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand chat-btn",on:{click:function(t){return e.acceptWaitingChat(e.currentThread.Id,e.currentThread.Follower.Id)}}},[e._v("\n    "+e._s(e.$t("acceptBtn"))+"\n  ")]):e._e(),e._v(" "),e.isCloseFreezeButtonVisible?s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand chat-btn",on:{click:function(t){return e.closeDisabledThread(e.currentThread)}}},[e._v("\n      "+e._s(e.$t("global.closeBtn"))+"\n    ")]):e._e(),e._v(" "),e.isStartFreezeButtonVisible?s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand chat-btn",attrs:{disabled:e.isStartingHistoryChat},on:{click:function(t){return e.startHistoryChat(e.currentThread.Follower.Id)}}},[e._v("\n    "+e._s(e.$t("startChatBtn"))+"\n  ")]):e._e()])}),[],!1,null,"cc941564",null);"function"==typeof Ft.default&&Object(Ft.default)(Ut);var Vt=Ut.exports,jt=s("BXKR"),zt={props:{title:{type:String,default:""},ok:{type:String,default:""},current:{type:Object,default:()=>({})},currentType:{type:String,default:""},titleLimit:{type:Number,default:80},needToClearMsg:{type:Boolean,default:!0}},components:{LimitedInput:jt.a},computed:{message:{get(){return this.current},set(e){this.$emit("update:current",e)}},popupTitle(){if(this.title)return this.title;return{IMAGES:this.$t("uploadImage"),"VOICE CLIPS":this.$t("uploadVoiceClip"),VIDEOS:this.$t("uploadVideo")}[this.currentType]||""},uploadBtnName(){return this.ok?this.ok:this.isUploading?this.$t("Uploading"):this.$t("Upload")},canUploading:function(){return this.current.name&&!this.isOverSize}},data:()=>({isUploadMessageShow:!1,isUploading:!1,uploadErrorMsg:"",isOverSize:!1}),methods:{openModal(){this.isUploadMessageShow=!0,this.isOverSize=!1},closeModal(){this.isUploadMessageShow=!1,this.isUploading=!1,this.uploadErrorMsg="",this.needToClearMsg&&(this.message.src="",this.message.name="",this.message.body="",this.message.description=""),this.$emit("close-upload")},cancelUpload(){this.$emit("cancel-upload"),this.closeModal()},showOverSizeError(){this.uploadErrorMsg=this.$t("uploadErrorMsgContent"),this.isOverSize=!0},uploading(){this.isOverSize=!1,this.isUploading=!0,this.$emit("upload-message-data",this.message)},formatedText(e){this.message.name=e}}},Wt=(s("/JXY"),s("vZXS")),Ht=Object(O.a)(zt,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"charket-upload-popup"}},[s("div",{staticClass:"slds-modal slds-modal_large upload-popup-modal",class:{"slds-fade-in-open":e.isUploadMessageShow},attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container show-selected-container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.cancelUpload()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("close")))])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.popupTitle))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium"},[s("div",{staticClass:"upload-alert",class:{"hide-upload-alert":!e.uploadErrorMsg}},[e._v(e._s(e.uploadErrorMsg))]),e._v(" "),s("div",[s("div",{staticClass:"upload-msg-show"},["IMAGES"===e.currentType?s("img",{attrs:{src:e.message.src}}):e._e()]),e._v(" "),s("div",{staticClass:"upload-msg-title"},[s("span",{staticClass:"upload-msg-title-span"},[s("span",[e._v("*")]),e._v(" "+e._s(e.$t("title")))]),e._v(" "),s("div",{staticClass:"upload-count"},[s("limited-input",{attrs:{content:e.message.name,sum:e.titleLimit},on:{"formated-text":function(t){return e.formatedText(t)}}})],1)]),e._v(" "),"VIDEOS"===e.currentType?s("div",{staticClass:"upload-msg-title"},[s("span",{staticClass:"upload-msg-title-span msg-description"},[e._v(e._s(e.$t("description")))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.description,expression:"message.description"}],staticClass:"slds-textarea upload-video-input",domProps:{value:e.message.description},on:{input:function(t){t.target.composing||e.$set(e.message,"description",t.target.value)}}})]):e._e()])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isUploading},on:{click:function(t){return e.cancelUpload()}}},[e._v(e._s(e.$t("cancel")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand upload-btn",class:{"upload-btn-width":e.isUploading},attrs:{disabled:e.isUploading||!e.canUploading},on:{click:function(t){return e.uploading()}}},[s("div",{staticClass:"slds-spinner_container position-spinner",class:{"hide-loading":!e.isUploading}},[e._m(0)]),e._v("\n          "+e._s(e.uploadBtnName)+"\n        ")])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop upload-popup-backdrop",class:{"slds-backdrop_open":e.isUploadMessageShow}})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-spinner slds-spinner_small more-size-loading",attrs:{role:"alert"}},[t("div",{staticClass:"slds-spinner__dot-a"}),this._v(" "),t("div",{staticClass:"slds-spinner__dot-b"})])}],!1,null,"784ac3b2",null);"function"==typeof Wt.default&&Object(Wt.default)(Ht);var Gt={components:{UploadPopup:Ht.exports},data:()=>({currentShowedMsg:{src:"",name:"",description:"",body:"",type:""},readyToUploadFiles:[],currentUploadType:""}),computed:a()({},Object(j.c)({currentThread:"livechat/currentThread"}),{uploadPopupTitle(){return{IMAGES:this.$t("sendImage"),"VOICE CLIPS":this.$t("sendVoiceClip"),VIDEOS:this.$t("sendVideo")}[this.currentUploadType]||""}}),methods:{onFileChange(e){const t=e.target.files||(e.dataTransfer?e.dataTransfer.files:e.clipboardData.files);if(t.length>0)for(const s of t){const t={src:"",name:s.name||"default",description:"",body:"",type:s.type,positionIndex:0,stop:!1,status:"Waiting",thread:this.currentThread};this.readFile(s,t),e.srcElement.value=""}},readFile(e,t){const s=new window.FileReader,i=this;s.onload=function(s){t.src=s.target.result;let a=s.target.result;for(a=a.substring(me()(a).call(a,",")+1);-1!==me()(a).call(a,"=",a.length-1);)a=a.substring(0,a.length-1);t.body=a,i.readyToUploadFiles.push(t),1===i.readyToUploadFiles.length&&(i.currentShowedMsg=i.readyToUploadFiles[0],i.currentUploadType=i.getUploadType(i.currentShowedMsg.type),i.$refs.uploadMsgPopup.openModal()),i.maxFileSize="VIDEOS"===i.currentUploadType?2306867.2:2097152,e.size>i.maxFileSize&&i.$refs.uploadMsgPopup.showOverSizeError()},s.readAsDataURL(e)},cancelUploadFile(){var e;ie()(e=this.readyToUploadFiles).call(e,0,1),this.readyToUploadFiles.length>0&&r()(()=>{this.currentShowedMsg=this.readyToUploadFiles[0],this.currentUploadType=this.getUploadType(this.currentShowedMsg.type),this.$refs.uploadMsgPopup.openModal()},500)},async uploading(e){var t;ie()(t=this.readyToUploadFiles).call(t,0,1),this.$refs.uploadMsgPopup.closeModal(),this.readyToUploadFiles.length>0&&r()(()=>{this.currentShowedMsg=this.readyToUploadFiles[0],this.currentUploadType=this.getUploadType(this.currentShowedMsg.type),this.$refs.uploadMsgPopup.openModal()},500);const s=e.thread.Follower.Id||this.currentThread.Follower.Id,i=e.thread.Id||this.currentThread.Id;this.$store.dispatch("livechat/uploadFileToSend",{msg:e,followerId:s,transcriptId:i})},getUploadType:e=>me()(e).call(e,"image")>-1?"IMAGES":me()(e).call(e,"video")>-1?"VIDEOS":me()(e).call(e,"audio")>-1?"VOICE CLIPS":void 0}},Zt=(s("DVZo"),s("4x3s")),Xt=Object(O.a)(Gt,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-uploader"},[s("upload-popup",{ref:"uploadMsgPopup",attrs:{current:e.currentShowedMsg,"current-type":e.currentUploadType,"need-to-clear-msg":!1,title:e.uploadPopupTitle,ok:e.$t("sendBtn")},on:{"update:current":function(t){e.currentShowedMsg=t},"upload-message-data":function(t){return e.uploading(t)},"cancel-upload":function(t){return e.cancelUploadFile()}}})],1)}),[],!1,null,"fe91967e",null);"function"==typeof Zt.default&&Object(Zt.default)(Xt);var Qt={components:{Toolbar:dt,SendNotificationPopup:yt,TextEditor:Mt,QuickReplyPopover:Bt,ActionCover:Vt,Uploader:Xt.exports},data:()=>({isSendNotificationPopupVisible:!1,selectedNotify:{},selectedMiniProgramPage:{},isQuickReplyPopoverVisible:!1,shortCut:"",textSize:0}),computed:a()({},Object(j.c)({currentThread:"livechat/currentThread",unsentStore:"livechat/unsentMessageStore"}),{wechatAccount(){const e=this.currentThread?this.currentThread.WeChatAccount:{};return{name:e.Name||"",type:e.Type||"",id:e.Id||""}},structuredType(){return"Mini Program"===this.wechatAccount.type?"linknews":this.isFollowerOverActiveTime?"mpnews":"news"},isFollowerOverActiveTime(){return pt.calculateLastActiveTime(this.currentThread)},choosers(){const e=pt.getSupportedChoosers(this.wechatAccount.type);if(this.isFollowerOverActiveTime){const t=["Mini Program Page","Skill"];u()(t).call(t,t=>{const s=A()(e).call(e,e=>e===t);ie()(e).call(e,s,1)})}return e},followerId(){return this.currentThread&&this.currentThread.Follower?this.currentThread.Follower.Id:""},textSizeLimit(){return this.isFollowerOverActiveTime?300:2e3},isExceededTextSizeLimit(){return this.textSize>this.textSizeLimit}}),watch:{followerId(e,t){t&&this.saveUnsentMessage(t),e&&this.setUnsentMessage(e)}},mounted(){this.$root.$on("drop-on-files",e=>{this.onUploadChange(e)}),this.$root.$on("focus-on-textarea",()=>{const e=this.$refs.editor;e&&e.focus()}),this.followerId&&this.unsentStore[this.followerId]&&this.setUnsentMessage(this.followerId)},methods:{onUploadChange(e){this.$refs.uploader.onFileChange(e)},onTextEditorChange(e){te()(e).call(e,"#")?this.showQuickReplyPopover(e.substring(1)):this.onQuickReplyPopoverClose(),this.textSize=this.isFollowerOverActiveTime?e.length:Object(we.getSizeOfUTF8Text)(e)},showQuickReplyPopover(e){this.isQuickReplyPopoverVisible=!0,this.shortCut=e},onQuickReplyPopoverClose(){this.isQuickReplyPopoverVisible=!1},onTextEditorFocus(){const e="console-message"===this.$router.currentRoute.name;this.$store.dispatch("livechat/clearUnreadCount",{threadId:this.currentThread.Id,isConsoleEmitter:e})},onEditorKeydown(e){this.isQuickReplyPopoverVisible&&(27===e.keyCode&&(e.preventDefault(),this.isQuickReplyPopoverVisible=!1),(38===e.keyCode||e.shiftKey&&9===e.keyCode)&&(e.preventDefault(),this.$refs.quickReplyPop.chooseByKeyBoard("UP")),(40===e.keyCode||!e.shiftKey&&9===e.keyCode)&&(e.preventDefault(),this.$refs.quickReplyPop.chooseByKeyBoard("DOWN")),13===e.keyCode&&(e.preventDefault(),this.$refs.quickReplyPop.select()))},onEditorEnter(e){if(this.isQuickReplyPopoverVisible)return;const t=K()(e).call(e);if(!t)return;const s=this.currentThread.Id,i=this.isFollowerOverActiveTime;this.sendMessage({message:{type:"Text Message",content:t},useMassSend:i,transcriptId:s})},onToolbarChoose(e){let{type:t,payload:s}=e;switch(t){case"Emoji":this.onEmojiChoose(s);break;case"Quick Reply":this.onQuickReplyChoose(s);break;case"Notification Template":this.onNotificationTemplateChoose(s);break;case"Skill":this.onSkillChoose(s);break;default:this.onMessageChoose(t,s)}},onEmojiChoose(e){this.$refs.editor.insertEmoji(e)},onQuickReplyPopoverSelect(e){this.onQuickReplyChoose({content:e.TextBody__c,id:e.Id})},onQuickReplyChoose(e){ge.h.updateQuickReplyMessage(e.id),this.$refs.editor.insertQuickReply(e.content)},async onNotificationTemplateChoose(e){try{this.selectedNotify=await ge.m.getMergedTemplateMessage(e.id,this.currentThread.Follower.Id,this.currentThread.Agent.Id),this.selectedNotify.contentMapping=this.filterUnsupportedMergedResult(this.selectedNotify.contentMapping),this.selectedNotify.title=e.title,this.selectedNotify.createdDate=e.createdDate,this.selectedNotify.miniProgramPageId?this.selectedMiniProgramPage=await ge.l.getById(this.selectedNotify.miniProgramPageId):this.selectedMiniProgramPage={},this.isSendNotificationPopupVisible=!0}catch(e){this.$handleError(e)}},hideSendNotificationPopup(){this.isSendNotificationPopupVisible=!1},onNotificationTemplateSend(e){this.hideSendNotificationPopup(),this.sendMessage({message:e[0],transcriptId:this.currentThread.Id})},filterUnsupportedMergedResult:e=>JSON.parse(e.replace(/\{![a-zA-Z_.]*\}/g,"")),onMessageChoose(e,t){const s=this.currentThread.Id,i=this.isFollowerOverActiveTime;this.sendMessage({message:t,useMassSend:i,transcriptId:s})},sendMessage(e){let{message:t,useMassSend:s=!1,transcriptId:i}=e;this.textSize>this.textSizeLimit||(this.$refs.editor.clearContent(),this.clearUnreadCount(i),this.$store.dispatch("livechat/sendMessage",{msg:t,useMassSend:s,transcriptId:i}),this.$root.$emit("message-list-scroll-bottom"))},clearUnreadCount(e){const t="console-message"===this.$router.currentRoute.name;this.$store.dispatch("livechat/clearUnreadCount",{threadId:e,isConsoleEmitter:t})},onSkillChoose(e){const t=this.currentThread.Follower.Id;t?this.executeSkill({skill:e,followerId:t}):console.error("invalid follower ".concat(t," to receive this skill response"))},async executeSkill(e){let{skill:t,followerId:s,force:i=!1}=e;try{return await ge.r.executeSkill({skillId:t.id,followerId:s,forceExecute:i}),this.$toast({content:this.$t("executeSkillSuccess",[t.name]),type:"success"}),!0}catch(e){e.data&&"HAS_RUNNING_SKILL"===e.data.code?this.openForceExecuteSkillConfirm({skill:t,runningSkillName:e.data.runningSkill.name,followerId:s}):this.$handleError(e)}},openForceExecuteSkillConfirm(e){let{skill:t,runningSkillName:s,followerId:i}=e;const a=this.$confirm({title:this.$t("global.popupHeader.selectSkill"),content:this.$t("confirmToForceExecuteSkillMessage",[s]),ok:this.$t("yes"),cancel:this.$t("no")});a.$on("ok",async()=>{await this.executeSkill({skill:t,followerId:i,force:!0})?a.close():a.resume()})},saveUnsentMessage(e){var t;const s=this.$refs.editor.getSourceContent(),i=K()(t=this.$refs.editor.getFormattedContent()).call(t)?s:"";this.$store.commit("livechat/UPDATE_UNSENT_STORE",{threadId:e,content:i})},setUnsentMessage(e){const t=this.unsentStore[e]?this.unsentStore[e]:"";this.$refs.editor.setSourceContent(t)},editKeyword(e){for(let s in this.selectNotify.ContentMapping){var t;if(q()(t=e.key).call(t,s)){this.selectNotify.ContentMapping[s].value=e.value;break}}},onActionCoverOpened(){this.$refs.editor.blur()},onSendNotificationClick(){this.$refs.toolbar.clickChooser("Notification Template")}},beforeDestroy(){this.$root.$off(["drop-on-files"]),this.followerId&&this.saveUnsentMessage(this.followerId)}},Yt=(s("ncnd"),s("R/Rt")),qt=Object(O.a)(Qt,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-sender-page",class:{"message-sender-page--need-mass":e.isFollowerOverActiveTime}},[s("div",{staticClass:"quick-reply-popover-wrapper"},[s("div",{staticClass:"quick-reply-popover"},[e.isQuickReplyPopoverVisible?s("quick-reply-popover",{ref:"quickReplyPop",attrs:{"short-cut":e.shortCut},on:{select:e.onQuickReplyPopoverSelect,"close-popover":e.onQuickReplyPopoverClose}}):e._e()],1)]),e._v(" "),s("uploader",{ref:"uploader"}),e._v(" "),s("toolbar",{ref:"toolbar",attrs:{"wechat-account":e.wechatAccount,choosers:e.choosers,"has-upload":!e.isFollowerOverActiveTime,"structured-type":e.structuredType},on:{choose:e.onToolbarChoose,"upload-change":e.onUploadChange}}),e._v(" "),s("text-editor",{ref:"editor",staticClass:"text-editor",on:{change:e.onTextEditorChange,focus:e.onTextEditorFocus,keydown:e.onEditorKeydown,enter:e.onEditorEnter}}),e._v(" "),s("span",{staticClass:"upload-text-count"},[s("span",{class:{"upload-text-count--warning":e.isExceededTextSizeLimit}},[e._v("\n      "+e._s(e.textSize)+"\n    ")]),e._v("\n      ⁄\n    "),s("span",[e._v(e._s(e.textSizeLimit))])]),e._v(" "),s("action-cover",{on:{open:e.onActionCoverOpened,"send-notification-click":e.onSendNotificationClick}}),e._v(" "),e.isSendNotificationPopupVisible?s("send-notification-popup",{ref:"sendNotificationModel",attrs:{notify:e.selectedNotify,"account-id":e.currentThread?e.currentThread.WeChatAccount.Id:"","selected-mini-program":e.selectedMiniProgramPage},on:{close:e.hideSendNotificationPopup,"edit-keyword":e.editKeyword,"send-notification-template":e.onNotificationTemplateSend}}):e._e()],1)}),[],!1,null,"b810324a",null);"function"==typeof Yt.default&&Object(Yt.default)(qt);var Jt=qt.exports,Kt=s("2AFw"),es=s("+SX9"),ts=s("FbVU"),ss=s.n(ts),is={props:{item:{type:Object,default:()=>({})},fieldType:{type:String,default:""}},data:()=>({value:"",showValue:!1,prevValue:"",maxValue:""}),computed:{label(){if(this.value||0===this.value){const e=this.item.layoutComponents[0].details.scale;return"currency"===this.fieldType?ss()(this.value).toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}):"percent"===this.fieldType?ss()(this.value).toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})+"%":""}return""}},created(){this.value=this.item.scopeValue;const e=this.item.layoutComponents[0].details.precision-this.item.layoutComponents[0].details.scale;this.maxValue=Math.pow(10,e)},methods:{formatInputValue(){if(this.showValue=!1,this.value&&!isNaN(ss()(this.value))){/[bB]$/.test(this.value)?this.value=1e9*ss()(this.value):/[mM]$/.test(this.value)?this.value=1e6*ss()(this.value):/[kK]$/.test(this.value)?this.value=1e3*ss()(this.value):this.value=ss()(this.value);const e=this.item.layoutComponents[0].details.scale;this.value=(Math.round(this.value*Math.pow(10,e))/Math.pow(10,e)).toFixed(e),this.$emit("match-input",this.value,this.item)}else this.value=""},focus(){this.showValue=!0},validateInputKey(e){this.validateInputRange()?(this.prevValue=this.value,8===e.keyCode?e.returnValue=!0:(e.keyCode>=48&&e.keyCode<=57||190===e.keyCode||66===e.keyCode||75===e.keyCode||77===e.keyCode)&&(!/[kmbKMB]/g.test(this.prevValue)||66!==e.keyCode&&75!==e.keyCode&&77!==e.keyCode)?/\./g.test(this.prevValue)&&190===e.keyCode?e.returnValue=!1:e.returnValue=!0:e.returnValue=!1):this.value=this.prevValue},validateInputValue(){this.value&&(/(^\d*((\.\d*)|(\.\d+[bmkBMK]))?$)|(^\d+[bmkBMK]$)/g.test(this.value)&&this.validateInputRange()||(this.value=this.prevValue))},validateInputRange(){if(isNaN(ss()(this.value)))return!1;if(/[bB]/.test(this.value)){if(1e9*ss()(this.value)>this.maxValue)return!1}else if(/[mM]/.test(this.value)){if(1e6*ss()(this.value)>this.maxValue)return!1}else if(/[kK]/.test(this.value)){if(1e3*ss()(this.value)>this.maxValue)return!1}else if(ss()(this.value)>this.maxValue)return!1;return!0}}},as=Object(O.a)(is,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element"},[e.showValue?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"slds-input",domProps:{value:e.value},on:{blur:function(t){return t.stopPropagation(),e.formatInputValue(t)},keyup:e.validateInputValue,keydown:function(t){return e.validateInputKey(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],staticClass:"slds-input",domProps:{value:e.label},on:{focus:e.focus,input:function(t){t.target.composing||(e.label=t.target.value)}}})])}),[],!1,null,null,null).exports,ns=s("4No8");let os="";function ls(e,t){let s={},i=e;for(let e=0;e<i.length;e++)s[i[e].label]=[];function a(e,t){let s=Math.floor(t/8),i=7-t%8;return(Math.pow(2,i)&e.charCodeAt(s))>>i==1}let n=t;for(let e=0;e<n.length;e++){let t=n[e],o=window.atob(t.validFor);for(let e=0;e<i.length;e++)a(o,e)&&s[i[e].label].push({Name:t.label,value:t.label})}return s}var rs={mixins:[vt.a],computed:a()({},Object(j.c)({currentUser:"user/currentUser",layouts:"caseLayout/layouts",currentThread:"livechat/currentThread",messageListObj:"livechat/messageListObj",followers:"livechat/followers",leadsOrContacts:"livechat/leadsOrContacts"}),{isHistoryTab(){var e;return me()(e=this.$route.name).call(e,"history")>-1},isWaitingTab(){var e;return me()(e=this.$route.name).call(e,"waiting")>-1},currentFollower(){return this.currentThread&&this.currentThread.Follower.Id?this.followers[this.currentThread.Follower.Id]:null}}),watch:{dropdownRefId:function(){this.dropdownOptionData.options=this.dropdownType.options,this.dropdownOptionData.currents=this.dropdownType.currentOptions}},data(){return{timeOption:{type:"min",week:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],month:["January","February","March","April","May","June","July","August","September","October","November","December"],format:"YYYY-MM-DD HH:mm:ss"},caseFields:[],saveButtonDisabled:!1,layoutSections:[],layoutFields:{},errorMsg:"",showLoading:!1,desContent:"",selectedMsgs:[],fieldType:"",targetElem:null,showNewCaseModal:!1,dateItems:[],caseLabel:this.$t("caseLabel"),savedCaseLabel:this.$t("savedCaseLabel"),hasDateError:!1}},mounted(){this.$root.$on("open-new-case-modal",async(e,t,s)=>{var i;this.showNewCaseModal=!0,this.desContent=e,this.selectedMsgs=t,this.showLoading=!0,os=s.substr(s.length-18,s.length),await this.$store.dispatch("caseLayout/fetchCaseLayout",{layoutUrl:s});const a=d()(i=this.layouts).call(i,e=>e.url===s);this.layoutSections=JSON.parse(L()(a.layout)),this.layoutFields=JSON.parse(L()(a.field));for(const e of ut()(this.layoutFields))this.$set(this.layoutFields[e],"scopeValue",""),this.$set(this.layoutFields[e],"multiValues",[]),this.$set(this.layoutFields[e],"storePicklistValues",[]),this.$set(this.layoutFields[e],"options",[]),this.$set(this.layoutFields[e],"currentOptions",[]),this.$set(this.layoutFields[e],"disabled",!1);this.initLayoutData(),this.showLoading=!1,this.saveButtonDisabled=!1})},beforeDestroy(){this.$root.$off("open-new-case-modal")},props:{contactId:{type:String,default:""},recordTypeName:{type:String,default:""}},components:{Lookup:Kt.a,ErrorToast:es.a,FormatInput:as,LoadingSpinner:ve.a,InputSelect:gt.a,Dropdown:ft.a,CommonDatePicker:ns.a},methods:{closeModal(){this.showNewCaseModal=!1,this.clearCaseValue()},setErrorCount(e,t){var s,i;t.errorCount=e,xt()(s=this.dateItems).call(s,e=>t===e)||this.dateItems.push(t),this.hasDateError=xt()(i=this.dateItems).call(i,e=>e.errorCount>0)},async saveCase(e){var t;if(this.saveButtonDisabled=!0,this.layoutSections.length>0)for(let e of this.layoutSections)for(let t of e.layoutRows)for(let e of t.layoutItems)if(e.layoutComponents.length>0){const t=e.layoutComponents[0].details;var s;if(e.isRequired&&("picklist"===t.type&&"--None--"===e.scopeValue||!e.scopeValue))return this.errorMsg=b()(s="".concat(this.$t("requiredLabel")," ")).call(s,e.label),e.isDanger=!0,this.scrollToTop(),void(this.saveButtonDisabled=!1);let a={};if(a.FieldPath=e.layoutComponents[0].value,a.IsCreateable=t.createable,a.Type=t.type.toUpperCase(),a.Value=e.scopeValue,"boolean"===t.type)a.Value=e.scopeValue||!1;else if("date"===t.type)if(e.scopeValue){const t=e.scopeValue.split("/"),s=Object(z.a)((Number(t[2]),Number(t[0]),Number(t[1])),this.currentUser.TimeZoneSidKey);a.Value=Object(W.a)(s,"yyyy-MM-dd")}else a.Value=null;else if("datetime"===t.type)if(e.dateTime){e.dateTime;const t=Object(z.a)(e.dateTime,this.currentUser.TimeZoneSidKey);a.Value=Object(W.a)(t,"yyyy-MM-dd hh:mm:ss")}else a.Value=null;else if("currency"===t.type||"double"===t.type||"percent"===t.type)a.Value=e.scopeValue||null;else if("picklist"===t.type)a.Value="--None--"===e.scopeValue?"":e.scopeValue;else if("multipicklist"===t.type){var i;let t=null;t=m()(i=e.multiValues).call(i,e=>"--None--"!==e),a.Value=t.join(";")}this.caseFields.push(a)}!d()(t=this.caseFields).call(t,e=>"RecordTypeId"===e.FieldPath)&&this.recordTypeName&&this.caseFields.push({FieldPath:"RecordTypeId",IsCreateable:!0,Type:"REFERENCE",Value:os});const a=this.contactId,n=L()(this.caseFields),l=L()(this.selectedMsgs);try{this.selectedMsgs,this.caseFields;const t=await Nt.b(n,a,l);if(t.ok){var r,c;this.$root.$emit("save-case-success");let s=JSON.parse(Dt.a.unescape(t.data));this.closeModal();let i=b()(r=b()(c="".concat(this.caseLabel,"[ ")).call(c,s.newCase.CaseNumber," ]")).call(r,this.savedCaseLabel);if(this.saveButtonDisabled=!1,this.$router.app.$emit("case-notification",i),e){const e=this.currentThread.Id;let t=await Nt.a({transcriptId:e});t.ok?(this.$root.$emit("close-thread",e),"console-message"===this.$route.name&&o.a.fireEvent("close-message",e)):(this.caseFields=[],this.errorMsg=t.error,this.saveButtonDisabled=!1,this.scrollToTop())}}else t.ok||(this.caseFields=[],this.errorMsg=t.error,this.saveButtonDisabled=!1,this.scrollToTop())}catch(e){this.caseFields=[],this.errorMsg=e.message,this.saveButtonDisabled=!1,this.scrollToTop()}},clearCaseValue(){this.initLayoutData(),this.caseFields=[],this.errorMsg="",this.clockTime=""},onSelect(e,t){for(let s of this.layoutSections)for(let i of s.layoutRows)for(let s of i.layoutItems){const i=s.layoutComponents.length>0?s.layoutComponents[0].details:{};"reference"===i.type&&"OwnerId"!==i.name&&s.metadata[0].apiName===t.apiName&&(s.scopeValue=e.id)}},onRemove(e){for(let t of this.layoutSections)for(let s of t.layoutRows)for(let t of s.layoutItems){const s=t.layoutComponents.length>0?t.layoutComponents[0].details:{};"reference"===s.type&&"OwnerId"!==s.name&&t.metadata[0].apiName===e.apiName&&(t.scopeValue="")}},scrollToTop(){document.getElementById("case-content").scrollTop=0},initLayoutData(){if(this.layoutSections.length>0)for(let n of this.layoutSections)for(let o of n.layoutRows)for(let n of o.layoutItems){this.$set(n,"currentItem",null),this.$set(n,"scopeValue",""),this.$set(n,"multiValues",[]),this.$set(n,"storePicklistValues",[]),this.$set(n,"options",[]),this.$set(n,"currentOptions",[]),this.$set(n,"disabled",!1),this.$set(n,"dateTime",""),this.$set(n,"dateError",[]),this.$set(n,"errorCount",0),this.$set(n,"isRequired",!1),n.isRequired=!!n.required;const o=n.layoutComponents.length>0?n.layoutComponents[0].details:{};if("reference"===o.type&&"OwnerId"!==o.name){const e=this.currentFollower.Contact;"ContactId"===o.name?e.Id?(n.currentItem={name:e.Name,id:e.Id},n.scopeValue=e.Id):n.currentItem=null:"AccountId"===o.name?e.Id&&this.leadsOrContacts[e.Id]&&this.leadsOrContacts[e.Id].Account.Id?(n.currentItem={name:this.leadsOrContacts[e.Id].Account.Name,id:this.leadsOrContacts[e.Id].Account.Id},n.scopeValue=this.leadsOrContacts[e.Id].Account.Id):n.currentItem=null:"RecordTypeId"===o.name?n.scopeValue=this.recordTypeName?os:"":n.scopeValue=o.defaultValue}else if("picklist"===o.type||"multipicklist"===o.type){var e;n.isDanger=!1,n.storePicklistValues=o.picklistValues,o.defaultValue?(n.scopeValue=o.defaultValue,n.currentOptions=[{Name:n.scopeValue}]):(n.scopeValue="--None--",n.currentOptions=[{Name:this.$t("noneLabel"),value:"--None--"}]),d()(e=n.storePicklistValues).call(e,e=>"--None--"===e.value)||n.storePicklistValues.unshift({Name:this.$t("noneLabel"),value:"--None--"}),n.options=[];for(const e of n.storePicklistValues)"--None--"===e.value?n.options.push({Name:this.$t("noneLabel"),value:"--None--"}):n.options.push({Name:e.value,value:e.value});if(o.controllerName&&o.dependentPicklist){const e=this.layoutFields[o.controllerName];if(e){if("picklist"===e.type)if(e.defaultValue){var t,s;const i=ls(m()(t=e.picklistValues).call(t,e=>"--None--"!==e.value),m()(s=o.picklistValues).call(s,e=>"--None--"!==e.value));n.storePicklistValues=i[e.defaultValue],n.storePicklistValues.unshift({Name:this.$t("noneLabel"),value:"--None--"}),n.options=n.storePicklistValues,n.isRequired=!!n.required}else n.disabled=!0,n.isRequired=!1,"multipicklist"===o.type&&(n.storePicklistValues=[{value:this.$t("noneLabel")}],n.multiValues=[]);else if("boolean"===e.type){var i,a;n.storePicklistValues=m()(i=o.picklistValues).call(i,e=>"gAAA"===e.validFor),d()(a=n.storePicklistValues).call(a,e=>"--None--"===e.value)||n.storePicklistValues.unshift({Name:this.$t("noneLabel"),value:"--None--"}),n.options=[];for(const e of n.storePicklistValues)"--None--"===e.value?n.options.push({Name:this.$t("noneLabel"),value:"--None--"}):n.options.push({Name:e.value,value:e.value})}}else n.disabled=!0,n.isRequired=!1,n.storePicklistValues=[{Name:this.$t("noneLabel"),value:"--None--"}],n.options=n.storePicklistValues}const l=this.layoutFields[n.layoutComponents[0].details.name];l.scopeValue=n.scopeValue,l.multiValues=n.multiValues,l.storePicklistValues=n.storePicklistValues,l.options=n.options,l.currentOptions=n.currentOptions,l.disabled=n.disabled}else"Description"===o.name&&(n.scopeValue=this.desContent)}},initPicklistValues(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("--None--"===e)t.disabled=!0,t.scopeValue="--None--",t.currentOptions=[{Name:this.$t("noneLabel"),value:"--None--"}],"multipicklist"===t.type&&(t.storePicklistValues=[{value:this.$t("noneLabel")}],t.multiValues=[]);else{var i,a;t.disabled=!1,t.scopeValue="--None--",t.currentOptions=[{Name:this.$t("noneLabel"),value:"--None--"}];const e=ls(m()(i=s.layoutComponents[0].details.picklistValues).call(i,e=>"--None--"!==e.value),m()(a=t.picklistValues).call(a,e=>"--None--"!==e.value));if(t.storePicklistValues=e[s.scopeValue],"picklist"===t.type)t.storePicklistValues.unshift({Name:this.$t("noneLabel"),value:"--None--"}),t.options=t.storePicklistValues;else if("multipicklist"===t.type){var n;t.multiValues=[],t.storePicklistValues=m()(n=t.storePicklistValues).call(n,e=>"--None--"!==e.value)}}},setItemPicklistValues(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(const a of e.dependenceNames){const e=this.layoutFields[a],n=this.getDependencedPicklistField(a);"Values"===s?(this.initPicklistValues(s,e,i),this.setDependencedPicklistFieldRequired(e,n)):(n.isRequired=!1,this.initPicklistValues(t,e));for(const e of ut()(this.layoutFields)){const s=this.layoutFields[e];if(s.controllerName===a){this.getDependencedPicklistField(s.name).isRequired=!1,this.initPicklistValues(t,s),this.setItemPicklistValues(s,t)}}}},selectPicklist(e){let t=this.dropdownType;t.currentOptions=[...e],t.scopeValue=e[0]?e[0].value:"--None--";let s=this.layoutFields[t.layoutComponents[0].details.name];s.scopeValue=t.scopeValue,s.currentOptions=t.currentOptions,"--None--"===t.scopeValue?this.setItemPicklistValues(s,"--None--"):this.setItemPicklistValues(s,"--None--","Values",t);for(let e of this.layoutSections)for(let t of e.layoutRows)for(let e of t.layoutItems){const t=e.layoutComponents.length>0?this.layoutFields[e.layoutComponents[0].details.name]:{};"picklist"!==t.type&&"multipicklist"!==t.type||(e.scopeValue=t.scopeValue,e.multiValues=t.multiValues,e.storePicklistValues=t.storePicklistValues,e.options=t.options,e.currentOptions=t.currentOptions,e.disabled=t.disabled)}this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},getDependencedPicklistField(e){let t=null,s={};try{var i;u()(i=this.layoutSections).call(i,i=>{var a;u()(a=i.layoutRows).call(a,i=>{var a;u()(a=i.layoutItems).call(a,i=>{if(!(i.layoutComponents.length<=0||i.layoutComponents[0].details.name!==e))throw t=i,s})})})}catch(e){}return t},setDependencedPicklistFieldRequired(e,t){0===e.storePicklistValues.length||1===e.storePicklistValues.length&&"--None--"===e.storePicklistValues[0].value?(t.isRequired=!1,t.disabled=!0,e.disabled=!0):t.isRequired=!!t.required},switchBox(e){e.scopeValue?this.checkboxUtil(e,"QAAA"):this.checkboxUtil(e,"gAAA")},checkboxUtil(e,t){for(let a of this.layoutSections)for(let n of a.layoutRows)for(let a of n.layoutItems){const n=a.layoutComponents.length>0?a.layoutComponents[0].details:{};if("picklist"===n.type&&e.layoutComponents[0].details.name===n.controllerName&&n.dependentPicklist){var s,i;a.scopeValue="--None--",a.currentOptions=[{Name:this.$t("noneLabel"),value:"--None--"}],a.storePicklistValues=m()(s=a.layoutComponents[0].details.picklistValues).call(s,e=>e.validFor===t),d()(i=a.storePicklistValues).call(i,e=>"--None--"===e.value)||a.storePicklistValues.unshift({Name:this.$t("noneLabel"),value:"--None--"}),a.options=[];for(const e of a.storePicklistValues)"--None--"===e.value?a.options.push({Name:this.$t("noneLabel"),value:"--None--"}):a.options.push({Name:e.value,value:e.value});1===a.storePicklistValues.length?(a.isRequired=!1,a.disabled=!0,n.disabled=!0):(a.isRequired=!!a.required,a.disabled=!1,n.disabled=!1);const e=this.layoutFields[a.layoutComponents[0].details.name];e.scopeValue=a.scopeValue,e.storePicklistValues=a.storePicklistValues,e.options=a.options,e.currentOptions=a.currentOptions}}},setDate(e,t){"date"===t.layoutComponents[0].details.type?t.scopeValue=e:"datetime"===t.layoutComponents[0].details.type&&(t.scopeValue=e,t.dateTime=e)},matchInput(e,t){t.scopeValue=e}},async created(){this.caseFields=[],this.errorMsg="",0===this.layoutSections.length&&this.layouts.length>0&&(this.layoutSections=JSON.parse(L()(this.layouts[0].layout)),this.layoutFields=JSON.parse(L()(this.layouts[0].field)),this.initLayoutData()),this.emailReg=/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/}},cs=(s("v+77"),s("yfvR")),ds=Object(O.a)(rs,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"slds-modal slds-modal_large",class:{"slds-fade-in-open":e.showNewCaseModal},attrs:{id:"newCaseModalPopup","aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container new-case-modal-popup-container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeModal()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),e.recordTypeName?e._e():s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("createCaseLabel")))]),e._v(" "),e.recordTypeName?s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("createCaseLabel"))+": "+e._s(e.recordTypeName))]):e._e()]),e._v(" "),e.showLoading?e._e():s("div",{staticClass:"slds-modal__content slds-p-around_medium",attrs:{id:"case-content"}},[e.errorMsg?s("div",{staticClass:"error-toast-section"},[s("error-toast",{attrs:{content:e.errorMsg}})],1):e._e(),e._v(" "),s("div",{staticClass:"slds-form slds-form_compound"},e._l(e.layoutSections,(function(t){return s("fieldset",{staticClass:"slds-form-element slds-section"},[s("h3",{directives:[{name:"show",rawName:"v-show",value:t.useHeading,expression:"layoutSection.useHeading"}],staticClass:"layout-section-header"},[e._v(e._s(t.heading))]),e._v(" "),s("div",{staticClass:"slds-form-element__group slds-form_stacked layout-section-group"},e._l(t.layoutRows,(function(i){return s("div",{staticClass:"slds-form-element__row"},e._l(i.layoutItems,(function(i){return s("div",{staticClass:"slds-form-element",class:"slds-size_1-of-"+t.columns},[i.layoutComponents.length>0?[s("label",{staticClass:"slds-form-element__label"},[i.isRequired?s("abbr",{staticClass:"slds-required"},[e._v("*")]):e._e(),e._v(e._s(i.label))]),e._v(" "),"picklist"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("input-select",{attrs:{currents:i.currentOptions,"is-disabled":i.disabled,type:i,"is-danger":i.isDanger},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:i.isRequired&&e.errorMsg&&"--None--"===i.scopeValue,expression:"item.isRequired && errorMsg && item.scopeValue === '--None--'"}],staticClass:"is-danger"},[e._v(e._s(e.$t("fieldErrorLabel")))])],1):e._e(),e._v(" "),"multipicklist"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("select",{directives:[{name:"model",rawName:"v-model",value:i.multiValues,expression:"item.multiValues"}],staticClass:"slds-select",class:{"hide-field":!i.editableForNew},attrs:{disabled:i.disabled,multiple:"multiple"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(i,"multiValues",t.target.multiple?s:s[0])}}},e._l(i.storePicklistValues,(function(t){return s("option",[e._v(e._s(t.value))])})),0)]):e._e(),e._v(" "),"email"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.scopeValue,expression:"item.scopeValue"}],staticClass:"slds-input",class:{"is-danger":!e.emailReg.test(i.scopeValue)&&i.scopeValue,"hide-field":!i.editableForNew},attrs:{type:"text"},domProps:{value:i.scopeValue},on:{input:function(t){t.target.composing||e.$set(i,"scopeValue",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.emailReg.test(i.scopeValue)&&i.scopeValue,expression:"!emailReg.test(item.scopeValue) && item.scopeValue"}],staticClass:"is-danger"},[e._v("invalid email address: "+e._s(i.scopeValue))])]):e._e(),e._v(" "),"string"==i.layoutComponents[0].details.type||"phone"==i.layoutComponents[0].details.type||"url"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.scopeValue,expression:"item.scopeValue"}],staticClass:"slds-input",class:{"hide-field":!i.editableForNew},attrs:{type:"text"},domProps:{value:i.scopeValue},on:{input:function(t){t.target.composing||e.$set(i,"scopeValue",t.target.value)}}})]):e._e(),e._v(" "),"currency"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("format-input",{attrs:{item:i,"field-type":"currency"},on:{"match-input":e.matchInput}})],1):e._e(),e._v(" "),"percent"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("format-input",{attrs:{item:i,"field-type":"percent"},on:{"match-input":e.matchInput}})],1):e._e(),e._v(" "),"double"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.scopeValue,expression:"item.scopeValue"}],staticClass:"slds-input",class:{"hide-field":!i.editableForNew},attrs:{type:"number"},domProps:{value:i.scopeValue},on:{input:function(t){t.target.composing||e.$set(i,"scopeValue",t.target.value)}}})]):e._e(),e._v(" "),"textarea"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:i.scopeValue,expression:"item.scopeValue"}],staticClass:"slds-textarea resize-vertical",class:{"hide-field":!i.editableForNew},staticStyle:{"min-height":"200px"},domProps:{value:i.scopeValue},on:{input:function(t){t.target.composing||e.$set(i,"scopeValue",t.target.value)}}})]):e._e(),e._v(" "),"boolean"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.scopeValue,expression:"item.scopeValue"}],class:{"hide-field":!i.editableForNew},attrs:{type:"checkbox",name:"options",id:"checkbox-"+i.layoutComponents[0].value},domProps:{checked:Array.isArray(i.scopeValue)?e._i(i.scopeValue,null)>-1:i.scopeValue},on:{change:[function(t){var s=i.scopeValue,a=t.target,n=!!a.checked;if(Array.isArray(s)){var o=e._i(s,null);a.checked?o<0&&e.$set(i,"scopeValue",s.concat([null])):o>-1&&e.$set(i,"scopeValue",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(i,"scopeValue",n)},function(t){return e.switchBox(i)}]}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox-"+i.layoutComponents[0].value}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]):e._e(),e._v(" "),"date"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"date-wrapper"},[s("common-date-picker",{attrs:{"custom-errors":i.dateError,"custom-settings":{onlyDay:!0,defaultTime:i.scopeValue},"keep-watch":!1},on:{"set-error-count":function(t){return e.setErrorCount(t,i)},"get-time":function(t){return e.setDate(t,i)}}})],1)]):e._e(),e._v(" "),"datetime"==i.layoutComponents[0].details.type?s("div",{staticClass:"slds-form-element__control"},[s("fieldset",{staticClass:"slds-form-element"},[e._m(0,!0),e._v(" "),s("common-date-picker",{attrs:{"custom-errors":i.dateError,"custom-settings":{onlyDay:!1,defaultTime:i.dateTime},"keep-watch":!1},on:{"set-error-count":function(t){return e.setErrorCount(t,i)},"get-time":function(t){return e.setDate(t,i)}}})],1)]):e._e(),e._v(" "),"reference"==i.layoutComponents[0].details.type&&"OwnerId"!==i.layoutComponents[0].details.name&&"RecordTypeId"!==i.layoutComponents[0].details.name?s("div",{staticClass:"slds-form-element__control",class:{"hide-field":!i.editableForNew}},[s("lookup",{attrs:{"ld-selected-item":i.currentItem,"ld-metadatas":i.metadata,"ld-show-title":!1},on:{select:e.onSelect,remove:function(t){return e.onRemove(t)}}})],1):e._e(),e._v(" "),"reference"==i.layoutComponents[0].details.type&&"OwnerId"===i.layoutComponents[0].details.name?s("div",{staticClass:"slds-form-element__control"},[s("span",[e._v(e._s(e.currentUser.Name))])]):e._e(),e._v(" "),"reference"==i.layoutComponents[0].details.type&&"RecordTypeId"===i.layoutComponents[0].details.name?s("div",{staticClass:"slds-form-element__control"},[s("span",[e._v(e._s(e.recordTypeName))])]):e._e()]:e._e()],2)})),0)})),0)])})),0)]),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.showLoading,"custom-style":"position: relative; padding : 40px; background-color: white"}}),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),e.isHistoryTab||e.isWaitingTab?e._e():s("button",{staticClass:"slds-button slds-button_neutral",attrs:{"data-loading-text":"Saving",disabled:e.saveButtonDisabled||e.hasDateError},on:{click:function(t){return e.saveCase(!0)}}},[e._v(e._s(e.$t("saveAndMarkLabel")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",attrs:{"data-loading-text":"Saving",disabled:e.saveButtonDisabled||e.hasDateError},on:{click:function(t){return e.saveCase(!1)}}},[e._v(e._s(e.$t("global.saveBtn")))])])],1)]),e._v(" "),s("div",{staticClass:"slds-backdrop",class:{"slds-backdrop_open":e.showNewCaseModal},attrs:{id:"newCaseModal"}}),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth},on:{"select-option":e.selectPicklist,close:e.closeDropdown}}):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-grid slds-grid_align-spread"},[t("label",{staticClass:"slds-col slds-form-element__label slds-col--flex-1"},[this._v("Date")]),this._v(" "),t("label",{staticClass:"slds-col slds-form-element__label slds-col--flex-1"},[this._v("Time")])])}],!1,null,"10736a77",null);"function"==typeof cs.default&&Object(cs.default)(ds);var hs=ds.exports,us=s("PgUQ"),ps={props:{recordTypes:{type:Array,default:()=>[]}},data:()=>({selectedRecordType:{}}),created(){var e;this.selectedRecordType=d()(e=this.recordTypes).call(e,e=>!!e.defaultType)},methods:{close(){this.$emit("close")},selectRecordType(e){this.selectedRecordType=e},next(){this.$emit("select",this.selectedRecordType)}}},ms=(s("DDTe"),s("7DWr")),gs=Object(O.a)(ps,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"slds-modal slds-fade-in-open",attrs:{role:"dialog",tabindex:"-1","aria-labelledby":"modal-heading-01","aria-describedby":"modal-content-id-1"}},[s("div",{staticClass:"slds-modal__container"},[s("header",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",on:{click:function(t){return e.close()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium slds-hyphenate",attrs:{id:"modal-heading-01"}},[e._v(e._s(e.$t("newCaseLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium"},[s("section",{staticClass:"slds-grid record-type-section"},[s("label",{staticClass:"slds-form-element__label record-type-label"},[e._v(e._s(e.$t("recordTypeLabel")))]),e._v(" "),s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},e._l(e.recordTypes,(function(t){return s("span",{staticClass:"slds-radio radio-group",on:{click:function(s){return e.selectRecordType(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRecordType,expression:"selectedRecordType"}],attrs:{type:"radio",name:"options"},domProps:{value:t,checked:e._q(e.selectedRecordType,t)},on:{change:function(s){e.selectedRecordType=t}}}),e._v(" "),s("label",{staticClass:"slds-radio__label"},[s("span",{staticClass:"slds-radio_faux",class:{"radio-selected":e.selectedRecordType.value===t.value}}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(t.name))])])])})),0)])])]),e._v(" "),s("footer",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.close()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.next()}}},[e._v(e._s(e.$t("global.nextBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"eda780b0",null);"function"==typeof ms.default&&Object(ms.default)(gs);var fs=gs.exports,vs=s("kWsH"),_s=s.n(vs),Cs={data:()=>({mixinRecordTypeUrl:"",mixinRecordTypeName:"",mixinShowSelectRecordType:!1}),computed:a()({},Object(j.c)({mixinCurrentThread:"livechat/currentThread",mixinMessageListObj:"livechat/messageListObj",mixinRecordTypes:"caseLayout/recordTypes",mixinChatFormatTimeZone:"charketApp/chatFormatTimeZone"})),methods:{$_mixinSelectType(e){this.mixinRecordTypeUrl=e.value,this.mixinRecordTypeName=e.name,this.$_mixinOpenNewCaseModal(),this.mixinShowSelectRecordType=!1},$_mixinOpenCaseModal(){if(n.a.isInLightningConsole)this.$_mixinOpenNewCaseModal();else if(1===this.mixinRecordTypes.length){const e=this.mixinRecordTypes[0];e.master?this.mixinRecordTypeName="":this.mixinRecordTypeName=e.name,this.mixinShowSelectRecordType=!1,this.mixinRecordTypeUrl=this.mixinRecordTypes[0].value,this.$_mixinOpenNewCaseModal()}else this.mixinShowSelectRecordType=!0},$_mixinCloseCaseModal(){this.mixinShowSelectRecordType=!1},$_mixinOpenNewCaseModal(){if(!this.mixinCurrentThread)return;let e="\n---------- Chat Transcript ----------\n",t=[];const s=this.$_mixinGetSelectedMessages();for(const t of s){var i,a,l;let s="";s="Charket Bot"===t.SendBy?"Charket Bot":"Follower"===t.SendBy?this.currentThread.Follower.Name:t.Sender.Name;const n=Object(z.d)(t.WeChatCreatedTime,"yyyy-MM-dd HH:mm:ss",this.mixinChatFormatTimeZone.SidKey),o=this.$_mixinGetMessageText(t);e+=b()(i=b()(a=b()(l="".concat(s,"  ")).call(l,n," ")).call(a,this.mixinChatFormatTimeZone.Code,"\n")).call(i,o,"\n\n")}n.a.isInLightningConsole?o.a.openCaseModal(e,this.mixinCurrentThread.Follower.ContactId,this.mixinCurrentThread.Follower.AccountId):this.$root.$emit("open-new-case-modal",e,t,this.mixinRecordTypeUrl)},$_mixinGetSelectedMessages(){const e=[];for(const s of this.checkedMsgs){var t;let i=d()(t=this.mixinMessageListObj[this.mixinCurrentThread.Follower.Id].Messages).call(t,e=>e.MsgId===s);e.push(i)}return _s()(e).call(e,(function(e,t){return e.WeChatCreatedTime>t.WeChatCreatedTime?1:-1})),e},$_mixinGetMessageText(e){let t;var s,i,a,n;if("Video"===e.Type||"Voice"===e.Type||"Image"===e.Type)t=e.Body.AttachmentId?b()(s=b()(i=b()(a="[".concat(e.Type,"] https://")).call(a,window.location.host,"/servlet/servlet.FileDownload?file=")).call(i,e.Body.AttachmentId)).call(s,e.Body.Recognition?"\n"+e.Body.Recognition:""):b()(n="[".concat(e.Type,"] ")).call(n,e.Body.Title||"");else if("Location"===e.Type){var o,l,r,c;t=b()(o=b()(l=b()(r=b()(c="[".concat(e.Type,"] ")).call(c,e.Body.Content||"","\nhttp://map.qq.com/?type=marker&isopeninfowin=1&markertype=1&pointx=")).call(r,e.Body.Longitude,"&pointy=")).call(l,e.Body.Latitude,"&name=")).call(o,e.Body.Content)}else if("Link"===e.Type){var d,h;t=b()(d=b()(h="[".concat(e.Type,"] ")).call(h,e.Body.Title,"\n")).call(d,e.Body.URL)}else if("Link Structured Message"===e.Type){if(t="[Link Structured Message]\n",null!=e.Body)for(let[s,i]of Lt()(u=e.Body).call(u)){var u,p,m,g;t+=b()(p=b()(m=b()(g="[".concat(i.Title,"]\n")).call(g,i.Description||"","\n")).call(m,i.URL)).call(p,s===e.Body.length-1?"":"\n")}}else if("WeChat Structured Message"===e.Type){if(t="[WeChat Structured Message]\n",null!=e.Body)for(let[s,i]of Lt()(f=e.Body).call(f)){var f,v,_,C;t+=b()(v=b()(_=b()(C="[".concat(i.Title,"]\n")).call(C,i.Description||"","\n")).call(_,i.URL)).call(v,s===e.Body.length-1?"":"\n")}}else if("Coupon"===e.Type)t="[Coupon] ".concat(e.Body.Title);else if("Pass"===e.Type)t="[Pass] ".concat(e.Body.Title);else if("Transfer"===e.Type){var w;if(t="[".concat(e.Type,"] "),e.Body&&e.Body.To&&"Agent"===e.SendBy)t+=b()(w="The conversation was transferred to ".concat(e.Body.To.Name," by ")).call(w,e.Sender.Name,".");else if(e.Body&&e.Body.To&&e.Body.From&&"Supervisor"===e.SendBy){var y,T;t+=b()(y=b()(T="The conversation was transferred from ".concat(e.Body.From.Name," to ")).call(T,e.Body.To.Name," by ")).call(y,e.Sender.Name,".")}e.Body.Comment&&(t+="\nComment: ".concat(e.Body.Comment))}else if("Mini Program Page"===e.Type){var L;t=b()(L="[Mini Program Page]\nTitle: ".concat(e.Body.Title||"","\nPage Path: ")).call(L,e.Body.PagePath||"")}else if("Template"===e.Type){t="[Template]\n".concat(e.Body.Title,"\n");let s=e.Body.Content;for(const t of ut()(e.Body.ContentMapping))e.Body.ContentMapping[t]instanceof Object&&(s=s.replace("{{".concat(t,".DATA}}"),e.Body.ContentMapping[t].value));e.Body.MiniProgramPage&&e.Body.MiniProgramPage.Id?s+="\nMini Program Page: ".concat(e.Body.MiniProgramPage.Title):(e.Body.ContentMapping.url||e.Body.NotificationURL)&&(s+="\nURL: ".concat(e.Body.ContentMapping.url||e.Body.NotificationURL)),t+=s}else if("Scan"===e.Type){var I,k;t=b()(I=b()(k="".concat(e.Body.Content,"\nhttps://")).call(k,window.location.host,"/")).call(I,e.Body.ObjectId)}else if("MP Chat Opened"===e.Type)t="[MP Chat Opened] ".concat(e.Body.Content);else{var S;t=b()(S="".concat(e.IsKeyword?"[Keyword] ":"")).call(S,e.Body.Content)}return t}}},bs=s("rvCA");var ws={components:{NewCase:hs,ChatAgentList:us.a,SelectRecordType:fs},mixins:[Cs,bs.a],props:{isCurrentAgent:{type:Boolean,default:()=>!0},caseMsgs:{type:Array,default:()=>[]},isNewCaseVisible:{type:Boolean,default:()=>!1}},data:()=>({showWholeActions:!0,currentAgentItem:null,assignToAgent:{id:"",comment:""},isTransferButtonDisabled:!1,isShowDropdown:!1,checkedMsgs:[]}),computed:a()({},Object(j.c)({followers:"livechat/followers",messageListObj:"livechat/messageListObj",currentThread:"livechat/currentThread",currentUser:"user/currentUser",recordTypes:"caseLayout/recordTypes"}),{currentFollower(){return this.currentThread&&this.currentThread.Id?this.followers[this.currentThread.Follower.Id]||this.currentThread.Follower:null},isHistoryTab(){var e;return me()(e=this.$route.name).call(e,"history")>-1||this.currentThread&&"Completed"===this.currentThread.Status},isDisabled(){return!this.currentThread||this.currentThread.IsDisabled},isActionMenuVisible(){return this.isTransferVisible||this.isNewCaseVisible},isTransferVisible(){return!this.isHistoryTab&&this.isCurrentAgent},canTransfer(){return!this.assignToAgent.id},isNewCaseModalVisible(){return this.currentFollower&&"Contact"===this.currentFollower.Type},isMarkAsDownVisible(){return this.currentThread&&!this.isHistoryTab&&this.isCurrentAgent},hasMarkAsDownError(){return this.currentFollower&&this.mixinSendingStatus[this.currentFollower.Id]&&this.mixinSendingStatus[this.currentFollower.Id].errorCount>0},isChatAgentListVisible(){return this.currentThread&&this.currentThread.WeChatAccount&&this.currentThread.Agent}}),watch:{caseMsgs(e){this.checkedMsgs=[...e]}},mounted(){this.setAgentActionsDisplay(),window.addEventListener("resize",this.setAgentActionsDisplay),window.addEventListener("mousewheel",this.setAgentActionsDisplay),window.addEventListener("DOMMouseScroll",this.setAgentActionsDisplay),this.$root.$on("case-notification",e=>{this.openNotification(e,"success"),this.$emit("save-case-success")}),this.$on("close-chat-finished",()=>{this.$refs.MarkAsDoneModal&&this.$refs.MarkAsDoneModal.close()})},methods:{setAgentActionsDisplay(){const e=document.querySelector(".message-section-page");this.showWholeActions=e.clientWidth>467},openTransferModal(){this.isDisabled||(this.hideDropdown(),this.$refs.TransferModal.open())},onCloseTransferModal(){this.currentAgentItem={Name:""},this.assignToAgent.comment="",this.assignToAgent.id=""},onSelectAgent(e){this.assignToAgent.id=e.Id},onRemove(){this.assignToAgent.id=""},setTransferButtonStatus(e){this.isTransferButtonDisabled=e},onClickTransferCancel(){this.$refs.TransferModal.close()},async onClickTransfer(){this.setTransferButtonStatus(!0);const e=this.currentThread.Follower.Id;try{const t=await Object(Nt.q)({transcriptId:this.currentThread.Id,followerId:e,newAgentId:this.assignToAgent.id,content:this.assignToAgent.comment});t.ok?this.handleTransferChatSuccess(e):this.$refs.TransferModal.showError(t.error)}catch(e){const t=this.$parseErrorMessage(e);this.$refs.TransferModal.showError(t)}this.setTransferButtonStatus(!1)},handleTransferChatSuccess(e){this.mixinSendingStatus[e]&&0===this.mixinSendingStatus[e].count&&this.mixinSendingStatus[e].errorCount>0&&this.$store.commit("livechat/UPDATE_SENDING_STATUS",{followerId:e,type:"remove"});const t=this.currentThread.Id;this.$root.$emit("close-thread",t),this.$refs.TransferModal.close(),this.onCloseTransferModal(),"console-message"===this.$route.name&&(o.a.fireEvent("close-message",t),o.a.fireEvent("message-closed",t),o.a.closeTab())},openNewCaseModal(){if(this.hideDropdown(),0===this.checkedMsgs.length){const e=this.messageListObj[this.currentThread.Follower.Id].Messages;for(let t=e.length-1;t>=0;t--)"Close"===e[t].Type||e[t].Error||"System"!==e[t].SendBy&&this.checkedMsgs.unshift(e[t].MsgId)}this.$_mixinOpenCaseModal()},openNotification(e,t){this.$router.app.$emit("open-toast-notification",{content:e,type:t})},openMarkAsDoneModal(e){this.isDisabled||(this.mixinClosingThread=e,"consoleMessage"!==o.a.componentName?this.$refs.MarkAsDoneModal&&this.$refs.MarkAsDoneModal.open():o.a.closeChatConfirm(e.Id,t=>{"Cancel"!==t&&(o.a.fireEvent("message-closed",e.Id),"Yes"===t?this.$emit("refresh"):"Yes And Close Tab"===t&&o.a.closeTab())}))},closeMarkAsDoneModal(){this.mixinClosingThread=null,this.$refs.MarkAsDoneModal&&this.$refs.MarkAsDoneModal.close()},onClickActionButton(){this.isShowDropdown=!this.isShowDropdown,this.$root.$el.addEventListener("click",this.hideDropdown)},hideDropdown(){this.isShowDropdown=!1,this.$root.$el.removeEventListener("click",this.hideDropdown)}},beforeDestroy(){window.removeEventListener("resize",this.setAgentActionsDisplay),window.removeEventListener("mousewheel",this.setAgentActionsDisplay),window.removeEventListener("DOMMouseScroll",this.setAgentActionsDisplay),this.$root.$off(["case-notification"])}},ys=(s("eTAV"),s("jIQ+"),s("TbRc")),Ts=Object(O.a)(ws,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"agent-actions"},[e.showWholeActions?s("div",[e.isTransferVisible?s("span",{staticClass:"transfer",class:{"transfer--disabled":e.isDisabled},attrs:{title:e.$t("transferChat")},on:{click:function(t){return e.openTransferModal()}}},[s("icon",{attrs:{name:"transfer","class-name":"transfer-icon",width:"30px",height:"30px","charket-icon":""}})],1):e._e(),e._v(" "),e.isNewCaseVisible?s("button",{staticClass:"slds-button slds-button_neutral agent-actions__button",attrs:{disabled:e.isDisabled},on:{click:function(t){return e.openNewCaseModal()}}},[e._v("\n      "+e._s(e.$t("newCase"))+"\n    ")]):e._e(),e._v(" "),e.isMarkAsDownVisible?s("button",{staticClass:"slds-button slds-button_brand agent-actions__button",attrs:{disabled:e.isDisabled},on:{click:function(t){return e.openMarkAsDoneModal(e.currentThread)}}},[s("icon",{attrs:{name:"check",category:"utility","class-name":"slds-button__icon slds-button__icon_left"}}),e._v("\n      "+e._s(e.$t("markAsDone"))+"\n    ")],1):e._e()]):s("div",{staticClass:"actions--fold"},[e.isMarkAsDownVisible?s("div",{staticClass:"mark-as-down",class:{"mark-as-down--disabled":e.isDisabled},attrs:{title:e.$t("markAsDone")},on:{click:function(t){return e.openMarkAsDoneModal(e.currentThread)}}},[s("icon",{attrs:{name:"check",category:"utility",width:"15px",height:"15px","class-name":"mark-as-down-icon","charket-icon":""}})],1):e._e(),e._v(" "),e.isActionMenuVisible?s("div",{staticClass:"action-menu",on:{click:function(t){return t.stopPropagation(),e.onClickActionButton()}}},[s("div",{staticClass:"action-button"},[s("icon",{attrs:{name:"threedots","charket-icon":"",width:"16px",height:"16px","fill-color":"#706e6b","hover-color":"#004487"}})],1),e._v(" "),e.isShowDropdown?s("div",{staticClass:"slds-box slds-box_small dropdown-menu"},[s("ul",{staticClass:"slds-dropdown__list",attrs:{role:"menu","aria-label":"Show More"}},[e.isNewCaseVisible?s("li",{staticClass:"slds-dropdown__item dropdown-menu__item",class:{"dropdown-menu__item--disabled":e.isDisabled},attrs:{role:"presentation",title:e.$t("newCase")},on:{click:function(t){return t.stopPropagation(),e.openNewCaseModal()}}},[e._v("\n            "+e._s(e.$t("newCase"))+"\n          ")]):e._e(),e._v(" "),e.isTransferVisible?s("li",{staticClass:"slds-dropdown__item dropdown-menu__item",class:{"dropdown-menu__item--disabled":e.isDisabled},attrs:{role:"presentation",title:e.$t("transfer")},on:{click:function(t){return t.stopPropagation(),e.openTransferModal()}}},[e._v("\n            "+e._s(e.$t("transfer"))+"\n          ")]):e._e()])]):e._e()]):e._e()]),e._v(" "),s("ld-modal",{ref:"TransferModal",attrs:{title:e.$t("transferChat"),width:"auto","min-width":"auto","max-width":533},on:{close:function(t){return e.onCloseTransferModal()}},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"slds-p-around_medium"},[e.isChatAgentListVisible?s("chat-agent-list",{attrs:{"account-id":e.currentThread.WeChatAccount.Id,"user-id":e.currentUser.Id,current:e.currentAgentItem,"from-agent-id":e.currentThread.Agent.Id},on:{select:function(t){return e.onSelectAgent(t)},remove:function(t){return e.onRemove()}}}):e._e(),e._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label transfer-modal-label"},[e._v(e._s(e.$t("comment")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.assignToAgent.comment,expression:"assignToAgent.comment"}],staticClass:"slds-textarea",domProps:{value:e.assignToAgent.comment},on:{input:function(t){t.target.composing||e.$set(e.assignToAgent,"comment",t.target.value)}}})])])],1)]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isTransferButtonDisabled},on:{click:function(t){return e.onClickTransferCancel()}}},[e._v("\n        "+e._s(e.$t("global.cancelBtn"))+"\n      ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isTransferButtonDisabled||e.canTransfer},on:{click:function(t){return e.onClickTransfer()}}},[e._v("\n        "+e._s(e.$t("transfer"))+"\n      ")])]},proxy:!0}])}),e._v(" "),e.isNewCaseModalVisible?s("new-case",{attrs:{"contact-id":e.currentFollower.Contact.Id,"record-type-name":e.mixinRecordTypeName}}):e._e(),e._v(" "),s("ld-modal",{ref:"MarkAsDoneModal",attrs:{title:e.$t("markAsDone"),width:"auto","min-width":"auto","max-width":533,"close-button-disabled":e.mixinCloseChatModalBtnDisabled},scopedSlots:e._u([{key:"content",fn:function(){return[e.hasMarkAsDownError?s("div",{staticClass:"slds-popover__body slds-theme--error mark-as-down--error"},[e._v("\n        "+e._s(e.$t("sendingError"))+"\n      ")]):e._e(),e._v(" "),s("div",{staticClass:"mark-as-down__content slds-p-around_medium",class:{"mark-as-down__content--error":e.hasMarkAsDownError}},[e._v("\n        "+e._s(e.$t("sureToEnd"))+"\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.mixinCloseChatModalBtnDisabled},on:{click:function(t){return e.closeMarkAsDoneModal()}}},[e._v("\n          "+e._s(e.$t("no"))+"\n        ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",attrs:{disabled:e.mixinCloseChatModalBtnDisabled},on:{click:function(t){return e.$_mixinCloseTranscript()}}},[e._v("\n          "+e._s(e.$t("yes"))+"\n        ")])]},proxy:!0}])}),e._v(" "),e.mixinShowSelectRecordType?s("select-record-type",{attrs:{"record-types":e.recordTypes},on:{select:e.$_mixinSelectType,close:e.$_mixinCloseCaseModal}}):e._e()],1)}),[],!1,null,"52323674",null);"function"==typeof ys.default&&Object(ys.default)(Ts);var Ls={components:{MessageList:Q,MessageSender:Jt,AgentActions:Ts.exports},props:{isCurrentAgent:{type:Boolean,default:!0}},computed:a()({},Object(j.c)({followers:"livechat/followers",currentThread:"livechat/currentThread",currentUser:"user/currentUser",uploadingFiles:"livechat/uploadingFiles",wechatAccounts:"sidebar/wechatAccounts"}),{displayedWeChatFollowerName(){return this.currentThread&&this.currentThread.Follower?this.currentThread.Follower.Name:""},displayedWeChatAccount(){return this.currentThread&&this.currentThread.WeChatAccount?this.currentThread.WeChatAccount:{}},currentThreadWeChatAccount(){return this.currentThread?this.wechatAccounts[this.currentThread.WeChatAccount.Id]:{}},isCurrentThreadStatusWaiting(){return!!this.currentThread&&"Waiting"===this.currentThread.Status},isCurrentThreadStatusInProgress(){return!!this.currentThread&&"In Progress"===this.currentThread.Status},isNotInLightningConsole:()=>!n.a.isInLightningConsole,isInLightningNotConsole:()=>!o.a.isInWorkspace&&n.a.isInLightningConsole,isLightningConsoleReadOnly(){return o.a.isChatListExisting&&!this.currentThreadWeChatAccount.LiveChatEnabled},isOmniChannelReadOnly(){return!!o.a.isOmniChannelAdapterExisting&&(!!this.currentThreadWeChatAccount.LiveChatEnabled||!this.isCurrentThreadStatusInProgress)},isReadOnly(){return!this.isNotInLightningConsole&&(!!this.isInLightningNotConsole||(!o.a.isOmniChannelAdapterExisting&&!o.a.isChatListExisting||(o.a.isOmniChannelAdapterExisting&&o.a.isChatListExisting?!this.currentThreadWeChatAccount.LiveChatEnabled&&!this.isCurrentThreadStatusInProgress:this.isLightningConsoleReadOnly||this.isOmniChannelReadOnly)))},isMessageSenderVisible(){return!this.currentThread.HasNoAgent&&!this.isReadOnly},hasCasePermission(){return this.currentUser.Permissions.Buttons.NewCase&&this.currentUser.Permissions.Objects.CaseObj.IsInsertable},isFollowerRelatedToContact(){return this.currentFollower&&("Contact"===this.currentFollower.Type||this.currentFollower.ContactId)},canNewCase(){return this.hasCasePermission&&this.isFollowerRelatedToContact&&!this.isCurrentThreadStatusWaiting},currentFollower(){return this.currentThread&&this.currentThread.Id?this.followers[this.currentThread.Follower.Id]||this.currentThread.Follower:null}}),data:()=>({checkedMsgs:[],unreadCount:0,isInLightningConsole:n.a.isInLightningConsole,accountTypeToIcon:{"Service Account":"wechatAccountService","Subscription Account":"wechatAccountSubscription","Mini Program":"wechatAccountMiniprogram"}}),methods:{progressPercentFilter:e=>"".concat(Math.ceil(e.positionIndex/e.body.length*100),"%"),cancelUploadFile(e){this.$store.commit("livechat/UPDATE_UPLOADING_FILES",{action:"delete",fileInfo:e})},saveCaseSuccess(){this.checkedMsgs=[]},onRefresh(){this.$emit("refresh")}}},Is=(s("LZ4H"),s("LT03")),ks=Object(O.a)(Ls,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-section-page",class:{"lightning-console":e.isInLightningConsole}},[s("div",{staticClass:"slds-grid slds-grid_align-spread message-section-header slds-border_bottom"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center header-left"},[e.currentThread&&e.currentThread.Follower?s("div",{staticClass:"follower-photo slds-m-right_x-small"},[s("img",{attrs:{src:e.currentThread.Follower.PhotoUrl,alt:""}})]):e._e(),e._v(" "),s("div",{staticClass:"follower-info"},[s("div",{staticClass:"slds-grid follower-name-wrapper",attrs:{title:e.displayedWeChatFollowerName}},[s("div",{staticClass:"follower-name"},[s("span",[e._v("\n              "+e._s(e.displayedWeChatFollowerName)+"\n            ")])])]),e._v(" "),e.displayedWeChatAccount.Name?s("div",{staticClass:"slds-grid slds-grid_vertical-align-center",attrs:{title:e.displayedWeChatAccount.Name}},[s("icon",{staticClass:"slds-m-right_xx-small",attrs:{name:e.accountTypeToIcon[e.displayedWeChatAccount.Type],width:"10px",height:"10px","fill-color":"#706e6b"}}),e._v(" "),s("div",{staticClass:"account-name-wrapper"},[s("span",{staticClass:"account-name"},[e._v("\n              "+e._s(e.displayedWeChatAccount.Name)+"\n            ")])])],1):e._e()])]),e._v(" "),e.isInLightningNotConsole?e._e():s("div",{staticClass:"slds-grid slds-grid_align-end slds-grid_vertical-align-center slds-m-left_x-small header-right"},[e.isReadOnly?e._e():s("agent-actions",{attrs:{"is-current-agent":e.isCurrentAgent,"is-new-case-visible":e.canNewCase,"case-msgs":e.checkedMsgs},on:{"save-case-success":function(t){return e.saveCaseSuccess()},refresh:e.onRefresh}})],1)]),e._v(" "),e.currentThread?s("div",{staticClass:"slds-grid message-section-content"},[s("div",{staticClass:"content-left slds-grid slds-grid_vertical slds-col"},[e.uploadingFiles.length>0?s("ul",{staticClass:"uploading-status-bar"},e._l(e.uploadingFiles,(function(t){return s("li",{staticClass:"uploading-status-item slds-grid"},[s("div",{staticClass:"progress-bar",style:{width:e.progressPercentFilter(t.file)}}),e._v(" "),s("div",{staticClass:"progress-data-bar"},[s("span",[e._v(e._s("Uploading"===t.file.status?e.$t("uploading"):e.$t("waiting")))]),e._v(" "),s("span",[e._v(e._s(e.progressPercentFilter(t.file)))])]),e._v(" "),s("div",{staticClass:"upload-file-name slds-truncate"},[e._v(e._s(t.file.name))]),e._v(" "),s("div",{staticClass:"progress-cancel",on:{click:function(s){return e.cancelUploadFile(t)}}},[e._v("\n            "+e._s(e.$t("global.cancelBtn"))+"\n          ")])])})),0):e._e(),e._v(" "),s("div",{staticClass:"message-list slds-border_bottom",class:{"message-sender-hidden":!e.isMessageSenderVisible}},[s("message-list",{attrs:{"checked-messages":e.checkedMsgs,"can-new-case":e.canNewCase},on:{"update:checkedMessages":function(t){e.checkedMsgs=t},"update:checked-messages":function(t){e.checkedMsgs=t}}})],1),e._v(" "),e.isMessageSenderVisible?s("div",{staticClass:"message-sender"},[s("message-sender")],1):e._e()])]):e._e()])}),[],!1,null,"74c2109c",null);"function"==typeof Is.default&&Object(Is.default)(ks);t.a=ks.exports},xEMq:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"g",(function(){return n})),s.d(t,"k",(function(){return o})),s.d(t,"c",(function(){return l})),s.d(t,"j",(function(){return r})),s.d(t,"f",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"i",(function(){return h})),s.d(t,"d",(function(){return u})),s.d(t,"h",(function(){return p})),s.d(t,"b",(function(){return m}));var i=s("00Ee");function a(e){return Object(i.a)({method:"MessageRemoteActions.deleteMessage",args:[e]})}function n(e,t){return Object(i.a)({method:"MessageRemoteActions.saveTextMessage",args:[e,t]})}function o(e,t){return Object(i.a)({method:"MessageRemoteActions.updateTextMessage",args:[e,t]})}function l(e){return Object(i.a)({method:"MessageRemoteActions.getStructuredMessage",args:[e]})}function r(e,t,s){return Object(i.a)({method:"MessageRemoteActions.updateStructuredMessage",args:[e,t,s]})}function c(e,t,s){return Object(i.a)({method:"MessageRemoteActions.saveStructuredMessage",args:[e,t,s]})}function d(e,t){return Object(i.a)({method:"MessageRemoteActions.saveMiniProgramPage",args:[e,t]})}function h(e,t){return Object(i.a)({method:"MessageRemoteActions.updateMiniProgramPage",args:[e,t]})}function u(){return Object(i.a)({method:"MessageRemoteActions.getStructuredMessageType",args:[]})}function p(e,t){return Object(i.a)({method:"MessageRemoteActions.updateMessageName",args:[e,t]})}function m(e){return Object(i.a)({method:"MessageRemoteActions.getMiniProgramAppId",args:[e]})}},xIYg:function(e,t,s){"use strict";var i=s("hgdN"),a=s.n(i);t.default=a.a},xO9t:function(e,t,s){"use strict";var i=s("EfJT");s.n(i).a},xnJK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY5MjhCQ0VBQTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY5MjhCQ0VCQTdGNTExRTZBNjM4QjM3QTM2Nzk2QUE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjkyOEJDRThBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjkyOEJDRTlBN0Y1MTFFNkE2MzhCMzdBMzY3OTZBQTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4QfqS2AAAD7klEQVR42uya+0/aUBTH+6LUgsUWEBTEtzHR6aKJiVvi9uP+4y1Zlkx/mMmSOed0U1EUFQErD5FXKbTrZNnuqc5kA/pIen7iHkh7Pr3nfM+5Dfj+wSFmZyMwm5sD4AA4AA6AA+AAGGaX5ZCiEnYFOMxH3u5xm2djqmpDAC36zTirfTjKkLtizGYAR4Vf0bdt68SdrQbsBOChZRx63u/z9VafbQCGPFdrs2XUU5exrdSQnWpgzJeeHW6inniaFOt+6wLcl8vl6DkHs+Zjglc7DoDokea8/j4hKzTqpPDms6kC6rm+xbNVv+UA2oqpBbd+PKLbhxB7PRpUUM/XC85aAL/1XrNUntjJjuh+sBDJg95cIMpyv1UAJIXZTrKo50uSzks86hHchTAPWvH5zYBVANxE/dVc1kUB52bCr5sdZkMVdHkiui2UQhxdWpu5BZVa0io1iHqG+3M40tjEEt5Q3GYC6KQw2p+JBUCl7qVBpbqIRmgAbEq+xpkGoFXtRmJMx7A0kkOXqRyhGxyivIQuCzXGHIC25pyK5G42ivp9dBF9xtqnq6oP/QHPAoBi1WUCAKqY20l3telBv50M1tDlVQk8Yy9dBztQIYwGQKO/GxywRB701KAXSE2uArSJISU42+GGAuiib1syBwYHlgI7cFMBIZJ4C102mgbK6IPR/0yDMg6lRn4kRBIHa0k2tA88vN3kv1yppYKMcrsMBJgRLlana/f9Pg+QdlkBQdGUDoB85Nue18CDDDGhgS6rTSD8PhbgSS1QMIxLNVqFdAwEjo0LoHmJZaCqfi9I+ooMVJX3KCb0AZRhcbThoYBuHotgBwa5OlRVADDA/n8Vd5B9dwzYdDRdpJ+EzoFoNgayRRyt+kH2BgwXBTC98X11cwDaDNOClkEgBz5fgKYW8SsMWUPqm84UgZQJfSUzp1Fd9BflcFIEl50bAvFdlsEJIcipNCFZ5TxQanAbB+CIGODUECuinoMMqO+xoNTJHbt6pGwxb/ZCMmy6q+Pg+KKdMNMFkD8xX9EyR0qy/nQU9IeFmCww4FXKTkoApzNe8bpuLXSkRLU1IiiL4TP022wtoCuP+chth3eksG5bW1vjGebF5DmB/6nvpkp9iIM3FIF+Ney5thxAm2FKoAgMVMOn1EgJzh8rEwWdgpmfQsh1QfTJm6H9FHhYU+FWkMl140a9t3RlcP3Aq5ufl6PpLj2pHlul6Xn3zad7t/Vytoj2ZksDaEPeyiSIdWlcCsPWZvUUQrV1ItSaD5518eIUZoi1tfWy6H4+eorj3bwybuRfzlSM6Fw3TUihv82t9gPoTcNxABwAB8ABcAAcAAfAPPshwABR63vz6uTQFQAAAABJRU5ErkJggg=="},xsKZ:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 36 36" id="new_messages" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>&#x8DEF;&#x5F84;</title> <desc>Created with Sketch.</desc> <g> <path d="M19.9,0.2C19.9,0.2,19.9,0.2,19.9,0.2C19.9,0.2,19.8,0.2,19.9,0.2l-3.6,0C8.5,0.2,1.8,6,0.8,13.8l0,0.1\r\n\t\tc-0.1,0.3-0.1,0.5-0.1,0.8c-0.7,5.2,1.1,9.9,4.5,13.9c2.2,2.6,5.1,5,8.1,6.6l1.2,0.7l0.2-1.4c0.1-0.7,0.3-1.3,0.7-1.7\r\n\t\tc0.5-0.6,1.3-1,2.4-1h2.1c3.9,0,7.6-1.5,10.4-4.1c3.2-3,5.1-7.2,5.2-11.7C35.8,7.4,28.9,0.5,19.9,0.2z M29,26.2\r\n\t\tc-2.5,2.3-5.7,3.6-9.1,3.6h-2.1c-1.7,0-3,0.7-3.9,1.7c-0.3,0.4-0.6,0.9-0.8,1.4c-2.4-1.5-4.7-3.4-6.5-5.5\r\n\t\tc-3.1-3.7-4.7-7.9-4.1-12.4c0-0.2,0.1-0.4,0.1-0.7l0-0.1l0-0.1C3.6,7.2,9.4,2.1,16.3,2.1h3.6c8,0.3,14,6.3,13.8,13.7\r\n\t\tC33.5,19.8,31.8,23.6,29,26.2z" fill=""/> <path d="M23.3,15.8h-4.7v-5.2c0-0.6-0.4-1.1-0.9-1.1c-0.5,0-0.9,0.5-0.9,1.1v5.2h-5.6c-0.6,0-1.1,0.4-1.1,0.9\r\n\t\ts0.5,0.9,1.1,0.9h5.6v5c0,0.6,0.4,1.1,0.9,1.1c0.5,0,0.9-0.5,0.9-1.1v-5h4.7c0.6,0,1.1-0.4,1.1-0.9S23.9,15.8,23.3,15.8z" fill=""/> </g> </symbol>',"new_messages")},xxAs:function(e,t,s){"use strict";var i=s("B7A8");s.n(i).a},xxvK:function(e,t,s){"use strict";var i={props:{currentPlayVideo:{type:Object,default:()=>({})}},methods:{close(){this.$emit("close")}},beforeDestroy(){const e=document.querySelector("#messagePopupVideo");e&&!e.paused&&e.pause()}},a=(s("afxJ"),s("KHd+")),n=s("/Dks"),o=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"video-play-modal"}},[s("div",{staticClass:"slds-modal slds-modal_large media-modal",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container media-play-container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header media-modal-header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.close()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("Close")))])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium slds-truncate"},[e._v(e._s(e.currentPlayVideo.name))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium slds-col media-play-area"},[s("video",{attrs:{width:"100%",height:"100%",controls:"",src:e.currentPlayVideo.url,id:"messagePopupVideo"}})])])]),e._v(" "),s("div",{staticClass:"media-play-backdrop"})])}),[],!1,null,"33010aea",null);"function"==typeof n.default&&Object(n.default)(o);t.a=o.exports},xy4U:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_heading" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M17.8,1.3H4.5c-1.6,0-2.8,1.3-2.8,2.8v4h19v-4C20.6,2.5,19.4,1.3,17.8,1.3z" fill=""/> <path d="M10.1,19.5h-1c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1c0.3,0,0.5-0.2,0.5-0.5S10.4,19.5,10.1,19.5z" fill=""/> <path d="M3.9,19.4c-0.2-0.1-0.5-0.2-0.7-0.4c-0.2-0.2-0.5-0.2-0.7,0c-0.2,0.2-0.2,0.5,0,0.7c0.3,0.3,0.7,0.5,1,0.6\n\t\tc0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.5-0.4C4.3,19.8,4.1,19.5,3.9,19.4z" fill=""/> <path d="M6.9,19.5h-1c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1c0.3,0,0.5-0.2,0.5-0.5S7.2,19.5,6.9,19.5z" fill=""/> <path d="M2,11.5c0.3,0,0.5-0.2,0.5-0.5v-1c0-0.3-0.2-0.5-0.5-0.5S1.5,9.8,1.5,10v1C1.5,11.3,1.7,11.5,2,11.5z" fill=""/> <path d="M2,14.7c0.3,0,0.5-0.2,0.5-0.5v-1c0-0.3-0.2-0.5-0.5-0.5S1.5,13,1.5,13.2v1C1.5,14.5,1.7,14.7,2,14.7z" fill=""/> <path d="M2.5,17.4c0-0.1,0-0.2,0-0.2v-0.7c0-0.3-0.2-0.5-0.5-0.5s-0.5,0.2-0.5,0.5v0.7c0,0.1,0,0.2,0,0.3\n\t\tc0,0.3,0.2,0.5,0.5,0.5c0,0,0,0,0,0C2.3,17.9,2.5,17.7,2.5,17.4z" fill=""/> <path d="M13.3,19.5h-1c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1c0.3,0,0.5-0.2,0.5-0.5S13.6,19.5,13.3,19.5z" fill=""/> <path d="M20,9.5c-0.3,0-0.5,0.2-0.5,0.5v0.5c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V10C20.5,9.8,20.3,9.5,20,9.5z" fill=""/> <path d="M20,12.2c-0.3,0-0.5,0.2-0.5,0.5v1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-1C20.5,12.4,20.3,12.2,20,12.2z" fill=""/> <path d="M16.5,19.5h-1c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1c0.3,0,0.5-0.2,0.5-0.5S16.8,19.5,16.5,19.5z" fill=""/> <path d="M19,18.7c-0.2,0.2-0.4,0.4-0.6,0.5c-0.2,0.1-0.3,0.5-0.2,0.7c0.1,0.2,0.3,0.2,0.4,0.2c0.1,0,0.2,0,0.3-0.1\n\t\tc0.3-0.2,0.6-0.5,0.9-0.8c0.2-0.2,0.1-0.5-0.1-0.7C19.5,18.4,19.2,18.4,19,18.7z" fill=""/> <path d="M20,15.4c-0.3,0-0.5,0.2-0.5,0.5v1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-1C20.5,15.6,20.3,15.4,20,15.4z" fill=""/> </symbol>',"form_heading")},yP2L:function(e,t,s){"use strict";var i=s("C54g"),a=s.n(i);t.default=a.a},yU15:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"fieldLabel":"选择一个字段","chooseBtn":"选择","fieldTitle":"你已选择以下字段","placeholderFindObject":"查找对象...","placeholderLabelFilter":"键入以过滤列表...","typeLabel":"类型","apiNameLabel":"API名"},"en":{"fieldLabel":"Select A Field","chooseBtn":"Choose","fieldTitle":"You have selected the following field","placeholderFindObject":"Find An Object...","placeholderLabelFilter":"Type here to filter the list...","typeLabel":"Type","apiNameLabel":"API Name"}}'),delete e.options._Ctor}},yeVX:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="event_icon" ><path d="m46.5 20h-41c-0.8 0-1.5 0.7-1.5 1.5v24.5c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4v-24.5c0-0.8-0.7-1.5-1.5-1.5z m-27.5 22c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m10 10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m10 10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m0-10c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-4c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v4z m5-25h-5v-2c0-1.6-1.3-3-3-3-1.6 0-3 1.3-3 3v2h-14v-2c0-1.6-1.3-3-3-3-1.6 0-3 1.3-3 3v2h-5c-2.2 0-4 1.8-4 4v2.5c0 0.8 0.7 1.5 1.5 1.5h41c0.8 0 1.5-0.7 1.5-1.5v-2.5c0-2.2-1.8-4-4-4z" fill=""/></symbol>',"event_icon")},yekd:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_banner" xmlns:xlink="http://www.w3.org/1999/xlink"> <path id="form_banner_XMLID_1_" d="M20.2,15H1.8c-0.6,0-1-0.6-0.7-1.1l1.5-2.6c0.1-0.2,0.1-0.5,0-0.7L1.1,8.1C0.8,7.6,1.2,7,1.8,7\r\n\t\th18.4c0.6,0,1,0.6,0.7,1l-1.4,2.7c-0.1,0.2-0.1,0.4,0,0.6l1.4,2.7C21.2,14.4,20.8,15,20.2,15z" fill=""/> <path id="form_banner_XMLID_2_" d="M15,20.1H7c-1.1,0-2.1-1.1-2.1-2.4V4.4C4.9,3,5.9,1.9,7,1.9h8c1.1,0,2.1,1.1,2.1,2.4v13.3\r\n\t\tC17.1,19,16.1,20.1,15,20.1z M7,2.9c-0.6,0-1.1,0.6-1.1,1.4v13.3c0,0.8,0.5,1.4,1.1,1.4h8c0.6,0,1.1-0.6,1.1-1.4V4.4\r\n\t\tc0-0.8-0.5-1.4-1.1-1.4H7z" fill=""/> </symbol>',"form_banner")},yfvR:function(e,t,s){"use strict";var i=s("NIf7"),a=s.n(i);t.default=a.a},yiqd:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"close":"关闭","uploadImage":"上传图片","uploadVoiceClip":"上传语音","uploadVideo":"上传视频","uploadErrorMsgContent":"最大文件大小为 2 MB。","title":"标题","description":"描述","cancel":"取消","Uploading":"上传中","Upload":"上传"},"en":{"close":"Close","uploadImage":"Upload Image","uploadVoiceClip":"Upload Voice Clip","uploadVideo":"Upload Video","uploadErrorMsgContent":"The maximum file size is 2 MB.","title":"Title","description":"Description","cancel":"Cancel","Uploading":"Uploading","Upload":"Upload"}}'),delete e.options._Ctor}},yla0:function(e,t,s){},yz3v:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"titleLabel":"标题","urlLabel":"链接网址","illegalUrlLabel":"不合法的网址","appIdLabel":"App ID","pagePathLabel":"页面路径","name":"名称","value":"选项值"},"en":{"titleLabel":"Title","urlLabel":"Link URL","illegalUrlLabel":"Invalid URL","appIdLabel":"App ID","pagePathLabel":"Page Path","name":"Name","value":"Value"}}'),delete e.options._Ctor}},z4ON:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 22 22" id="form_text" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="form_text_XMLID_1_"> <g id="form_text_XMLID_66_"> <path id="form_text_XMLID_110_" d="M18.3,4C19.2,4,20,4.8,20,5.7v10.6c0,0.9-0.8,1.7-1.7,1.7H3.7C2.8,18,2,17.2,2,16.3V5.7\r\n\t\t\tC2,4.8,2.8,4,3.7,4H18.3 M18.3,3H3.7C2.2,3,1,4.2,1,5.7v10.6C1,17.8,2.2,19,3.7,19h14.6c1.5,0,2.7-1.2,2.7-2.7V5.7\r\n\t\t\tC21,4.2,19.8,3,18.3,3L18.3,3z" fill=""/> </g> <g id="form_text_XMLID_65_"> <path id="form_text_XMLID_105_" d="M5.8,15.7c-0.6,0-1-0.4-1-1V8c0-0.6,0.4-1,1-1s1,0.4,1,1v6.7C6.8,15.3,6.4,15.7,5.8,15.7z" fill=""/> </g> </g> </symbol>',"form_text")},"zAy/":function(e,t,s){"use strict";var i=s("+dyS"),a=s.n(i),n=s("vQrK"),o=s.n(n),l=s("KTdE"),r=s("3KLK"),c=s("OB9W"),d=s("5kNm"),h=s("L2JU"),u=s("jkSJ"),p={data:()=>({isShowDropdown:!1}),computed:o()({},Object(h.c)({followers:"livechat/followers",currentThread:"livechat/currentThread",currentUser:"user/currentUser"}),{currentFollower(){return this.currentThread&&this.currentThread.Id?this.followers[this.currentThread.Follower.Id]||this.currentThread.Follower:null},showActionMenu(){return this.currentThread&&!this.currentThread.IsDisabled&&this.currentFollower&&"Mini Program"!==this.currentFollower.WeChatAccount.Type}}),methods:{getMenuItems(){const e=[{value:"Sync",label:this.$t("syncModalTitleLabel")}];return this.currentUser.Permissions.Buttons.BlockFollower?(this.currentFollower.IsBlocked?e.push({value:"UnBlock",label:this.$t("unblockModalTitleLabel")}):e.push({value:"Block",label:this.$t("blockModalTitleLabel")}),e):e},onClickActionButton(){this.isShowDropdown=!this.isShowDropdown,this.$root.$el.addEventListener("click",this.hideDropdown)},hideDropdown(){this.isShowDropdown=!1,this.$root.$el.removeEventListener("click",this.hideDropdown)},onClickMenuItem(e){let{value:t}=e;this.hideDropdown();const s=this.currentThread.Follower.Id,i=this.currentThread.WeChatAccount.Id;"UnBlock"===t?this.unblock(s,i):"Block"===t?this.block(s,i):"Sync"===t&&this.sync(s)},unblock(e,t){const s=this.$confirm({title:this.$t("unblockModalTitleLabel"),content:this.$t("unblockModalContentLabel"),ok:this.$t("unblockFollowerBtn")});s.$on("ok",async()=>{try{await u.f.unblock(t,[e]),this.$store.commit("livechat/UPDATE_FOLLOWER_ISBLOCKED",!1),this.$toast({type:"success",content:this.$t("unblockFollowerSuccess")}),s.close()}catch(e){this.$handleError(e),s.resume()}})},block(e,t){const s=this.$confirm({title:this.$t("blockModalTitleLabel"),content:this.$t("blockModalContentLabel"),ok:this.$t("blockFollowerBtn")});s.$on("ok",async()=>{try{await u.f.block(t,[e]),this.$store.commit("livechat/UPDATE_FOLLOWER_ISBLOCKED",!0),this.$toast({type:"success",content:this.$t("blockFollowerSuccess")}),s.close()}catch(e){this.$handleError(e),s.resume()}})},async sync(e){this.$emit("action-start");try{const t=await u.f.sync(e);this.$store.dispatch("livechat/updateRelatedFollower",t),this.$root.$emit("refresh-tab")}catch(e){this.$handleError(e)}finally{this.$emit("action-end")}}}},m=(s("xO9t"),s("KHd+")),g=s("8EMR"),f=Object(m.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showActionMenu?s("div",{staticClass:"follower-action-menu"},[s("div",{attrs:{title:e.$t("moreItemsLabel")},on:{click:function(t){return t.stopPropagation(),e.onClickActionButton()}}},[s("icon",{staticClass:"action-button",attrs:{name:"threedotsVertical",width:"16px",height:"16px","fill-color":"#706e6b","hover-color":"#004487"}}),e._v(" "),e.isShowDropdown?s("div",{staticClass:"slds-box slds-box_small dropdown-menu"},[s("ul",{staticClass:"slds-dropdown__list",attrs:{role:"menu","aria-label":"Show More"}},e._l(e.getMenuItems(),(function(t,i){return s("li",{key:i,staticClass:"slds-dropdown__item dropdown-menu__item",attrs:{title:t.label,role:"presentation"},on:{click:function(s){return s.stopPropagation(),e.onClickMenuItem(t)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)]):e._e()],1)]):e._e()}),[],!1,null,"866b1032",null);"function"==typeof g.default&&Object(g.default)(f);var v=f.exports,_=s("w2Vt"),C=s("OB6B"),b=s("4Wlx"),w=s("XIlo"),y=s("4B+h"),T=s("LQ5e"),L=s.n(T),I={components:{FollowerDetail:l.a,FollowerTag:r.a,RelatedDetail:c.a,FollowerRelatedList:d.a,FollowerActionMenu:v,LoadingSpinner:_.a},props:{currentUser:{type:Object,default:()=>({})},currentThread:{type:Object,default:()=>({})}},async created(){this.$root.$on("refresh-tab",this.refreshFollower),this.$root.$on("save-case-success",()=>{"case"!==this.currentDetail?this.getRelatedObjectCounts():this.$root.$emit("refresh-tab")}),this.isLightningPage=window.ForceUI.isLightningExperience(),this.originUrl=window.location.origin,this.initData(this.currentThread.Follower.Id)},filters:{countFilter:e=>Number(e)>9?"9+":Number(e)},data:()=>({isLightningPage:!1,isFetchingData:!1,originUrl:"",relatedPopupVisible:!1,isSavingRelated:!1,isInClassicConsole:w.a.isInClassicConsole&&("consoleThread"===C.a.componentName||"consoleMessage"===C.a.componentName),charketAppInConsole:w.a.isInClassicConsole&&"consoleThread"!==C.a.componentName&&"consoleMessage"!==C.a.componentName,currentDetail:"follower",relatedObjCountsStore:{},accountsTags:{}}),watch:{"currentThread.Follower.Id"(e){this.initData(e),this.relatedPopupVisible=!1}},computed:o()({},Object(h.c)({followers:"livechat/followers",leadsOrContacts:"livechat/leadsOrContacts"}),{isCampaignMenuVisible(){return("Contact"===this.currentFollower.Type||"Lead"===this.currentFollower.Type)&&this.currentUser.Permissions.Objects.Campaign.IsReadable&&this.relatedDetail},isOpportunityMenuVisible(){return"Contact"===this.currentFollower.Type&&this.currentUser.Permissions.Objects.Contact.IsReadable&&this.currentUser.Permissions.Objects.Opportunity.IsReadable&&this.relatedDetail},isCaseMenuVisible(){return"Contact"===this.currentFollower.Type&&this.currentUser.Permissions.Objects.CaseObj.IsReadable&&this.relatedDetail},isTagSectionVisible(){return!(!this.currentFollower.WeChatAccount||!this.currentFollower.WeChatAccount.Type||"Mini Program"===this.currentFollower.WeChatAccount.Type)&&!this.isFetchingData},relatedListVisible(){var e;return a()(e=["campaign","opportunity","case"]).call(e,e=>e===this.currentDetail)},currentFollower(){return this.currentThread&&this.followers[this.currentThread.Follower.Id]?this.followers[this.currentThread.Follower.Id]:{}},accountId(){return this.currentFollower.WeChatAccount?this.currentFollower.WeChatAccount.Id:""},isRelatedDetailReadable(){return"Lead"===this.currentFollower.Type?this.isLeadReadable:"Contact"!==this.currentFollower.Type||this.isContactReadable},isRelatedDetailVisible(){return!(this.isFetchingData||!this.currentFollower||!this.relatedDetail)&&this.isRelatedDetailReadable},relatedDetail(){const e=this.leadOrContactId;return e?this.leadsOrContacts[e]||this.currentFollower[this.currentFollower.Type]:null},isContactReadable(){return this.$user.Permissions.Objects.Contact.IsReadable},isLeadReadable(){return this.$user.Permissions.Objects.Lead.IsReadable},leadOrContactId(){if(!this.currentFollower||!this.currentFollower.Type||"Lead"!==this.currentFollower.Type&&"Contact"!==this.currentFollower.Type)return"";return this.currentFollower[this.currentFollower.Type].Id},relatedObjCounts(){return this.leadOrContactId&&this.relatedObjCountsStore[this.leadOrContactId]?this.relatedObjCountsStore[this.leadOrContactId]:{CampaignMemberCount:0,CaseCount:0,OpportunityCount:0}}}),methods:{onSyncFollower(e){this.isFetchingData=e},onRelatedListLoaded(e){switch(this.currentDetail){case"campaign":this.relatedObjCounts.CampaignMemberCount=e;break;case"opportunity":this.relatedObjCounts.OpportunityCount=e;break;case"case":this.relatedObjCounts.CaseCount=e}},async initData(e){this.currentDetail="follower",this.isFetchingData=!0,this.initFollowerData(),await this.getFollower(e);const t=this.leadOrContactId;t&&!this.leadsOrContacts[t]&&this.getRelatedInfo();const s=this.followers[e].WeChatAccount.Id;this.accountsTags[s]||this.getAllTags();const i=this.leadOrContactId;this.relatedObjCountsStore[i]||this.getRelatedObjectCounts(),this.isFetchingData=!1},initFollowerData(){const e=this.currentThread,t={Id:e.Follower.Id,Name:e.Follower.Name,PhotoUrl:e.Follower.PhotoUrl,WeChatAccount:{Name:e.WeChatAccount?e.WeChatAccount.Name:"",Type:e.WeChatAccount?e.WeChatAccount.Type:"",Id:e.WeChatAccount?e.WeChatAccount.Id:""}};this.$store.dispatch("livechat/storeFollower",t)},clearFollowerData(){const e=this.leadOrContactId;this.$store.dispatch("livechat/removeFollowerRelated",e),this.accountsTags[this.accountId]=null},refreshFollower(){if("follower"!==this.currentDetail)return;const e=this.currentFollower.Id;this.clearFollowerData(),this.initData(e)},async getFollower(e){e&&await this.$try(async()=>{await this.$store.dispatch("livechat/getFollowerDetail",{followerId:e})})},async getRelatedObjectCounts(){const e=this.leadOrContactId;if(!e)return;try{const t=await Object(b.g)(e,10);if(t.ok){const s=JSON.parse(L.a.unescape(t.data));this.$set(this.relatedObjCountsStore,e,s)}else Object(y.f)(t)}catch(e){Object(y.f)(e)}},async getRelatedInfo(){const e=this.leadOrContactId,t=this.currentFollower.Type;if(!e)return;const s={Lead:b.h,Contact:b.f}[t];try{const i=await s(e);if(i.ok){if(!i.data)return;const s=JSON.parse(L.a.unescape(i.data));s.Type=t,this.$store.dispatch("livechat/storeLeadOrContact",{id:e,object:s})}}catch(e){Object(y.f)(e)}},handleRelatedChange(){const e=this.leadOrContactId;this.leadsOrContacts[e]||(this.getRelatedInfo(),this.getRelatedObjectCounts())},switchDetail(e){this.isFetchingData||(this.relatedPopupVisible=!1,this.currentDetail!==e?this.currentDetail=e:this.$root.$emit("refresh-tab"))},toggleRelatedPopup(e){this.relatedPopupVisible=e,e||(this.isSavingRelated=!1)},saveEditedRelated(){this.isSavingRelated=!0,this.$refs.followerDetail.saveRelated()},cancelEditRelated(){this.isSavingRelated=!1,this.$refs.followerDetail.cancelEditRelated()},async getAllTags(){const e=this.currentThread.WeChatAccount.Id;await this.$try(async()=>{const t=await u.s.getWeChatTags(e);this.$set(this.accountsTags,e,t)})}},beforeDestroy(){this.$root.$off("refresh-tab",this.refreshFollower)}},k=(s("qu3d"),s("1LJL")),S=Object(m.a)(I,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid follower-about"},[s("div",{staticClass:"follower-about-content slds-border_right slds-scrollable_y"},["follower"===e.currentDetail?s("div",{staticClass:"follower-info"},[s("follower-action-menu",{directives:[{name:"show",rawName:"v-show",value:!e.isFetchingData,expression:"!isFetchingData"}],staticClass:"follower-about-action",on:{"action-start":function(t){e.isFetchingData=!0},"action-end":function(t){e.isFetchingData=!1}}}),e._v(" "),e.isFetchingData?e._e():s("follower-detail",{ref:"followerDetail",attrs:{follower:e.currentFollower,"current-user":e.currentUser,"current-thread":e.currentThread,"can-edit-related":e.isRelatedDetailReadable},on:{"toggle-related-popup":e.toggleRelatedPopup,"update-related":e.handleRelatedChange}}),e._v(" "),e.isTagSectionVisible?s("follower-tag",{staticClass:"slds-border_top slds-m-top_medium slds-p-top_xx-small",attrs:{follower:e.currentFollower,tags:e.currentFollower.WeChatTags,"is-loading-data":e.isFetchingData,"all-tags":e.accountId&&e.accountsTags[e.accountId]?e.accountsTags[e.accountId]:[]}}):e._e(),e._v(" "),e.isRelatedDetailVisible?s("related-detail",{staticClass:"slds-m-top_xx-small slds-p-top_small slds-border_top",attrs:{type:e.currentFollower.Type,detail:e.relatedDetail}}):e._e(),e._v(" "),s("loading-spinner",{attrs:{size:"medium","is-loading":e.isFetchingData,"custom-style":"position: absolute; left: 0; top: 0; right: 0; bottom: 0;"}})],1):e._e(),e._v(" "),e.relatedListVisible?s("follower-related-list",{attrs:{type:e.currentDetail,"lead-or-contact":e.relatedDetail,"current-user":e.currentUser},on:{"data-loaded":function(t){return e.onRelatedListLoaded(t)}}}):e._e()],1),e._v(" "),e.relatedPopupVisible?s("div",{staticClass:"edit-btn-group charket-lightning-btn-group"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSavingRelated},on:{click:function(t){return e.cancelEditRelated()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSavingRelated},on:{click:function(t){return e.saveEditedRelated()}}},[e._v(e._s(e.$t("global.saveBtn")))])]):e._e(),e._v(" "),s("ul",{staticClass:"follower-about-nav slds-grid slds-grid_vertical slds-grid_vertical-align-center"},[s("li",{staticClass:"follower-about-nav-item slds-m-bottom_large",on:{click:function(t){return e.switchDetail("follower")}}},[s("icon",{attrs:{name:"follower",width:"24px",height:"24px","fill-color":"follower"===e.currentDetail?"#44B549":"#B0ADAB"}})],1),e._v(" "),e.isCampaignMenuVisible?s("li",{staticClass:"follower-about-nav-item slds-m-bottom_large",on:{click:function(t){return e.switchDetail("campaign")}}},[s("icon",{attrs:{name:"campaign",width:"35px",height:"35px","fill-color":"campaign"===e.currentDetail?"#F49756":"#B0ADAB"}}),e._v(" "),s("div",{staticClass:"detail-list-count",class:{"detail-selected-campaign":"campaign"===e.currentDetail}},[e._v("\n        "+e._s(e._f("countFilter")(e.relatedObjCounts.CampaignMemberCount))+"\n      ")])],1):e._e(),e._v(" "),e.isOpportunityMenuVisible?s("li",{staticClass:"follower-about-nav-item slds-m-bottom_large",on:{click:function(t){return e.switchDetail("opportunity")}}},[s("icon",{attrs:{name:"opportunity",width:"35px",height:"35px","fill-color":"opportunity"===e.currentDetail?"#Fcb95b":"#B0ADAB"}}),e._v(" "),s("div",{staticClass:"detail-list-count",class:{"detail-selected-opp":"opportunity"===e.currentDetail}},[e._v("\n        "+e._s(e._f("countFilter")(e.relatedObjCounts.OpportunityCount))+"\n      ")])],1):e._e(),e._v(" "),e.isCaseMenuVisible?s("li",{staticClass:"follower-about-nav-item slds-m-bottom_large",on:{click:function(t){return e.switchDetail("case")}}},[s("icon",{attrs:{name:"caseIcon",width:"35px",height:"35px","fill-color":"case"===e.currentDetail?"#F2cf5b":"#B0ADAB"}}),e._v(" "),s("div",{staticClass:"detail-list-count",class:{"detail-selected-case":"case"===e.currentDetail}},[e._v("\n        "+e._s(e._f("countFilter")(e.relatedObjCounts.CaseCount))+"\n      ")])],1):e._e()])])}),[],!1,null,"7aac142a",null);"function"==typeof k.default&&Object(k.default)(S);t.a=S.exports},zCvi:function(e,t,s){},zTBQ:function(e,t,s){"use strict";var i=s("PwU7");s.n(i).a},za7x:function(e,t,s){"use strict";var i=s("NoQD"),a=s.n(i),n=s("nXh9"),o=s.n(n),l=s("V1KD"),r=s.n(l),c=s("d01q"),d=s.n(c),h=s("mw8A"),u=s.n(h),p=s("r5MG"),m=s.n(p),g=s("HWIC"),f=s.n(g),v=s("EeqJ"),_=s.n(v),C=s("HWsx"),b=s.n(C),w=s("Nx5w"),y=s.n(w),T=s("if84"),L=s.n(T),I=s("z5q+"),k=s.n(I),S=s("ko/3"),M=s.n(S),A=s("UGei"),x=s.n(A),N=s("CEgz"),E=s.n(N),D=s("zEt/"),P=s.n(D),R=s("zXSM"),O=s.n(R),B=s("ZHA+"),$=s.n(B),F=s("/d+j"),U=s.n(F),V=s("NjEU"),j=s.n(V),z=s("ZXK7"),W=s.n(z),H=s("NcsW"),G=s.n(H),Z=s("/G7V"),X=s.n(Z),Q=s("+f+l"),Y=s.n(Q),q=s("I90D"),J=s.n(q),K=s("EiwI"),ee=s.n(K),te=s("bFuv"),se=s.n(te),ie=s("R+6C"),ae=s.n(ie),ne=s("GVN6"),oe=s.n(ne),le=s("BMXk"),re=s.n(le),ce=s("eHnz"),de=s.n(ce),he=s("IR4b"),ue=s.n(he),pe=s("rSVW"),me=s.n(pe),ge=s("Gm40"),fe=s.n(ge),ve=s("ARa8"),_e=s.n(ve),Ce=s("5Gas"),be=s.n(Ce),we=s("ca5U"),ye=s.n(we),Te=s("rUPy"),Le=s.n(Te),Ie=s("sMvW"),ke=s.n(Ie),Se=s("e6+u"),Me=s.n(Se),Ae=s("xgN2"),xe=s.n(Ae),Ne=s("VxGd"),Ee=s.n(Ne),De=s("OFhP"),Pe=s.n(De),Re=s("Lp6r"),Oe=s.n(Re),Be=s("h2ih"),$e=s.n(Be),Fe=s("AzQk"),Ue=s.n(Fe),Ve=s("EYGw"),je=s.n(Ve),ze=s("HKoy"),We=s.n(ze),He=s("JuFt"),Ge=s.n(He),Ze=s("Rk9l"),Xe=s.n(Ze),Qe=s("cm2e"),Ye=s.n(Qe),qe=s("F2Lf"),Je=s.n(qe),Ke=s("hm3m"),et=s.n(Ke),tt=s("moPg"),st=s.n(tt),it=s("xsKZ"),at=s.n(it),nt=s("qMNs"),ot=s.n(nt),lt=s("rfdZ"),rt=s.n(lt),ct=s("O9/B"),dt=s.n(ct),ht=s("/ByR"),ut=s.n(ht),pt=s("MBrA"),mt=s.n(pt),gt=s("fF+7"),ft=s.n(gt),vt=s("gsMA"),_t=s.n(vt),Ct=s("rPvE"),bt=s.n(Ct),wt=s("r1PH"),yt=s.n(wt),Tt=s("P2D+"),Lt=s.n(Tt),It=s("iscZ"),kt=s.n(It),St=s("ETmc"),Mt=s.n(St),At=s("DGbc"),xt=s.n(At),Nt=s("tJv4"),Et=s.n(Nt),Dt=s("etOB"),Pt=s.n(Dt),Rt=s("8gHK"),Ot=s.n(Rt),Bt=s("vGT7"),$t=s.n(Bt),Ft=s("VOJu"),Ut=s.n(Ft),Vt=s("ghVa"),jt=s.n(Vt),zt=s("Atv9"),Wt=s.n(zt),Ht=s("SKz1"),Gt=s.n(Ht),Zt=s("cCa7"),Xt=s.n(Zt),Qt=s("9s3J"),Yt=s.n(Qt),qt=s("BPOx"),Jt=s.n(qt),Kt=s("A+w4"),es=s.n(Kt),ts=s("ACT/"),ss=s.n(ts),is=s("oZp4"),as=s.n(is),ns=s("Ls1S"),os=s.n(ns),ls=s("tdbD"),rs=s.n(ls),cs=s("1t9N"),ds=s.n(cs),hs=s("nIP5"),us=s.n(hs),ps=s("3hyf"),ms=s.n(ps),gs=s("XflS"),fs=s.n(gs),vs=s("yeVX"),_s=s.n(vs),Cs=s("zlkq"),bs=s.n(Cs),ws=s("eV5a"),ys=s.n(ws),Ts=s("MXUX"),Ls=s.n(Ts),Is=s("Rt93"),ks=s.n(Is),Ss=s("cnZd"),Ms=s.n(Ss),As=s("92OZ"),xs=s.n(As),Ns=s("1Pii"),Es=s.n(Ns),Ds=s("CPBz"),Ps=s.n(Ds),Rs=s("oDxX"),Os=s.n(Rs),Bs=s("pG6u"),$s=s.n(Bs),Fs=s("M5c2"),Us=s.n(Fs),Vs=s("eydk"),js=s.n(Vs),zs=s("5JQ8"),Ws=s.n(zs),Hs=s("fULz"),Gs=s.n(Hs),Zs=s("dlcP"),Xs=s.n(Zs),Qs=s("5SPU"),Ys=s.n(Qs),qs=s("XYZ7"),Js=s.n(qs),Ks=s("T1F6"),ei=s.n(Ks),ti=s("FkwT"),si=s.n(ti),ii=s("gz7n"),ai=s.n(ii),ni=s("8BRU"),oi=s.n(ni),li=s("xy4U"),ri=s.n(li),ci=s("zvj/"),di=s.n(ci),hi=s("hxA4"),ui=s.n(hi),pi=s("5NyU"),mi=s.n(pi),gi=s("+Qg/"),fi=s.n(gi),vi=s("77eL"),_i=s.n(vi),Ci=s("6mw6"),bi=s.n(Ci),wi=s("4SbG"),yi=s.n(wi),Ti=s("fr83"),Li=s.n(Ti),Ii=s("QwTp"),ki=s.n(Ii),Si=s("Dwmf"),Mi=s.n(Si),Ai=s("X9gq"),xi=s.n(Ai),Ni=s("zbU4"),Ei=s.n(Ni),Di=s("26Ys"),Pi=s.n(Di),Ri=s("6SjL"),Oi=s.n(Ri),Bi=s("7Xy1"),$i=s.n(Bi),Fi=s("Zu1b"),Ui=s.n(Fi),Vi=s("CcVF"),ji=s.n(Vi),zi=s("5wGD"),Wi=s.n(zi),Hi=s("LCKR"),Gi=s.n(Hi),Zi=s("ozue"),Xi=s.n(Zi),Qi=s("eFKJ"),Yi=s.n(Qi),qi=s("LJh5"),Ji=s.n(qi),Ki=s("JQY9"),ea=s.n(Ki),ta=s("ri1n"),sa=s.n(ta),ia=s("YDlF"),aa=s.n(ia),na=s("s+qR"),oa=s.n(na),la=s("/hwY"),ra=s.n(la),ca=s("a0Jt"),da=s.n(ca),ha=s("GXCq"),ua=s.n(ha),pa=s("A7Yf"),ma=s.n(pa),ga=s("Si+S"),fa=s.n(ga),va=s("l+Dz"),_a=s.n(va),Ca=s("94v5"),ba=s.n(Ca),wa=s("JAP1"),ya=s.n(wa),Ta=s("qlDg"),La=s.n(Ta),Ia=s("QmLx"),ka=s.n(Ia),Sa=s("F616"),Ma=s.n(Sa),Aa=s("HKH+"),xa=s.n(Aa),Na=s("Fz5x"),Ea=s.n(Na),Da=s("xdfy"),Pa=s.n(Da),Ra=s("E60L"),Oa=s.n(Ra),Ba=s("WChv"),$a=s.n(Ba),Fa=s("A856"),Ua=s.n(Fa),Va=s("iIwC"),ja=s.n(Va),za=s("On7H"),Wa=s.n(za),Ha=s("KafR"),Ga=s.n(Ha),Za=s("8nl0"),Xa=s.n(Za),Qa=s("L/RG"),Ya=s.n(Qa),qa=s("gyM7"),Ja=s.n(qa),Ka=s("9iEE"),en=s.n(Ka),tn=s("80ck"),sn=s.n(tn),an=s("mNTr"),nn=s.n(an),on=s("A3Hv"),ln=s.n(on),rn=s("Gki0"),cn=s.n(rn),dn=s("3lTr"),hn=s.n(dn),un=s("CLQa"),pn=s.n(un),mn=s("SPNQ"),gn=s.n(mn),fn=s("t7kI"),vn=s.n(fn),_n=s("7uru"),Cn=s.n(_n),bn=s("4rhz"),wn=s.n(bn),yn=s("BenJ"),Tn=s.n(yn),Ln=s("1/Jy"),In=s.n(Ln),kn=s("eAuN"),Sn=s.n(kn),Mn=s("z4ON"),An=s.n(Mn),xn=s("Fvzk"),Nn=s.n(xn),En=s("F6O5"),Dn=s.n(En),Pn=s("Cl3o"),Rn=s.n(Pn),On=s("yekd"),Bn=s.n(On),$n=s("RB6w"),Fn=s.n($n),Un=s("SWe+"),Vn=s.n(Un),jn=s("gYT7"),zn=s.n(jn),Wn=s("ChzW"),Hn=s.n(Wn),Gn=s("tCAP"),Zn=s.n(Gn),Xn=s("1FbI"),Qn=s.n(Xn),Yn=s("4rBI"),qn=s.n(Yn),Jn=s("UQWI"),Kn=s.n(Jn);const eo={formCheckbox:gn.a,formDate:vn.a,formEmail:Cn.a,formNumber:wn.a,formPhone:Tn.a,formPicklist:In.a,formRadio:Sn.a,formText:An.a,formTextarea:Nn.a,formTime:Dn.a,formAddress:Rn.a,formBanner:Bn.a,formDescription:Fn.a,formTitle:Vn.a,formRating:zn.a,formDecisionBox:Hn.a,copy:Zn.a,check:a.a,close:o.a,warning:r.a,home:ot.a,NoMessage:Je.a,NewMessages:at.a,NewFollowers:et.a,TotalFollowers:st.a,chat:rt.a,followers:dt.a,chevrondown:u.a,chevronup:f.a,back:_.a,left:b.a,right:y.a,editDot:ut.a,add:P.a,messages:mt.a,address:ft.a,down:L.a,arrowdown:$.a,arrowup:O.a,deleteIcon:U.a,editIcon:j.a,chevronright:m.a,campaign:Le.a,caseIcon:ke.a,solution:Me.a,opportunity:xe.a,lead:Pe.a,avatar:Oe.a,default:$e.a,account:Ue.a,email:je.a,"live-chat":We.a,sossession:Ge.a,contact:Ee.a,search:k.a,newIcon:Xe.a,clone:Ye.a,online:_t.a,offline:bt.a,notification:d.a,play:yt.a,text:M.a,image:x.a,video:E.a,coupon:Lt.a,StructuredMessage:kt.a,strucActive:Mt.a,textActive:xt.a,unmuted:Et.a,keyboard:Pt.a,user:X.a,wifi:Y.a,batteryFull:Ot.a,threedots:J.a,threedotsVertical:ee.a,settings:$t.a,messageAll:Ut.a,info:se.a,download:jt.a,sync:oe.a,emoji:re.a,transfer:Wt.a,tag:Gt.a,tagGrey:Xt.a,rows:Jt.a,agent:Yt.a,history:es.a,linkStru:ss.a,weChatStru:as.a,wechat:os.a,deleteReplyIcon:rs.a,editReplyIcon:ds.a,chevronleft:W.a,leadGray:us.a,multiMsg:ms.a,notify:fs.a,textLink:ks.a,event:_s.a,clock:bs.a,bold:fa.a,italic:_a.a,underline:ba.a,strikeThrough:ya.a,textColor:La.a,textIndent:ka.a,alignLeft:Ma.a,alignCenter:xa.a,alignRight:Ea.a,alignJustify:Pa.a,olList:Oa.a,ulList:$a.a,undo:Ua.a,redo:ja.a,quot:Xa.a,dash:Wa.a,imageFloatNone:Ya.a,imageFloatLeft:Ja.a,imageFloatCenter:en.a,imageFloatRight:sn.a,clearFormat:nn.a,brushFormat:ln.a,lineHeight:cn.a,pMarginBottom:hn.a,pMarginTop:pn.a,refresh:G.a,eventIcon:ys.a,clockIcon:Ls.a,changeIcon:de.a,pass:Ms.a,upload:xs.a,apex:ue.a,insertTag:me.a,colorSelect:fe.a,phone:_e.a,desktop:Ei.a,noAgent:Es.a,sort:Ps.a,menuPin:Os.a,menuPined:$s.a,onlineDnd:Us.a,offlineDnd:js.a,doNotAccept:Ws.a,callHistory:Gs.a,forms:Xs.a,liveChatIcon:Ys.a,liveChatMonitor:Js.a,nameBadgeTemplates:ei.a,menuIcon:si.a,hideIcon:ai.a,previewIcon:oi.a,infoFill:ae.a,formHeading:ri.a,wechatCampaign:di.a,checkIn:ui.a,newWindow:mi.a,formIcon:fi.a,wechatAccountService:_i.a,wechatAccountSubscription:bi.a,wechatAccountMiniprogram:yi.a,customDelete:Li.a,survey:ki.a,error:Ga.a,urlShortener:Mi.a,miniProgram:xi.a,miniProIcon:Pi.a,loadingImage:Qn.a,placeholderFigure:qn.a,replyIcon:Oi.a,arrowUp:Kn.a,qrcode:$i.a,reply:Ui.a,disabledIcon:ji.a,quickReply:Wi.a,noRelatedFollower:Gi.a,clear:Xi.a,dragDrop:Yi.a,follower:Ji.a,lightningClear:be.a,genericLoading:ea.a,up:ye.a,brokeImage:sa.a,brokeVideo:aa.a,unableVideo:oa.a,redExclamationMark:ra.a,messageAction:da.a,skillNav:ua.a,skillResponse:ma.a};var to={props:{name:{type:String},container:{type:Boolean,default:!1},circleContainer:{type:Boolean,default:!1},category:{type:String,default:"utility"},size:{type:String,default:""},width:{type:String},height:{type:String},textColor:{type:String,default:""},iconColor:{type:Boolean,default:!1},fillColor:{type:String,default:"none"},hoverColor:{type:String,default:""},className:{type:String},align:{type:String},charketIcon:{type:Boolean,default:!1}},data(){return{currentFillColor:this.fillColor,isOnMouse:!1}},mounted(){this.hoverColor&&this.$watch("fillColor",e=>{this.isOnMouse||(this.currentFillColor=e)})},computed:{currentIcon:function(){return eo[this.name]},iconStyle(){let e={};return this.currentFillColor&&"none"!==this.currentFillColor&&(e.fill=this.hoverColor?this.currentFillColor:this.fillColor),this.width&&(e.width=this.width),this.height&&(e.height=this.height),e},iconClassName(){const e=this.getIconColor(this.fillColor,this.category,this.name);return{"slds-icon":!/slds-button__icon/.test(this.className)&&!this.charketIcon,["".concat(this.className)]:this.className,["slds-icon_".concat(this.size)]:/^(x-small|small|large)$/.test(this.size),["slds-icon-text-".concat(this.textColor)]:/^(default|warning|error|light)$/.test(this.textColor)&&!this.container&&!e,["slds-icon-".concat(e)]:!this.container&&e,"slds-m-left_x-small":"right"===this.align,"slds-m-right_x-small":"left"===this.align}},containerClassName(){const e=this.getIconColor(this.fillColor,this.category,this.name);return{"slds-icon_container":!0,"slds-icon__container_circle":this.circleContainer&&"action"===this.category,["slds-icon-".concat(e)]:null!==e}}},methods:{getIconColor(e,t,s){return this.iconColor?this.iconColor:"doctype"===t?null:"none"===e?null:e||("utility"===t?null:"custom"===t?s.replace(/^custom/,"custom-"):"action"===t&&/^new_custom/.test(s)?s.replace(/^new_custom/,"custom-"):t+"-"+(s||"").replace(/_/g,"-"))},mouseOver(){this.hoverColor&&(this.isOnMouse=!0,this.currentFillColor=this.hoverColor)},mouseLeave(){this.hoverColor&&(this.isOnMouse=!1,this.currentFillColor=this.fillColor)}}},so=(s("IkYK"),s("KHd+")),io=Object(so.a)(to,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{on:{mouseover:function(t){return e.mouseOver()},mouseleave:function(t){return e.mouseLeave()}}},[e.container||e.circleContainer?s("span",{class:e.containerClassName},[s("svg",{class:e.iconClassName,style:e.iconStyle,attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.currentIcon}})])]):s("svg",{class:e.iconClassName,style:e.iconStyle,attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":e.currentIcon}})])])}),[],!1,null,"33b3785e",null);t.a=io.exports},zbU4:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="desktop_icon" ><path d="m50 6c0-2.2-1.8-4-4-4h-40c-2.2 0-4 1.8-4 4v26c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4v-26z m-6 22.5c0 0.8-0.7 1.5-1.5 1.5h-33c-0.8 0-1.5-0.7-1.5-1.5v-19c0-0.8 0.7-1.5 1.5-1.5h33c0.8 0 1.5 0.7 1.5 1.5v19z m-11 15.5h-3c-0.6 0-1-0.4-1-1v-2c0-0.6-0.4-1-1-1h-4c-0.6 0-1 0.4-1 1v2c0 0.6-0.4 1-1 1h-3c-2.2 0-4 1.8-4 4v0.5c0 0.8 0.7 1.5 1.5 1.5h19c0.8 0 1.5-0.7 1.5-1.5v-0.5c0-2.2-1.8-4-4-4z" fill=""/></symbol>',"desktop_icon")},zlkq:function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 52 52" id="clock_icon" ><path d="m26 2c-13.2 0-24 10.8-24 24s10.8 24 24 24 24-10.8 24-24-10.8-24-24-24z m0 42c-9.9 0-18-8.1-18-18s8.1-18 18-18 18 8.1 18 18-8.1 18-18 18z m3.4-17.8c-0.3-0.3-0.4-0.7-0.4-1.1v-9.6c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8 0-1.5 0.7-1.5 1.5v12.1c0 0.4 0.2 0.8 0.4 1.1l7.4 7.4c0.6 0.6 1.5 0.6 2.1 0l2.1-2.1c0.6-0.6 0.6-1.5 0-2.1l-5.6-5.7z" fill=""/></symbol>',"clock_icon")},zlqK:function(e,t,s){"use strict";var i=s("kKky"),a=s.n(i),n=s("+Bun"),o=s.n(n),l=s("cybb"),r=s("eLKX"),c=s("n/5B"),d={props:{message:Object,timeZoneSidKey:String,senders:Object,index:Number},mounted(){this.$root.$on("update-livechat-time",this.updateTimeFromNow)},created(){this.timeFromNow=this.getDistance()},data:()=>({timeFromNow:""}),computed:{chatClosedByInnerHTML(){return this.$t("chatCloseBy",["<strong>".concat(this.message.Sender.Name,"<strong>")])},conversationTransferedInnerHTML(){return this.$t("conversationTransfered",["<strong>".concat(this.message.Body.From.Name,"</strong>"),"<strong>".concat(this.message.Body.To.Name,"</strong>")])},conversationTransferedWithoutToInnerHTML(){return this.$t("conversationTransferedWithoutTo",["<strong>".concat(this.message.Body.From.Name,"</strong>")])},conversationTransferedWithoutFromInnerHTML(){return this.$t("conversationTransferedWithoutFrom",["<strong>".concat(this.message.Body.To.Name,"</strong>")])},conversationTransferedBySupervisorInnetHTML(){return this.$t("conversationTransferedBySupervisor",["<strong>".concat(this.message.Body.To.Name,"</strong>")])},conversationTransferedDuoToYourInactivityInnerHTML(){return this.$t("conversationTransferedDuoToYourInactivity",["<strong>".concat(this.message.Body.To.Name,"</strong>")])},skillStartedMessageInnerHTML(){return this.$t("skillStartedMessage",[this.message.Body.Skill.Initiator.Name,this.message.Body.Skill.Name])}},methods:{formatSystemDate:e=>Object(l.g)(e),mpChatOpenedMsgFilter(e){const t=o()(e).call(e,"["),s=a()(e).call(e,"]");if(t>-1&&s>-1){const i=e.substring(t,s+1);return this.$t("mpChatOpenedMsg",[i])}return this.$t("mpChatNoBtnOpenedMsg")},getDistance(){const e=Object(r.a)(new Date(c.a.getCurrentTime()),this.$user.TimeZoneSidKey);return Object(l.f)(this.message.WeChatCreatedTime,e)},updateTimeFromNow(){this.timeFromNow=this.getDistance()}},beforeDestroy(){this.$root.$off("update-livechat-time",this.updateTimeFromNow)}},h=(s("M68S"),s("KHd+")),u=s("ezS1"),p=Object(h.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-col system-message select-none"},["Close"===e.message.Type&&e.message.Sender?s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.chatClosedByInnerHTML)}}):e._e(),e._v(" "),"Transfer"===e.message.Type?[e.message.Body.From.Name&&e.message.Body.To.Name?[s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.conversationTransferedInnerHTML)}})]:e._e(),e._v(" "),e.message.Body.From.Name&&e.senders[e.message.Body.From.Id]&&!e.message.Body.To.Name?[s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.conversationTransferedWithoutToInnerHTML)}})]:e._e(),e._v(" "),e.message.Body.To.Name&&!e.message.Body.From.Name?[s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.conversationTransferedWithoutFromInnerHTML)}})]:e._e()]:e._e(),e._v(" "),"Lock"===e.message.Type&&e.message.Body.To.Name?s("span",{staticClass:"system-message__span"},["Supervisor"===e.message.SendBy?[s("span",{domProps:{innerHTML:e._s(e.conversationTransferedBySupervisorInnetHTML)}})]:[s("span",{domProps:{innerHTML:e._s(e.conversationTransferedDuoToYourInactivityInnerHTML)}})]],2):e._e(),e._v(" "),"MP Chat Opened"===e.message.Type?s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.mpChatOpenedMsgFilter(e.message.Body.Content))}}):e._e(),e._v(" "),"Skill Initiation"===e.message.BotType?s("span",{staticClass:"system-message__span",domProps:{innerHTML:e._s(e.skillStartedMessageInnerHTML)}}):e._e(),e._v(" "),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.formatSystemDate(e.message.WeChatCreatedTime)},expression:"{content: formatSystemDate(message.WeChatCreatedTime)}"}],staticClass:"system-message__span"},[e._v("\n    "+e._s(e.timeFromNow)+"\n  ")])],2)}),[],!1,null,"9b9c5be6",null);"function"==typeof u.default&&Object(u.default)(p);t.a=p.exports},"zvj/":function(e,t,s){var i=s("TXlZ");e.exports=i.add('<symbol viewBox="0 0 55 55" id="wechat_campaign" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>We Chat Campaigns</title> <desc>Created with Sketch.</desc> <g> <path d="M27.6,1.9c-14,0-25.3,11.3-25.3,25.3s11.3,25.3,25.3,25.3c1.1,0,2.1-0.1,3.2-0.2c0.9-0.1,1.5-0.9,1.4-1.7\n\t\tc-0.1-0.4-0.3-0.8-0.6-1c-0.3-0.3-0.7-0.4-1.1-0.3c-13.5,1.6-25-8.9-25-22c0-12.2,10-22.2,22.2-22.2s22.2,10,22.2,22.2\n\t\tc0,1.1-0.1,2.2-0.2,3.2c-0.1,0.9,0.5,1.6,1.3,1.8c0.9,0.1,1.6-0.5,1.8-1.3c0.2-1.2,0.3-2.4,0.3-3.7C52.9,13.2,41.6,1.9,27.6,1.9z" fill=""/> <path d="M27,12.8c7.6,0,13.7,6.2,13.7,13.7c0,0.9,0.7,1.6,1.6,1.6c0.9,0,1.6-0.7,1.6-1.6c0-9.3-7.6-16.9-16.9-16.9\n\t\ts-16.9,7.6-16.9,16.9S17.7,43.4,27,43.4c0.9,0,1.6-0.7,1.6-1.6c0-0.9-0.7-1.6-1.6-1.6c-7.6,0-13.7-6.2-13.7-13.7\n\t\tC13.2,19,19.4,12.8,27,12.8z" fill=""/> <circle cx="27.6" cy="27.2" r="5.8"/> <path d="M38.6,38.8c0,1,0.8,1.9,1.9,1.9c1,0,1.9-0.8,1.9-1.9c0-1-0.8-1.9-1.9-1.9C39.5,36.9,38.6,37.8,38.6,38.8z" fill=""/> <path d="M45.7,36.9c-1,0-1.9,0.8-1.9,1.9c0,1,0.8,1.9,1.9,1.9c1,0,1.9-0.8,1.9-1.9C47.6,37.8,46.8,36.9,45.7,36.9z" fill=""/> <path d="M48.9,45.1c-0.2,0-0.5,0.1-0.7,0.2h-0.1c-0.1,0-0.2,0.1-0.3,0.2c-0.6,0.4-1.6,1-2.9,1.2\n\t\tc-1.3,0.2-3.4,0-4.8-0.5H40l-0.1,0.1c-0.4,0.3-1.6,1-2.2,1.2c0.2-0.5,0.4-1.1,0.5-1.7c0.1-0.7,0.2-1.2,0.2-1.2v-0.2l-0.1-0.1\n\t\tc0,0-2.6-2.3-1.7-5.8c0.3-1.3,1.1-2.3,1.6-2.8c0.3-0.3,0.5-0.5,0.6-0.6c1.5-1.2,3.2-1.8,5-1.8c2,0.1,3.2,1,3.9,1.8\n\t\tc0.4,0.5,1.1,0.7,1.7,0.4c0.4-0.2,0.7-0.6,0.8-1c0.1-0.4,0-0.9-0.3-1.2c-0.8-1-2.7-2.7-5.9-2.8c-2.6-0.1-4.9,0.7-7,2.3\n\t\tc-0.9,0.7-2.5,2.3-3.2,5c-0.4,1.7-0.7,4.4,1.6,7.6c-0.2,1.5-0.6,3-1,3.9l-0.1,0.3c-0.1,0.2-0.1,0.3-0.2,0.4c-0.2,0.4-0.1,0.7,0.1,1\n\t\tc0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.2,0,0.3,0c0.8-0.2,2-0.5,3.2-0.9c0.8-0.3,2-0.7,2.5-1c1.6,0.4,3.6,0.3,4.6,0.2\n\t\tc2.3-0.3,3.3-1,3.9-1.5c0.1-0.1,0.2-0.2,0.3-0.2l0.1-0.1c0.3-0.3,0.5-0.7,0.5-1.1C50.3,45.7,49.7,45.1,48.9,45.1z" fill=""/> </g> </symbol>',"wechat_campaign")},zyxy:function(e,t,s){"use strict";var i=s("FDEm");s.n(i).a}},[["Vtdi",7,11]]]);