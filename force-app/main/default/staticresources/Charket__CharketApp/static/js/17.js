(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+O6Z":function(e,t,s){"use strict";var i=s("bvdj"),o=s.n(i);t.default=o.a},"/B6M":function(e,t,s){"use strict";t.a={"北京市":["北京市"],"天津市":["天津市"],"上海市":["上海市"],"重庆市":["重庆市"],"河北省":["石家庄市","唐山市","秦皇岛市","邯郸市","邢台市","保定市","张家口市","承德市","沧州市","廊坊市","衡水市","定州市","辛集市"],"山西省":["太原市","大同市","阳泉市","长治市","晋城市","朔州市","晋中市","运城市","忻州市","临汾市","吕梁市"],"内蒙古":["呼和浩特市","包头市","乌海市","赤峰市","通辽市","鄂尔多斯市","呼伦贝尔市","巴彦淖尔市","乌兰察布市","兴安盟","锡林郭勒盟","阿拉善盟"],"辽宁省":["沈阳市","大连市","鞍山市","抚顺市","本溪市","丹东市","锦州市","营口市","阜新市","辽阳市","盘锦市","铁岭市","朝阳市","葫芦岛市"],"吉林省":["长春市","吉林市","四平市","辽源市","通化市","白山市","松原市","白城市","延边州"],"黑龙江省":["哈尔滨市","齐齐哈尔市","鸡西市","鹤岗市","双鸭山市","大庆市","伊春市","佳木斯市","七台河市","牡丹江市","黑河市","绥化市","大兴安岭地区"],"江苏省":["南京市","无锡市","徐州市","常州市","苏州市","南通市","连云港市","淮安市","盐城市","扬州市","镇江市","泰州市","宿迁市"],"浙江省":["杭州市","宁波市","温州市","嘉兴市","湖州市","绍兴市","金华市","衢州市","舟山市","台州市","丽水市"],"安徽省":["合肥市","芜湖市","蚌埠市","淮南市","马鞍山市","淮北市","铜陵市","安庆市","黄山市","滁州市","阜阳市","宿州市","六安市","亳州市","池州市","宣城市"],"福建省":["福州市","厦门市","莆田市","三明市","泉州市","漳州市","南平市","龙岩市","宁德市"],"江西省":["南昌市","景德镇市","萍乡市","九江市","新余市","鹰潭市","赣州市","吉安市","宜春市","抚州市","上饶市"],"山东省":["济南市","青岛市","淄博市","枣庄市","东营市","烟台市","潍坊市","济宁市","泰安市","威海市","日照市","莱芜市","临沂市","德州市","聊城市","滨州市","菏泽市"],"河南省":["郑州市","开封市","洛阳市","平顶山市","安阳市","鹤壁市","新乡市","焦作市","濮阳市","许昌市","漯河市","三门峡市","南阳市","商丘市","信阳市","周口市","驻马店市","济源市"],"湖北省":["武汉市","黄石市","十堰市","宜昌市","襄阳市","鄂州市","荆门市","孝感市","荆州市","黄冈市","咸宁市","随州市","恩施州","仙桃市","潜江市","天门市","神农架林区"],"湖南省":["长沙市","株洲市","湘潭市","衡阳市","邵阳市","岳阳市","常德市","张家界市","益阳市","郴州市","永州市","怀化市","娄底市","湘西州"],"广东省":["广州市","韶关市","深圳市","珠海市","汕头市","佛山市","江门市","湛江市","茂名市","肇庆市","惠州市","梅州市","汕尾市","河源市","阳江市","清远市","东莞市","中山市","潮州市","揭阳市","云浮市"],"广西":["南宁市","柳州市","桂林市","梧州市","北海市","防城港市","钦州市","贵港市","玉林市","百色市","贺州市","河池市","来宾市","崇左市"],"海南省":["海口市","三亚市","三沙市","琼海市","万宁市","东方市","文昌市","五指山市","临高县","澄迈县","定安县","屯昌县","昌江县","白沙县","琼中县","陵水县","保亭县","乐东县","儋州市"],"四川省":["成都市","自贡市","攀枝花市","泸州市","德阳市","绵阳市","广元市","遂宁市","内江市","乐山市","南充市","眉山市","宜宾市","广安市","达州市","雅安市","巴中市","资阳市","阿坝州","甘孜州","凉山州"],"贵州省":["贵阳市","六盘水市","遵义市","安顺市","毕节市","铜仁市","黔西南州","黔东南州","黔南州"],"云南省":["昆明市","曲靖市","玉溪市","保山市","昭通市","丽江市","普洱市","临沧市","楚雄州","红河州","文山州","西双版纳州","大理州","德宏州","怒江州","迪庆州"],"西藏自治区":["拉萨市","日喀则市","昌都市","山南地区","那曲地区","阿里地区","林芝地区"],"陕西省":["西安市","铜川市","宝鸡市","咸阳市","渭南市","延安市","汉中市","榆林市","安康市","商洛市"],"甘肃省":["兰州市","嘉峪关市","金昌市","白银市","天水市","武威市","张掖市","平凉市","酒泉市","庆阳市","定西市","陇南市","临夏州","甘南州"],"青海省":["西宁市","海东地区","海北州","黄南州","海南州","果洛州","玉树州","海西州"],"宁夏":["银川市","石嘴山市","吴忠市","固原市","中卫市"],"新疆":["乌鲁木齐市","克拉玛依市","吐鲁番地区","哈密地区","昌吉州","博尔塔拉州","巴音郭楞州","阿克苏地区","克孜勒苏柯尔克孜自治州","喀什地区","和田地区","伊犁州","五家渠市","阿拉尔市","图克舒克市","铁门关市","昆玉市","哈城地区","阿勒泰地区"],"台湾":["台湾"],"港澳":["香港特别行政区","澳门特别行政区"]}},"0FFQ":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"editChoicesLabel":"编辑选项","eachValueLabel":"每个值用新的行分隔"},"en":{"editChoicesLabel":"Edit Choices","eachValueLabel":"Each value separated by a new line"}}'),delete e.options._Ctor}},"19oo":function(e,t,s){},"1MG1":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"defaultContent":"<p id=\\"initContent\\">开始输入...</p>","descriptionEditor":"描述编辑"},"en":{"defaultContent":"<p id=\\"initContent\\">Start Typing...</p>","descriptionEditor":"Description Editor"}}'),delete e.options._Ctor}},"1vOb":function(e,t,s){"use strict";var i=s("Hi2j"),o=s.n(i);t.default=o.a},"1yYj":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"build":"构建","style":"样式","quickFind":"快速查找","objectField":"对象字段","objectFields":"对象字段","commonItems":"通用组件","editor":"编辑器","settings":"设置","publish":"发布","bannerImage":"横幅图片","addATitle":"添加一个表头标题","describeYourForm":"在这里描述你的表单","text":"文本","textarea":"文本域","checkbox":"多选框","radioButton":"单选框","dropDown":"下拉选框","number":"数字","datetime":"时间","date":"日期","email":"电子邮件","phone":"电话","heading":"标题","address":"地址","includeLabel":"包含","defaultLabel":"默认标签","fieldLabel":"字段标签","chooseFieldLabel":"选择字段","stateLabel":"省份","cityLabel":"城市","streetLabel":"街道","placeholderText":"占位文本","defaultValue":"默认文本","placeholderChoice":"占位选项","options":"其它设置","required":"必填","readOnly":"只读","hidden":"隐藏","properties":" 属性","title":"标题","button":"提交按钮","label":"标签","value":"选项值","url":"链接","setAsDefaultChoice":"设置为默认选项","addAnotherChoice":"添加其它选项","formSavedTip":"表单已保存。","choicesLabel":"选择","noneLabel":"--无--","preFillTypeLabel":"预填充类型","urlParameterLabel":"链接参数","fixedValueLabel":"固定值","submitLabel":"提交","thanksMsgTitle":"编辑提示文字","descriptionTitle":"编辑描述","masked":"使用掩码","fieldsLabel":"字段","layout":"布局","labelPlacement":"标题位置","left":"左","top":"上","phoneLabel":"手机","desktopLabel":"桌面","editChoices":"编辑选项","labelLabel":"标签：","nameLabel":"名称：","decisionBoxLabel":"决策框","checkedByDefaultLabel":"默认选中","showLabel":"显示","hideLabel":"隐藏","showAllLabel":"显示全部","hideAllLabel":"隐藏全部","confirmTitle":"保存表单","noEmailFailedContent":"当前表单不包含 Email 字段，可能会导致 Pardot 集成失效。确定要保存吗？","noRequiredEmailFailedContent":"当前表单包含的 Email 字段不是必填，可能会导致 Pardot 集成失效。确定要保存吗？","prefillTypeTooltip":"• 固定值: 使用固定值填写当前字段。字段需要设置成隐藏。<br/>• 链接参数: 使用 URL 参数填写当前字段的默认值。字段需要设置成隐藏。","leaveConfirm":"编辑表单","discardChangeLabel":"丢弃改变","stayPageLabel":"停留在当前页面","smsVerificationCode":"短信验证码","VerificationCode":"验证码","sendCode":"获取验证码","enterCode":"请输入验证码","resendCode":"重新获取","verificationCodeComponentSettings":"验证码组件设置"},"en":{"build":"Build","style":"Style","quickFind":"Quick Find","objectField":"Object Field","objectFields":"Object Fields","commonItems":"Common Items","editor":"EDITOR","settings":"SETTINGS","publish":"PUBLISH","bannerImage":"Banner Image","addATitle":"Add A Title","describeYourForm":"Describe your form here","text":"Text","textarea":"Text Area","checkbox":"Checkbox","radioButton":"Radio Button","dropDown":"Drop Down","number":"Number","datetime":"Date/Time","date":"Date","email":"Email","phone":"Phone","heading":"Heading","address":"Address","includeLabel":"Include","defaultLabel":"Default Label","fieldLabel":"Field Label","chooseFieldLabel":"Choose Field","stateLabel":"State","cityLabel":"City","streetLabel":"Street","placeholderText":"Placeholder Text","defaultValue":"Default Value","placeholderChoice":"Placeholder Choice","options":"Options","required":"Required","readOnly":"Read Only","hidden":"Hidden","properties":" Properties","title":"Title","button":"Button","label":"Label","value":"Value","url":"URL","setAsDefaultChoice":"Set as default choice","addAnotherChoice":"Add another choice","formSavedTip":"The form was saved.","choicesLabel":"Choices","noneLabel":"--None--","preFillTypeLabel":"Pre-fill Type","urlParameterLabel":"URL Parameter","fixedValueLabel":"Fixed Value","submitLabel":"Submit","thanksMsgTitle":"Edit Thank You Message","descriptionTitle":"Edit Description","masked":"Masked","fieldsLabel":"Fields","layout":"Layout","labelPlacement":"Label Placement","left":"Left","top":"Top","phoneLabel":"PHONE","desktopLabel":"DESKTOP","editChoices":"Edit Choices","labelLabel":"Label:","nameLabel":"Name:","decisionBoxLabel":"Decision Box","checkedByDefaultLabel":"Checked By Default","showLabel":"Show","hideLabel":"Hide","showAllLabel":"Show All","hideAllLabel":"Hide All","confirmTitle":"Save Form","noEmailFailedContent":"The form being saved does not include the Email field. The Pardot integration may not work for this form. Are you sure you want to save it?","noRequiredEmailFailedContent":"The form being saved does not include the required Email field. The Pardot integration may not work for this form. Are you sure you want to save it?","prefillTypeTooltip":"• Fixed Value: populate the value of this field with a fixed value. The field must be hidden.<br/>• URL Parameter: populate the value of this field with the value of a URL parameter. The field must be hidden.","leaveConfirm":"Edit Form","discardChangeLabel":"Discard Changes","stayPageLabel":"Stay on this Page","smsVerificationCode":"SMS Verification Code","VerificationCode":"Verification Code","sendCode":"Send Code","enterCode":"Enter the code","resendCode":"Resend Code","verificationCodeComponentSettings":"Verification Code Component Settings"}}'),delete e.options._Ctor}},"3nmp":function(e,t,s){"use strict";var i=s("R9hF"),o=s.n(i),a=s("dUVM"),n=s.n(a),l=s("8Vev"),r=s.n(l),c=s("4LGG"),d=s.n(c),u=s("kZKX"),p=s.n(u),m=s("q1Z7"),h=s("QBew"),f=s("OZZp"),v=s("zEt/"),g=s.n(v),b=s("i+Lc"),y=s.n(b),_=s("20nU"),S=s("XIlo"),C=s("OB6B");var w={openRoute(e){let{wechatAccountId:t,path:s}=e;const i=["#",t,y()(s).call(s,"/")?s.substring(1):s].join("/");S.a.isInLightningConsole?C.a.openWindow(["/apex/",_.a.sfdc_namespace?"".concat(_.a.sfdc_namespace,"__"):"","CharketApp?isdtp=p1",i].join("")):window.open([window.location.origin,window.location.pathname,window.location.search,i].join(""))}},I=s("SLhn"),F=s.n(I),L=s("0G99"),x=s.n(L),k=s("cybb"),T=s("M9dV");const O=["Image","Skill","Pass","Video","Voice Message","Text Message","Coupon","Notification Template","Structured Message","Mini Program Page"],D=new p.a([["Image","global.imageLabel"],["Skill","global.skillLabel"],["Pass","global.passLabel"],["Video","global.videoLabel"],["Voice Message","global.voiceLabel"],["Text Message","global.textLabel"],["Coupon","global.couponLabel"],["Notification Template","global.notifyLabel"],["Structured Message","global.strucLabel"],["Mini Program Page","global.miniProgramLabel"]]),N=new p.a([["Image","global.popupHeader.selectImage"],["Skill","global.popupHeader.selectSkill"],["Pass","global.popupHeader.selectPass"],["Video","global.popupHeader.selectVideo"],["Voice Message","global.popupHeader.selectVoiceClip"],["Text Message","global.popupHeader.selectTextMessage"],["Coupon","global.popupHeader.selectCoupon"],["Notification Template","global.popupHeader.selectNotificationTemplateLabel"],["Structured Message","global.popupHeader.selectStructuredMessage"],["Mini Program Page","global.popupHeader.selectMiniProgram"]]);var P=class{constructor(e){this.componentInstance=e}static getAllChoosers(){return[...O]}getExclusivelyConfig(e){let t=null;switch(e){case"Skill":t={add:{title:this.componentInstance.$t("exclusive.skillAddTitle"),content:this.componentInstance.$t("exclusive.skillAddContent"),ok:this.componentInstance.$t("global.yesBtn"),cancel:this.componentInstance.$t("global.noBtn")},remove:{title:this.componentInstance.$t("exclusive.skillRemoveTitle"),content:this.componentInstance.$t("exclusive.skillRemoveContent"),ok:this.componentInstance.$t("global.yesBtn"),cancel:this.componentInstance.$t("global.noBtn")}}}return t}getReplyModeConfig(e){if("false"!==e&&!1!==e&&null!=e)return{label:this.componentInstance.$t("replyModeLabel"),modes:[{label:this.componentInstance.$t("replyModeAll"),value:"All"},{label:this.componentInstance.$t("replyModeRandom"),value:"Random"}]}}getChooserConfigs(e){return d()(e).call(e,e=>{const{type:t}=e,s={type:t,name:this.componentInstance.$t(D.get(t)),exclusive:this.getExclusivelyConfig(t),layout:this.createLayout(t,e.limitLabel),dataProvider:this.createDataProvider(t),limitOfItems:e.limit||null};if("Text Message"===t){s.showTabs=!0;const t=this.getSubConfigsOfTextMessageChooser(),{textConfig:i}=e;if(i){const e={};x()(i).call(i,s=>{e[s]=t.designer[s]}),s.configs={designer:e,editor:t.editor}}else s.configs=t}return s})}getSubConfigsOfTextMessageChooser(){return{designer:{link:{iconTitle:this.componentInstance.$t("designer.linkIcon"),title:this.componentInstance.$t("global.title"),linkURL:this.componentInstance.$t("designer.linkUrl"),invalidUrl:this.componentInstance.$t("designer.illegalUrl"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),change:this.componentInstance.$t("designer.changeBtn"),remove:this.componentInstance.$t("designer.removeBtn")},miniProgramPage:{iconTitle:this.componentInstance.$t("designer.miniProgramIcon"),title:this.componentInstance.$t("global.title"),linkUrl:this.componentInstance.$t("designer.linkUrl"),invalidUrl:this.componentInstance.$t("designer.illegalUrl"),appId:this.componentInstance.$t("designer.appId"),pagePath:this.componentInstance.$t("designer.pagePath"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),change:this.componentInstance.$t("designer.changeBtn"),remove:this.componentInstance.$t("designer.removeBtn"),dataProvider:this.createDataProvider("Mini Program Link")},action:{iconTitle:this.componentInstance.$t("designer.actionIcon"),name:this.componentInstance.$t("designer.name"),value:this.componentInstance.$t("designer.value"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn")},mergeField:{iconTitle:this.componentInstance.$t("designer.mergeFieldIcon"),title:this.componentInstance.$t("designer.selectAField"),placeholder:this.componentInstance.$t("designer.findObjectPlaceholder"),filterPlaceholder:this.componentInstance.$t("designer.labelFilterPlaceholder"),fieldTitle:this.componentInstance.$t("designer.fieldTitle"),type:this.componentInstance.$t("designer.type"),apiName:this.componentInstance.$t("designer.apiName"),primaryButton:this.componentInstance.$t("global.chooseBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),noMatches:this.componentInstance.$t("designer.noMatchesFound"),currentSelection:this.componentInstance.$t("designer.currentSelection"),dataProvider:this.createDataProvider("Merge Field")}},editor:{title:this.componentInstance.$t("global.popupHeader.editTextMessage"),cancelButton:this.componentInstance.$t("global.cancelBtn"),okButton:this.componentInstance.$t("global.saveBtn")}}}createLayout(e,t){const s={title:this.componentInstance.$t(N.get(e)),noRecords:this.componentInstance.$t("global.noRecords"),editButton:this.componentInstance.$t("global.editBtn"),searchPlaceholder:this.componentInstance.$t("global.searchPlaceholder"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn")},i={title:"Voice Message"===e?this.componentInstance.$t("uploader.voiceTitle"):this.componentInstance.$t("uploader.".concat(e.toLowerCase(),"Title")),label:this.componentInstance.$t("uploader.titleLabel"),descriptionLabel:this.componentInstance.$t("uploader.descriptionLabel"),secondaryButton:this.componentInstance.$t("uploader.cancelBtn"),sizeLimitError:this.componentInstance.$t("uploader.tooLarge"),upload:this.componentInstance.$t("uploader.uploadBtn"),uploading:this.componentInstance.$t("uploader.uploadingBtn")};switch(e){case"Text Message":s.tabs={new:{title:this.componentInstance.$t("global.popupHeader.createTextMessage"),tabLabel:this.componentInstance.$t("newTextMessage")},list:{title:this.componentInstance.$t("global.popupHeader.selectTextMessage"),tabLabel:this.componentInstance.$t("textMessages")}},s.iconLabel=this.componentInstance.$t("global.textLabel");break;case"Skill":s.headers=[{text:this.componentInstance.$t("nameLabel"),value:"name"},{text:this.componentInstance.$t("knowledgeSourceLabel"),value:"knowledgeSource"},{text:this.componentInstance.$t("relatedToLabel"),value:"relatedTo"},{text:this.componentInstance.$t("descriptionLabel"),value:"description"},{text:this.componentInstance.$t("validForLabel"),value:"validFor"},{text:this.componentInstance.$t("displayInLiveChatLabel"),value:"isDisplayInLiveChat"},{text:this.componentInstance.$t("internalLabel"),value:"isInternal"},{text:this.componentInstance.$t("lastModifiedByLabel"),value:"lastModifiedBy"}],s.iconLabel=this.componentInstance.$t("global.skillLabel");break;case"Pass":s.headers=[{text:this.componentInstance.$t("name"),value:"name"},{text:this.componentInstance.$t("startDate"),value:"localizedStartTime"},{text:this.componentInstance.$t("endDate"),value:"localizedEndTime"},{text:this.componentInstance.$t("quantity"),value:"quantity"},{text:this.componentInstance.$t("createdBy"),value:"compoundCreatedBy"}],s.iconLabel=t||this.componentInstance.$t("global.passLabel");break;case"Coupon":s.headers=[{text:this.componentInstance.$t("type"),value:"type"},{text:this.componentInstance.$t("name"),value:"name"},{text:this.componentInstance.$t("expirationDate"),value:"expirationDate"},{text:this.componentInstance.$t("quantity"),value:"quantity"},{text:this.componentInstance.$t("status"),value:"status"}],s.iconLabel=this.componentInstance.$t("global.couponLabel");break;case"Notification Template":s.headers=[{text:this.componentInstance.$t("titleLabel"),value:"title"},{text:this.componentInstance.$t("keywordLabel"),value:"keywordNames"},{text:this.componentInstance.$t("urlLabel"),value:"notificationURL"},{text:this.componentInstance.$t("noteLabel"),value:"note"},{text:this.componentInstance.$t("createdLabel"),value:"createdBy"}],s.iconLabel=this.componentInstance.$t("global.notifyLabel");break;case"Image":s.uploader=i,s.iconLabel=this.componentInstance.$t("global.imageLabel"),s.hasAction=!0;break;case"Voice Message":s.uploader=i,s.iconLabel=this.componentInstance.$t("global.voiceLabel"),s.hasAction=!0;break;case"Video":s.uploader=i,s.iconLabel=this.componentInstance.$t("global.videoLabel"),s.hasAction=!0;break;case"Mini Program Page":s.iconLabel=this.componentInstance.$t("global.miniProgramLabel");break;case"Structured Message":s.iconLabel=this.componentInstance.$t("global.strucLabel"),s.syncedTooltip=this.componentInstance.$t("global.syncedWithWeChatPlatform")}return s}createDataProvider(e){const t={wechatAccount:this.componentInstance.wechatAccount,pageName:this.componentInstance.pageName,structuredType:this.componentInstance.structuredType};switch(e){case"Text Message":t.success=()=>{this.componentInstance.$toast({content:this.componentInstance.$t("changeSavedNofity"),type:"success"})},t.error=e=>{this.componentInstance.$handleError(e)};break;case"Skill":t.formatter=e=>{var t;e.compoundRelatedTo={id:e.relatedTo?e.relatedTo.id:"",name:e.relatedTo?e.relatedTo.name:""},"Survey"===e.knowledgeSource&&e.relatedTo&&e.relatedTo.id?(e.compoundRelatedTo.href="javascript: void(0);",e.compoundRelatedTo.onClick=e=>{this.componentInstance.$router.push({name:"survey-editor",params:{surveyId:e.relatedTo.id}})}):e.relatedTo&&e.relatedTo.id&&(e.compoundRelatedTo.href="/".concat(e.relatedTo.id));const s=Object(k.e)(e.lastModifiedDate,this.componentInstance.$user.TimeZoneSidKey);return e.compoundLastModifiedBy=e.lastModifiedBy.name?F()(t="".concat(e.lastModifiedBy.name,", ")).call(t,s):s,e};break;case"Structured Message":t.formatter=e=>(e.localizedWeChatLastModifiedTime=Object(k.e)(e.weChatLastModifiedTime,this.componentInstance.$user.TimeZoneSidKey),e);break;case"Pass":t.formatter=e=>{var t;const s=Object(k.e)(e.createdDate,this.componentInstance.$user.TimeZoneSidKey);return e.compoundCreatedBy=F()(t="".concat(e.createdByUser,", ")).call(t,s),e.localizedStartTime=Object(k.e)(e.startTime,this.componentInstance.$user.TimeZoneSidKey),e.localizedEndTime=Object(k.e)(e.endTime,this.componentInstance.$user.TimeZoneSidKey),e};break;case"Coupon":const e=this.componentInstance.$t("to");t.formatter=t=>{var s,i;const o=Object(k.e)(t.beginDate,this.componentInstance.$user.TimeZoneSidKey),a=Object(k.e)(t.endDate,this.componentInstance.$user.TimeZoneSidKey);return t.expirationDate=F()(s=F()(i="".concat(o," ")).call(i,e," ")).call(s,a),t};break;case"Notification Template":t.formatter=e=>{var t;return e.localizedCreatedDate=Object(k.e)(e.createdDate,this.componentInstance.$user.TimeZoneSidKey),e.createdBy=F()(t="".concat(e.createdByUser,", ")).call(t,e.localizedCreatedDate),e};break;case"Voice Message":case"Video":t.formatter=e=>(e.localizedUpdateDateTime=Object(k.e)(e.updateDateTime,this.componentInstance.$user.TimeZoneSidKey),e)}return T.a.create(e,t)}},$=s("itEF"),A=s("wG3i"),R=s.n(A),B=s("FYrm"),E=s("w+Ta"),M=s("hOMy"),V={props:{accountId:{type:String,default:()=>""}},components:{CreateWeChatPass:B.a,LdModal:M.LdModal},data:()=>({isSavingPass:!1}),methods:{onClickActivator(){this.$refs.Modal.open()},closeModal(e){this.$emit("close",e),this.$refs.Modal.close()},async saveNewPass(){const e=this.accountId||this.$route.params.accountId,t=this.$refs.pass.getPass();if(e&&t)try{this.isSavingPass=!0;const s=await Object(E.f)(e,R()(t));if(s.ok){this.$router.app.$emit("open-toast-notification",{content:this.$t("passForApproval"),type:"success"});const e=s.data;this.$parent.$parent.$parent.$emit("new-pass-created"),this.closeModal(e)}else this.$refs.Modal.showError(s.error)}catch(e){const t=this.$parseErrorMessage(e);this.$refs.Modal.showError(t)}finally{this.isSavingPass=!1}}}},j=(s("nOmU"),s("KHd+")),z=s("Dk61"),H=Object(j.a)(V,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"new-pass-popup"},[s("span",{on:{click:e.onClickActivator}},[e._t("activator")],2),e._v(" "),s("ld-modal",{ref:"Modal",attrs:{title:e.$t("newPassTitle"),width:"auto","min-width":900,"max-width":"90%",persistent:e.isSavingPass}},[s("template",{slot:"content"},[s("create-we-chat-pass",{ref:"pass",attrs:{"acc-id":e.accountId,"is-popup":!0}})],1),e._v(" "),s("span",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSavingPass},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSavingPass},on:{click:function(t){return e.saveNewPass()}}},[e._v(e._s(e.$t("global.saveBtn")))])])],2)],1)}),[],!1,null,"dcb5ef76",null);"function"==typeof z.default&&Object(z.default)(H);var U=H.exports,q=s("fb3H"),W=s("wbfU"),J={props:{accountId:String},components:{WechatNotification:q.a,NewNotificationPopup:W.a},data:()=>({isWeChatNotificationVisible:!1,isNewNotificationPopupVisible:!1,selectedWeChatNotification:null}),methods:{onClickActivator(){this.isWeChatNotificationVisible=!0},onWeChatNotificationClose(){this.isWeChatNotificationVisible=!1},onWeChatNotificationNext(e){this.selectedWeChatNotification=e,this.isWeChatNotificationVisible=!1,this.isNewNotificationPopupVisible=!0},onNewNotificationPopupClose(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")?this.$parent.$parent.$parent.$emit("new-notification-template-created"):this.isWeChatNotificationVisible=!0,this.isNewNotificationPopupVisible=!1}}},Q=Object(j.a)(J,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isWeChatNotificationVisible?s("wechat-notification",{attrs:{"account-id":e.accountId},on:{close:e.onWeChatNotificationClose,next:e.onWeChatNotificationNext}}):e._e(),e._v(" "),e.isNewNotificationPopupVisible?s("new-notification-popup",{attrs:{"acc-id":e.accountId,notify:e.selectedWeChatNotification},on:{close:e.onNewNotificationPopupClose}}):e._e(),e._v(" "),s("div",{on:{click:e.onClickActivator}},[e._t("activator")],2)],1)}),[],!1,null,null,null).exports;const K=new p.a([["Mini Program",["Text Message","Image","Mini Program Page","Skill"]],["Subscription Account",["Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Pass","Coupon","Skill"]],["Service Account",["Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Notification Template","Pass","Coupon","Skill"]]]);var Y={components:{WechatResponseDesigner:m.WechatResponseDesigner,LdButton:h.LdButton,LdIcon:f.LdIcon,NewPassPopup:U,NotificationTemplateCreator:Q},model:{prop:"value",event:"input"},props:{value:{type:Object,default:()=>({})},limitOfItems:{type:Number,default:999},wechatAccount:{type:Object,required:!0},choosers:{type:Array,required:!0},multiple:{type:Boolean,default:()=>!1},enableReplyMode:{type:[Boolean,String],default:()=>!1},pageName:{type:String,default:""},iconSize:{type:String,default:"small"},structuredType:{type:String,default:"news"}},data:()=>({helperInstance:null,wechatResponse:{},addSvg:g.a}),computed:{unifiedChoosers(){var e;return d()(e=this.choosers).call(e,e=>"string"==typeof e?{type:e}:e)},supportedChoosers(){var e;return this.wechatAccount.type?r()(e=this.unifiedChoosers).call(e,e=>{var t;let{type:s}=e;return n()(t=K.get(this.wechatAccount.type)).call(t,s)}):this.unifiedChoosers},chooserConfigs(){return this.helper.getChooserConfigs(this.supportedChoosers)},replyModeConfig(){return this.helper.getReplyModeConfig(this.enableReplyMode)},helper(){return this.helperInstance||(this.helperInstance=new P(this)),this.helperInstance},accountId(){return this.wechatAccount.id}},watch:{wechatResponse:{handler(e){if(e.isInternalChange&&this.value&&e.content===this.value.content)return;const t=this.multiple?$.a.from(e):$.a.createItem(e);this.$emit("input",t)},deep:!0},value:{deep:!0,immediate:!0,handler(e){this.wechatResponse=o()({isInternalChange:!0},e)}}},methods:{onClickNewStructuredMessage(){w.openRoute({wechatAccountId:this.$wechatAccount.id,path:"message/structured-messages/new"})}}},G=(s("Ek5D"),s("xswR")),Z=s("ItEM"),X=s("fOvr"),ee=s("1vOb"),te=s("4bTK"),se=s("DR4q"),ie=Object(j.a)(Y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("wechat-response-designer",{attrs:{choosers:e.chooserConfigs,multiple:e.multiple,"reply-mode-config":e.replyModeConfig,"limit-of-items":e.limitOfItems,"icon-size":e.iconSize},model:{value:e.wechatResponse,callback:function(t){e.wechatResponse=t},expression:"wechatResponse"}},[s("ld-button",{attrs:{slot:"structured-message-create-button",neutral:""},on:{click:e.onClickNewStructuredMessage},slot:"structured-message-create-button"},[s("ld-icon",{staticClass:"plus-icon",attrs:{size:"xx-small",color:"current",content:e.addSvg}})],1),e._v(" "),s("new-pass-popup",{attrs:{slot:"pass-create-button","account-id":e.accountId},slot:"pass-create-button"},[s("ld-button",{attrs:{slot:"activator",neutral:""},slot:"activator"},[e._v("\n      "+e._s(e.$t("global.newBtn"))+"\n    ")])],1),e._v(" "),s("notification-template-creator",{attrs:{slot:"notification-template-create-button","account-id":e.accountId},slot:"notification-template-create-button"},[s("ld-button",{attrs:{slot:"activator",neutral:""},slot:"activator"},[e._v("\n      "+e._s(e.$t("global.newBtn"))+"\n    ")])],1)],1)}),[],!1,null,"486a8157",null);"function"==typeof G.default&&Object(G.default)(ie),"function"==typeof Z.default&&Object(Z.default)(ie),"function"==typeof X.default&&Object(X.default)(ie),"function"==typeof ee.default&&Object(ee.default)(ie),"function"==typeof te.default&&Object(te.default)(ie),"function"==typeof se.default&&Object(se.default)(ie);var oe=ie.exports;t.a=oe},"3zWd":function(e,t,s){},"4bTK":function(e,t,s){"use strict";var i=s("t29s"),o=s.n(i);t.default=o.a},"6KlO":function(e,t,s){"use strict";var i=s("wG3i"),o=s.n(i),a=s("+Bun"),n=s.n(a),l=s("oG9Y"),r=s.n(l),c=s("mdEO"),d=s("/B6M"),u=s("2GRW"),p=s("nGYt"),m=s.n(p),h=s("+dyS"),f=s.n(h),v=s("dUVM"),g=s.n(v),b=s("0G99"),y=s.n(b),_=s("8Vev"),S=s.n(_),C=s("Ip10"),w=s.n(C),I=s("kWsH"),F=s.n(I),L=s("rZkV"),x=s.n(L),k=s("06sA"),T=s.n(k),O=s("SLhn"),D=s.n(O),N=s("iP86"),P=s.n(N),$=s("sI2A"),A=s.n($),R=s("4LGG"),B=s.n(R),E=s("pqUP"),M=s.n(E),V=s("2ZOO"),j=s.n(V);function z(e){var t=e.iconClassList,s=e.title,i=e.desc,o=document.createElement("div");return o.className="weui-msg",o.innerHTML='\n    <div class="weui-msg__icon-area"><i class="'+t.join(" ")+'"></i></div>\n    <div class="weui-msg__text-area">\n      <h2 class="weui-msg__title">'+s+'</h2>\n      <div class="weui-msg__desc">'+i+"</div>\n    </div>\n  ",o}function H(e){if("string"!=typeof e)return e;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))}function U(e,t,s){void 0===e&&(e=""),void 0===t&&(t=""),void 0===s&&(s="");var i=document.createElement("div");i.className="banner";var o="";return e&&(o+='<div class="banner-img-container"><img src="'+e+'" class="banner-pic"></div>'),t&&(o+='<div class="banner-title title">'+H(t)+"</div>"),s&&(o+='<article class="weui-article banner-description description charket-edui edui-init-style">'+s+"</article>"),i.innerHTML=o,i}function q(e,t){void 0===t&&(t={});var s=document.createElement("span"),i=t.ButtonBg||"",o=t.ButtonColor||"",a=t.ButtonFontSize||"";return s.innerHTML='\n    <a href="javascript:;" style="background-color: '+i+"; font-size: "+a+"; color: "+o+'" class="sure-btn weui-btn weui-btn_primary submit-button">'+(void 0!==e?H(e):"提交")+"</a>\n  ",s}function W(){var e,t;t=M()((function(){e=document.documentElement.scrollTop||document.body.scrollTop,e-=1,window.scrollTo(0,e),e+=1,window.scrollTo(0,e),clearInterval(t)}),1)}var J;function Q(){var e=function(){var e=document.createElement("div");return e.innerHTML='\n    <div class="loading-mask weui-mask_transparent"></div>\n    <div class="loading-toast weui-toast">\n      <i class="weui-loading weui-icon_toast"></i>\n      <p class="weui-toast__content">正在保存</p>\n    </div>\n  ',e.style.display="none",e}();return{domElement:e,show:function(t){e.style.display=""},hide:function(){e.style.display="none"}}}function K(e){void 0===e&&(e={});var t=function(e){var t=document.createElement("div");return t.className="error-msg error-notify",t.style.backgroundColor=e.ErrorBg,t.style.color=e.ErrorColor,t.style.top="-30px",t}(e);return{domElement:t,showErrorMsg:function(e){var s=1500;t.style.top="0px",t.classList.remove("hide-ele"),t.textContent=e;var i=t.clientHeight;e.length>15&&(s=Math.min(e.length/10*1e3,5e3)),J&&window.clearTimeout(J),J=window.setTimeout((function(){t.style.top="-"+i+"px",t.classList.add("hide-ele")}),s)}}}var Y="连接超时, 请检查您的网络",G="无可用的网络连接";T()(String.prototype)||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=new Array(e/t.length+1).join(t)),x()(t).call(t,0,e)+String(this))});var Z={Notify:z,Heading:function(e,t,s,i){void 0===s&&(s={}),this.domElement=function(e,t,s,i){var o=document.createElement("div");o.className="header-title weui-cells__title "+(e||"")+" field-title hide-ele";var a=s.TitleFontSize||"",n=s.TitleColor||"",l=function(e){return{None:"","Red Asterisk":"#C23934",Asterisk:"#9FAAB5"}[e.RequiredIcon||"None"]}(s),r='<span style="color: '+l+'" class="require-icon-style hide-ele '+(e||"")+'">*</span>',c='<span style="font-size: '+a+"; color: "+n+';" class="label-value">'+(t||"")+"</span>";i&&l&&(c+=r);return o.innerHTML=c,o}(e,t,s,i)},MultipleChoice:function(e,t,s){void 0===s&&(s={}),this.domElement=function(e,t,s){var i,o=document.createElement("div");o.className=(e||"")+" hide-ele";var a=s.LabelFontSize,n=s.LabelColor,l=j()(i=t||[]).call(i,(function(t,s){return t+'\n      <label class="weui-cell weui-check__label charket-cell">\n        <div class="weui-cell__hd">\n          <input type="checkbox" id="'+(s.AnswerId||"")+'" name="'+(e||"")+'" class="weui-check" '+(s.checked?"checked":"")+'><i class="weui-icon-checked checkbox-icon-checked"></i>\n        </div>\n        <div class="weui-cell__bd '+(s.IsOther?"other-cell":"")+'">\n          <p style="font-size: '+a+"; color: "+n+'" class="field-value '+(s.IsOther?"other-value":"")+'">'+H(s.Choice)+'</p>\n          <div class="other-input-container '+(s.IsOther?"":"hide-ele")+'">\n            <input type="text" name="'+(s.AnswerId||"")+'" style="font-size: '+a+"; color: "+n+'" class="field-value weui-input multiple-input other-input" value="'+(s.otherValue||"")+'"/>\n          </div>  \n        </div>\n      </label>'}),"");return o.innerHTML='<div class="weui-cells weui-cells_checkbox charket-cells">'+l+"</div>",o}(e,t,s)},SingleChoice:function(e,t,s){void 0===s&&(s={}),this.domElement=function(e,t,s){var i=document.createElement("div");i.className=(e||"")+" hide-ele";var o=s.LabelFontSize,a=s.LabelColor,n=j()(t).call(t,(function(t,s){return s.IsOther?t+'<label class="weui-cell weui-check__label charket-cell">\n      <div class="weui-cell__bd '+(s.IsOther?"other-cell":"")+'">\n        <p style="font-size: '+o+"; color: "+a+'" class="other-value field-value">'+H(s.Choice||"")+'</p>\n        <div class="other-input-container '+(s.IsOther?"":"hide-ele")+'">\n          <input type="text" style="font-size: '+o+"; color: "+a+'" name="'+(s.AnswerId||"")+'" class="weui-input single-input other-input field-value" value="'+(s.otherValue||"")+'"/>\n        </div>\n      </div>\n      <div class="weui-cell__ft">\n        <input type="radio" class="weui-check" name="'+(e||"")+'" id="'+(s.AnswerId||"")+'" '+(s.checked?"checked":"")+'>\n        <span class="weui-icon-checked radio-icon-checked"></span>\n      </div>\n      </label>':t+'<label class="weui-cell weui-check__label charket-cell">\n      <div class="weui-cell__bd">\n        <p style="font-size: '+o+"; color: "+a+'" class="field-value">'+H(s.Choice||"")+'</p>\n      </div>\n      <div class="weui-cell__ft">\n          <input type="radio" class="weui-check" name="'+(e||"")+'" id="'+(s.AnswerId||"")+'" '+(s.checked?"checked":"")+'>\n          <span class="weui-icon-checked radio-icon-checked"></span>\n      </div>\n      </label>'}),"");return i.innerHTML='<div class="weui-cells weui-cells_radio charket-cells">'+n+"</div>",i}(e,t,s)},ShortText:function(e,t,s,i){void 0===i&&(i={}),this.domElement=function(e,t,s,i){var o=document.createElement("div");o.className="weui-cells "+(e||"")+" charket-cells hide-ele";var a=i.LabelFontSize,n=i.LabelColor;return o.innerHTML='\n    <div class="weui-cell charket-cell">\n      <div class="weui-cell__bd">\n        <input style="font-size: '+a+"; color: "+n+'" class="weui-input field-value" id="'+(e||"")+'" placeholder="'+(s||"")+'" value="'+(t||"")+'"/>\n      </div>\n    </div>\n  ',o}(e,t,s,i),this.inputElement=this.domElement.querySelector(".weui-input"),this.inputElement.addEventListener("blur",(function(){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&W()}))},LongText:function(e,t,s,i){void 0===i&&(i={}),this.domElement=function(e,t,s,i){var o=document.createElement("div");o.className=(e||"")+" hide-ele";var a=i.LabelFontSize,n=i.LabelColor;return o.innerHTML='\n    <div class="weui-cells charket-cells">\n      <div class="weui-cell charket-cell">\n        <div class="weui-cell__bd">\n          <textarea style="font-size: '+a+"; color: "+n+'" class="weui-textarea field-value"\n            rows="3" id="'+(e||"")+'" placeholder="'+(s||"")+'">'+(t||"")+"</textarea>\n        </div>\n      </div>\n    </div>",o}(e,t,s,i),this.textareaElement=this.domElement.querySelector(".weui-textarea"),this.textareaElement.addEventListener("blur",(function(){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&W()}))},Date:function(e,t,s,i){void 0===i&&(i={}),this.domElement=function(e,t,s,i){var o=document.createElement("div");o.className="weui-cells charket-cells "+t+" hide-ele";var a=i.LabelFontSize,n=i.LabelColor;return o.innerHTML='\n  <div class="weui-cell charket-cell">\n    <div class="weui-cell__bd">\n      <input style="font-size: '+a+"; color: "+n+'" class="weui-input field-value" id="'+t+'"  type="'+("Date"===e?"date":"datetime-local")+'" value="'+(s?function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;var t,s,i,o,a,n,l,r=60*(new Date).getTimezoneOffset()*1e3,c=B()(t=e.match(/(\d+)(?!\d)/g)).call(t,(function(e){return A()(e)}));c[1]--;var d=new Date(new(P()(Function.prototype).apply(Date,D()(s=[null]).call(s,c)))-r);return d.getFullYear()+"-"+T()(i=String(d.getMonth()+1)).call(i,2,"0")+"-"+T()(o=String(d.getDate())).call(o,2,"0")+"T"+T()(a=String(d.getHours())).call(a,2,"0")+":"+T()(n=String(d.getMinutes())).call(n,2,"0")+":"+T()(l=String(d.getSeconds())).call(l,2,"0")}(s):"")+'">\n    </div>\n  </div>\n  ',o}(e,t,s,i),this.inputElement=this.domElement.querySelector(".weui-input"),this.inputElement.addEventListener("blur",(function(){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&W()}))},Dropdown:function(e,t,s,i){void 0===i&&(i={}),this.domElement=function(e,t,s,i){var o,a=document.createElement("div");a.className="weui-cells "+(e||"")+" charket-cells hide-ele";var n=i.LabelFontSize,l=i.LabelColor,r=j()(o=t||[]).call(o,(function(e,t){return e+'<option value="'+(t.Choice||"")+'" id="'+(t.AnswerId||"")+'" '+(t.checked?"selected":"")+">"+H(t.Choice||"")+"</option>"}),"");return a.innerHTML='\n      <div class="weui-cell weui-cell_select weui-cell_select-after charket-cell">\n        <div class="weui-cell__bd">\n          <select id="'+(e||"")+'" style="font-size: '+n+"; color: "+l+'" class="weui-select field-value">\n            <option>'+(H(s)||"请选择")+"</option>\n            "+r+"\n          </select>\n        </div>\n      </div>\n    ",a}(e,t,s,i),this.selectElement=this.domElement.querySelector(".weui-select"),this.selectElement.addEventListener("blur",(function(){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&W()}))},Rating:function(e,t,s){void 0===s&&(s={}),this.domElement=function(e,t,s){var i=document.createElement("div");i.className="weui-cells "+(e||"")+" charket-cells hide-ele";var o='\n    <div class="weui-cell charket-cell">\n      <div class="weui-cell__bd">\n        <div class="rate unselect">\n            '+j()(t).call(t,(function(t,s){return t+'<input type="radio" id="'+(s.AnswerId||s.Order)+'" name="'+e+'" value="'+s.Choice+'" '+(s.checked?"checked":"")+'/><label for="'+(s.AnswerId||s.Order)+'"></label>'}),"")+"\n        </div>\n      </div>\n    </div>\n  ";return i.innerHTML=o,i}(e,t)}},X=["Multiple Choice","Single Choice"],ee=["Text","Long Text","Date","Datetime"],te={},se=[],ie=[],oe=[],ae=[],ne=[],le=[],re=[],ce=!1,de="",ue="";function pe(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t);return s?s[2]||"":[]}function me(e){return e.replace(/~/g,"%7E").replace(/!/g,"%21").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/\./g,"%2E")}function he(e,t,s){var i=[],o={};return s&&(o=w()(e).call(e,(function(e){return e.SurveyQuestionId===s}))),B()(e).call(e,(function(e){n()(t).call(t,e.SurveyQuestionId)<0&&(s?e.Order>=o.Order&&i.push(e.SurveyQuestionId):i.push(e.SurveyQuestionId))})),i}function fe(e,t,s,i,o,a){if(void 0===a&&(a=""),t&&t.length>0){var n=[],l=[],r=[],c=s.Answers;if(ne=S()(ne).call(ne,(function(e){return e.Conditions[0].QuestionId!==i})),y()(t).call(t,(function(e){var t=e.Conditions[0],s=e.Actions[0].Type;y()(c).call(c,(function(o){(document.getElementById(o.AnswerId).checked||o.AnswerId===a)&&("equals"===t.Op?i===t.QuestionId&&o.AnswerId===t.AnswerId&&("show"===s?l.push(e):"hide"===s&&r.push(e)):"not equals"===t.Op&&i===t.QuestionId&&o.AnswerId!==t.AnswerId&&("show"===s?l.push(e):"hide"===s&&r.push(e)))}))})),ne=D()(ne).call(ne,l),ne=D()(ne).call(ne,r),F()(ne).call(ne,(function(e,t){return t.Exp-e.Exp})),"checkbox"===o)if(r.length>0){var d;F()(r).call(r,(function(e,t){return t.Exp-e.Exp}));var u=r[0].Actions[0].QuestionIds;n=he(e,u,i);var p=[],m=D()(d=[]).call(d,r);m.shift(),y()(m).call(m,(function(e){var t=e.Actions[0].QuestionIds;y()(t).call(t,(function(e){g()(p).call(p,e)||p.push(e)}))})),n=S()(n).call(n,(function(e){return!g()(p).call(p,e)}))}else y()(l).call(l,(function(e){var t=e.Actions[0].QuestionIds;B()(t).call(t,(function(e){w()(n).call(n,(function(t){return t===e}))||n.push(e)}))}));else if("radio"===o)if(r.length>0){var h=r[0].Actions[0].QuestionIds;n=he(e,h,i)}else{var f=l[0];n=f.Actions[0].QuestionIds}var v=[],b=[];return y()(t).call(t,(function(t){var i=t.Conditions[0].QuestionId,o=t.Actions[0].QuestionIds,a=t.Actions[0].Type,n=w()(e).call(e,(function(e){return e.SurveyQuestionId===i})),l=w()(ne).call(ne,(function(e){return e.Exp===t.Exp}));n.Order<s.Order&&l&&("show"===a?y()(o).call(o,(function(t){var i=w()(e).call(e,(function(e){return e.SurveyQuestionId===t}));!g()(v).call(v,t)&&i.Order>s.Order&&v.push(t)})):"hide"===a&&y()(o).call(o,(function(t){var i=w()(e).call(e,(function(e){return e.SurveyQuestionId===t}));!g()(b).call(b,t)&&i.Order>s.Order&&b.push(t)})))})),n=S()(n).call(n,(function(e){return!g()(b).call(b,e)})),y()(v).call(v,(function(e){g()(n).call(n,e)||n.push(e)})),n}return[]}function ve(e,t,s,i){for(var o=0,a=function(a,l){var r=s[a],c=w()(t).call(t,(function(e){return e.SurveyQuestionId===r}));if(i.push(r),n()(X).call(X,c.Type)>-1){for(var d=c.Answers,u=!1,p=0,m=d.length;p<m;p++){var h=d[p].AnswerId;if(document.getElementById(h).checked)if(be(e,r,h).length>0){u=!0;break}}if(u){var f="";f="Single Choice"===c.Type?"radio":"checkbox";var v=fe(t,e,c,r,f);return v=ye(t,v),(v=S()(v).call(v,(function(e){return e!==r}))).length>0?(ve(e,t,v,i),{v:i}):{v:i}}o++}else if("Dropdown"===c.Type){var g=document.getElementById(r),b=g[g.selectedIndex].id;if(b)if(be(e,r,b).length>0){var y=fe(t,e,c,r,"radio",b);return y=ye(t,y),(y=S()(y).call(y,(function(e){return e!==r}))).length>0?(ve(e,t,y,i),{v:i}):{v:i}}o++}else o++},l=0,r=s.length;l<r;l++){var c=a(l);if(c)return c.v}if(o===s.length)return i}function ge(e,t,s){var i=[],o=[];B()(t).call(t,(function(t){w()(e).call(e,(function(e){return e.SurveyQuestionId===t})).IsHidden||(i=D()(i).call(i,r()(document.getElementsByClassName(t))))})),B()(e).call(e,(function(e){e.Order>s.Order&&n()(t).call(t,e.SurveyQuestionId)<0&&(o=D()(o).call(o,r()(document.getElementsByClassName(e.SurveyQuestionId))))})),y()(i).call(i,(function(e){e.classList.remove("hide-ele")})),y()(o).call(o,(function(e){e.classList.add("hide-ele")}))}function be(e,t,s){var i=[];return B()(e).call(e,(function(e){var o=e.Conditions[0];if("not equals"===o.Op)o.QuestionId===t&&o.AnswerId!==s&&(w()(i).call(i,(function(t){return t.Exp===e.Exp}))||i.push(e.Exp));else if("equals"===o.Op){if(o.QuestionId===t&&o.AnswerId===s)w()(i).call(i,(function(t){return t.Exp===e.Exp}))||i.push(e.Exp)}})),i}function ye(e,t){var s=[],i=[];return y()(t).call(t,(function(t){s.push(w()(e).call(e,(function(e){return e.SurveyQuestionId===t})))})),F()(s).call(s,(function(e,t){return e.Order-t.Order})),y()(s).call(s,(function(e){i.push(e.SurveyQuestionId)})),i}function _e(e,t,s){var i=w()(e).call(e,(function(e){return e.SurveyQuestionId===t})),o=[],a=[];return y()(s).call(s,(function(t){o.push(w()(e).call(e,(function(e){return e.SurveyQuestionId===t})))})),F()(o).call(o,(function(e,t){return e.Order-t.Order})),y()(o).call(o,(function(e){e.Order<=i.Order&&a.push(e.SurveyQuestionId)})),a}function Se(e,t,s,i,o){if(e&&e.length>0){var a=w()(t).call(t,(function(e){return e.SurveyQuestionId===s}));if(be(e,s,i).length>0){var n=[];n=ve(e,t,_e(t,s,re),n),re=n,ge(t,n,a)}else if("radio"===o)if((ne=S()(ne).call(ne,(function(e){return e.Conditions[0].QuestionId!==s}))).length>0){var l=[];l=ve(e,t,_e(t,s,re),l),re=l,ge(t,l,a)}else re=[],B()(t).call(t,(function(e){e.Order>a.Order?function(e,t){if(void 0===t&&(t="show"),!e.IsHidden){var s=r()(document.getElementsByClassName(e.SurveyQuestionId));"show"===t?B()(s).call(s,(function(e){e.classList.remove("hide-ele")})):"hide"===t&&B()(s).call(s,(function(e){e.classList.add("hide-ele")}))}}(e,"hide"):re.push(e.SurveyQuestionId)}))}}function Ce(e,t,s){var i=function(e,t){var s,i=w()(s=e.Answers).call(s,(function(e){return e.Choice===t}));i&&(i.checked=!0)},o=function(e,t){"Rating"===e.Type||"Dropdown"===e.Type||"Single Choice"===e.Type?i(s,t):t&&n()(t).call(t,";")>0?function(e,t){for(var i=function(e,i){var o,a=t[e];B()(o=s.Answers).call(o,(function(e){e.Choice===a&&(e.checked=!0)}))},o=0,a=t.length;o<a;o++)i(o)}(0,t.split(";")||[]):i(s,t)};if(le.length<=0){var a="";"URL Parameter"===s.PrefillType?(a=pe(me(encodeURIComponent(s.PrefillValue))),a=decodeURIComponent(a)):"Fixed Value"===s.PrefillType&&(a=s.PrefillValue),o(s,a)}else if("Fixed Value"===s.PrefillType){var l=s.PrefillValue;o(s,l)}else if(t&&t.length>0){F()(e).call(e,(function(e,t){return e.Order-t.Order}));var r=S()(t).call(t,(function(e){return e.SurveyQuestionId===s.SurveyQuestionId})),c=[],d="";B()(r).call(r,(function(e){e.Response&&(d=e.Response),c.push(e.SurveyAnswerId)})),y()(e).call(e,(function(e){n()(c).call(c,e.AnswerId)>-1&&(e.checked=!0),e.IsOther&&d&&(e.otherValue=d)}))}}function we(e,t){if(le.length<=0){if("URL Parameter"===t.PrefillType)return pe(me(encodeURIComponent(t.PrefillValue)));if("Fixed Value"===t.PrefillType)return t.PrefillValue}else{if("Fixed Value"===t.PrefillType)return t.PrefillValue;if(e&&e.length>0){var s=w()(e).call(e,(function(e){return e.SurveyQuestionId===t.SurveyQuestionId}));if(s)return s.Response}}}function Ie(e){var t=document.createElement("style");t.type="text/css";try{t.appendChild(document.createTextNode(e))}catch(s){t.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(t)}function Fe(e,t,s,i,o,a){var l,r,c=document.getElementsByClassName(i)[0];return t?n()(l=c.className).call(l,"hide-ele")<0?s?(w()(ae).call(ae,(function(e){return e.id===i}))||ae.push({ele:c,id:i,order:o}),c.firstElementChild.style.color="#e64340",1):(ae=S()(ae).call(ae,(function(e){return e.id!==i})),c.firstElementChild.style.color=a.TitleColor,0):(e.IsHidden||n()(re).call(re,i)<0&&(oe=S()(oe).call(oe,(function(e){return e.SurveyQuestionId!==i}))),0):(e.IsHidden||n()(r=c.className).call(r,"hide-ele")>-1&&n()(re).call(re,i)<0&&(oe=S()(oe).call(oe,(function(e){return e.SurveyQuestionId!==i}))),0)}function Le(e,t){var s=0;return oe=[],B()(e).call(e,(function(e){if("Fixed Value"===e.PrefillType)oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:"",Response:""});else if(n()(X).call(X,e.Type)>-1){var i,o,a=[],l=[],c="";B()(i=e.Answers).call(i,(function(e){e.IsOther||a.push(document.getElementById(e.AnswerId))}));var d=f()(a).call(a,(function(e){return e.checked})),u=w()(o=e.Answers).call(o,(function(e){return!!e.IsOther})),p=!1;u&&(l=r()(document.getElementsByName(u.AnswerId)),B()(l).call(l,(function(t){var s;n()(s=t.className).call(s,"hide-ele")<0&&t.value&&(document.getElementById(t.name).checked&&(p=!0,c=t.name,oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:c,Response:t.value})))}))),B()(a).call(a,(function(t){t.checked&&oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:t.id,Response:""})}));var m=d||!d&&p;s+=Fe(e,e.IsRequired,!m,e.SurveyQuestionId,e.Order,t)}else if("Dropdown"===e.Type){var h=document.getElementById(e.SurveyQuestionId),v=h[h.selectedIndex].id,g=!!v;g&&oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:v,Response:""}),s+=Fe(e,e.IsRequired,!g,e.SurveyQuestionId,e.Order,t)}else if(n()(ee).call(ee,e.Type)>-1){var b=document.getElementById(e.SurveyQuestionId),y=!!b.value;if(y){var _="";_="Datetime"===e.Type?function(e){var t,s,i,o,a,l="";l=(l=n()(e).call(e,".")>0?x()(e).call(e,0,n()(e).call(e,".")):e).replace(/-/g,"/").replace("T"," ");var r=new Date(l);return r.getUTCFullYear()+"-"+T()(t=String(r.getUTCMonth()+1)).call(t,2,"0")+"-"+T()(s=String(r.getUTCDate())).call(s,2,"0")+" "+T()(i=String(r.getUTCHours())).call(i,2,"0")+":"+T()(o=String(r.getUTCMinutes())).call(o,2,"0")+":"+T()(a=String(r.getUTCSeconds())).call(a,2,"0")}(b.value):b.value,oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:"",Response:_})}s+=Fe(e,e.IsRequired,!y,e.SurveyQuestionId,e.Order,t)}else if("Rating"===e.Type){var S=r()(document.getElementsByName(e.SurveyQuestionId)),C=w()(S).call(S,(function(e){return e.checked}));C&&oe.push({SurveyQuestionId:e.SurveyQuestionId,SurveyAnswerId:C.id,Response:""}),s+=Fe(e,e.IsRequired,!C,e.SurveyQuestionId,e.Order,t)}})),s}function xe(e){document.body.innerHTML="",document.body.appendChild(e),document.body.style.minHeight=""}var ke=function(e,t,s,i,a){var l,r;void 0===i&&(i=!1);var c=new z({iconClassList:["weui-icon-success","weui-icon_msg"],title:"提交成功",desc:t.ThankYouMessage});if(t&&"Archived"!==t.Status)if(!1!==window.isDisplaySurvey){var d,u,p;if(i)y()(d=t.Questions).call(d,(function(e){var t;(e.SurveyQuestionId||(e.SurveyQuestionId="question"+e.Order),e.Answers&&e.Answers.length>0)&&y()(t=e.Answers).call(t,(function(t){t.AnswerId||(t.AnswerId="answer"+e.Order+t.Order)}))}));if(te=t.Styles,(se=t.RuleSettings.Rules||[])&&se.length>0){var h=0;y()(se).call(se,(function(e){h++,e.Exp=h}))}ie=function(e){if(e&&e.length>0){var t=[];return B()(e).call(e,(function(e){var s;B()(s=e.Conditions).call(s,(function(e){w()(t).call(t,(function(t){return t===e.QuestionId}))||t.push(e.QuestionId)}))})),t}return[]}(se),u=t,F()(p=u.Questions).call(p,(function(e,t){return e.Order-t.Order}));var f=s.SurveyResponse;le=s.ResponseQuestionIds||[];var v=document.createDocumentFragment();v.appendChild(new U(t.Banner,t.Title,t.Description)),y()(l=t.Questions).call(l,(function(e){if(e.Question){var t=new Z.Heading(e.SurveyQuestionId,e.Question,te,e.IsRequired);if(v.appendChild(t.domElement),"Multiple Choice"===e.Type){Ce(e.Answers,f,e);var s=new Z.MultipleChoice(e.SurveyQuestionId,e.Answers,te);v.appendChild(s.domElement)}else if("Single Choice"===e.Type){Ce(e.Answers,f,e);var i=new Z.SingleChoice(e.SurveyQuestionId,e.Answers,te);v.appendChild(i.domElement)}else if("Text"===e.Type){var o=we(f,e),a=new Z.ShortText(e.SurveyQuestionId,o,e.Placeholder,te);v.appendChild(a.domElement)}else if("Long Text"===e.Type){var n=we(f,e),l=new Z.LongText(e.SurveyQuestionId,n,e.Placeholder,te);v.appendChild(l.domElement)}else if("Date"===e.Type||"Datetime"===e.Type){var r=we(f,e),c=new Z.Date(e.Type,e.SurveyQuestionId,r,te);v.appendChild(c.domElement)}else if("Dropdown"===e.Type){Ce(e.Answers,f,e);var d=new Z.Dropdown(e.SurveyQuestionId,e.Answers,e.Placeholder,te);v.appendChild(d.domElement)}else if("Rating"===e.Type){var u;Ce(e.Answers,f,e),F()(u=e.Answers).call(u,(function(e,t){return t.Order-e.Order}));var p=new Z.Rating(e.SurveyQuestionId,e.Answers,te);v.appendChild(p.domElement)}}}));var g=new q(t.ButtonSettings.Label,te),b=g.querySelector("a");i&&(b.className=b.className+" weui-btn_disabled"),v.appendChild(g);var _=new Q;v.appendChild(_.domElement);var C=new K(te),I=P()(r=C.showErrorMsg).call(r,C);if(e.appendChild(C.domElement),e.appendChild(v),f&&f.length>0){var L,x=[],k=[];B()(L=t.Questions).call(L,(function(e){n()(le).call(le,e.SurveyQuestionId)>-1&&x.push(e)})),F()(x).call(x,(function(e,t){return e.Order-t.Order})),B()(x).call(x,(function(e){k.push(e.SurveyQuestionId)}));var T=[];ve(se,t.Questions,k,T),re=T,ge(t.Questions,T,x[0])}else!function(e,t){var s=[];if(e&&e.length>0){var i=[];B()(e).call(e,(function(e){i=D()(i).call(i,e.Conditions[0].QuestionId)}));var o=S()(t).call(t,(function(e){return n()(i).call(i,e.SurveyQuestionId)>-1}));B()(t).call(t,(function(e){e.Order<=o[0].Order&&s.push(e.SurveyQuestionId)}))}else B()(t).call(t,(function(e){s.push(e.SurveyQuestionId)}));var a=[];ve(e||[],t,s,a),re=a,ge(t,a,t[0])}(se,t.Questions);var O="";O=i?document.getElementById("preview-form-container"):document.getElementById("app");var N=te.CheckedColor;Ie(".weui-cells_checkbox .weui-check:checked+.weui-icon-checked:before{color: "+N+";}"),Ie(".weui-cells_radio .weui-check:checked+.weui-icon-checked:before{color: "+N+";}"),Ie(i?a:t.AdvancedStyles);var $=te.FormBg,A=te.PageFontFamily;$&&(O.style.backgroundColor=$),A&&(O.style.fontFamily=A);var R=window.navigator.platform.toLowerCase();if((n()(R).call(R,"win")>-1||n()(R).call(R,"mac")>-1)&&!i){O.style.padding="16px",O.style.marginTop="50px",O.style.marginBottom="50px",O.style.height="auto",O.style.overflow="auto";var E=document.getElementsByTagName("body")[0];te.PageBg?E.style.backgroundColor=te.PageBg:E.style.backgroundColor="#e1e2e5",te.PageBgImage?(E.style.backgroundImage="url("+te.PageBgImage+")",E.style.backgroundRepeat="no-repeat",E.style.backgroundSize="contain",E.style.backgroundPosition="center"):E.style.backgroundImage=""}window.addEventListener("click",(function(e){var s=e.target,i=["checkbox","radio"];if("input"===s.tagName.toLowerCase()&&"rate"!==s.name&&n()(i).call(i,s.type)>-1&&n()(ie).call(ie,s.name)>-1){var o=s.name,a=s.id;Se(se,t.Questions,o,a,s.type)}}),!1),window.addEventListener("change",(function(e){var s=e.target;if("select"===s.tagName.toLowerCase()){var i=s[s.selectedIndex];i.id&&n()(ie).call(ie,s.id)>-1&&Se(se,t.Questions,s.id,i.id,"radio")}})),window.addEventListener("input",(function(e){var s,i,o=e.target;if(n()(s=o.className).call(s,"multiple-input")>-1){var a=document.getElementById(o.name);a.checked=!0,n()(ie).call(ie,a.name)>-1&&Se(se,t.Questions,a.name,a.id,"checkbox")}else if(n()(i=o.className).call(i,"single-input")>-1){var l=document.getElementById(o.name);l.checked=!0,n()(ie).call(ie,l.name)>-1&&Se(se,t.Questions,l.name,l.id,"radio")}})),b.addEventListener("click",(function(){var s,i,a;re=D()(s=[]).call(s,new m.a(re));var l,r,d,u,p,h=[];if(B()(i=t.Questions).call(i,(function(e){n()(re).call(re,e.SurveyQuestionId)>-1&&h.push(e)})),F()(h).call(h,(function(e,t){return e.Order-t.Order})),B()(a=t.Questions).call(a,(function(e){e.Order<h[0].Order&&!e.IsHidden&&re.unshift(e.SurveyQuestionId)})),Le(t.Questions,te)){I("请完成页面上的必填项"),F()(ae).call(ae,(function(e,t){return e.order-t.order}));var f=ae[0].ele.offsetTop;e.scrollTop=f-30}else{_.show(),t.Settings=t.Settings||{};var v={SurveyResponse:oe,ResponseQuestionIds:re},g=function(){if(_.hide(),t.RedirectURL){var e=t.RedirectURL;window.location.href=e}else xe(c)},b=function(){!function(e){var t=e.data,s=e.success,i=e.fail;Visualforce.remoting.Manager.invokeAction((window.namespace?window.namespace+".":"")+"SurveyController.sendCompletionResponses",o()(t),(function(e,t){200===t.statusCode?s():i()}),{escape:!0})}({data:{followerId:de,surveyTakenId:ue,messageIds:t.Settings.MessageIds,templateIds:t.Settings.TemplateIds},success:function(){g()},fail:function(){_.hide(),I("网络请求失败")}})};ce?b():(l={dataJSON:o()(v),surveyId:t.SurveyId,successCallback:function(e){ce=!0,ue=e.surveyTakenId,e.followerId?(de=e.followerId,b()):g()},failCallback:function(e){var t=e&&e[0]&&e[0].message;I(t||"提交失败"),_.hide()}},r=l.dataJSON,d=l.surveyId,u=l.successCallback,p=l.failCallback,Visualforce.remoting.Manager.invokeAction((window.namespace?window.namespace+".":"")+"SurveyController.submit",window.encryptOpenId,d,r,(function(e,t){null===e?t.xhr&&!0===t.xhr.isTimeout?p(Y):"onLine"in navigator&&!1===navigator.onLine?p(G):p():e.ok?u(JSON.parse(function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};if(null!=e)return(e=e.replace(/&#0?39;/gi,"'")).replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,s){return t[s]}))}(e.data))):p(e.error)}),{escape:!0,timeout:3e4}))}}))}else if(t.RedirectURL){var M=t.RedirectURL;window.location.href=M}else xe(c);else xe(new z({iconClassList:["weui-icon-warn","weui-icon_msg-primary"],title:"问卷已关闭",desc:"您访问的问卷已停止收集信息"}))};const Te=d.a;var Oe={components:{PhoneFrameCard:c.PhoneFrameCard},props:{previewInfo:{type:Object,default:()=>({})},type:{type:String,default:()=>""},isForm:{type:Boolean,default:()=>!0}},mounted(){this.initRenderDom()},beforeDestroy(){const e=r()(document.getElementsByTagName("style")),t=this.previewInfo.FormId||this.previewInfo.SurveyId;for(const s of e){const e=s.innerText;e&&n()(e).call(e,"#".concat(t))>-1&&document.head.removeChild(s)}},watch:{type:function(){this.$refs.previewPhone&&(this.$refs.previewPhone.innerHTML=""),this.$refs.previewDesktop&&(this.$refs.previewDesktop.innerHTML=""),this.$nextTick((function(){this.initRenderDom()}))}},methods:{initRenderDom(){let e="",t=document.getElementsByClassName("we-chat-form-preview-dialog")[0];if("PHONE"===this.type)e=this.$refs.previewPhone,t.style.backgroundColor="#fff",t.style.backgroundImage="",t.style.backgroundRepeat="",t.style.backgroundSize="",t.style.backgroundPosition="";else{e=this.$refs.previewDesktop,t.style.backgroundColor="#e1e2e5";const s=this.previewInfo.Styles||{};this.previewInfo,s.PageBgImage&&(t.style.backgroundImage="url(".concat(s.PageBgImage,")"),t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="contain",t.style.backgroundPosition="center"),s.PageBg&&(t.style.backgroundColor=s.PageBg)}let s="";if(this.previewInfo.AdvancedStyles&&(s=this.previewInfo.AdvancedStyles.replace(/#app/g,"#".concat(this.previewInfo.FormId||this.previewInfo.SurveyId))),this.isForm){const t=JSON.parse(o()(this.previewInfo));Object(u.a)(e,t,{},"BuilderPreview",s,Te,this.type.toLowerCase(),"preview-form-container")}else{const t=JSON.parse(o()(this.previewInfo));ke(e,t,{},"BuilderPreview",s)}}}},De=(s("ZKzn"),s("KHd+")),Ne=Object(De.a)(Oe,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid we-chat-form-preview-dialog",class:{"desktop-dialog":"DESKTOP"===e.type},attrs:{id:e.previewInfo.FormId||e.previewInfo.SurveyId}},["PHONE"===e.type?s("div",{staticClass:"slds-grid phone-section",attrs:{id:"phone-section"}},[s("phone-frame-card",{staticClass:"phone-model",attrs:{name:e.previewInfo.Title,"has-footer":!1}},[s("div",{attrs:{slot:"app-name"},slot:"app-name"},[e._v(e._s(e.$t("global.wechatLabel")))]),e._v(" "),s("span",{attrs:{slot:"back-label"},slot:"back-label"},[e._v(e._s(e.$t("global.backBtn")))]),e._v(" "),s("div",{staticClass:"slds-scrollable_y phone-content",attrs:{slot:"content"},slot:"content"},[s("div",{ref:"previewPhone",staticClass:"preview-phone preview-form",attrs:{id:"preview-form-container"}})])])],1):e._e(),e._v(" "),"DESKTOP"===e.type?s("div",{ref:"previewDesktop",staticClass:"preview-desktop preview-form",attrs:{id:"preview-form-container"}}):e._e()])}),[],!1,null,"4b2fd611",null);t.a=Ne.exports},"6mtQ":function(e,t,s){"use strict";var i=s("iQVG");s.n(i).a},"77Xr":function(e,t,s){"use strict";var i=s("ybke");s.n(i).a},"8YXT":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectNotificationTemplateLabel":"选择微信模板","newTemplateLabel":"在微信中添加一个新模板"},"en":{"selectNotificationTemplateLabel":"Select WeChat Template","newTemplateLabel":"Choose a new template from WeChat."}}'),delete e.options._Ctor}},"94pc":function(e,t,s){},A3YL:function(e,t,s){"use strict";var i=s("F5n2"),o=s.n(i);t.default=o.a},AScg:function(e,t,s){},Ao6X:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"cellName":"名称","cellStatus":"状态","cellObjectLabel":"关联对象","cellNote":"备注","cellLastModify":"上次修改人","publish":"发布","archive":"存档","clone":"复制","searchForms":"搜索表单","all":"全部","alphabetically":"字母升序","reverseAlphabetically":"字母降序","lastModifiedDate":"最近修改日期","oldestModifiedDate":"最早修改日期","modalHeader":"表单","modalContent1":"你确定要","modalContent2":"这个表单?","actionLabel1":"存档","actionLabel2":"发布","actionLabel3":"删除","notifyContent":"表单已{0}。","statusLabel":"状态","objectsLabel":"对象"},"en":{"cellName":"Name","cellStatus":"Status","cellObjectLabel":"Salesforce Object","cellNote":"Note","cellLastModify":"Last Modified By","publish":"Publish","archive":"Archive","clone":"Clone","searchForms":"Search Forms","all":"All","alphabetically":"Alphabetically","reverseAlphabetically":"Reverse Alphabetically","lastModifiedDate":"Last Modified Date","oldestModifiedDate":"First Modified Date","modalHeader":" Form","modalContent1":"Are you sure you want to ","modalContent2":" this form?","actionLabel1":"archived","actionLabel2":"published","actionLabel3":"deleted","notifyContent":"The form was {0}.","statusLabel":"Status","objectsLabel":"Objects"}}'),delete e.options._Ctor}},AzUG:function(e,t,s){"use strict";var i=s("z7oQ");s.n(i).a},BDbr:function(e,t,s){"use strict";var i=s("Mlmg"),o=s.n(i);t.default=o.a},DR4q:function(e,t,s){"use strict";var i=s("hG8I"),o=s.n(i);t.default=o.a},Dk61:function(e,t,s){"use strict";var i=s("I0LH"),o=s.n(i);t.default=o.a},Dt9k:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"label":"标签","sendButtonLabel":"发送按钮标签","placeholderText":"占位文本","resendButtonLabel":"重新发送按钮标签","verificationCodeSettingsTitle":"验证码组件设置"},"en":{"label":"Label","sendButtonLabel":"Send Button Label","placeholderText":"Placeholder Text","resendButtonLabel":"Resend Button Label","verificationCodeSettingsTitle":"Verification Code Component Settings"}}'),delete e.options._Ctor}},"E/wY":function(e,t,s){"use strict";var i=s("XFcT");s.n(i).a},Ek5D:function(e,t,s){"use strict";var i=s("94pc");s.n(i).a},F5n2:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"weChatLabel":"微信","backLabel":"返回","detailsLabel":"详情","templateSettingLabel":"模板设置","urlLabel":"链接","informationLabel":"附加信息","noteLabel":"备注","placeholderLabel":"可选的"},"en":{"weChatLabel":"WeChat","backLabel":"Back","detailsLabel":"Details","templateSettingLabel":"Template Settings","urlLabel":"URL","informationLabel":"Additional Information","noteLabel":"NOTE","placeholderLabel":"Optional"}}'),delete e.options._Ctor}},F5n6:function(e,t,s){"use strict";var i={props:{paginations:{type:Array},pageNumber:{type:Number,default:1}},data:()=>({currentPageNumber:1}),created(){this.currentPageNumber=this.pageNumber},methods:{changePageNumber(e,t){this.currentPageNumber="pre"===t?this.currentPageNumber-1:"next"===t?this.currentPageNumber+1:e,this.$emit("target",this.currentPageNumber)}}},o=(s("hkfk"),s("KHd+")),a=s("k/9o"),n=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.paginations.length>1?s("ul",{staticClass:"slds-grid slds-grid_align-center pagination"},[s("li",{staticClass:"page-turning-pre",attrs:{title:e.$t("preTitle")}},[e.currentPageNumber>1?s("a",{staticClass:"page-turning",attrs:{id:"previousPage"},on:{click:function(t){return e.changePageNumber("","pre")}}},[s("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1):s("a",{staticClass:"disabled page-turning",attrs:{id:"previousPageDisabled",disabled:"true"}},[s("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1)]),e._v(" "),e._l(e.paginations,(function(t){return s("li",{staticClass:"middle-page-number"},[0!==t.PageNumber?s("a",{class:{currentPage:t.PageNumber===e.currentPageNumber},on:{click:function(s){return e.changePageNumber(t.PageNumber)}}},[e._v(e._s(t.PageNumber))]):s("a",[e._v("...")])])})),e._v(" "),s("li",{staticClass:"page-turning-pre",attrs:{title:e.$t("nextTitle")}},[e.paginations[e.paginations.length-1].PageNumber!==e.currentPageNumber?s("a",{staticClass:"page-turning",attrs:{id:"nextPage"},on:{click:function(t){return e.changePageNumber("","next")}}},[s("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1):s("a",{staticClass:"disabled page-turning",attrs:{id:"nextPageDisabled",disabled:"true"}},[s("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1)])],2):e._e()}),[],!1,null,"430ba9bf",null);"function"==typeof a.default&&Object(a.default)(n);t.a=n.exports},Fblv:function(e,t,s){"use strict";var i=s("O2ea");s.n(i).a},GkBI:function(e,t,s){"use strict";var i=s("jonr"),o=s.n(i);t.default=o.a},"HA+Y":function(e,t,s){},HaPu:function(e,t,s){"use strict";var i=s("8YXT"),o=s.n(i);t.default=o.a},Hi2j:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"type":"类型","name":"名称","expirationDate":"过期日期","quantity":"数量","status":"状态","to":"至"},"en":{"type":"Type","name":"Name","expirationDate":"Expiration Date","quantity":"Quantity","status":"Status","to":"to"}}'),delete e.options._Ctor}},I0LH:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newPassTitle":"新建凭证","passForApproval":"凭证已提交审批！"},"en":{"newPassTitle":"New Pass","passForApproval":"The pass was submitted for approval."}}'),delete e.options._Ctor}},INZ7:function(e,t,s){},ItEM:function(e,t,s){"use strict";var i=s("tAMZ"),o=s.n(i);t.default=o.a},Kmr5:function(e,t,s){!function(e,t){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)};function i(e,t,s,i){var o,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,s,i);else for(var l=e.length-1;0<=l;l--)(o=e[l])&&(n=(a<3?o(n):3<a?o(t,s,n):o(t,s))||n);return 3<a&&n&&Object.defineProperty(t,s,n),n}function o(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var a,n=["top-left","top-right","bottom-left","bottom-right"],l=(function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(r,a=t.Vue),Object.defineProperty(r.prototype,"toggleMode",{get:function(){return!!this.$listeners.input},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"direction",{get:function(){return Object.keys(this.$attrs).filter((function(e){return n.includes(e)})).pop()||"top-right"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"popoverClass",{get:function(){return"slds-nubbin_"+new Map([["top-left","bottom-right"],["top-right","bottom-left"],["bottom-left","top-right"],["bottom-right","top-left"]]).get(this.direction)},enumerable:!0,configurable:!0}),r.prototype.created=function(){this.toggleMode&&(this.data.show=this.value,document.addEventListener("click",this.onClickDocument))},r.prototype.onMouseOver=function(){this.toggleMode||this.data.show||(this.data.show=!0)},r.prototype.onMouseLeave=function(){this.toggleMode||(this.data.show=!1)},r.prototype.onShow=function(e){var t=this;e&&this.$nextTick((function(){var e=t.$refs.activator.getBoundingClientRect();t.style.left=t.calculateLeft(e),t.style.top=t.calculateTop(e)}))},r.prototype.emitInputEvent=function(e){Array.isArray(this.$listeners.input)?this.$listeners.input.forEach((function(t){return t(e)})):this.$listeners.input(e)},r.prototype.calculateLeft=function(e){var t=this.$refs.popover;if(!t)return"";var s=e.left+e.width/2;return-1<this.direction.indexOf("left")?s-t.clientWidth+30+"px":s-30+"px"},r.prototype.calculateTop=function(e){var t=this.$refs.popover;return t?-1<this.direction.indexOf("top")?e.top-t.clientHeight-15+"px":e.bottom+15+"px":""},i([t.Prop({type:Boolean}),o("design:type",Boolean)],r.prototype,"value",void 0),i([t.Watch("data.show"),o("design:type",Function),o("design:paramtypes",[Boolean]),o("design:returntype",void 0)],r.prototype,"onShow",null),r=i([t.Component({})],r));function r(){var e=null!==a&&a.apply(this,arguments)||this;return e.model={prop:"value",event:"input"},e.data={show:!1},e.onClickDocument=function(s){var i=e.$refs.activator,o=e.$refs.popover;!e.data.show||i.contains(s.target)||o.contains(s.target)||(t.Vue.set(e.data,"show",!1),e.emitInputEvent(e.data.show))},e.style={left:"0px",top:"0px"},e.on={click:function(){e.toggleMode&&(t.Vue.set(e.data,"show",!e.value),e.emitInputEvent(e.data.show))}},e}var c,d="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),u={};function p(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"ld-tooltip"},[s("span",{ref:"activator",staticClass:"ld-tooltip__activator",on:{mouseover:function(t){return e.onMouseOver(t)},mouseout:function(t){return e.onMouseLeave(t)}}},[e._t("activator",null,{on:e.on})],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.data.show,expression:"data.show"}],ref:"popover",staticClass:"slds-popover slds-popover_tooltip ld-tooltip__popover",class:e.popoverClass,style:e.style,attrs:{role:"tooltip"}},[s("div",{staticClass:"slds-popover__body"},[e._t("default")],2)])])}var m=l;p._withStripped=!0;var h=function(e,t,s,i,o,a,n,l,r,c){"boolean"!=typeof n&&(r=l,l=n,n=!1);var d,u="function"==typeof s?s.options:s;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,r(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=d):t&&(d=n?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),d)if(u.functional){var p=u.render;u.render=function(e,t){return d.call(t),p(e,t)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,d):[d]}return s}({render:p,staticRenderFns:[]},(function(e){e&&e("data-v-6aa4a530_0",{source:".ld-tooltip__activator[data-v-6aa4a530] {\n  display: inline-block;\n}\n.ld-tooltip__popover[data-v-6aa4a530] {\n  position: fixed !important;\n}",map:void 0,media:void 0})}),m,"data-v-6aa4a530",!1,void 0,!1,(function(e){return function(e,t){return function(e,t){var s=d?t.media||"default":e,i=u[s]||(u[s]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var a=i.ids.size-1,n=document.createTextNode(o),l=i.element.childNodes;l[a]&&i.element.removeChild(l[a]),l.length?i.element.insertBefore(n,l[a]):i.element.appendChild(n)}}}(e,t)}}),void 0,void 0);e.LdTooltip=h,e.default=function(e){e.component("LdTooltip",h)},Object.defineProperty(e,"__esModule",{value:!0})}(t,s("YKMj"))},Mlmg:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"forms":"表单"},"en":{"forms":"Forms"}}'),delete e.options._Ctor}},O2ea:function(e,t,s){},OWFR:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"name":"名称","startDate":"开始日期","endDate":"结束日期","quantity":"数量","createdBy":"最后修改信息"},"en":{"name":"Name","startDate":"Start Date","endDate":"End Date","quantity":"Quantity","createdBy":"Created By"}}'),delete e.options._Ctor}},PTSs:function(e,t,s){"use strict";var i=s("Ao6X"),o=s.n(i);t.default=o.a},S06D:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"submitAction":"表单提交后","showThankMsg":"显示提示文字","redirectTo":"打开其他网页","redirectUrl":"网页地址","thankyouMessage":"提示文字","wechatSettings":"微信设置","wechatAccount":"微信公众号","wechatResponse":"微信响应","onlyAccessible":"只可通过微信应用程序访问","prefillForm":"预先填充表单","prefilledTip":"只有微信关注者的信息和关联的联系人或者潜在客户的信息能够被预填充。","related":"相关","form":"表单","Lead":"潜在客户","Contact":"联系人","contactTip":"当微信关注者与联系人或个人客户记录相关联时，将打开相关的联系人表单。","leadTip":"一旦一位微信关注者被关联到一条潜在客户记录，那么相关联的潜在客户表单就会被打开。","formNameLabel":"表单名","salesforceObjLabel":"Salesforce 对象","recordTypeLabel":"记录类型","noteLabel":"备注","notifyContent":"设置已保存。","editableChoice":"提交后可编辑","pardotSettings":"Pardot 设置","enablePardotIntegration":"启用 Pardot 集成","confirmTitle":"保存表单","noEmailFailedContent":"当前表单不包含 Email 字段，可能会导致 Pardot 集成失效。确定要保存吗？","noRequiredEmailFailedContent":"当前表单包含的 Email 字段不是必填，可能会导致 Pardot 集成失效。确定要保存吗？","editableTip":"如果该选项选中，微信用户可以通过重新打开此表单来编辑提交的信息。"},"en":{"submitAction":"Form Submitted Action","showThankMsg":"Show Thank You Message","redirectTo":"Redirect To","redirectUrl":"Redirect URL","thankyouMessage":"Thank You Message","wechatSettings":"WeChat Settings","wechatAccount":"WeChat Account","wechatResponse":"WeChat Response(s)","onlyAccessible":"Only accessible by the WeChat app","prefillForm":"Pre-fill form","prefilledTip":"Only WeChat follower information and related lead or contact information can be pre-filled.","related":"Related","form":"Form | Forms","Lead":" Lead ","Contact":" Contact ","contactTip":"The related Contact Form will be opened when a WeChat follower is associated with a Contact or Person Account record.","leadTip":"The related Lead Form will be opened when a WeChat follower is associated with a Lead record.","formNameLabel":"Form Name","salesforceObjLabel":"Salesforce Object","recordTypeLabel":"Record Type","noteLabel":"Note","notifyContent":"Settings were saved.","editableChoice":"Editable after submitted","pardotSettings":"Pardot Settings","enablePardotIntegration":"Enable Pardot integration","confirmTitle":"Save Form","noEmailFailedContent":"The form being saved does not include the Email field. The Pardot integration may not work for this form. Are you sure you want to save it?","noRequiredEmailFailedContent":"The form being saved does not include the required Email field. The Pardot integration may not work for this form. Are you sure you want to save it?","editableTip":"If checked, WeChat users can edit the submitted information by reopening this form."}}'),delete e.options._Ctor}},TQrk:function(e,t,s){!function(e,t){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)};function i(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var o=function(){return(o=Object.assign||function(e){for(var t,s=arguments,i=1,o=arguments.length;i<o;i++)for(var a in t=s[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function a(e,t,s,i){var o,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,s,i);else for(var l=e.length-1;0<=l;l--)(o=e[l])&&(n=(a<3?o(n):3<a?o(t,s,n):o(t,s))||n);return 3<a&&n&&Object.defineProperty(t,s,n),n}function n(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var l,r=(c.generateUniqueId=function(){return Math.random().toString(36).slice(4)},c.isTruthy=function(e){return"boolean"==typeof e?e:void 0!==e&&"false"!==e&&"0"!==e},c.findParentElement=function(e,t){return e.classList.contains(t)?e:e.parentElement?c.findParentElement(e.parentElement,t):null},c.setProperty=function(e,t,s){if(e&&t){var i=t.split("."),o=e;i.forEach((function(e,t){var a;t===i.length-1?o[e]=s:(o[e]=null!==(a=o[e])&&void 0!==a?a:{},o=o[e])}))}},c.getProperty=function(e,t){if(e&&t){var s=t.split("."),i=e;return s.forEach((function(e){i=i?i[e]:void 0})),i}},c.getClosestVueParent=function(e,t){return e&&e.$el&&0!==e._uid?e.$el.classList.contains(t)?e:this.getClosestVueParent(e.$parent,t):null},c);function c(){}function d(){var e=null!==l&&l.apply(this,arguments)||this;return e.functional=!0,e}function u(e,t,s,i,o,a,n,l,r,c){"boolean"!=typeof n&&(r=l,l=n,n=!1);var d,u="function"==typeof s?s.options:s;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,r(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=d):t&&(d=n?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),d)if(u.functional){var p=u.render;u.render=function(e,t){return d.call(t),p(e,t)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,d):[d]}return s}var p,m=u({},void 0,(i(d,l=t.Vue),Object.defineProperty(d.prototype,"html",{get:function(){return this.content||"<svg></svg>"},enumerable:!0,configurable:!0}),d.prototype.render=function(e){var t;return null!==(t=this.content)&&void 0!==t&&t.startsWith("#")?this.renderSvgLink(e,this.content):this.renderSvgElement(e,this.html)},d.prototype.renderSvgLink=function(e,t){var s='\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink">\n        <use xlink:href="'+t+'" />\n      </svg>\n    ';return this.renderSvgElement(e,s)},d.prototype.renderSvgElement=function(e,t){var s=this.parseSvgElement(t),i={"aria-hidden":"true"};return Array.from(s.attributes).forEach((function(e){"id"!==e.name&&(i[e.name]=e.value)})),e("svg",{attrs:i,domProps:{innerHTML:s.innerHTML}})},d.prototype.parseSvgElement=function(e){return(new DOMParser).parseFromString(e,"image/svg+xml").children[0]},a([t.Prop({type:String,required:!0}),n("design:type",String)],d.prototype,"content",void 0),d=a([t.Component({})],d)),void 0,void 0,void 0,!1,void 0,void 0,void 0),h=["top-left","top-right","bottom-left","bottom-right"],f=(i(v,p=t.Vue),Object.defineProperty(v.prototype,"toggleMode",{get:function(){return!!this.$listeners.input},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"direction",{get:function(){return Object.keys(this.$attrs).filter((function(e){return h.includes(e)})).pop()||"top-right"},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"popoverClass",{get:function(){return"slds-nubbin_"+new Map([["top-left","bottom-right"],["top-right","bottom-left"],["bottom-left","top-right"],["bottom-right","top-left"]]).get(this.direction)},enumerable:!0,configurable:!0}),v.prototype.created=function(){this.toggleMode&&(this.data.show=this.value,document.addEventListener("click",this.onClickDocument))},v.prototype.onMouseOver=function(){this.toggleMode||this.data.show||(this.data.show=!0)},v.prototype.onMouseLeave=function(){this.toggleMode||(this.data.show=!1)},v.prototype.onShow=function(e){var t=this;e&&this.$nextTick((function(){var e=t.$refs.activator.getBoundingClientRect();t.style.left=t.calculateLeft(e),t.style.top=t.calculateTop(e)}))},v.prototype.emitInputEvent=function(e){Array.isArray(this.$listeners.input)?this.$listeners.input.forEach((function(t){return t(e)})):this.$listeners.input(e)},v.prototype.calculateLeft=function(e){var t=this.$refs.popover;if(!t)return"";var s=e.left+e.width/2;return-1<this.direction.indexOf("left")?s-t.clientWidth+30+"px":s-30+"px"},v.prototype.calculateTop=function(e){var t=this.$refs.popover;return t?-1<this.direction.indexOf("top")?e.top-t.clientHeight-15+"px":e.bottom+15+"px":""},a([t.Prop({type:Boolean}),n("design:type",Boolean)],v.prototype,"value",void 0),a([t.Watch("data.show"),n("design:type",Function),n("design:paramtypes",[Boolean]),n("design:returntype",void 0)],v.prototype,"onShow",null),v=a([t.Component({})],v));function v(){var e=null!==p&&p.apply(this,arguments)||this;return e.model={prop:"value",event:"input"},e.data={show:!1},e.onClickDocument=function(s){var i=e.$refs.activator,o=e.$refs.popover;!e.data.show||i.contains(s.target)||o.contains(s.target)||(t.Vue.set(e.data,"show",!1),e.emitInputEvent(e.data.show))},e.style={left:"0px",top:"0px"},e.on={click:function(){e.toggleMode&&(t.Vue.set(e.data,"show",!e.value),e.emitInputEvent(e.data.show))}},e}var g,b="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function y(e){return function(e,t){return function(e,t){var s=b?t.media||"default":e,i=_[s]||(_[s]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===g&&(g=document.head||document.getElementsByTagName("head")[0]),g.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var a=i.ids.size-1,n=document.createTextNode(o),l=i.element.childNodes;l[a]&&i.element.removeChild(l[a]),l.length?i.element.insertBefore(n,l[a]):i.element.appendChild(n)}}}(e,t)}}var _={};function S(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"ld-tooltip"},[s("span",{ref:"activator",staticClass:"ld-tooltip__activator",on:{mouseover:function(t){return e.onMouseOver(t)},mouseout:function(t){return e.onMouseLeave(t)}}},[e._t("activator",null,{on:e.on})],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.data.show,expression:"data.show"}],ref:"popover",staticClass:"slds-popover slds-popover_tooltip ld-tooltip__popover",class:e.popoverClass,style:e.style,attrs:{role:"tooltip"}},[s("div",{staticClass:"slds-popover__body"},[e._t("default")],2)])])}var C=f;S._withStripped=!0;var w,I=u({render:S,staticRenderFns:[]},(function(e){e&&e("data-v-6aa4a530_0",{source:".ld-tooltip__activator[data-v-6aa4a530] {\n  display: inline-block;\n}\n.ld-tooltip__popover[data-v-6aa4a530] {\n  position: fixed !important;\n}",map:void 0,media:void 0})}),C,"data-v-6aa4a530",!1,void 0,!1,y,void 0,void 0);function F(){var e=null!==w&&w.apply(this,arguments)||this;return e.functional=!0,e.sldsClass="slds-form-element",e}var L,x=u({},(function(e){e&&e("data-v-108c52ca_0",{source:".ld-form-label--align-right label[data-v-108c52ca],\n.ld-form-label--align-right legend[data-v-108c52ca] {\n  width: calc(33% - 1.25rem);\n  text-align: right;\n}\n.ld-form-element__label > *[data-v-108c52ca] {\n  white-space: nowrap;\n}",map:void 0,media:void 0})}),(i(F,w=t.Vue),Object.defineProperty(F.prototype,"isLegendEmpty",{get:function(){return"string"!=typeof this.legend||!this.legend.trim()},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"labelString",{get:function(){return this.isLegendEmpty?this.label:this.legend},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"classes",{get:function(){var e=[this.sldsClass];return r.isTruthy(this.stacked)&&e.push("slds-form-element_stacked"),r.isTruthy(this.horizontal)&&(e.push("slds-form-element_horizontal"),"right"===this.labelAlign&&e.push("ld-form-label--align-right")),r.isTruthy(this.standalone)&&e.push("slds-form-element_1-col"),e.join(" ")},enumerable:!0,configurable:!0}),F.prototype.render=function(e){var t,s=[this.createLabel(e),this.createHelpIcon(e),e("div",{staticClass:"slds-form-element__control",class:this.controlClass},this.$slots.default)];return r.isTruthy(this.error)&&s.push(e("div",{staticClass:"slds-form-element__help"},null!==(t=this.errorMessage)&&void 0!==t?t:"This field is required")),e(this.isLegendEmpty?"div":"fieldset",{staticClass:this.classes,class:r.isTruthy(this.error)?["slds-has-error"]:[]},s)},F.prototype.createLabel=function(e){if(!this.labelString)return null;var t=[this.labelString];r.isTruthy(this.required)&&t.unshift(e("abbr",{staticClass:"slds-required",attrs:{title:"required"}},"* "));var s=this.isLegendEmpty?"label":"legend",i=["slds-form-element__label ld-form-element__label"];return this.isLegendEmpty||i.unshift("slds-form-element__legend"),e(s,{staticClass:i.join(" "),attrs:{for:this.for}},t)},F.prototype.createHelpIcon=function(e){return this.fieldHelp&&this.fieldHelp.trim()?e("div",{staticClass:"slds-form-element__icon"},[e("ld-tooltip",{attrs:{"top-right":"true"},scopedSlots:{activator:function(t){var s=(void 0===t?{}:t).on;return e("button",{staticClass:"slds-button slds-button_icon",on:s},[e("ld-svg",{staticClass:"slds-button__icon",props:{content:'<svg viewBox="0 0 24 24"><path d="M12 .9C5.9.9.9 5.9.9 12s5 11.1 11.1 11.1 11.1-5 11.1-11.1S18.1.9 12 .9zm0 5.6c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4-1.4-.6-1.4-1.4.6-1.4 1.4-1.4zm2.3 9.7c0 .2-.2.4-.5.4h-3.6c-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5.2 0 .4-.2.4-.4v-1.9c0-.2-.2-.5-.4-.5-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5h2.7c.3 0 .5.2.5.5v3.7c0 .2.2.4.4.4.3 0 .5.2.5.5v.9z"></path></svg>'}})])}},on:{input:function(){}}},[this.fieldHelp])]):null},a([t.Prop({type:String}),n("design:type",String)],F.prototype,"label",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"for",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"legend",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],F.prototype,"required",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"errorMessage",void 0),a([t.Prop({type:Boolean}),n("design:type",Boolean)],F.prototype,"error",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"controlClass",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"fieldHelp",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],F.prototype,"stacked",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],F.prototype,"horizontal",void 0),a([t.Prop({type:String}),n("design:type",String)],F.prototype,"labelAlign",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],F.prototype,"standalone",void 0),F=a([t.Component({components:{LdSvg:m,LdTooltip:I}})],F)),"data-v-108c52ca",void 0,void 0,!1,y,void 0,void 0);function k(){var e=null!==L&&L.apply(this,arguments)||this;return e.model={prop:"value",event:"input"},e.functional=!0,e.sldsClass="slds-input",e.id=r.generateUniqueId(),e}var T,O=u({},void 0,(i(k,L=t.Vue),Object.defineProperty(k.prototype,"formControlClass",{get:function(){var e=[];return(this.prefix||this.suffix)&&e.push("slds-input-has-fixed-addon"),(this.$attrs.prepend||this.$attrs.append||r.isTruthy(this.$attrs.clear))&&e.push("slds-input-has-icon"),this.$attrs.prepend&&r.isTruthy(this.$attrs.clear)?e.push("slds-input-has-icon_left-right"):this.$attrs.prepend?e.push("slds-input-has-icon_left"):(this.$attrs.append||r.isTruthy(this.$attrs.clear))&&e.push("slds-input-has-icon_right"),e.join(" ")},enumerable:!0,configurable:!0}),k.prototype.render=function(e){var t=this.createChildren(e);return e("ld-form-element",{props:o(o({},this.$props),{for:this.id,controlClass:this.formControlClass}),staticClass:"slds-is-editing"},t)},k.prototype.createChildren=function(e){var t=[this.createInput(e)];return this.prefix&&t.unshift(e("span",{staticClass:"slds-form-element__addon",domProps:{innerHTML:this.prefix}})),this.suffix&&t.push(e("span",{staticClass:"slds-form-element__addon",domProps:{innerHTML:this.suffix}})),this.$attrs.prepend&&t.unshift(this.createIcon(e,"left",this.$attrs.prepend)),r.isTruthy(this.$attrs.clear)&&this.value?t.push(this.createClear(e)):this.$attrs.append&&t.push(this.createIcon(e,"right",this.$attrs.append)),this.inlineHelp&&t.push(e("div",{staticClass:"slds-form-element__help",domProps:{innerHTML:this.inlineHelp}})),t},k.prototype.createInput=function(e){var t=this;return e("input",{staticClass:this.sldsClass,attrs:o(o({},this.$attrs),{id:this.id,type:"text",placeholder:this.placeholder}),domProps:{value:this.value},ref:"InputElement",on:{input:function(e){var s=null==e?void 0:e.target;s&&t.$emit("input",s.value)},keydown:function(e){t.$emit("keydown",e),13===e.keyCode&&t.$emit("enter",e)}}})},k.prototype.createIcon=function(e,t,s){return e("ld-svg",{staticClass:["slds-icon","slds-input__icon","slds-input__icon_"+t,"slds-icon-text-default"].join(" "),attrs:{"aria-hidden":"true"},props:{content:s}})},k.prototype.createClear=function(e){var t,s=this,i=e("ld-svg",{staticClass:"slds-button__icon slds-icon-text-light",attrs:{"aria-hidden":"true"},props:{content:'<svg viewBox="0 0 24 24"><path d="M12 .9C5.9.9.9 5.9.9 12s5 11.1 11.1 11.1 11.1-5 11.1-11.1S18.1.9 12 .9zm2.3 11.5l3.6 3.6c.1.2.1.4 0 .6l-1.3 1.3c-.2.2-.5.2-.7 0l-3.6-3.6c-.2-.2-.4-.2-.6 0l-3.6 3.6c-.2.2-.5.2-.7 0l-1.3-1.3c-.1-.2-.1-.4 0-.6l3.6-3.6c.2-.2.2-.5 0-.7L6.1 8.1c-.2-.2-.2-.5 0-.7l1.3-1.3c.2-.1.4-.1.6 0l3.7 3.7c.2.2.4.2.6 0l3.6-3.6c.2-.2.5-.2.7 0l1.3 1.3c.1.2.1.4 0 .6l-3.6 3.6c-.2.2-.2.5 0 .7z"></path></svg>'}});return e("button",{staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",attrs:{title:null!==(t=this.$attrs.title)&&void 0!==t?t:"Clear"},on:{click:function(e){s.$refs.InputElement.value="",s.$emit("input",""),s.$emit("clear",e)}}},[i])},a([t.Prop({type:String}),n("design:type",String)],k.prototype,"value",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"label",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"placeholder",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],k.prototype,"required",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],k.prototype,"error",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"errorMessage",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"prefix",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"suffix",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"inlineHelp",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"fieldHelp",void 0),a([t.Prop({type:[String,Boolean],default:function(){return!0}}),n("design:type",Object)],k.prototype,"stacked",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],k.prototype,"horizontal",void 0),a([t.Prop({type:String}),n("design:type",String)],k.prototype,"labelAlign",void 0),a([t.Prop({type:[String,Boolean]}),n("design:type",Object)],k.prototype,"standalone",void 0),k=a([t.Component({components:{LdFormElement:x,LdSvg:m}})],k)),void 0,void 0,void 0,!1,void 0,void 0,void 0),D=(N.prototype.convert=function(e,t,s,i){var o=this;void 0===e&&(e={}),void 0===t&&(t=[]),void 0===s&&(s=!1),void 0===i&&(i=!1);var a=Object.keys(e).filter((function(e){return t.includes(e)}));return s?a.map((function(e){return o.makeClass(e,i)})):0<a.length?[this.makeClass(a.pop(),i)]:[]},N.prototype.makeClass=function(e,t){return this.className+(t?"-":"_")+e},N);function N(e){this.className=e}function P(){var e=null!==T&&T.apply(this,arguments)||this;return e.functional=!0,e.sldsClass="slds-input__icon",e.attrToClass=new D(e.sldsClass),e}var $=u({},void 0,(i(P,T=t.Vue),Object.defineProperty(P.prototype,"classes",{get:function(){return this.attrToClass.convert(this.$attrs,["left","right"])},enumerable:!0,configurable:!0}),P.prototype.render=function(e){return e("ld-svg",{staticClass:["slds-icon",this.sldsClass,"slds-icon-text-default"].join(" "),class:this.classes,attrs:{"aria-hidden":"true"},props:{content:this.content}},[])},a([t.Prop({type:String}),n("design:type",String)],P.prototype,"content",void 0),P=a([t.Component({components:{LdSvg:m}})],P)),void 0,void 0,void 0,!1,void 0,void 0,void 0);e.LdInput=O,e.LdInputSvgIcon=$,e.default=function(e){e.component("LdInput",O),e.component("LdInputSvgIcon",$)},Object.defineProperty(e,"__esModule",{value:!0})}(t,s("YKMj"))},"To+i":function(e,t,s){},VYxV:function(e,t,s){"use strict";var i=s("tSYV"),o=s.n(i);t.default=o.a},WSgm:function(e,t,s){"use strict";s.r(t);var i=s("wG3i"),o=s.n(i),a=s("0G99"),n=s.n(a),l=s("Yvyk"),r=s.n(l),c=s("vQrK"),d=s.n(c),u=s("692z"),p=s("F5n6"),m=s("w2Vt"),h=s("ngIk"),f=s("dcdS"),v=s("oWfJ"),g=s("L2JU"),b=s("miio"),y=s("4B+h"),_=s("cybb"),S=s("LQ5e"),C=s.n(S),w={mixins:[v.a],components:{InputSelect:h.a,NoRecord:u.a,Pagination:p.a,LoadingSpinner:m.a,Dropdown:f.a},data(){return{formList:[],formsTotal:0,currentPageNum:1,pageCount:20,hasMoreForms:!1,formsPagination:[],currentEditForm:null,statusOptionData:{options:[],currentOptions:[{Name:this.$t("statusLabel"),Value:"All"}]},orderOptionData:{options:[{Name:this.$t("alphabetically"),value:"Alphabetically"},{Name:this.$t("reverseAlphabetically"),value:"Reverse Alphabetically"},{Name:this.$t("lastModifiedDate"),value:"Last Modified Date"},{Name:this.$t("oldestModifiedDate"),value:"Oldest Modified Date"}],currentOptions:[{Name:this.$t("lastModifiedDate"),value:"Last Modified Date"}]},objectOptionData:{options:[{Name:this.$t("all"),value:"All"}],currentOptions:[{Name:this.$t("objectsLabel"),value:"All"}]},filterJson:{OrderBy:"Last Modified Date",SearchKey:"",Status:"All",MasterObjectName:"All"},isLoadingForms:!1,wechatId:"",isSubmittingPre:!1,currentAction:"",confirmTitle:"",hasSortBy:!1}},watch:{dropdownRefId:function(){"Status"===this.dropdownType?(this.dropdownOptionData.options=this.statusOptionData.options,this.dropdownOptionData.currents=this.statusOptionData.currentOptions,this.hasSortBy=!1):"Order"===this.dropdownType?(this.dropdownOptionData.options=this.orderOptionData.options,this.dropdownOptionData.currents=this.orderOptionData.currentOptions,this.hasSortBy=!0):"Object"===this.dropdownType&&(this.dropdownOptionData.options=this.objectOptionData.options,this.dropdownOptionData.currents=this.objectOptionData.currentOptions,this.hasSortBy=!1)}},computed:d()({},Object(g.c)({currentUser:"user/currentUser"}),{showNoRecord(){return!this.formList||this.formList.length<=0}}),async created(){r.a.all([this.getCurrentFormList(),this.getStatus()]);try{const t=await Object(b.h)();if(t.ok){var e;const s=JSON.parse(C.a.unescape(t.data));n()(e=s.FormObjects).call(e,e=>{this.objectOptionData.options.push({Name:e.Label,value:e.Name})})}else Object(y.f)(t)}catch(e){Object(y.f)(e)}},methods:{async getStatus(){try{const e=await Object(b.e)();if(e.ok){const t=JSON.parse(C.a.unescape(e.data));this.statusOptionData.options=t.FormStatus,this.statusOptionData.options.unshift({Name:this.$t("all"),Value:"All"})}else Object(y.f)(e)}catch(e){Object(y.f)(e)}},formatDatetimeFilter:()=>_.e,async getCurrentFormList(){this.isLoadingForms=!0;const e=o()(this.filterJson);try{const t=await Object(b.g)(this.currentPageNum,this.pageCount,e);if(this.isLoadingForms=!1,t.ok){const e=JSON.parse(C.a.unescape(t.data));this.formList=e.FormInfos,this.formsPagination=e.Pages,this.formsTotal=e.Total.Count,this.hasMoreForms=e.Total.HasMore}else Object(y.f)(t)}catch(e){this.isLoadingForms=!1,Object(y.f)(e)}},searchForms(){this.currentPageNum=1,this.getCurrentFormList()},clearSearchKey(){this.filterJson.SearchKey="",this.getCurrentFormList()},selectPicklist(e){"Status"===this.dropdownType?(this.filterJson.Status=e[0].Value,this.statusOptionData.currentOptions=e,this.currentPageNum=1,this.getCurrentFormList()):"Order"===this.dropdownType?(this.filterJson.OrderBy=e[0].value,this.orderOptionData.currentOptions=e,this.getCurrentFormList()):"Object"===this.dropdownType&&(this.filterJson.MasterObjectName=e[0].value,this.objectOptionData.currentOptions=e,this.filterJson,this.getCurrentFormList()),this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},getMenuItems(e){const t=[{value:"delete",label:this.$t("global.deleteBtn"),target:e}];return"Archived"===e.Status.Value?t.unshift({value:"clone",label:this.$t("clone"),target:e},{value:"publish",label:this.$t("publish"),target:e}):t.unshift({value:"preview",label:this.$t("global.previewBtn"),target:e},{value:"clone",label:this.$t("clone"),target:e},{value:"edit",label:this.$t("global.editBtn"),target:e},{value:"archive",label:this.$t("archive"),target:e}),t},onClickMenuItem(e){const{value:t,target:s}=e;"preview"===t?this.$router.replace({name:"forms-preview",params:{formId:s.Id}}):"edit"===t?this.$emit("edit-form",s):"clone"===t?(this.currentEditForm=s,this.$emit("openCloneFormPopup",s)):this.openActionBox(s,t)},editCurrentForm(e){this.$router.replace({name:"forms-editor",params:{formId:e.Id}})},openActionBox(e,t){"archive"===t?(this.currentAction=this.$t("actionLabel1"),this.confirmTitle=this.$t("archive")):"publish"===t?(this.currentAction=this.$t("actionLabel2"),this.confirmTitle=this.$t("publish")):(this.currentAction=this.$t("actionLabel3"),this.confirmTitle=this.$t("global.deleteBtn")),this.currentEditForm=e;const s=this.$confirm({title:this.confirmTitle+this.$t("modalHeader"),content:this.$t("modalContent1")+this.confirmTitle.toLowerCase()+this.$t("modalContent2")});s.$on("ok",async()=>{try{let e;e=this.currentAction===this.$t("actionLabel2")?await Object(b.i)(this.currentEditForm.Id,"Published"):this.currentAction===this.$t("actionLabel1")?await Object(b.i)(this.currentEditForm.Id,"Archived"):await Object(b.b)(this.currentEditForm.Id),e.ok?(this.getCurrentFormList(),s.close(),this.$router.app.$emit("open-toast-notification",{content:this.$t("notifyContent",[this.currentAction]),type:"success"})):(s.resume(),Object(y.f)(e))}catch(e){s.resume(),Object(y.f)(e)}})},target(e){this.currentPageNum=e,this.getCurrentFormList(),document.getElementsByClassName("scroll-content")[0].scrollTop=0}}},I=(s("xWEm"),s("KHd+")),F=s("PTSs"),L=Object(I.a)(w,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-page"},[s("div",{staticClass:"slds-border_bottom slds-grid slds-grid_vertical-align-start list-filter"},[s("span",{staticClass:"forms-count"},[e._v(e._s(e._f("addSeparators")(e.formsTotal))),e.hasMoreForms?s("i",{staticClass:"show-plus-sign"},[e._v("+")]):e._e(),e._v("\n      "+e._s(e.formsTotal>1?e.$tc("global.itemLabel",2):e.$tc("global.itemLabel",1))+"\n    ")]),e._v(" "),s("div",{staticClass:"forms-pick-list"},[s("input-select",{attrs:{currents:e.statusOptionData.currentOptions,type:"Status"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1),e._v(" "),s("div",{staticClass:"forms-pick-list"},[s("input-select",{attrs:{currents:e.objectOptionData.currentOptions,type:"Object"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-end slds-col"},[s("div",{staticClass:"forms-search"},[s("search-input",{attrs:{placeholder:e.$t("searchForms")},on:{search:e.searchForms,clear:e.clearSearchKey},model:{value:e.filterJson.SearchKey,callback:function(t){e.$set(e.filterJson,"SearchKey",t)},expression:"filterJson.SearchKey"}})],1),e._v(" "),s("div",{staticClass:"forms-order"},[s("input-select",{attrs:{currents:e.orderOptionData.currentOptions,type:"Order"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.formList.length>0,expression:"formList.length > 0"}],staticClass:"slds-table--header-fixed_container form-list-content"},[s("div",{staticClass:"slds-scrollable_y scroll-content"},[s("table",{staticClass:"slds-table slds-table_bordered slds-no-row-hover slds-table--header-fixed form-table",attrs:{role:"grid"}},[s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{staticClass:"slds-is-sortable slds-is-resizable form-tab",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$t("cellName")}},[e._v(e._s(e.$t("cellName")))])]),e._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable form-tab form-tab-status",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$t("cellStatus")}},[e._v(e._s(e.$t("cellStatus")))])]),e._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable form-tab form-tab-object",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$t("cellObjectLabel")}},[e._v(e._s(e.$t("cellObjectLabel")))])]),e._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable form-tab-note",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$t("cellNote")}},[e._v(e._s(e.$t("cellNote")))])]),e._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable form-tab-modify",attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$t("cellLastModify")}},[e._v(e._s(e.$t("cellLastModify")))])]),e._v(" "),s("th",{staticStyle:{width:"54px"},attrs:{scope:"col"}})])]),e._v(" "),s("tbody",{attrs:{id:"form-table-content"}},e._l(e.formList,(function(t){return s("tr",{staticClass:"slds-hint-parent"},[s("th",{attrs:{scope:"row"}},[s("div",{staticClass:"slds-truncate other-color-item"},[s("a",{attrs:{href:"javascript:void(0);",title:t.Name},on:{click:function(s){return e.editCurrentForm(t)}}},[e._v(e._s(t.Name))])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("span",{attrs:{title:t.Status.Label}},[e._v(e._s(t.Status.Label))])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[s("span",{attrs:{title:t.MasterObjectLabel}},[e._v(e._s(t.MasterObjectLabel))])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",[s("div",{staticClass:"slds-truncate"},[s("span",{attrs:{title:t.Note}},[e._v(e._s(t.Note))])])])]),e._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate"},[t.LastModifiedByUser?s("span",{attrs:{title:t.LastModifiedByUser+", "+e.formatDatetimeFilter()(t.LastModifiedDate,e.currentUser.TimeZoneSidKey)}},[e._v(e._s(t.LastModifiedByUser)+", "+e._s(e._f("formatDatetimeFilter")(t.LastModifiedDate,e.currentUser.TimeZoneSidKey)))]):s("span",{attrs:{title:e.formatDatetimeFilter()(t.LastModifiedDate,e.currentUser.TimeZoneSidKey)}},[e._v(e._s(e._f("formatDatetimeFilter")(t.LastModifiedDate,e.currentUser.TimeZoneSidKey)))])])]),e._v(" "),s("td",{staticClass:"td-position",staticStyle:{width:"3.25rem"},attrs:{role:"gridcell"}},[s("div",{staticClass:"btn-position"},[s("ld-action-menu",{attrs:{items:e.getMenuItems(t)},on:{click:function(t){return e.onClickMenuItem(t)}}})],1)])])})),0)]),e._v(" "),e.isLoadingForms?e._e():s("pagination",{attrs:{paginations:e.formsPagination,"page-number":e.currentPageNum},on:{target:e.target}})],1)]),e._v(" "),e.showNoRecord&&!e.isLoadingForms?s("no-record",{attrs:{"custom-style":"top: 90px;"}}):e._e(),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoadingForms}}),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth,"has-sort-by":e.hasSortBy},on:{"select-option":e.selectPicklist,close:e.closeDropdown}}):e._e()],1)}),[],!1,null,"888f6b4c",null);"function"==typeof F.default&&Object(F.default)(L);var x=L.exports,k=s("8Vev"),T=s.n(k),O=s("Ip10"),D=s.n(O),N=s("ejTr"),P=s.n(N),$=s("3dLu"),A=s.n($),R=s("4LGG"),B=s.n(R),E=s("2ZOO"),M=s.n(E),V=s("+SX9");var j={mixins:[v.a],components:{ErrorToast:V.a,InputSelect:h.a,Dropdown:f.a,LoadingSpinner:m.a},props:{showNewFormPopup:{type:Boolean,default:!1},isClone:{type:Boolean,default:!1},cloneSourceData:{type:Object,default:()=>({})},form:{type:Object,default:()=>({})}},data:()=>({newForm:{name:"",note:"",objectName:null,objectLabel:null,recordTypeId:"",weChatAccountId:""},SalesforceObjectType:{options:[],currentOptions:[]},RecordType:{options:[],currentOptions:[]},errorToastMsg:"",isSubmitSave:!1,cloneSourceTempData:{},Accounts:{options:[],currentOptions:[]},isChoosingAccount:!1}),computed:d()({},Object(g.c)({accountList:"sidebar/wechatAccounts"}),{canSave(){let e=["name","objectName","objectLabel"];return"WeChat Follower"===this.newForm.objectLabel&&e.push("weChatAccountId"),A()(e).call(e,e=>!!this.newForm[e])&&(""!==this.newForm.recordTypeId||0===this.RecordType.options.length)},formTitle(){return this.form.Id?this.$t("editFormLabel"):this.$t("newFormLabel")},objectTypeIsDisabled(){return!!this.form.Id}}),watch:{dropdownRefId:function(){"SalesforceObjectType"===this.dropdownType?(this.dropdownOptionData.options=this.SalesforceObjectType.options,this.dropdownOptionData.currents=this.SalesforceObjectType.currentOptions,this.isChoosingAccount=!1):"RecordType"===this.dropdownType?(this.dropdownOptionData.options=this.RecordType.options,this.dropdownOptionData.currents=this.RecordType.currentOptions,this.isChoosingAccount=!1):"Account"===this.dropdownType&&(this.dropdownOptionData.options=this.Accounts.options,this.dropdownOptionData.currents=this.Accounts.currentOptions,this.isChoosingAccount=!0)}},async created(){for(const e of P()(this.accountList)){const t=this.accountList[e];"Service Account"===t.Type&&this.Accounts.options.push(JSON.parse(o()(t)))}this.isSubmitSave=!0;const e=e=>{this.SalesforceObjectType.options=B()(e).call(e,e=>({Name:e.Label,Value:e.Name,recordTypeOptions:e.ObjectRecordTypeInfos}))};try{if(this.isClone){const[i,o]=await r.a.all([Object(b.d)(this.cloneSourceData.Id),Object(b.h)()]);if(i.ok&&o.ok){const a=JSON.parse(C.a.unescape(i.data)).FormInfo;this.cloneSourceTempData=a;const n=JSON.parse(C.a.unescape(o.data)).FormObjects,l=a.MasterObject,r=a.MasterObject,c=a.RecordTypeId||null,d={Name:r,Value:l},u=c?[{}]:[];if(a.WeChatAccountId){var t;let e=D()(t=this.Accounts.options).call(t,e=>e.Id===a.WeChatAccountId);this.Accounts.currentOptions=[e]}this.newForm.name=a.Name,this.newForm.note=a.Note,this.newForm.objectName=l,this.newForm.objectLabel=r,this.newForm.recordTypeId=c,this.newForm.weChatAccountId=a.WeChatAccountId,this.SalesforceObjectType.options=[d],this.SalesforceObjectType.currentOptions=[d],this.RecordType.options=u,this.RecordType.currentOptions=u,e(n);const p=this.SalesforceObjectType.options;var s;if(this.SalesforceObjectType.currentOptions=T()(p).call(p,e=>e.Value===this.newForm.objectName),this.RecordType.options=this.SalesforceObjectType.currentOptions[0].recordTypeOptions||[],this.RecordType.options.length)this.RecordType.currentOptions=T()(s=this.RecordType.options).call(s,e=>e.RecordTypeId===this.newForm.recordTypeId)}else Object(y.f)(i.ok?o:i)}else{const t=await Object(b.h)();if(t.ok){const s=JSON.parse(C.a.unescape(t.data)).FormObjects;if(e(s),this.form.Id)try{let e=await Object(b.d)(this.form.Id);if(e.ok){var i;let t=JSON.parse(C.a.unescape(e.data)).FormInfo,s=D()(i=this.SalesforceObjectType.options).call(i,e=>e.Value===t.MasterObject);var a;if(this.SalesforceObjectType.currentOptions=[s],this.RecordType.options=this.SalesforceObjectType.currentOptions[0].recordTypeOptions||[],this.RecordType.options.length>0)this.RecordType.currentOptions=T()(a=this.RecordType.options).call(a,e=>e.RecordTypeId===t.RecordTypeId);if(t.WeChatAccountId){var n;let e=D()(n=this.Accounts.options).call(n,e=>e.Id===t.WeChatAccountId);this.Accounts.currentOptions=[e]}this.newForm.name=this.form.Name,this.newForm.note=this.form.Note,this.newForm.objectLabel=t.MasterObjectLabel,this.newForm.objectName=t.MasterObject,this.newForm.recordTypeId=t.RecordTypeId,this.newForm.weChatAccountId=t.WeChatAccountId}else Object(y.f)(e)}catch(e){Object(y.f)(e)}}else Object(y.f)(t)}}catch(e){Object(y.f)(e)}finally{this.isSubmitSave=!1}},destroyed(){this.$emit("completeClone")},methods:{async createNewForm(){if(this.isSubmitSave=!0,this.form.Id){let e=o()({Name:this.newForm.name,Note:this.newForm.note,WeChatAccountId:this.newForm.weChatAccountId});try{let t=await Object(b.l)(this.form.Id,e);t.ok?(this.$emit("closeNewFormPopup",this.form.Id),this.clearNewForm()):Object(y.f)(t)}catch(e){Object(y.f)(e)}finally{this.isSubmitSave=!1}}else try{const e=o()({Name:this.newForm.name,Note:this.newForm.note,ObjectName:this.newForm.objectName,ObjectLabel:this.newForm.objectLabel,RecordTypeId:this.newForm.recordTypeId,WeChatAccountId:this.isClone?this.cloneSourceTempData.WeChatAccountId:this.newForm.weChatAccountId}),t=await Object(b.a)(e);if(t.ok){const e=JSON.parse(C.a.unescape(t.data));this.editCurrentForm(e)}else Object(y.f)(t)}catch(e){Object(y.f)(e)}},closeNewFormPopup(){this.$emit("completeClone"),this.$emit("closeNewFormPopup"),this.clearNewForm()},async editCurrentForm(e){if(this.isClone){this.isSubmitSave=!0;try{const t=await Object(b.d)(e.FormId);if(t.ok){const s=JSON.parse(C.a.unescape(t.data));s.FormInfo=function(e,t){var s,i;const a=JSON.parse(o()(t));a.FormId=e.FormId,a.Name=e.Name,a.Note=e.Note,a.RecordTypeId=e.RecordTypeId,a.MasterObject=e.MasterObject,a.MasterObjectLabel=e.MasterObjectLabel,a.Status=e.Status;const n=M()(s=e.FormFields).call(s,(e,t)=>(e[t.FieldName]=t,e),{});return a.FormFields=B()(i=a.FormFields).call(i,e=>(n[e.FieldName]?e.FormFieldId=n[e.FieldName].FormFieldId:delete e.FormFieldId,e)),a}(s.FormInfo,this.cloneSourceTempData);const i=s.FormInfo,[a,n]=await r.a.all([Object(b.k)(e.FormId,o()(i)),Object(b.j)(e.FormId,o()({IsWeChatAuthenticationEnabled:i.WeChatAuthentication,IsPrefillEnabled:i.IsPrefillEnabled,ThankYouMessage:i.ThankYouMessage,WeChatAccountId:this.newForm.weChatAccountId,Settings:i.Settings,IsPardotIntegrationEnabled:i.IsPardotIntegrationEnabled}),!0)]);a.ok||Object(y.f)(a),n.ok||Object(y.f)(n),this.$emit("closeNewFormPopup",e.FormId),this.clearNewForm()}else Object(y.f)(t)}catch(e){Object(y.f)(e)}finally{this.isSubmitSave=!1}}else this.$emit("closeNewFormPopup",e.FormId),this.clearNewForm()},clearNewForm(){this.newForm.name="",this.newForm.note="",this.newForm.objectName=null,this.newForm.objectLabel=null,this.newForm.recordTypeId="",this.SalesforceObjectType.currentOptions=[],this.RecordType.options=[],this.RecordType.currentOptions=[],this.newForm.weChatAccountId="",this.Accounts.currentOptions=[]},selectPicklist(e){"SalesforceObjectType"===this.dropdownType?(this.newForm.objectName=e[0].Value,this.newForm.objectLabel=e[0].Name,this.newForm.recordTypeId="",this.SalesforceObjectType.currentOptions=e,this.RecordType.options=e[0].recordTypeOptions,this.RecordType.currentOptions=[]):"RecordType"===this.dropdownType?(this.newForm.recordTypeId=e[0].RecordTypeId,this.RecordType.currentOptions=e):"Account"===this.dropdownType&&(this.newForm.weChatAccountId=e[0]?e[0].Id:"",this.Accounts.currentOptions=e),this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1}}},z=(s("77Xr"),s("VYxV")),H=Object(I.a)(j,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"slds-modal slds-modal_large",class:{"slds-fade-in-open":e.showNewFormPopup},attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container show-selected-container new-width",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeNewFormPopup()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.formTitle))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium new-height modal-content"},[e.errorToastMsg?s("error-toast",{attrs:{content:e.errorToastMsg}}):e._e(),e._v(" "),s("div",{staticClass:"new-line"},[s("div",{staticClass:"slds-form-element form-element-label"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"text-input-name"}},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("nameLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newForm.name,expression:"newForm.name"}],staticClass:"slds-input",attrs:{id:"text-input-name",required:"",type:"text"},domProps:{value:e.newForm.name},on:{input:function(t){t.target.composing||e.$set(e.newForm,"name",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"new-line"},[s("div",{staticClass:"slds-form-element form-element-label"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("salesforceObjLabel")))])]),e._v(" "),s("div",{staticClass:"new-line-picklist"},[s("input-select",{attrs:{currents:e.SalesforceObjectType.currentOptions,type:"SalesforceObjectType","is-disabled":e.isClone||e.objectTypeIsDisabled},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),e.RecordType.options.length>0?s("div",{staticClass:"new-line"},[s("div",{staticClass:"slds-form-element form-element-label"},[s("label",{staticClass:"slds-form-element__label"},[s("abbr",{staticClass:"slds-required"},[e._v("* ")]),e._v(e._s(e.$t("recordTypeLabel")))])]),e._v(" "),s("div",{staticClass:"new-line-picklist"},[s("input-select",{attrs:{currents:e.RecordType.currentOptions,type:"RecordType","is-disabled":e.isClone||e.objectTypeIsDisabled},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]):e._e(),e._v(" "),s("div",{staticClass:"new-line"},[s("div",{staticClass:"account-title"},[s("div",{staticClass:"slds-form-element form-account-label"},[s("label",{staticClass:"slds-form-element__label"},["WeChat Follower"===e.newForm.objectLabel?s("abbr",{staticClass:"slds-required"},[e._v("* ")]):e._e(),e._v(e._s(e.$t("accountLabel")))])]),e._v(" "),"WeChat Follower"!==e.newForm.objectLabel?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("formAccountTip")},expression:"{content: $t('formAccountTip')}"}],staticClass:"account-icon down-btn"},[s("icon",{attrs:{name:"info",width:"18px",height:"18px","class-name":"down-icon"}})],1):e._e()]),e._v(" "),s("div",{staticClass:"new-line-picklist"},[s("input-select",{attrs:{currents:e.Accounts.currentOptions,type:"Account"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"new-line"},[s("div",{staticClass:"slds-form-element form-element-label"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"note-label"}},[e._v(e._s(e.$t("noteLabel")))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newForm.note,expression:"newForm.note"}],staticClass:"slds-textarea new-textarea",attrs:{id:"note-label",name:"name",rows:"8",cols:"80"},domProps:{value:e.newForm.note},on:{input:function(t){t.target.composing||e.$set(e.newForm,"note",t.target.value)}}})])])]),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isSubmitSave}})],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSubmitSave},on:{click:function(t){return e.closeNewFormPopup()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!e.canSave||e.isSubmitSave},on:{click:function(t){return e.createNewForm()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop",class:{"slds-backdrop_open":e.showNewFormPopup}}),e._v(" "),e.showDropdown?s("dropdown",{attrs:{"default-label":e.isChoosingAccount,options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth,"has-sort-by":!1},on:{"select-option":e.selectPicklist,close:e.closeDropdown}}):e._e()],1)}),[],!1,null,"baf45cce",null);"function"==typeof z.default&&Object(z.default)(H);var U=H.exports,q=s("GfEe"),W=s.n(q),J=s("rZkV"),Q=s.n(J),K=s("oG9Y"),Y=s.n(K),G=s("kWsH"),Z=s.n(G),X=s("3O4B"),ee=s.n(X),te=s("WE60"),se=s.n(te),ie=s("06sA"),oe=s.n(ie),ae=s("autp"),ne=s.n(ae),le=s("R9hF"),re=s.n(le),ce=s("+dyS"),de=s.n(ce),ue=s("SLhn"),pe=s.n(ue),me=s("+Bun"),he=s.n(me),fe=s("aF8D"),ve=s("dUVM"),ge=s.n(ve),be=s("XmpP"),ye=s("2AFw"),_e=s("3nmp"),Se=s("4IgH"),Ce=s("jkSJ"),we=s("4MOm"),Ie={mixins:[v.a,be.a],components:{InputSelect:h.a,Dropdown:f.a,Lookup:ye.a,WechatResponse:_e.a},props:{settingForm:{type:Object,default:()=>({})}},computed:d()({},Object(g.c)({accountList:"sidebar/wechatAccounts",isPardotEnabled:"charketApp/isPardotEnabled"}),{relatedType(){return"Lead"===this.currentFormItem.MasterObject?"Contact":"Lead"},showPardotSettings(){return this.isPardotEnabled&&("Lead"===this.currentFormItem.MasterObject||"Contact"===this.currentFormItem.MasterObject)},wechatAccount(){return this.accounts.currentOptions.length>0?{id:this.accounts.currentOptions[0].Id,type:this.accounts.currentOptions[0].Type}:{id:"",type:""}},condition(){var e;const t=we.a.getQualifiedName("MasterObject__c");return pe()(e="".concat(t," = '")).call(e,this.relatedType,"'")},relatedFormLabel(){var e,t;return pe()(e=pe()(t="".concat(this.$t("related"))).call(t,this.$t(this.relatedType))).call(e,this.$tc("form",1))},formMetadata(){return{name:"Form__c",label:this.$tc("form",1),labelPural:this.$tc("form",2),icon:"custom.forms",linkField:{name:"Name",label:this.relatedFormLabel},fields:[],newObjectLink:"Self Link"}}}),created(){for(const e of P()(this.accountList)){const t=this.accountList[e];"Service Account"===t.Type&&this.accounts.options.push(JSON.parse(o()(t)))}if(this.currentFormItem=JSON.parse(o()(this.settingForm)),this.currentFormItem,this.currentFormItem.Settings&&(this.settingsJson.Settings=this.currentFormItem.Settings,this.settingsJson.IsWeChatAuthenticationEnabled=this.currentFormItem.WeChatAuthentication,this.settingsJson.IsPrefillEnabled=this.currentFormItem.IsPrefillEnabled,this.settingsJson.ThankYouMessage=this.currentFormItem.ThankYouMessage,this.settingsJson.WeChatAccountId=this.currentFormItem.WeChatAccountId,this.settingsJson.IsPardotIntegrationEnabled=this.currentFormItem.IsPardotIntegrationEnabled,this.settingsJson.Settings.Init.RelatedFormId&&this.selectForm({id:this.settingsJson.Settings.Init.RelatedFormId})),this.currentFormItem,this.settingsJson.WeChatAccountId){var e;const t=D()(e=this.accounts.options).call(e,e=>e.Id===this.settingsJson.WeChatAccountId);this.accounts.currentOptions=[t]}this.settingsJson.Settings.Submit.RedirectRule.DefaultUrl&&(this.thanksMsgData.currentOptions=[{Name:this.$t("redirectTo"),value:"Redirect To"}])},mounted(){if(this.currentFormItem.Settings&&this.currentFormItem.Settings.Submit){const e=this.currentFormItem.Settings.Submit.MessageIds,t=this.currentFormItem.Settings.Submit.TemplateIds,s=this.currentFormItem.Settings.Submit.SkillId;this.getResponseItems({messageIds:e,notificationTemplateIds:t,skillId:s})}},watch:{dropdownRefId(){"thanks"===this.dropdownType?(this.isNone=!1,this.isChoosingAccount=!1,this.dropdownOptionData.options=this.thanksMsgData.options,this.dropdownOptionData.currents=this.thanksMsgData.currentOptions):"accounts"===this.dropdownType&&(this.isChoosingAccount=!0,this.dropdownOptionData.options=this.accounts.options,this.dropdownOptionData.currents=this.accounts.currentOptions,this.dropdownOptionData.options?this.isNone=!0:this.isNone=!1)},"response.items":function(e){this.currentFormItem.Settings.Submit.MessageIds=[],this.currentFormItem.Settings.Submit.TemplateIds=[],this.currentFormItem.Settings.Submit.SkillId="",n()(e).call(e,e=>{var t;ge()(t=["Text Message","Image","WeChat Structured Message","Link Structured Message","Voice Message","Video","Mini Program Page"]).call(t,e.type)?this.currentFormItem.Settings.Submit.MessageIds.push(e.id):"Notification Template"===e.type?this.currentFormItem.Settings.Submit.TemplateIds.push(e.id):"Skill"===e.type&&(this.currentFormItem.Settings.Submit.SkillId=e.id)})},settingsJson:{handler(e){this.$emit("update-settings",e)},deep:!0}},data(){return{isChoosingAccount:!1,currentLookUpItem:null,thanksMsgData:{options:[{Name:this.$t("redirectTo"),value:"Redirect To"},{Name:this.$t("showThankMsg"),value:"Show Thank You Message"}],currentOptions:[{Name:this.$t("showThankMsg"),value:"Show Thank You Message"}]},accounts:{options:[],currentOptions:[]},currentFormItem:null,settingsJson:{IsWeChatAuthenticationEnabled:!1,IsPrefillEnabled:!1,ThankYouMessage:"",WeChatAccountId:"",Settings:{Init:{RelatedFormId:"",Editable:!0},Submit:{RedirectRule:{DefaultUrl:""},MessageIds:[],TemplateIds:[],SkillId:""}},IsPardotIntegrationEnabled:!1},isSaving:!1,isNone:!1,response:{items:[]}}},methods:{openUeditorPopup(){this.$emit("open-ueditor",this.settingsJson.ThankYouMessage)},async getWeChatMessages(e){if(!e||0===e.length)return[];const t=await Ce.k.getMessagesById(e);return B()(t).call(t,e=>(e.updateDateTime?e.localizedUpdateDateTime=Object(_.e)(e.updateDateTime,this.$user.TimeZoneSidKey):e.weChatLastModifiedTime&&(e.localizedWeChatLastModifiedTime=Object(_.e)(e.weChatLastModifiedTime,this.$user.TimeZoneSidKey)),e))},async getNotificationTemplates(e){if(!e||0===e.length)return[];const t=await Ce.m.getByIds(e);return B()(t).call(t,e=>(e.localizedCreatedDate=Object(_.e)(e.createdDate,this.$user.TimeZoneSidKey),e))},async getSkill(e){if(!e)return[];return[await Ce.r.getSkill(e)]},getResponseItems(e){let{messageIds:t,notificationTemplateIds:s,skillId:i}=e;this.$try(async()=>{const[e,o,a]=await r.a.all([this.getWeChatMessages(t),this.getNotificationTemplates(s),this.getSkill(i)]);this.response.items.push(...e,...o,...a)})},setThanksMsg(e){this.settingsJson.ThankYouMessage=e},selectMergeField(e){this.settingsJson.Settings.Submit.RedirectRule.DefaultUrl+=e,this.closeMergeField()},selectPicklist(e){if("thanks"===this.dropdownType)"Redirect To"===e[0].value&&this.thanksMsgData.currentOptions[0]&&"Redirect To"!==this.thanksMsgData.currentOptions[0]?this.settingsJson.ThankYouMessage="":"Show Thank You Message"===e[0].value&&this.thanksMsgData.currentOptions[0]&&"Redirect To"===this.thanksMsgData.currentOptions[0].value&&(this.settingsJson.Settings.Submit.RedirectRule.DefaultUrl=""),this.thanksMsgData.currentOptions=e;else if("accounts"===this.dropdownType){const t=this.settingsJson.WeChatAccountId;this.accounts.currentOptions=e,this.settingsJson.WeChatAccountId=e[0]&&e[0].Id?e[0].Id:"",this.settingsJson.IsWeChatAuthenticationEnabled=!!this.settingsJson.WeChatAccountId,this.settingsJson.IsPrefillEnabled=!!this.settingsJson.WeChatAccountId,this.settingsJson.Settings.Init.Editable=!!this.settingsJson.WeChatAccountId,t!==this.settingsJson.WeChatAccountId&&this.settingsJson.Settings.Init.RelatedFormId&&this.$refs.surveyLookup.remove(),t!==this.settingsJson.WeChatAccountId&&(this.response.items=[])}this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},searchSelectForm(e){var t;const s=we.a.getQualifiedName("Form__c"),i=pe()(t="select Id, Name from ".concat(s," where Id = '")).call(t,e,"'");return Object(Se.c)(i)},async selectForm(e){const t=e?e.id:"";if(this.settingsJson.Settings.Init.RelatedFormId=t,t)try{const e=await this.searchSelectForm(t),s=JSON.parse(C.a.unescape(e.data))[0];e.ok&&s?this.currentLookUpItem={id:t,name:s.Name}:Object(y.f)(e)}catch(e){Object(y.f)(e)}},removeForm(e){this.settingsJson.Settings.Init.RelatedFormId="",this.currentLookUpItem=null},selectAction(e){this.settingsJson.Settings.Submit.MessageIds=e.MessageIds,this.settingsJson.Settings.Submit.TemplateIds=e.TemplateIds},checkEmailField(){var e;return D()(e=this.currentFormItem.FormFields).call(e,e=>"EMAIL"===e.Type)},confirmSave(e){const t=e?this.$t("noRequiredEmailFailedContent"):this.$t("noEmailFailedContent"),s=this.$confirm({title:this.$t("confirmTitle"),content:t,ok:this.$t("global.saveBtn")});s.$on("ok",async()=>{s.close(),await this.saveFormSettings()})},onClickSave(){if(this.settingsJson.IsPardotIntegrationEnabled){const e=this.checkEmailField();if(!e||!e.IsRequired)return void this.confirmSave(e)}this.saveFormSettings()},async saveFormSettings(){try{this.isSaving=!0,JSON.parse(o()(this.settingsJson));const e=await Object(b.j)(this.currentFormItem.FormId,o()(this.settingsJson));e.ok?(this.isSaving=!1,this.$router.app.$emit("open-toast-notification",{content:this.$t("notifyContent"),type:"success"}),this.$emit("refresh-form")):(Object(y.f)(e),this.isSaving=!1)}catch(e){Object(y.f)(e),this.isSaving=!1}},goToFormList(){const e=window.location.href,t=he()(e).call(e,"#");if(t>-1){const s=e.substring(0,t+1);window.open("".concat(s,"/forms"),"","",!1)}}}},Fe=(s("AzUG"),s("s48z")),Le=Object(I.a)(Ie,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-settings-page"},[s("div",{staticClass:"slds-box slds-grid slds-grid_vertical form-settings-area"},[s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label form-label",attrs:{for:""}},[e._v(e._s(e.$t("submitAction")))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{staticClass:"thanks-msg-select"},[s("input-select",{attrs:{currents:e.thanksMsgData.currentOptions,type:"thanks"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)])]),e._v(" "),e.thanksMsgData.currentOptions[0]&&"Redirect To"===e.thanksMsgData.currentOptions[0].value?s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label form-label",attrs:{for:""}},[e._v(e._s(e.$t("redirectUrl")))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{staticClass:"slds-grid slds-grid_vertical"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settingsJson.Settings.Submit.RedirectRule.DefaultUrl,expression:"settingsJson.Settings.Submit.RedirectRule.DefaultUrl"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.settingsJson.Settings.Submit.RedirectRule.DefaultUrl},on:{input:function(t){t.target.composing||e.$set(e.settingsJson.Settings.Submit.RedirectRule,"DefaultUrl",t.target.value)}}}),e._v(" "),s("div",{staticClass:"merge-field-icon"},[s("span",{attrs:{title:"Insert merge field"},on:{click:function(t){return e.openMergeField()}}},[s("icon",{staticClass:"link-icon",attrs:{name:"insertTag",width:"16px",height:"16px","charket-icon":""}})],1)])])])]):s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label",attrs:{for:""}},[e._v(e._s(e.$t("thankyouMessage")))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{staticClass:"slds-box thanks-msg-area charket-edui edui-init-style",domProps:{innerHTML:e._s(e.settingsJson.ThankYouMessage)},on:{click:e.openUeditorPopup}})])]),e._v(" "),s("div",{staticClass:"settings-middle-title"},[e._v("\n      "+e._s(e.$t("wechatSettings"))+"\n    ")]),e._v(" "),s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label form-label",attrs:{for:""}},[e._v(e._s(e.$t("wechatAccount")))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{staticClass:"thanks-msg-select"},[s("input-select",{attrs:{currents:e.accounts.currentOptions,type:"accounts"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label form-label",attrs:{for:""}},[e._v(e._s(e.$t("wechatResponse")))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.settingsJson.WeChatAccountId,expression:"!settingsJson.WeChatAccountId"}],staticClass:"setting-disabled-cover"}),e._v(" "),s("wechat-response",{attrs:{"page-name":e.settingForm.MasterObject+" Form","wechat-account":e.wechatAccount,choosers:["Notification Template","Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Skill"],multiple:""},model:{value:e.response,callback:function(t){e.response=t},expression:"response"}}),e._v(" "),s("div",{staticClass:"prefill-form-checkbox"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settingsJson.IsWeChatAuthenticationEnabled,expression:"settingsJson.IsWeChatAuthenticationEnabled"}],attrs:{type:"checkbox",name:"options",id:"checkbox-1"},domProps:{checked:Array.isArray(e.settingsJson.IsWeChatAuthenticationEnabled)?e._i(e.settingsJson.IsWeChatAuthenticationEnabled,null)>-1:e.settingsJson.IsWeChatAuthenticationEnabled},on:{change:function(t){var s=e.settingsJson.IsWeChatAuthenticationEnabled,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.settingsJson,"IsWeChatAuthenticationEnabled",s.concat([null])):a>-1&&e.$set(e.settingsJson,"IsWeChatAuthenticationEnabled",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.settingsJson,"IsWeChatAuthenticationEnabled",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox-1"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("onlyAccessible")))])])])])])]),e._v(" "),s("div",{staticClass:"prefill-form-checkbox"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settingsJson.IsPrefillEnabled,expression:"settingsJson.IsPrefillEnabled"}],attrs:{type:"checkbox",name:"options",id:"checkbox-2"},domProps:{checked:Array.isArray(e.settingsJson.IsPrefillEnabled)?e._i(e.settingsJson.IsPrefillEnabled,null)>-1:e.settingsJson.IsPrefillEnabled},on:{change:function(t){var s=e.settingsJson.IsPrefillEnabled,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.settingsJson,"IsPrefillEnabled",s.concat([null])):a>-1&&e.$set(e.settingsJson,"IsPrefillEnabled",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.settingsJson,"IsPrefillEnabled",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox-2"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("prefillForm")))]),e._v(" "),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("prefilledTip")},expression:"{content: $t('prefilledTip')}"}],staticClass:"down-btn"},[s("icon",{attrs:{name:"info","class-name":"down-icon",width:"14px",height:"14px"}})],1)])])])])]),e._v(" "),s("div",{staticClass:"prefill-form-checkbox"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settingsJson.Settings.Init.Editable,expression:"settingsJson.Settings.Init.Editable"}],attrs:{type:"checkbox",name:"options",id:"checkbox-3"},domProps:{checked:Array.isArray(e.settingsJson.Settings.Init.Editable)?e._i(e.settingsJson.Settings.Init.Editable,null)>-1:e.settingsJson.Settings.Init.Editable},on:{change:function(t){var s=e.settingsJson.Settings.Init.Editable,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.settingsJson.Settings.Init,"Editable",s.concat([null])):a>-1&&e.$set(e.settingsJson.Settings.Init,"Editable",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.settingsJson.Settings.Init,"Editable",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox-3"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("editableChoice")))]),e._v(" "),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("editableTip")},expression:"{content: $t('editableTip')}"}],staticClass:"down-btn"},[s("icon",{attrs:{name:"info","class-name":"down-icon",width:"14px",height:"14px"}})],1)])])])])])],1)]),e._v(" "),"Lead"===e.settingForm.MasterObject||"Contact"===e.settingForm.MasterObject?s("div",{staticClass:"slds-grid form-setting-item"},[s("label",{staticClass:"form-setting-label form-label",attrs:{for:""}},[e._v(e._s(e.relatedFormLabel))]),e._v(" "),s("div",{staticClass:"slds-col form-setting-content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.settingsJson.IsWeChatAuthenticationEnabled,expression:"!settingsJson.IsWeChatAuthenticationEnabled"}],staticClass:"setting-disabled-cover"}),e._v(" "),s("div",{staticClass:"slds-form-element__control form-input"},[s("lookup",{ref:"surveyLookup",attrs:{"ld-selected-item":e.currentLookUpItem,"ld-metadatas":e.formMetadata,condition:e.condition},on:{select:function(t){return e.selectForm(t)},remove:function(t){return e.removeForm(t)},"self-link":e.goToFormList}})],1),e._v(" "),s("div",{staticClass:"select-form-tip"},[e._v("\n          "+e._s("Contact"===e.relatedType?e.$t("contactTip"):e.$t("leadTip"))+"\n        ")])])]):e._e(),e._v(" "),e.showPardotSettings?s("div",[s("div",{staticClass:"settings-middle-title"},[e._v(e._s(e.$t("pardotSettings")))]),e._v(" "),s("div",{staticClass:"slds-grid form-setting-item pardot-setting"},[s("div",{staticClass:"slds-col form-setting-content"},[s("div",{staticClass:"prefill-form-checkbox"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settingsJson.IsPardotIntegrationEnabled,expression:"settingsJson.IsPardotIntegrationEnabled"}],attrs:{type:"checkbox",name:"options",id:"pardot-checkbox"},domProps:{checked:Array.isArray(e.settingsJson.IsPardotIntegrationEnabled)?e._i(e.settingsJson.IsPardotIntegrationEnabled,null)>-1:e.settingsJson.IsPardotIntegrationEnabled},on:{change:function(t){var s=e.settingsJson.IsPardotIntegrationEnabled,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.settingsJson,"IsPardotIntegrationEnabled",s.concat([null])):a>-1&&e.$set(e.settingsJson,"IsPardotIntegrationEnabled",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.settingsJson,"IsPardotIntegrationEnabled",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"pardot-checkbox"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("enablePardotIntegration")))])])])])])])])])]):e._e()]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-center settings-footer"},[s("button",{staticClass:"slds-button slds-button_brand build-save-button",attrs:{disabled:e.isSaving},on:{click:function(t){return e.onClickSave()}}},[e._v(e._s(e.$t("global.saveBtn")))])]),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth,"default-label":e.isChoosingAccount,none:e.isNone},on:{"select-option":e.selectPicklist,close:e.closeDropdown}}):e._e(),e._v(" "),e.showMergeField?s("select-field",{attrs:{"page-name":e.settingForm.MasterObject+" Form"},on:{"close-merge-field":function(t){return e.closeMergeField()},"select-merge-field":e.selectMergeField}}):e._e()],1)}),[],!1,null,"776d0d7a",null);"function"==typeof Fe.default&&Object(Fe.default)(Le);var xe=Le.exports,ke={props:{formId:{type:String,default:""}},mounted(){this.formId,this.formId&&this.setFormUrl()},data(){return{formUrl:"",copySuccess:this.$t("copySuccess"),copyFailed:this.$t("copyFailed")}},methods:{async setFormUrl(){try{const e=await Object(b.f)(this.formId);e.ok?this.formUrl=C.a.unescape(e.data):Object(y.f)(e)}catch(e){Object(y.f)(e)}}}},Te=(s("eT6Y"),s("GkBI")),Oe=Object(I.a)(ke,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-publish-page"},[s("div",{staticClass:"publish-content-area"},[s("div",{staticClass:"publish-title"},[e._v("\n      "+e._s(e.$t("formLink"))+"\n    ")]),e._v(" "),s("div",{staticClass:"publish-info"},[e._v("\n      "+e._s(e.$t("shareLinkTip"))+"\n    ")]),e._v(" "),s("div",{staticClass:"slds-box publish-content"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formUrl,expression:"formUrl"}],staticClass:"slds-textarea",attrs:{readonly:"readonly",name:"",id:"",cols:"30",rows:"10"},domProps:{value:e.formUrl},on:{input:function(t){t.target.composing||(e.formUrl=t.target.value)}}}),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand copy-link-button",on:{click:function(t){return e.$_charket_copyText(e.formUrl,e.copySuccess,e.copyFailed)}}},[e._v(e._s(e.$t("copyLink")))])])])])}),[],!1,null,"b0d1bc4a",null);"function"==typeof Te.default&&Object(Te.default)(Oe);var De=Oe.exports,Ne=s("mmw4"),Pe=s("4No8"),$e=s("+BhS"),Ae=s("6KlO");var Re={components:{Icon:s("za7x").a,ErrorToast:V.a},props:{choices:{type:Array,default:()=>[]}},data:()=>({choicesStr:"",errorToastMsg:""}),created(){var e,t;this.choices,this.choicesStr=(t=T()(e=this.choices).call(e,e=>e.IsCustomOption),B()(t).call(t,e=>{var t;return""===e.Label&&""===e.Value?"":pe()(t="".concat(e.Label,",")).call(t,e.Value)}).join("\n"))},methods:{closeChoicesEditor(){this.$emit("closeChoicesEditor")},updateChoices(){var e;let t=[];const s=function(e){var t,s;const i=/,|，/;return M()(t=B()(s=e.split("\n")).call(s,e=>{var t;let s,o;const a=Q()(t=e.split(i)).call(t,0,2);return 1===a.length?o=s=a[0]:(s=a[0],o=a[1]),{IsCustomOption:!0,IsDefaultValue:!1,Label:s,Value:o}})).call(t,(e,t)=>(e.push(t),e),[])}(this.choicesStr);n()(e=this.choices).call(e,e=>{e.IsCustomOption?s.length&&t.push(s.shift()):t.push(e)}),t=pe()(t).call(t,s),this.$emit("updateChoices",t)}}},Be=(s("wW5N"),s("YM5/")),Ee=Object(I.a)(Re,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container show-selected-container new-width",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeChoicesEditor()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium editor-title"},[e._v(e._s(e.$t("editChoicesLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium new-height modal-content"},[e.errorToastMsg?s("error-toast",{attrs:{content:e.errorToastMsg}}):e._e(),e._v(" "),s("div",{staticClass:"new-line"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.choicesStr,expression:"choicesStr"}],staticClass:"choices-text slds-textarea resize-vertical",attrs:{name:"name",rows:"150",cols:"100"},domProps:{value:e.choicesStr},on:{input:function(t){t.target.composing||(e.choicesStr=t.target.value)}}}),e._v(" "),s("div",{staticClass:"new-title"},[e._v(e._s(e.$t("eachValueLabel")))])])],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeChoicesEditor()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.updateChoices()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"3cc4e1c3",null);"function"==typeof Be.default&&Object(Be.default)(Ee);var Me=Ee.exports,Ve={components:{LdInput:s("TQrk").LdInput},data:()=>({settings:{}}),computed:{isConfirmDisabled(){return!(this.settings.Label&&this.settings.SendButtonLabel&&this.settings.ResendButtonLabel)}},methods:{open(e){this.settings=JSON.parse(o()(e)),this.$refs.Modal.open()},close(){this.$refs.Modal.close()},onClickCancel(){this.close()},onClickConfirm(){this.close(),this.$emit("confirm",this.settings)}}},je=s("fext"),ze=Object(I.a)(Ve,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ld-modal",{ref:"Modal",attrs:{title:e.$t("verificationCodeSettingsTitle")},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"slds-p-vertical_large slds-p-horizontal_xx-large"},[s("div",{staticClass:"slds-grid slds-gutters_medium"},[s("div",{staticClass:"slds-col slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("ld-input",{staticClass:"section-content",attrs:{required:"",label:e.$t("label")},model:{value:e.settings.Label,callback:function(t){e.$set(e.settings,"Label",t)},expression:"settings.Label"}})],1)]),e._v(" "),s("div",{staticClass:"slds-col slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("ld-input",{staticClass:"section-content",attrs:{required:"",label:e.$t("sendButtonLabel")},model:{value:e.settings.SendButtonLabel,callback:function(t){e.$set(e.settings,"SendButtonLabel",t)},expression:"settings.SendButtonLabel"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-gutters_medium"},[s("div",{staticClass:"slds-col slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("ld-input",{staticClass:"section-content",attrs:{label:e.$t("placeholderText")},model:{value:e.settings.PlaceholderText,callback:function(t){e.$set(e.settings,"PlaceholderText",t)},expression:"settings.PlaceholderText"}})],1)]),e._v(" "),s("div",{staticClass:"slds-col slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("ld-input",{staticClass:"section-content",attrs:{required:"",label:e.$t("resendButtonLabel")},model:{value:e.settings.ResendButtonLabel,callback:function(t){e.$set(e.settings,"ResendButtonLabel",t)},expression:"settings.ResendButtonLabel"}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.onClickCancel()}}},[e._v("\n      "+e._s(e.$t("global.cancelBtn"))+"\n    ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isConfirmDisabled},on:{click:function(t){return e.onClickConfirm()}}},[e._v("\n      "+e._s(e.$t("global.confirmBtn"))+"\n    ")])]},proxy:!0}])})}),[],!1,null,null,null);"function"==typeof je.default&&Object(je.default)(ze);var He=ze.exports,Ue=s("/B6M"),qe=s("Kmr5"),We=s("sWYD");const Je={Textarea:["Text"],Text:["Textarea"],Picklist:["RadioButton","Checkbox"],RadioButton:["Picklist","Checkbox"],Checkbox:["Picklist","RadioButton"]},Qe={Text:"Left",Number:"Left",Date:"Left",Datetime:"Left",Email:"Left",Phone:"Left",Picklist:"Left"},Ke=["State","City","Street"],Ye=Ue.a;var Ge={components:{UeditorPopup:fe.a,WechatFormSetting:xe,InputSelect:h.a,Dropdown:f.a,CommonDatePicker:Pe.a,MessagePopup:$e.a,WeChatFormPublish:De,CharketPreview:Ae.a,LoadingSpinner:m.a,WeChatFormChoicesEditor:Me,FormStyle:Ne.a,LdTooltip:qe.LdTooltip,VerificationCodeSettings:He},mixins:[v.a],async created(){await this.initForm()},mounted(){if("editor"===this.currentTab){const e=this.$watch("isLoadingForm",()=>{this.setFieldsBoxHeight(),e()})}else{const e=this.$watch("currentTab",t=>{"editor"===t&&(this.setFieldsBoxHeight(),e())})}if("forms-preview"===this.$route.name){const e=this.$watch("isLoadingForm",t=>{t||(this.previewForm(),e())})}},computed:d()({},Object(g.c)({currentUser:"user/currentUser",isCharketSmsEnabled:"charketApp/isCharketSmsEnabled"}),{currentTab(){return{"forms-editor":"editor","forms-settings":"settings","forms-publish":"publish","forms-with-account":"settings"}[this.$route.name]||"editor"},objectFields(){const e=[];for(const s of this.form.Fields){var t;const i=s.DefaultLabel?s.DefaultLabel:"";if(he()(t=i.toUpperCase()).call(t,this.fieldsSearchKey.toUpperCase())>-1){const t={Label:s.DefaultLabel};t.Value=s,e.push(t)}}return e},ueditorTitle(){return"settings"===this.currentTab?this.$t("thanksMsgTitle"):this.$t("descriptionTitle")},datePickerSettings(){const e=this.currentSetItem.DefaultValue||"";return{onlyDay:"Date"===this.currentSetItem.FieldSettings.Type,defaultTime:e}},buidRightTitle(){const e={Text:"text",Textarea:"textarea",Checkbox:"checkbox",RadioButton:"radioButton",Picklist:"dropDown",Number:"number",Datetime:"datetime",Date:"date",Email:"email",Phone:"phone",Heading:"heading",Address:"address",DecisionBox:"decisionBoxLabel"},t={"Banner Image":"bannerImage",Title:"title",Button:"button"};var s,i;return this.currentSetItem&&"object"==typeof this.currentSetItem?pe()(s="".concat(this.$t(e[this.currentSetItem.FieldSettings.Type]))).call(s,this.$t("properties")):pe()(i="".concat(this.$t(t[this.currentSetItem]))).call(i,this.$t("properties"))},fieldsOptionData(){this.form.FormFields;const e={options:[],currentOptions:[]};if(this.currentSetItem&&"object"==typeof this.currentSetItem&&this.currentSetItem.FieldSettings.Type)for(const s of this.form.Fields){const i=!("RadioButton"!==this.sfMapTypeObj[s.Type]&&"Text"!==this.sfMapTypeObj[s.Type]&&"Textarea"!==this.sfMapTypeObj[s.Type]||"RadioButton"!==this.currentSetItem.FieldSettings.Type&&"Picklist"!==this.currentSetItem.FieldSettings.Type),a=("Text"===this.sfMapTypeObj[s.Type]||"Textarea"===this.sfMapTypeObj[s.Type]||"Checkbox"===this.sfMapTypeObj[s.Type])&&"Checkbox"===this.currentSetItem.FieldSettings.Type;if(this.sfMapTypeObj[s.Type]===this.currentSetItem.FieldSettings.Type||i||a){var t;if(!de()(t=this.selectedObjectArray).call(t,e=>e===s)||s.FieldName===this.currentSetItem.FieldName){const t=JSON.parse(o()(s));"RadioButton"!==this.currentSetItem.FieldSettings.Type&&"Picklist"!==this.currentSetItem.FieldSettings.Type&&"Checkbox"!==this.currentSetItem.FieldSettings.Type||(t.FieldSettings.Type=this.currentSetItem.FieldSettings.Type),e.options.push({Name:s.DefaultLabel,value:t,[this.identityName]:t.FieldName})}}}const s={Name:this.currentSetItem.FieldName?this.currentSetItem.DefaultLabel:this.$t("chooseFieldLabel"),value:this.currentSetItem,[this.identityName]:this.currentSetItem.FieldName};return e.currentOptions.push(s),e},canHideOptions(){var e;return"object"!=typeof this.currentSetItem?[]:"Checkbox"===!this.currentSetItem.FieldSettings.Type&&"Picklist"===!this.currentSetItem.FieldSettings.Type&&"RadioButton"===!this.currentSetItem.FieldSettings.Type?[]:"BOOLEAN"===this.currentSetItem.Type?[]:T()(e=this.currentSetItem.FieldSettings.Options).call(e,e=>!e.IsCustomOption)},isAllOptionsHide(){var e;return A()(e=this.canHideOptions).call(e,e=>!0===e.IsHidden)},currentSetItemType(){const e=this.currentSetItem.FieldSettings;return e?e.Type:null},canChangeType(){return!!Je[this.currentSetItemType]},changeTypeOptions(){return Je[this.currentSetItemType]||[]}}),watch:{dropdownRefId:function(){if("Fields"===this.dropdownType)this.dropdownOptionData.options=this.fieldsOptionData.options,this.dropdownOptionData.currents=this.fieldsOptionData.currentOptions,this.hasDropdownFilter=!0;else if("Parameter"===this.dropdownType)this.dropdownOptionData.options=this.parameterOptionData.options,this.dropdownOptionData.currents=this.parameterOptionData.currentOptions,this.hasDropdownFilter=!1;else if("LabelLayout"===this.dropdownType)this.dropdownOptionData.options=this.labelLayoutOptionData.options,this.dropdownOptionData.currents=this.labelLayoutOptionData.currentOptions,this.hasDropdownFilter=!1;else if(he()(Ke).call(Ke,this.dropdownType)>-1){var e,t;let s=[];B()(e=this.selectedObjectArray).call(e,e=>{s.push(e.FieldName)}),this.addressOptionData.options=T()(t=this.addressOptionData.options).call(t,e=>he()(s).call(s,e[this.identityName])<0);const i=e=>{const t=this.addressOptionData[e];if(t.length>0){var s;const e=t[0];D()(s=this.addressOptionData.options).call(s,t=>t[this.identityName]===e[this.identityName])||this.addressOptionData.options.unshift(e)}};switch(this.dropdownType){case"State":i("currentStateOptions");break;case"City":i("currentCityOptions");break;case"Street":i("currentStreetOptions")}this.dropdownOptionData.options=this.addressOptionData.options;const o={State:this.addressOptionData.currentStateOptions,City:this.addressOptionData.currentCityOptions,Street:this.addressOptionData.currentStreetOptions};this.dropdownOptionData.currents=o[this.dropdownType],this.hasDropdownFilter=!0}else"StateDefault"===this.dropdownType?(this.dropdownOptionData.options=this.addressStateDefaultOptionData.options,this.dropdownOptionData.currents=this.addressStateDefaultOptionData.currentOptions,this.hasDropdownFilter=!1):"CityDefault"===this.dropdownType?(this.dropdownOptionData.options=this.addressCityDefaultOptionData.options,this.dropdownOptionData.currents=this.addressCityDefaultOptionData.currentOptions,this.hasDropdownFilter=!1):"DecisionBox"===this.dropdownType&&(this.dropdownOptionData.options=this.decisionBoxOptionData.options,this.dropdownOptionData.currents=this.decisionBoxOptionData.currentOptions,this.hasDropdownFilter=!0)},currentSetItem:{handler(e){this.fieldErrorMessage="";let t=null;e.FieldSettings&&(t=e.LabelLayout||Qe[e.FieldSettings.Type]),t&&(this.labelLayoutOptionData.currentOptions=[{Name:this.$t(t.toLowerCase()),value:t}]),e.FieldSettings&&"Address"===e.FieldSettings.Type&&this.getAddressPicklistOptions(),e.FieldSettings&&"DecisionBox"===e.FieldSettings.Type&&this.setDecisionBoxOptions(),e.FieldSettings&&e.FieldSettings.IsSmsVerificationEnabled&&!e.FieldSettings.VerificationCodeComponentSettings&&this.setVerificationCodeComponentSettings()},deep:!0},"form.Styles.CheckedColor"(e){this.setCheckboxColor(e)}},data(){return{identifyPicklistTypes:["Fields","DecisionBox"],isLoadingForm:!0,customStyleNode:null,parameterOptionData:{options:[{Name:this.$t("global.noneLabel"),value:"None"},{Name:this.$t("urlParameterLabel"),value:"Url Parameter"},{Name:this.$t("fixedValueLabel"),value:"Fixed Value"}],currentOptions:[]},decisionBoxOptionData:{options:[],currentOptions:[]},labelLayoutOptionData:{options:[{Name:this.$t("left"),value:"Left"},{Name:this.$t("top"),value:"Top"}],currentOptions:[{Name:this.$t("left"),value:"Left"}]},addressOptionData:{options:[],currentStateOptions:[],currentCityOptions:[],currentStreetOptions:[]},addressStateDefaultOptionData:{options:[],currentOptions:[]},addressCityDefaultOptionData:{options:[],currentOptions:[]},formData:{Name:"",Fields:[]},sfMapTypeObj:{STRING:"Text",URL:"Text",PICKLIST:"RadioButton",BOOLEAN:"RadioButton",DATE:"Date",DATETIME:"Datetime",DOUBLE:"Number",INTEGER:"Number",PHONE:"Phone",EMAIL:"Email",TEXTAREA:"Textarea",HEADING:"Heading",MULTIPICKLIST:"Checkbox",ADDRESS:"Address"},fieldsSelectedCount:{Text:0,RadioButton:0,Date:0,Datetime:0,Number:0,Phone:0,Email:0,Textarea:0,Checkbox:0,Picklist:0},createFormTabs:["editor","settings","publish"],currentPreviewLabel:"PHONE",hasClickedSettingsTab:!1,fieldsSearchKey:"",showObjectField:!0,showCommonItems:!1,buildTabActive:!0,commonItems:[{Label:this.$t("text"),Value:{DefaultLabel:"Text",LabelLayout:Qe.Text,FieldSettings:{Type:"Text",PrefillType:"",FixedValue:""}}},{Label:this.$t("textarea"),Value:{DefaultLabel:"Textarea",FieldSettings:{Type:"Textarea",PrefillType:"",FixedValue:""}}},{Label:this.$t("checkbox"),Value:{DefaultLabel:"Checkbox",FieldSettings:{Type:"Checkbox",Options:[{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0},{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0}],PrefillType:"",FixedValue:""}}},{Label:this.$t("radioButton"),Value:{DefaultLabel:"Radio Button",FieldSettings:{Type:"RadioButton",Options:[{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0},{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0}],PrefillType:"",FixedValue:""}}},{Label:this.$t("dropDown"),Value:{DefaultLabel:"Drop Down",LabelLayout:Qe.Picklist,FieldSettings:{Type:"Picklist",Options:[],PrefillType:"",FixedValue:""}}},{Label:this.$t("number"),Value:{DefaultLabel:"Number",LabelLayout:Qe.Number,FieldSettings:{Type:"Number",PrefillType:"",FixedValue:""}}},{Label:this.$t("datetime"),Value:{DefaultLabel:"Date/Time",DefaultValue:"",LabelLayout:Qe.Datetime,FieldSettings:{Type:"Datetime",PrefillType:"",FixedValue:""}}},{Label:this.$t("date"),Value:{DefaultLabel:"Date",DefaultValue:"",LabelLayout:Qe.Date,FieldSettings:{Type:"Date",PrefillType:"",FixedValue:""}}},{Label:this.$t("email"),Value:{DefaultLabel:"Email",LabelLayout:Qe.Email,FieldSettings:{Type:"Email",PrefillType:"",FixedValue:""}}},{Label:this.$t("phone"),Value:{DefaultLabel:"Phone",LabelLayout:Qe.Phone,FieldSettings:{Type:"Phone",PrefillType:"",FixedValue:""}}},{Label:this.$t("heading"),Value:{DefaultLabel:"Heading",AlternativeLabel:"",FieldSettings:{Type:"Heading"}}},{Label:this.$t("address"),Value:{DefaultLabel:this.$t("address"),AlternativeLabel:this.$t("address"),LabelLayout:"Top",Type:"ADDRESS",FieldSettings:{Type:"Address",AddressFields:{State:{FieldSettings:{Type:""},Display:!0,Label:this.$t("stateLabel"),DefaultValue:"",FieldName:"",FieldLabel:"",Type:"",FormFieldId:""},City:{FieldSettings:{Type:""},Display:!0,Label:this.$t("cityLabel"),DefaultValue:"",FieldName:"",FieldLabel:"",Type:"",FormFieldId:""},Street:{FieldSettings:{Type:""},Display:!0,Label:this.$t("streetLabel"),DefaultValue:"",FieldName:"",FieldLabel:"",Type:"",FormFieldId:""}}}}},{Label:this.$t("decisionBoxLabel"),Value:{DefaultLabel:"",IsRequired:!1,DefaultValue:"0",FieldName:"",FieldSettings:{Type:"DecisionBox",Text:this.$t("decisionBoxLabel")}}}],popupHeaderContent:"",currentPopupType:"",selectMessages:[],form:{Banner:"",Title:"",Fields:[],FormFields:[],ButtonSettings:{},Styles:{PageFontFamily:"Default",PageBg:"#ffffff",PageBgImage:"",FormBg:"#efeef4",ErrorBg:"#e64340",ErrorColor:"#ffffff",RequiredIcon:"None",TitleFontSize:"14px",TitleColor:"#999999",LabelFontSize:"16px",LabelColor:"#000",CheckedColor:"#09bb07",ButtonBg:"#1aad19",ButtonColor:"#fff",ButtonFontSize:"18px"},AdvancedStyles:""},hasSetBox:!1,draging:!1,canSetCurrentItem:!0,middleDragItemsTopData:[],currentSetItem:"Banner Image",fieldsBoxHeight:null,showDescriptionEditor:!1,selectedObjectArray:[],isSavingForm:!1,identityName:"UNIQUE_VALUE_OF_THIS_FILED",isShowChangeTypeList:!1,hasDropdownFilter:!1,isShowPreview:!1,isShowChoicesEditor:!1,currentDragOption:null,curDragOptionTop:null,curDragOptionLeft:null,defaultLabelLayout:Qe,commonPicklistFields:["Fields","State","City","Street"],isEdittingName:!1,fieldErrorMessage:"",sourceForm:null}},methods:{onSettingsUpdated(e){const t=JSON.parse(o()(e));t.WeChatAuthentication=t.IsWeChatAuthenticationEnabled,delete t.IsWeChatAuthenticationEnabled,re()(this.form,t)},routeLeaveAction(e,t,s){const i=(e,t)=>{!Object(y.a)(e,t)?(this.$refs.leaveConfirm.open(),this.$on("stay",()=>{s(!1),this.$off("stay"),this.$off("leave")}),this.$on("leave",()=>{this.currentSetItem="Banner Image",this.form=JSON.parse(o()(this.sourceForm)),s(),this.$off("stay"),this.$off("leave")})):s()};if("forms-editor"===t.name){i({Banner:this.sourceForm.Banner,Title:this.sourceForm.Title,Fields:this.sourceForm.Fields,FormFields:this.sourceForm.FormFields,ButtonSettings:this.sourceForm.ButtonSettings,Styles:this.sourceForm.Styles,AdvancedStyles:this.sourceForm.AdvancedStyles},{Banner:this.form.Banner,Title:this.form.Title,Fields:this.form.Fields,FormFields:this.form.FormFields,ButtonSettings:this.form.ButtonSettings,Styles:this.form.Styles,AdvancedStyles:this.form.AdvancedStyles})}else if("forms-settings"===t.name){i({Settings:this.sourceForm.Settings,WeChatAuthentication:this.sourceForm.WeChatAuthentication,IsPrefillEnabled:this.sourceForm.IsPrefillEnabled,ThankYouMessage:this.sourceForm.ThankYouMessage,WeChatAccountId:this.sourceForm.WeChatAccountId,IsPardotIntegrationEnabled:this.sourceForm.IsPardotIntegrationEnabled},{Settings:this.form.Settings,WeChatAuthentication:this.form.WeChatAuthentication,IsPrefillEnabled:this.form.IsPrefillEnabled,ThankYouMessage:this.form.ThankYouMessage,WeChatAccountId:this.form.WeChatAccountId,IsPardotIntegrationEnabled:this.form.IsPardotIntegrationEnabled})}else s()},discardChanges(){this.$emit("leave"),this.$refs.leaveConfirm.close()},stayOnThisPage(){this.$refs.leaveConfirm.close()},closeLeaveConfirm(){this.$emit("stay")},editFormNameData(){this.isEdittingName=!0,this.$nextTick((function(){this.$refs.editFormNameInput.focus()}));const e=()=>{this.isEdittingName=!1,window.removeEventListener("click",e)};ne()(()=>{window.addEventListener("click",e)},0)},async changeFormName(){try{const e=await Object(b.c)(this.form.FormId,this.formData.Name);e.ok||Object(y.f)(e)}catch(e){Object(y.f)(e)}},setDefaultTimeValue(e,t){if(t){if("Datetime"===e){return Object(We.a)(Object(_.b)(Number(t),this.currentUser.TimeZoneSidKey),"yyyy-MM-dd'T'HH:mm:ss.SSSxxx").substring(0,16)}{var s,i,o,a;const e=t.split("/"),n=oe()(s=String(e[0])).call(s,2,"0"),l=oe()(i=String(e[1])).call(i,2,"0"),r=String(e[2]);return pe()(o=pe()(a="".concat(r,"-")).call(a,n,"-")).call(o,l)}}return""},setCheckboxColor(e){this.customStyleNode||(this.customStyleNode=document.createElement("style"),document.head.appendChild(this.customStyleNode)),e="none"===e?"#09bb07":e,this.customStyleNode.innerHTML=".weui-icon-has-checked::before{content: '\\EA06';color:".concat(e," !important}")},chooseCreateFormTab(e){"settings"===e&&(this.hasClickedSettingsTab=!0),"editor"!==e&&this.clearSearchKey();const t={formId:this.form.FormId};this.$router.replace({name:{editor:"forms-editor",settings:"forms-settings",publish:"forms-publish"}[e],params:t})},setSelectedItem(e,t){if("add"===e&&t&&t.FieldName)t.IsSelected=!0,this.selectedObjectArray.push(t),this.fieldsSelectedCount[t.FieldSettings.Type]>0&&this.fieldsSelectedCount[t.FieldSettings.Type]--;else if("remove"===e&&t&&t.FieldName){var s;const e=se()(s=this.selectedObjectArray).call(s,e=>e.FieldName===t.FieldName);var i;if(e>-1)this.selectedObjectArray[e].IsSelected=!1,ee()(i=this.selectedObjectArray).call(i,e,1),this.fieldsSelectedCount[t.FieldSettings.Type]++}},backToList(){this.$emit("back-to-list")},getIconName:e=>({Text:"formText",Textarea:"formTextarea",Checkbox:"formCheckbox",RadioButton:"formRadio",Picklist:"formPicklist",Number:"formNumber",Datetime:"formTime",Date:"formDate",Email:"formEmail",Phone:"formPhone",Heading:"formHeading",Address:"formAddress",DecisionBox:"formDecisionBox"})[e],setFieldsBoxHeight(){this.fieldsBoxHeight=this.$refs.buildLeftArea.offsetHeight-40-48-38-52+"px"},expandChooseBox(e){"objectFields"===e?(this.showObjectField=!this.showObjectField,this.showObjectField?(this.setFieldsBoxHeight(),this.showCommonItems=!1):this.fieldsBoxHeight="0px"):(this.showCommonItems=!this.showCommonItems,this.showCommonItems&&(this.showObjectField=!1,this.fieldsBoxHeight="0px"))},getMiddleDragItemsTopData(){if(this.middleDragItemsTopData=[],this.$refs.middleFormArea.children.length>0)for(const e of this.$refs.middleFormArea.children)1===e.nodeType&&this.middleDragItemsTopData.push(e.getBoundingClientRect().top+e.offsetHeight/2)},addPositionBox(e,t){if(0===this.$refs.middleFormArea.children.length)this.$refs.middleFormArea.appendChild(e);else{var s,i;const o=Z()(s=[...this.middleDragItemsTopData]).call(s,(e,s)=>Math.abs(e-t)-Math.abs(s-t))[0],a=se()(i=this.middleDragItemsTopData).call(i,e=>e===o);this.$refs.middleFormArea.children[a]!==e&&(t-this.middleDragItemsTopData[a]>=0?this.$refs.middleFormArea.insertBefore(e,this.$refs.middleFormArea.children[a+1]):this.$refs.middleFormArea.insertBefore(e,this.$refs.middleFormArea.children[a]),this.getMiddleDragItemsTopData())}},dragAction(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"put";const i=new Date;"order"===s&&this.setFormItem(e,t),this.getMiddleDragItemsTopData(),this.draging=!0;const a=e.target.parentNode;a.parentNode.style.zIndex=9e3;const n=a.getBoundingClientRect().left,l=a.offsetWidth,r=e.clientX,c=e.clientY,d=e.offsetX||e.originalEvent.layerX,u=e.offsetY||e.originalEvent.layerY,p=this.$refs.middleFormArea.getBoundingClientRect().left,m=this.$refs.middleFormArea.offsetWidth,h=document.createElement("DIV");h.style.height=Math.max(50,a.offsetHeight)+"px",h.style.border="1px dashed #d8dde6";let f=!1;const v=e=>{if(f=!0,a.style.position="fixed",a.style.left=e.clientX-d+"px",a.style.top=e.clientY-u+"px",n+l+e.clientX-r>=p&&n+l+e.clientX-r<=p+m+l){const t=e.clientY;this.addPositionBox(h,t)}else h.parentNode===this.$refs.middleFormArea&&this.$refs.middleFormArea.removeChild(h)},g=e=>{const n=e.clientX,l=e.clientY,d=new Date-i,u=Math.sqrt(Math.pow(n-r,2)+Math.pow(l-c,2)),p=f&&(d>=350||u>=5);if(this.draging=!1,"put"!==s||p)if(h.parentNode===this.$refs.middleFormArea){var m,b;const i=se()(m=Y()(this.$refs.middleFormArea.children)).call(m,e=>e===h);this.setSelectedItem("add",t.Value);const a="put"===s?JSON.parse(o()(t.Value)):JSON.parse(o()(t));if(ee()(b=this.form.FormFields).call(b,i,0,a),this.setFormItem(e,a),this.$refs.middleFormArea.removeChild(h),"order"===s){var y,_;const e=se()(y=this.form.FormFields).call(y,e=>e===t);ee()(_=this.form.FormFields).call(_,e,1)}}else"order"===s&&f&&!t.IsDatabaseRequired&&(this.deleteFormItem(t),this.setSelectedItem("remove",t));else{var S;this.setSelectedItem("add",t.Value);const s=JSON.parse(o()(t.Value));ee()(S=this.form.FormFields).call(S,this.form.FormFields.length,0,s),this.setFormItem(e,s),this.$nextTick(()=>{this.$refs.buildAreaMiddle.scrollTop=this.$refs.buildAreaMiddle.scrollHeight})}a.style.position="relative",a.style.left="0px",a.style.top="0px",a.parentNode.style.zIndex=0,window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",g)},dragOptionStart(e,t,s){if(/^input$/i.test(s.target.tagName))return;const i=e.length,o=+new Date,a=s.currentTarget.parentNode.getBoundingClientRect(),n=a.left,l=a.top,r=s.clientX,c=s.clientY,d=r-n,u=c-l;let p=he()(e).call(e,t),m=c,h="down";const f=l-40*p,v=this.$refs.rightContentBody.scrollTop;this.curDragOptionTop=l+"px",this.curDragOptionLeft=n+"px";const g=e=>{this.currentDragOption||(this.currentDragOption=t),this.$nextTick(()=>{const t=e.clientY;if(t===m)return;const s=this.$refs.rightContentBody.scrollTop-v;h=t>m?"down":"up",this.curDragOptionLeft=e.clientX-d+"px",this.curDragOptionTop=t-u+"px";let o=t-u+s-f+("down"===h?0:40);m=t,o=Math.max(Math.min(40*(i-1),o),0);const a=o/40|0;if(null===p)p=a;else if(a!==p){if("down"===h&&a<p||"up"===h&&a>p)return;const[e,t]=[Math.max(a,p),Math.min(a,p)],s=this.currentSetItem.FieldSettings.Options;var n,l,r,c;if("down"===h)this.currentSetItem.FieldSettings.Options=pe()(n=pe()(l=Q()(s).call(s,0,t)).call(l,Q()(s).call(s,t+1,e+1),s[t])).call(n,Q()(s).call(s,e+1));else this.currentSetItem.FieldSettings.Options=pe()(r=pe()(c=Q()(s).call(s,0,t)).call(c,s[e],Q()(s).call(s,t,e))).call(r,Q()(s).call(s,e+1));p=a}})},b=e=>{this.currentDragOption=null,+new Date-o>300&&(e.preventDefault(),e.stopPropagation()),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",g),window.addEventListener("mouseup",b)},setFormItem(e,t){"string"==typeof t?(this.canSetCurrentItem=!0,this.currentSetItem=t):this.canSetCurrentItem?(this.currentSetItem=t,"Url Parameter"===this.currentSetItem.FieldSettings.PrefillType?this.parameterOptionData.currentOptions=[{Name:this.$t("urlParameterLabel"),value:"Url Parameter"}]:"Fixed Value"===this.currentSetItem.FieldSettings.PrefillType?this.parameterOptionData.currentOptions=[{Name:this.$t("fixedValueLabel"),value:"Fixed Value"}]:"None"===this.currentSetItem.FieldSettings.PrefillType?this.parameterOptionData.currentOptions=[{Name:this.$t("global.noneLabel"),value:"None"}]:this.parameterOptionData.currentOptions=[]):e.preventDefault(),this.showDropdown&&(this.showDropdown=!1,this.$root.$emit("close-other-dropdown",null))},deleteFormItem(e){var t,s;this.form.FormFields;const i=se()(t=this.form.FormFields).call(t,t=>t===e);if(e.FormFieldId&&this.form.FieldIdsToDelete.push(e.FormFieldId),ee()(s=this.form.FormFields).call(s,i,1),this.form.FormFields.length>1?this.form.FormFields[i]?this.currentSetItem=this.form.FormFields[i]:this.form.FormFields[i-1]&&(this.currentSetItem=this.form.FormFields[i-1]):this.currentSetItem="Banner Image","ADDRESS"===e.Type){let t=e.FieldSettings.AddressFields,s=e=>{let s=t[e].FieldName,i=t[e].FormFieldId;if(s){var o,a;this.selectedObjectArray=T()(o=this.selectedObjectArray).call(o,e=>e.FieldName!==s),D()(a=this.form.Fields).call(a,e=>e.FieldName===s).IsSelected=!1}i&&this.form.FieldIdsToDelete.push(i)};s("State"),s("City"),s("Street")}else this.setSelectedItem("remove",e)},chooseBuild(e){this.buildTabActive="build"===e},openDescriptionEditor(){this.showDescriptionEditor=!0,this.$refs.descriptionEditor.updateContent(this.form.Description)},updateEditedContent(e){"editor"===this.currentTab?this.form.Description=e:this.$refs.formSetting.setThanksMsg(e),this.closeFormDescriptionEditor()},closeFormDescriptionEditor(){this.showDescriptionEditor=!1},checkMove(e,t){if(!t)return!0;e.stopPropagation()},openUeditorPopup(e){this.showDescriptionEditor=!0,this.$refs.descriptionEditor.updateContent(e)},selectPicklist(e){let t=(e,t)=>{e.FieldName=t[0][this.identityName]||"",e.FieldLabel=t[0].Name||"",e.FieldSettings.Type=t[0].value.FieldSettings.Type||"",e.Type=t[0].value.Type||""};if("Fields"===this.dropdownType){var s;const t=se()(s=this.form.FormFields).call(s,e=>e===this.currentSetItem);if(0!==e.length){var i,o;this.form.FormFields[t].FormFieldId&&this.form.FieldIdsToDelete.push(this.form.FormFields[t].FormFieldId),ee()(i=this.form.FormFields).call(i,t,1,e[0].value);const s=(e,t)=>D()(e).call(e,e=>e.Value.FieldName===t.FieldName),a=s(this.objectFields,this.currentSetItem);a&&this.setSelectedItem("remove",a.Value),this.currentSetItem=e[0].value;const n=s(this.objectFields,this.currentSetItem);n&&this.setSelectedItem("add",n.Value),he()(o=["RadioButton","Picklist","Checkbox"]).call(o,this.currentSetItem.FieldSettings.Type)>-1&&0===this.currentSetItem.FieldSettings.Options.length&&(this.currentSetItem.FieldSettings.Options=[{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0},{IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0}])}}else if("Parameter"===this.dropdownType)this.fieldErrorMessage="",e[0]?(this.currentSetItem.FieldSettings.PrefillType=e[0].value,this.currentSetItem.FieldSettings.FixedValue=this.currentSetItem.FieldSettings.FixedValue||"",this.currentSetItem.UrlParameterName=this.currentSetItem.UrlParameterName||"","Url Parameter"===this.currentSetItem.FieldSettings.PrefillType?(this.currentSetItem.FieldSettings.FixedValue="",this.currentSetItem.IsHidden=!0):"Fixed Value"===this.currentSetItem.FieldSettings.PrefillType?(this.currentSetItem.UrlParameterName="",this.currentSetItem.IsHidden=!0):(this.currentSetItem.UrlParameterName="",this.currentSetItem.FieldSettings.FixedValue="")):(this.currentSetItem.UrlParameterName="",this.currentSetItem.FieldSettings.PrefillType="",this.currentSetItem.FieldSettings.FixedValue=""),this.parameterOptionData.currentOptions=e;else if("LabelLayout"===this.dropdownType)this.currentSetItem.LabelLayout=e[0].value,this.labelLayoutOptionData.currentOptions=e,this.$forceUpdate();else if("State"===this.dropdownType){if(e.length>0){let s=this.currentSetItem.FieldSettings.AddressFields.State;const i=s.FieldName;this.changeSelectedObjectArray(i,e,"currentStateOptions"),t(s,e)}}else if("City"===this.dropdownType){if(e.length>0){let s=this.currentSetItem.FieldSettings.AddressFields.City;const i=s.FieldName;this.changeSelectedObjectArray(i,e,"currentCityOptions"),t(s,e)}}else if("Street"===this.dropdownType){if(e.length>0){let s=this.currentSetItem.FieldSettings.AddressFields.Street;const i=s.FieldName;this.changeSelectedObjectArray(i,e,"currentStreetOptions"),t(s,e)}}else if("StateDefault"===this.dropdownType){if(this.currentSetItem.FieldSettings.AddressFields.State.DefaultValue=e[0]?e[0].value:"",this.addressStateDefaultOptionData.currentOptions=e,this.addressCityDefaultOptionData.options=[],this.addressCityDefaultOptionData.currentOptions=[],this.currentSetItem.FieldSettings.AddressFields.City.DefaultValue="",e.length>0&&this.currentSetItem.FieldSettings.AddressFields.City.Display){const t=Ye[e[0].value];for(const e of t)this.addressCityDefaultOptionData.options.push({Name:e,value:e})}}else if("CityDefault"===this.dropdownType)this.currentSetItem.FieldSettings.AddressFields.City.DefaultValue=e[0]?e[0].value:"",this.addressCityDefaultOptionData.currentOptions=e;else if("DecisionBox"===this.dropdownType){const t=(e,t)=>D()(e).call(e,e=>e.Value.FieldName===t.FieldName),s=t(this.objectFields,this.currentSetItem);if(s&&this.setSelectedItem("remove",s.Value),this.decisionBoxOptionData.currentOptions=[],e.length>0){this.currentSetItem.DefaultLabel=e[0].value.DefaultLabel,this.currentSetItem.FieldName=e[0].value.FieldName,this.currentSetItem.Type=e[0].value.Type;const s=t(this.objectFields,this.currentSetItem);s&&this.setSelectedItem("add",s.Value);const i={Name:this.currentSetItem.DefaultLabel,value:this.currentSetItem,[this.identityName]:this.currentSetItem.FieldName};this.decisionBoxOptionData.currentOptions.push(i)}else this.currentSetItem.DefaultLabel="",this.currentSetItem.FieldName="",this.currentSetItem.Type=""}this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},changeSelectedObjectArray(e,t,s){var i,o;const a=D()(i=this.objectFields).call(i,t=>t.Value.FieldName===e);a&&this.setSelectedItem("remove",a.Value),this.addressOptionData[s]=[];const n=t[0],l=D()(o=this.objectFields).call(o,e=>e.Value.FieldName===n[this.identityName]);l&&this.setSelectedItem("add",l.Value),this.addressOptionData[s]=t},changeRadioOptionStatus(e){e.IsHidden=!e.IsHidden},setDefaultRadio(e){if(!e.IsHidden)for(const t of this.currentSetItem.FieldSettings.Options)t===e&&!0===t.IsDefaultValue?t.IsDefaultValue=!1:t.IsDefaultValue=t===e},addAnotherChoice(){if(this.currentSetItem.FieldSettings){const e={IsDefaultValue:!1,Label:"",Value:"",IsCustomOption:!0};this.currentSetItem.FieldSettings.Options.push(e)}},deleteCustomChoice(e){var t,s;const i=se()(t=this.currentSetItem.FieldSettings.Options).call(t,t=>t===e);ee()(s=this.currentSetItem.FieldSettings.Options).call(s,i,1)},editChoices(){this.isShowChoicesEditor=!0},closeChoicesEditor(){this.isShowChoicesEditor=!1},updateChoices(e){this.closeChoicesEditor(),this.currentSetItem.FieldSettings.Options=e},updateDateDefaultValue(e){this.currentSetItem.DefaultValue=e},previewForm(){this.isShowPreview=!0},closePreviewForm(){document.getElementsByTagName("body")[0].style.overflow="hidden",this.isShowPreview=!1},checkEmailField(){var e;return D()(e=this.form.FormFields).call(e,e=>"EMAIL"===e.Type)},confirmSave(e){const t=e?this.$t("noRequiredEmailFailedContent"):this.$t("noEmailFailedContent"),s=this.$confirm({title:this.$t("confirmTitle"),content:t,ok:this.$t("global.saveBtn")});s.$on("ok",async()=>{s.close(),await this.saveFormBuild()})},getFieldWithInvalidUrlParameterName(){var e;return D()(e=this.form.FormFields).call(e,e=>e.FieldSettings.PrefillType&&"Url Parameter"===e.FieldSettings.PrefillType&&!e.UrlParameterName)},onClickSave(e){this.fieldErrorMessage="";const t=this.getFieldWithInvalidUrlParameterName();if(t)return this.setFormItem(e,t),void this.$nextTick(()=>{this.fieldErrorMessage=this.$t("global.fieldErrorLabel"),this.$nextTick(()=>{const e=document.querySelectorAll(".common-set .each-item-set");this.$refs.rightContentBody.scrollTop=(e[0].clientHeight+16)*(e.length-1)+18})});if(this.form.IsPardotIntegrationEnabled){const e=this.checkEmailField();if(!e||!e.IsRequired)return void this.confirmSave(e)}this.saveFormBuild()},async saveFormBuild(){this.isSavingForm=!0;for(const[t,s]of W()(e=this.form.FormFields).call(e)){var e;s.Index=t}try{let e=JSON.parse(o()(this.form)),s=this.setSaveAddressData(e.FormFields);e.FormFields=s;for(const[s,i]of W()(t=e.FormFields).call(t)){var t;i.Index=s}delete e.Fields;const i=await Object(b.k)(this.form.FormId,o()(e));if(this.isSavingForm=!1,i.ok){const t=JSON.parse(C.a.unescape(i.data));for(const s of e.FormFields)s.FormFieldId||(s.FormFieldId=t[String(s.Index)]);for(const s of this.form.FormFields)if(s.FormFieldId=t[String(s.Index)],"ADDRESS"===s.Type){let t=s.FieldSettings.AddressFields,i=s=>{var i;let o=D()(i=e.FormFields).call(i,e=>e.FieldName===t[s].FieldName);o&&(t[s].FormFieldId=o.FormFieldId)};i("State"),i("City"),i("Street")}this.form.FormFields,this.sourceForm=JSON.parse(o()(this.form)),this.$router.app.$emit("open-toast-notification",{content:this.$t("formSavedTip"),type:"success"})}else Object(y.f)(i)}catch(e){this.isSavingForm=!1,Object(y.f)(e)}},focusQuickFind(){this.showObjectField=!1,this.expandChooseBox("objectFields")},clearSearchKey(){this.fieldsSearchKey=""},toggleAllOptionsHide(){var e;const t=!this.isAllOptionsHide;n()(e=this.canHideOptions).call(e,e=>{e.IsHidden=t})},getTypeOptionLabel(e){return e=e.replace(/^./,e=>e.toLowerCase()),this.$t("picklist"===e?"dropDown":e)},showChangeTypeList(){this.isShowChangeTypeList=!this.isShowChangeTypeList;const e=()=>{this.isShowChangeTypeList=!1,window.removeEventListener("click",e)};window.addEventListener("click",e)},changeCurItemType(e){var t;const s=this.currentSetItem.FieldSettings.Type;var i;(this.isShowChangeTypeList=!1,this.currentSetItem.FieldSettings.Type=e,"Checkbox"===s)&&n()(i=this.currentSetItem.FieldSettings.Options).call(i,e=>{e.IsDefaultValue=!1});const o=M()(t=this.commonItems).call(t,(e,t)=>{const s=t.FieldSettings.Type;return"Heading"===s?e:(t=t.Value,e[s]=t.DefaultLabel,e)},{});o[s]===this.currentSetItem.DefaultLabel&&(this.currentSetItem.DefaultLabel=o[e])},prefillValue(e,t){!e.Value&&e.Label&&(e.Value=e.Label),this.$nextTick(()=>{t.target.select()})},fieldDetail(e){var t,s,i;return pe()(t=pe()(s=pe()(i="".concat(this.$t("labelLabel")," ")).call(i,e.Value.DefaultLabel,"<br/>")).call(s,this.$t("nameLabel")," ")).call(t,e.Value.FieldName)},getOptionLabel(e){var t;let s=T()(t=e.FieldSettings.Options).call(t,e=>!!e.IsDefaultValue);return s.length?s[0].IsHidden?"":s[0].Label:e.Placeholder},updateStyles(e,t){"customize"===t?this.form.Styles=e:this.form.AdvancedStyles=e},async initForm(){const e=this.$route.params.formId;"settings"===this.currentTab&&(this.hasClickedSettingsTab=!0);try{const t=await Object(b.d)(e);if(t.ok){const e=JSON.parse(C.a.unescape(t.data));this.formData=e.FormInfo,this.form=JSON.parse(o()(this.formData)),this.form.ButtonSettings||(this.form.ButtonSettings={Label:this.$t("submitLabel")}),this.form.Styles||(this.form.Styles={PageFontFamily:"Default",PageBg:"#ffffff",PageBgImage:"",FormBg:"#efeef4",ErrorBg:"#e64340",ErrorColor:"#ffffff",RequiredIcon:"None",TitleFontSize:"14px",TitleColor:"#999999",LabelFontSize:"16px",LabelColor:"#000",CheckedColor:"#09bb07",ButtonBg:"#1aad19",ButtonColor:"#fff",ButtonFontSize:"18px"}),this.form.FormFields,this.setAddressDataStructure(this.form.FormFields),this.form.FormFields,this.setCheckboxColor(this.form.Styles.CheckedColor);for(const e of this.form.Fields)e.IsSelected?this.setSelectedItem("add",e):this.fieldsSelectedCount[e.FieldSettings.Type]++;this.sourceForm=JSON.parse(o()(this.form))}else Object(y.f)(t)}catch(e){Object(y.f)(e)}finally{this.isLoadingForm=!1}},async refreshForm(){this.currentSetItem="Banner Image",await this.initForm()},switchPreviewType(e){this.currentPreviewLabel=e},getAddressPicklistOptions(){this.addressOptionData.options=[],this.addressOptionData.currentStateOptions=[],this.addressOptionData.currentCityOptions=[],this.addressOptionData.currentStreetOptions=[],this.addressStateDefaultOptionData.options=[],this.addressStateDefaultOptionData.currentOptions=[],this.addressCityDefaultOptionData.options=[],this.addressCityDefaultOptionData.currentOptions=[];for(const t of this.form.Fields){var e;const s="STRING"===t.Type||"PICKLIST"===t.Type||"TEXTAREA"===t.Type,i=de()(e=this.selectedObjectArray).call(e,e=>e===t);if(s&&!i){const e=JSON.parse(o()(t));this.addressOptionData.options.push({Name:t.DefaultLabel,value:e,[this.identityName]:e.FieldName})}}const t=(e,t)=>{let s=this.currentSetItem.FieldSettings.AddressFields[e];if(s.FieldLabel){var i;let e=D()(i=this.form.Fields).call(i,e=>e.FieldName===s.FieldName);const o={Name:s.FieldLabel,value:e,[this.identityName]:s.FieldName};this.addressOptionData[t].push(o)}};if(t("State","currentStateOptions"),t("City","currentCityOptions"),t("Street","currentStreetOptions"),this.currentSetItem.FieldSettings.AddressFields.State.Display)for(const e of P()(Ye))this.addressStateDefaultOptionData.options.push({Name:e,value:e});const s=this.currentSetItem.FieldSettings.AddressFields.State.DefaultValue;if(s&&(this.addressStateDefaultOptionData.currentOptions.push({Name:s,value:s}),this.currentSetItem.FieldSettings.AddressFields.City.Display))for(const e of Ye[s])this.addressCityDefaultOptionData.options.push({Name:e,value:e});const i=this.currentSetItem.FieldSettings.AddressFields.City.DefaultValue;i&&this.addressCityDefaultOptionData.currentOptions.push({Name:i,value:i})},showPopup(e,t,s,i){this.popupHeaderContent=e,this.currentPopupType=s,this.$refs.messagePopup.openModal(i,s,[{id:"",content:this.currentSetItem.FieldSettings.Text,type:"Text Message"}])},getSelectedMessage(e){this.currentSetItem.FieldSettings.Text=e[0]?e[0].content:"",this.currentSetItem},setDecisionBoxOptions(){this.decisionBoxOptionData.options=[],this.decisionBoxOptionData.currentOptions=[];for(const t of this.form.Fields){if("RadioButton"===this.sfMapTypeObj[t.Type]||"Text"===this.sfMapTypeObj[t.Type]){var e;if(!de()(e=this.selectedObjectArray).call(e,e=>e===t)||t.FieldName===this.currentSetItem.FieldName){const e=JSON.parse(o()(t));e.FieldSettings.Type=this.currentSetItem.FieldSettings.Type,this.decisionBoxOptionData.options.push({Name:t.DefaultLabel,value:e,[this.identityName]:e.FieldName})}}}if(this.currentSetItem.DefaultLabel){const e={Name:this.currentSetItem.DefaultLabel,value:this.currentSetItem,[this.identityName]:this.currentSetItem.FieldName};this.decisionBoxOptionData.currentOptions.push(e)}},changeBoxDefaultValue(e){"0"===e.DefaultValue?e.DefaultValue="1":"1"===e.DefaultValue&&(e.DefaultValue="0")},changeAddressLabel(e){switch(e.LabelLayout){case"Top":e.LabelLayout="Hidden";break;case"Hidden":e.LabelLayout="Top"}},setAddressDataStructure(e){let t=[],s=[];for(let i=0;i<e.length;i++){let o=e[i];if("ADDRESS"===o.Type){let a={FieldSettings:{Type:"Address",AddressFields:{State:{FieldSettings:{Type:""},Display:o.FieldSettings.AddressFields.State.Display,Label:this.$t("stateLabel"),DefaultValue:"",FieldLabel:"",FieldName:"",Type:"",FormFieldId:""},City:{FieldSettings:{Type:""},Display:o.FieldSettings.AddressFields.City.Display,Label:this.$t("cityLabel"),DefaultValue:"",FieldName:"",FieldLabel:"",Type:"",FormFieldId:""},Street:{FieldSettings:{Type:""},Display:o.FieldSettings.AddressFields.Street.Display,Label:this.$t("streetLabel"),DefaultValue:"",FieldName:"",FieldLabel:"",Type:"",FormFieldId:""}}},UrlParameterName:null,IsDatabaseRequired:!1,IsRequired:!0,IsReadOnly:!1,LabelLayout:"",Index:0,IsHidden:!1,DefaultValue:null,DefaultLabel:"",AlternativeLabel:"",Placeholder:null,Type:"",FieldName:null,FormFieldId:""},n={address:-1,fieldNames:[]};n.address=i;let l=o.FieldSettings.AddressFields.State,r=o.FieldSettings.AddressFields.City,c=o.FieldSettings.AddressFields.Street;const d=l.FieldName,u=r.FieldName,p=c.FieldName;d&&n.fieldNames.push(d),u&&n.fieldNames.push(u),p&&n.fieldNames.push(p);let m=D()(e).call(e,e=>e.FieldName===d),h=D()(e).call(e,e=>e.FieldName===u),f=D()(e).call(e,e=>e.FieldName===p);s.push(n),a.IsRequired=o.IsRequired,a.IsReadOnly=o.IsReadOnly,a.IsHidden=o.IsHidden,a.LabelLayout=o.LabelLayout,a.DefaultValue=o.DefaultValue,a.DefaultLabel=o.DefaultLabel,a.AlternativeLabel=o.AlternativeLabel,a.Index=o.Index,a.FormFieldId=o.FormFieldId,a.Type=o.Type;let v=a.FieldSettings.AddressFields.State,g=a.FieldSettings.AddressFields.City,b=a.FieldSettings.AddressFields.Street;const y=(e,t)=>{t&&(e.Display=t.FieldSettings.Display,e.Label=t.DefaultLabel,e.DefaultValue=t.DefaultValue,e.FieldLabel=t.AlternativeLabel,e.FieldName=t.FieldName,e.FieldSettings.Type=t.FieldSettings.Type,e.Type=t.Type,e.FormFieldId=t.FormFieldId)};y(v,m),y(g,h),y(b,f),t.push(a)}}for(let o=0;o<s.length;o++){var i;let a=s[o];ee()(e).call(e,a.address,1),ee()(e).call(e,a.address,0,t[o]),a.fieldNames,B()(i=a.fieldNames).call(i,(function(t){let s=se()(e).call(e,e=>e.FieldName===t);ee()(e).call(e,s,1)}))}},setSaveAddressData(e){let t=JSON.parse(o()(e));let s=[],i=[];for(let e=0;e<t.length;e++){let o=t[e];if("ADDRESS"===o.Type){let t={},a=o.FieldSettings.AddressFields.State,n=o.FieldSettings.AddressFields.City,l=o.FieldSettings.AddressFields.Street;t.address={FieldSettings:{Type:""},UrlParameterName:null,IsDatabaseRequired:!1,IsRequired:!1,IsReadOnly:!1,LabelLayout:"",Index:null,IsHidden:!1,DefaultValue:null,DefaultLabel:"",AlternativeLabel:"",Placeholder:null,Type:"",FieldName:null,FormFieldId:""},t.address.FieldSettings.Type="Address",i.push(e),t.address.FieldSettings.AddressFields={State:{FieldName:a.FieldName,Display:a.Display},City:{FieldName:n.FieldName,Display:n.Display},Street:{FieldName:l.FieldName,Display:l.Display}},t.address.IsRequired=o.IsRequired,t.address.IsReadOnly=o.IsReadOnly,t.address.IsHidden=o.IsHidden,t.address.LabelLayout=o.LabelLayout,t.address.DefaultValue=o.DefaultValue,t.address.DefaultLabel=o.DefaultLabel,t.address.AlternativeLabel=o.AlternativeLabel,t.address.Index=o.Index,t.address.FormFieldId=o.FormFieldId,t.address.Type="ADDRESS",a.FieldName?t.state={FieldSettings:{Type:""},UrlParameterName:null,IsDatabaseRequired:!1,IsRequired:!1,IsReadOnly:!1,LabelLayout:"",Index:null,IsHidden:!1,DefaultValue:null,DefaultLabel:"",AlternativeLabel:"",Placeholder:null,Type:"",FieldName:null,FormFieldId:""}:t.state="",n.FieldName?t.city={FieldSettings:{Type:""},UrlParameterName:null,IsDatabaseRequired:!1,IsRequired:!1,IsReadOnly:!1,LabelLayout:"",Index:null,IsHidden:!1,DefaultValue:null,DefaultLabel:"",AlternativeLabel:"",Placeholder:null,Type:"",FieldName:null,FormFieldId:""}:t.city="",l.FieldName?t.street={FieldSettings:{Type:""},UrlParameterName:null,IsDatabaseRequired:!1,IsRequired:!1,IsReadOnly:!1,LabelLayout:"",Index:null,IsHidden:!1,DefaultValue:null,DefaultLabel:"",AlternativeLabel:"",Placeholder:null,Type:"",FieldName:null,FormFieldId:""}:t.street="";const r=(e,t)=>{t.FieldName&&(e.FieldSettings.Display=t.Display,e.DefaultLabel=t.Label,e.DefaultValue=t.DefaultValue,e.AlternativeLabel=t.FieldLabel,e.FieldName=t.FieldName,e.FieldSettings.Type=t.FieldSettings.Type,e.Type=t.Type,e.FormFieldId=t.FormFieldId)},c=(e,t)=>{e&&(e.IsRequired=t.IsRequired,e.IsHidden=t.IsHidden,e.IsReadOnly=t.IsReadOnly)};r(t.state,a),r(t.city,n),r(t.street,l),c(t.state,o),c(t.city,o),c(t.street,o),s.push(t)}}for(let e=0;e<i.length;e++){ee()(t).call(t,i[e],1);let o=s[e];ee()(t).call(t,i[e],0,o.address),o.state&&t.push(o.state),o.city&&t.push(o.city),o.street&&t.push(o.street)}return t},changeAddressDisplay(e,t){let s=e.FieldSettings.AddressFields;if(s[t].Display=!s[t].Display,"State"===t)if(s.State.Display)for(const e of P()(Ye))this.addressStateDefaultOptionData.options.push({Name:e,value:e});else s.City.Display=!1,s.State.DefaultValue="",this.addressStateDefaultOptionData.options=[],this.addressStateDefaultOptionData.currentOptions=[],this.addressCityDefaultOptionData.options=[],this.addressCityDefaultOptionData.currentOptions=[],s.City.DefaultValue="";else if("City"===t)if(s.City.Display){if(s.State.Display&&s.State.DefaultValue){const e=Ye[s.State.DefaultValue];for(const t of e)this.addressCityDefaultOptionData.options.push({Name:t,value:t})}}else this.addressCityDefaultOptionData.options=[],this.addressCityDefaultOptionData.currentOptions=[],s.City.DefaultValue=""},setVerificationCodeComponentSettings(){this.$set(this.currentSetItem.FieldSettings,"VerificationCodeComponentSettings",{Label:this.$t("VerificationCode"),SendButtonLabel:this.$t("sendCode"),PlaceholderText:this.$t("enterCode"),ResendButtonLabel:this.$t("resendCode")})},onClickVerificationSettings(){this.$refs.verificationCodeSettings.open(this.currentSetItem.FieldSettings.VerificationCodeComponentSettings)},onVerificationCodeSettingsConfirm(e){this.currentSetItem.FieldSettings.VerificationCodeComponentSettings=JSON.parse(o()(e))}},beforeDestroy(){document.head.removeChild(this.customStyleNode)}},Ze=(s("E/wY"),s("m7q8")),Xe=Object(I.a)(Ge,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"charket-form-new"},[s("div",{staticClass:"slds-border_bottom slds-grid slds-grid_align-spread form-new-header"},[s("div",{staticClass:"slds-grid header-left"},[s("div",{staticClass:"back-icon down-btn",on:{click:function(t){return e.backToList()}}},[s("icon",{attrs:{name:"back","class-name":"down-icon",width:"20px",height:"20px","charket-icon":""}})],1),e._v(" "),s("span",{staticClass:"page-title-line"}),e._v(" "),s("div",{staticClass:"form-name-area",class:{"show-input-left":e.isEdittingName},on:{click:function(t){return e.editFormNameData()}}},[s("input",{directives:[{name:"show",rawName:"v-show",value:e.isEdittingName,expression:"isEdittingName"},{name:"model",rawName:"v-model",value:e.formData.Name,expression:"formData.Name"}],ref:"editFormNameInput",staticClass:"form-name-input",attrs:{type:"text"},domProps:{value:e.formData.Name},on:{click:function(e){e.stopPropagation()},change:function(t){return e.changeFormName()},input:function(t){t.target.composing||e.$set(e.formData,"Name",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isEdittingName,expression:"!isEdittingName"}],staticClass:"slds-truncate form-name-area-span"},[e._v(e._s(e.formData.Name))]),e._v(" "),e.isEdittingName?e._e():s("span",{staticClass:"down-btn"},[s("icon",{attrs:{name:"editReplyIcon","text-color":"default","class-name":"down-icon",width:"14px",height:"14px","charket-icon":""}})],1)])]),e._v(" "),e.isShowPreview?e._e():s("div",{staticClass:"slds-grid header-right"},e._l(e.createFormTabs,(function(t){return s("div",{staticClass:"slds-border_bottom create-form-tab",class:{"form-tab-active":t===e.currentTab,"slds-box":t===e.currentTab},on:{click:function(s){return e.chooseCreateFormTab(t)}}},[e._v(e._s(e.$t(t)))])})),0),e._v(" "),e.isShowPreview?s("div",{staticClass:"slds-grid preview-header-center"},[s("div",{staticClass:"slds-grid slds-grid_align-center header-type",class:{"preview-type-phone":"PHONE"===e.currentPreviewLabel},on:{click:function(t){return e.switchPreviewType("PHONE")}}},["PHONE"===e.currentPreviewLabel?s("span",[s("icon",{attrs:{name:"phone","fill-color":"#004487",width:"18px",height:"26px","charket-icon":""}})],1):e._e(),e._v(" "),"PHONE"!==e.currentPreviewLabel?s("span",[s("icon",{attrs:{name:"phone","fill-color":"#706e6b",width:"18px",height:"26px","charket-icon":""}})],1):e._e(),e._v(" "),s("p",{staticClass:"value",class:{"preview-active-value":"PHONE"===e.currentPreviewLabel}},[e._v(e._s(e.$t("phoneLabel")))])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center header-type desktop",class:{"preview-type-desktop":"DESKTOP"===e.currentPreviewLabel},on:{click:function(t){return e.switchPreviewType("DESKTOP")}}},["DESKTOP"===e.currentPreviewLabel?s("span",[s("icon",{attrs:{name:"desktop","fill-color":"#004487",width:"18px",height:"26px","charket-icon":""}})],1):e._e(),e._v(" "),"DESKTOP"!==e.currentPreviewLabel?s("span",[s("icon",{attrs:{name:"desktop","fill-color":"#706e6b",width:"18px",height:"26px","charket-icon":""}})],1):e._e(),e._v(" "),s("p",{staticClass:"value",class:{"preview-active-value":"DESKTOP"===e.currentPreviewLabel}},[e._v(e._s(e.$t("desktopLabel")))])])]):e._e(),e._v(" "),e.isShowPreview?s("div",{staticClass:"preview-header-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.closePreviewForm}},[e._v(e._s(e.$t("global.closeBtn")))])]):e._e()]),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isLoadingForm}}),e._v(" "),e.isLoadingForm||"editor"!==e.currentTab?e._e():s("div",{staticClass:"slds-grid form-build-area"},[s("div",{ref:"buildLeftArea",staticClass:"slds-border_right build-area-left",attrs:{id:"build-area-left"}},[s("div",{staticClass:"slds-tabs_default"},[s("ul",{staticClass:"slds-tabs_default__nav",attrs:{role:"tablist"}},[s("li",{staticClass:"slds-tabs_default__item custom-tabs-item-padding",class:{"slds-is-active":e.buildTabActive},attrs:{role:"presentation"},on:{click:function(t){return e.chooseBuild("build")}}},[s("a",{staticClass:"slds-tabs_default__link",attrs:{href:"javascript:void(0);"}},[e._v("\n              "+e._s(e.$t("build"))+"\n            ")])]),e._v(" "),s("li",{staticClass:"slds-tabs_default__item custom-tabs-item-padding",class:{"slds-is-active":!e.buildTabActive},attrs:{role:"presentation"},on:{click:function(t){return e.chooseBuild("style")}}},[s("a",{staticClass:"slds-tabs_default__link",attrs:{href:"javascript:void(0);"}},[e._v("\n              "+e._s(e.$t("style"))+"\n            ")])])])]),e._v(" "),e.buildTabActive?s("div",[s("div",{staticClass:"components-search"},[s("search-input",{attrs:{placeholder:e.$t("quickFind")},on:{focus:e.focusQuickFind,clear:e.clearSearchKey},model:{value:e.fieldsSearchKey,callback:function(t){e.fieldsSearchKey=t},expression:"fieldsSearchKey"}})],1),e._v(" "),s("div",{staticClass:"form-choose-items"},[s("div",{staticClass:"choose-items-header",class:{"choosed-field":e.showObjectField},on:{click:function(t){return e.expandChooseBox("objectFields")}}},[s("span",{staticClass:"arrow-icon",class:{"arrow-down":e.showObjectField}},[s("icon",{attrs:{name:"chevronright","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}})],1),e._v("\n            "+e._s(e.form.MasterObjectLabel+e.$t("global.space")+e.$t("fieldsLabel"))+"\n          ")]),e._v(" "),s("div",{staticClass:"choose-items-content",style:{height:e.fieldsBoxHeight}},[s("div",{staticClass:"slds-grid slds-wrap slds-grid_align-spread choose-items-content-padding"},e._l(e.objectFields,(function(t){return s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.fieldDetail(t),expression:"fieldDetail(item)"}],key:t.Value.FieldName,staticClass:"common-choose-item"},[s("div",{staticClass:"slds-box slds-grid item-drag",class:{"drag-inactive":t.Value.IsSelected},on:{mousedown:function(s){return e.dragAction(s,t,"put")}}},[s("span",{staticClass:"item-drag-icon"},[s("icon",{attrs:{name:e.getIconName(t.Value.FieldSettings.Type),"fill-color":"#706e6b",width:"16px",height:"16px","charket-icon":""}})],1),e._v(" "),s("span",{staticClass:"slds-truncate"},[e._v(e._s(t.Label))]),e._v(" "),s("div",{staticClass:"covered-div",on:{mousedown:function(s){return e.checkMove(s,t.Value.IsSelected)}}})])])})),0)])]),e._v(" "),s("div",{staticClass:"form-choose-items-none"},[s("div",{staticClass:"choose-items-header",class:{"choosed-field":e.showCommonItems,"no-choosed-field-bottom":e.showObjectField},on:{click:function(t){return e.expandChooseBox("commonItems")}}},[s("span",{staticClass:"arrow-icon",class:{"arrow-down":e.showCommonItems}},[s("icon",{attrs:{name:"chevronright","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}})],1),e._v("\n            "+e._s(e.$t("commonItems"))+"\n          ")]),e._v(" "),s("transition",{attrs:{name:"expand"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommonItems,expression:"showCommonItems"}],staticClass:"choose-items-content common-item-section"},[s("div",{staticClass:"slds-grid slds-wrap slds-grid_align-spread choose-items-content-padding"},e._l(e.commonItems,(function(t){return s("div",{staticClass:"common-choose-item"},[s("div",{staticClass:"slds-box slds-grid item-drag",on:{mousedown:function(s){return e.dragAction(s,t,"put")}}},[s("span",{staticClass:"item-drag-icon"},[s("icon",{attrs:{name:e.getIconName(t.Value.FieldSettings.Type),"fill-color":"#706e6b",width:"16px",height:"16px","charket-icon":""}})],1),e._v(" "),s("span",{staticClass:"slds-truncate"},[e._v(e._s(t.Label))]),e._v(" "),s("div",{staticClass:"covered-div"})])])})),0)])])],1)]):e._e(),e._v(" "),e.buildTabActive?e._e():s("div",{staticClass:"form-styles-area"},[s("form-style",{attrs:{"customize-styles":e.form.Styles,advanced:e.form.AdvancedStyles},on:{"update-styles":e.updateStyles}})],1)]),e._v(" "),s("div",{ref:"buildAreaMiddle",staticClass:"slds-col build-area-middle"},[s("div",{staticClass:"preview-button"},[s("button",{staticClass:"slds-button slds-button_neutral build-save-button",on:{click:e.previewForm}},[e._v(e._s(e.$t("global.previewBtn")))])]),e._v(" "),s("div",{staticClass:"slds-box slds-grid slds-grid_vertical middle-form-area",style:{"background-color":"none"===e.form.Styles.FormBg?"#efeef4":e.form.Styles.FormBg,"font-family":"Default"===e.form.Styles.PageFontFamily?"":e.form.Styles.PageFontFamily}},[s("div",{staticClass:"middle-image-banner",class:{"middle-image-banner-active":"Banner Image"===e.currentSetItem},on:{click:function(t){return e.setFormItem(t,"Banner Image")}}},[e.form.Banner?e._e():s("div",{staticClass:"slds-grid slds-grid_vertical banner-image"},[s("icon",{attrs:{name:"image",width:"28px",height:"28px","fill-color":"#706e6b"}}),e._v(" "),s("span",[e._v(e._s(e.$t("bannerImage")))])],1),e._v(" "),e.form.Banner?s("img",{attrs:{src:e.form.Banner,alt:""}}):e._e()]),e._v(" "),s("div",{staticClass:"middle-title-area",class:{"middle-title-nocontent":!e.form.Title},domProps:{textContent:e._s(e.form.Title?e.form.Title:e.$t("addATitle"))},on:{click:function(t){return e.setFormItem(t,"Title")}}}),e._v(" "),s("div",{staticClass:"middle-description-area weui-article charket-edui edui-init-style",class:{"middle-description-nocontent":!e.form.Description},domProps:{innerHTML:e._s(e.form.Description?e.form.Description:e.$t("describeYourForm"))},on:{click:e.openDescriptionEditor}}),e._v(" "),s("div",{ref:"middleFormArea",staticClass:"middle-drag-area"},e._l(e.form.FormFields,(function(t){return s("div",{staticClass:"middle-drag-item",class:{"weui-cells__title-custom":"Heading"===t.FieldSettings.Type}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"middle-drag-item-wrapper"},[s("div",{staticClass:"fields-action-cover",class:{"fields-active-cover":t===e.currentSetItem&&!e.draging},on:{mousedown:function(s){return e.dragAction(s,t,"order")}}},[t.IsDatabaseRequired?e._e():s("div",{staticClass:"form-delete-icon",on:{click:function(s){return s.stopPropagation(),e.deleteFormItem(t)},mousedown:function(e){e.stopPropagation()}}},[s("span",{staticClass:"form-icon"},[s("icon",{attrs:{name:"deleteIcon","fill-color":"#fff",width:"16px",height:"17px"}})],1)])]),e._v(" "),"Textarea"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                  "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                  "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells-custom weui-cells_form"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.DefaultValue,expression:"item.DefaultValue"}],staticClass:"weui-textarea",attrs:{maxlength:"200",placeholder:t.Placeholder,rows:"3"},domProps:{value:t.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t,"DefaultValue",s.target.value)}}})])])])]):e._e(),e._v(" "),"Checkbox"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                  "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                  "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),e._l(t.FieldSettings.Options,(function(i,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:!i.IsHidden,expression:"!option.IsHidden"}],staticClass:"weui-cells-custom weui-cells_checkbox"},[s("label",{staticClass:"weui-cell weui-check__label",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden},attrs:{for:t.FieldName+"-weui-checkbox"+o}},[s("div",{staticClass:"weui-cell__hd"},[s("input",{staticClass:"weui-check",attrs:{type:"checkbox",name:"checkbox1",id:t.FieldName+"-weui-checkbox"+o},domProps:{checked:i.IsDefaultValue}}),e._v(" "),s("i",{staticClass:"weui-icon-checked",class:{"weui-icon-has-checked":i.IsDefaultValue}})]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("p",[e._v(e._s(i.Label?i.Label:i.DefaultLabel))])])])])}))],2):e._e(),e._v(" "),"RadioButton"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                  "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                  "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells-custom weui-cells_radio"},e._l(t.FieldSettings.Options,(function(i,o){return s("label",{directives:[{name:"show",rawName:"v-show",value:!i.IsHidden,expression:"!option.IsHidden"}],staticClass:"weui-cell weui-check__label",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden},attrs:{for:t.FieldName+"-weui-radio-"+o}},[s("div",{staticClass:"weui-cell__bd"},[s("p",[e._v(e._s(i.Label?i.Label:i.DefaultLabel))])]),e._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("input",{staticClass:"weui-check",attrs:{type:"radio",name:t.FieldName,id:t.FieldName+"-weui-radio-"+o},domProps:{checked:i.IsDefaultValue}}),e._v(" "),s("span",{staticClass:"weui-icon-checked",class:{"weui-icon-has-checked":i.IsDefaultValue}})])])})),0)]):e._e(),e._v(" "),"Phone"===t.FieldSettings.Type&&!t.FieldSettings.IsSmsVerificationEnabled||"Number"===t.FieldSettings.Type||"Email"===t.FieldSettings.Type||"Text"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},["Top"===t.LabelLayout?[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                    "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                    "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DefaultValue,expression:"item.DefaultValue"}],staticClass:"weui-input",attrs:{type:"text",placeholder:t.Placeholder},domProps:{value:t.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t,"DefaultValue",s.target.value)}}})])])])]:[s("div",{staticClass:"weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor}},[e._v("\n                          "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                          "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DefaultValue,expression:"item.DefaultValue"}],staticClass:"weui-input",attrs:{type:"text",maxlength:"131072",placeholder:t.Placeholder},domProps:{value:t.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t,"DefaultValue",s.target.value)}}})])])])]],2):e._e(),e._v(" "),"Phone"===t.FieldSettings.Type&&t.FieldSettings.IsSmsVerificationEnabled?s("div",{staticClass:"form-item-wrapper"},["Top"===t.LabelLayout?[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                    "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                    "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DefaultValue,expression:"item.DefaultValue"}],staticClass:"weui-input",attrs:{type:"text",placeholder:t.Placeholder},domProps:{value:t.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t,"DefaultValue",s.target.value)}}})])]),e._v(" "),s("div",{staticClass:"weui-cell weui-cells__group_form",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input slds-truncate",attrs:{type:"text",pattern:"[0-9]*",placeholder:t.FieldSettings.VerificationCodeComponentSettings.PlaceholderText,maxlength:"6"}})]),e._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("button",{staticClass:"weui-btn weui-btn_default weui-vcode-btn slds-truncate verification-code-button"},[e._v(e._s(t.FieldSettings.VerificationCodeComponentSettings.SendButtonLabel))])])])])]:[s("div",{staticClass:"weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor}},[e._v("\n                          "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                          "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.DefaultValue,expression:"item.DefaultValue"}],staticClass:"weui-input",attrs:{type:"number",pattern:"[0-9]*",placeholder:t.Placeholder},domProps:{value:t.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t,"DefaultValue",s.target.value)}}})])]),e._v(" "),s("div",{staticClass:"weui-cell weui-cells__group_form",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor}},[e._v("\n                          "+e._s(t.FieldSettings.VerificationCodeComponentSettings.Label)+"\n                        ")])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input slds-truncate",attrs:{type:"text",pattern:"[0-9]*",placeholder:t.FieldSettings.VerificationCodeComponentSettings.PlaceholderText,maxlength:"6"}})]),e._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("button",{staticClass:"weui-btn weui-btn_default weui-vcode-btn slds-truncate"},[e._v(e._s(t.FieldSettings.VerificationCodeComponentSettings.SendButtonLabel))])])])])]],2):e._e(),e._v(" "),"Datetime"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},["Top"===t.LabelLayout?[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                    "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                    "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input",attrs:{type:"datetime-local",placeholder:t.Placeholder},domProps:{value:e.setDefaultTimeValue(t.FieldSettings.Type,t.DefaultValue)}})])])])]:[s("div",{staticClass:"weui-cells-custom weui-cells_form"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                          "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                          "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input",attrs:{type:"datetime-local",placeholder:t.Placeholder},domProps:{value:e.setDefaultTimeValue(t.FieldSettings.Type,t.DefaultValue)}})])])])]],2):e._e(),e._v(" "),"Date"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},["Top"===t.LabelLayout?[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                    "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                    "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells weui-cells-custom"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input",attrs:{type:"date",placeholder:t.Placeholder},domProps:{value:e.setDefaultTimeValue(t.FieldSettings.Type,t.DefaultValue)}})])])])]:[s("div",{staticClass:"weui-cells-custom weui-cells_form"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                          "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                          "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("input",{staticClass:"weui-input",attrs:{type:"date",placeholder:t.Placeholder},domProps:{value:e.setDefaultTimeValue(t.FieldSettings.Type,t.DefaultValue)}})])])])]],2):e._e(),e._v(" "),"Picklist"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},["Top"===t.LabelLayout?[s("div",{staticClass:"weui-cells__title",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden},style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v("\n                    "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                    "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{staticClass:"weui-cells-custom",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell weui-cell_select"},[s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select",attrs:{name:"select1"}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.getOptionLabel(t)))]),e._v(" "),e._l(t.FieldSettings.Options,(function(t){return s("option",{attrs:{value:"option.Label"}},[e._v(e._s(t.Label))])}))],2)])])])]:[s("div",{staticClass:"weui-cell weui-cell_select weui-cell_select-after picklist-field",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":"none"===e.form.Styles.LabelColor?"#000000":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                        "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                        "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select",attrs:{name:"select1"}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.getOptionLabel(t)))]),e._v(" "),e._l(t.FieldSettings.Options,(function(t){return s("option",{attrs:{value:"option.Label"}},[e._v(e._s(t.Label))])}))],2)])])]],2):e._e(),e._v(" "),"Heading"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},[s("div",{staticClass:"weui-cells__title",style:{"font-size":e.form.Styles.TitleFontSize,color:"none"===e.form.Styles.TitleColor?"#999999":e.form.Styles.TitleColor}},[e._v(e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel))])]):e._e(),e._v(" "),"DecisionBox"===t.FieldSettings.Type?s("div",{staticClass:"form-item-wrapper"},[s("label",{staticClass:"weui-agree",attrs:{for:"weuiAgree"}},[s("input",{staticClass:"weui-agree__checkbox",attrs:{id:"weuiAgree",type:"checkbox"},domProps:{checked:"1"===t.DefaultValue}}),e._v(" "),s("span",{staticClass:"weui-agree__text",domProps:{innerHTML:e._s(t.FieldSettings.Text)}}),e._v(" "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]):e._e(),e._v(" "),"Address"===t.FieldSettings.Type&&"Top"===t.LabelLayout?s("div",{staticClass:"form-item-wrapper"},[s("div",{staticClass:"weui-cells__title",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden},style:{"font-size":e.form.Styles.TitleFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.TitleColor}},[e._v("\n                  "+e._s(t.AlternativeLabel?t.AlternativeLabel:t.DefaultLabel)+"\n                  "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.FieldSettings.AddressFields.State.Display,expression:"item.FieldSettings.AddressFields.State.Display"}],staticClass:"weui-cell weui-cell_select weui-cell_select-after picklist-field",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                      "+e._s(t.FieldSettings.AddressFields.State.Label)+"\n                      "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select"},[s("option",[e._v(e._s(t.FieldSettings.AddressFields.State.DefaultValue||"请选择省份"))])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.FieldSettings.AddressFields.City.Display,expression:"item.FieldSettings.AddressFields.City.Display"}],staticClass:"weui-cell weui-cell_select weui-cell_select-after picklist-field",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                      "+e._s(t.FieldSettings.AddressFields.City.Label)+"\n                      "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select"},[s("option",[e._v(e._s(t.FieldSettings.AddressFields.City.DefaultValue||"请选择城市"))])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.FieldSettings.AddressFields.Street.Display,expression:"item.FieldSettings.AddressFields.Street.Display"}],staticClass:"weui-cells-custom address-cells"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.LabelColor}},[e._v("\n                        "+e._s(t.FieldSettings.AddressFields.Street.Label)+"\n                        "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell_hd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FieldSettings.AddressFields.Street.DefaultValue,expression:"item.FieldSettings.AddressFields.Street.DefaultValue"}],staticClass:"weui-textarea address-textarea",attrs:{maxlength:"200",rows:"2",cols:"1000"},domProps:{value:t.FieldSettings.AddressFields.Street.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t.FieldSettings.AddressFields.Street,"DefaultValue",s.target.value)}}})])])])]):e._e(),e._v(" "),"Address"===t.FieldSettings.Type&&"Hidden"===t.LabelLayout?s("div",{staticClass:"form-item-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.FieldSettings.AddressFields.State.Display||t.FieldSettings.AddressFields.City.Display,expression:"item.FieldSettings.AddressFields.State.Display || item.FieldSettings.AddressFields.City.Display"}],staticClass:"weui-cell weui-cell_select weui-cell_select-after picklist-field",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.LabelColor},attrs:{for:""}},[e._v("\n                      "+e._s(t.AlternativeLabel||t.DefaultLabel||e.$t("address"))+"\n                      "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("select",{staticClass:"weui-select"},[s("option",[e._v(e._s(t.FieldSettings.AddressFields.State.DefaultValue)+" "+e._s(t.FieldSettings.AddressFields.City.DefaultValue===t.FieldSettings.AddressFields.State.DefaultValue?"":t.FieldSettings.AddressFields.City.DefaultValue))])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.FieldSettings.AddressFields.Street.Display,expression:"item.FieldSettings.AddressFields.Street.Display"}],staticClass:"weui-cells-custom address-cells"},[s("div",{staticClass:"weui-cell",class:{readOnlyLabel:t.IsReadOnly,hideLabel:t.IsHidden}},[t.IsRequired&&"None"===e.form.Styles.RequiredIcon?s("span",{staticClass:"item-require-icon"},[e._v("*")]):e._e(),e._v(" "),s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",style:{"font-size":e.form.Styles.LabelFontSize,color:t.IsReadOnly||t.IsHidden?"#b2b2b2":e.form.Styles.LabelColor}},[e._v("\n                        "+e._s(t.FieldSettings.AddressFields.Street.Label)+"\n                        "),"None"!==e.form.Styles.RequiredIcon&&t.IsRequired?s("span",{style:{color:"Asterisk"===e.form.Styles.RequiredIcon?"#9faab5":"#c23934"}},[e._v("*")]):e._e()])]),e._v(" "),s("div",{staticClass:"weui-cell_hd"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FieldSettings.AddressFields.Street.DefaultValue,expression:"item.FieldSettings.AddressFields.Street.DefaultValue"}],staticClass:"weui-textarea address-textarea",attrs:{maxlength:"200",rows:"2",cols:"1000"},domProps:{value:t.FieldSettings.AddressFields.Street.DefaultValue},on:{input:function(s){s.target.composing||e.$set(t.FieldSettings.AddressFields.Street,"DefaultValue",s.target.value)}}})])])])]):e._e()])])})),0),e._v(" "),s("div",{staticClass:"weui-btn-area edit-form-btn",on:{click:function(t){return e.setFormItem(t,"Button")}}},[e.form.ButtonSettings?s("div",{staticClass:"weui-btn weui-btn_block weui-btn_primary",style:{"background-color":"none"===e.form.Styles.ButtonBg?"#1aad19":e.form.Styles.ButtonBg,color:"none"===e.form.Styles.ButtonColor?"#ffffff":e.form.Styles.ButtonColor,"font-size":e.form.Styles.ButtonFontSize}},[e._v(e._s(e.form.ButtonSettings.Label))]):e._e()])])]),e._v(" "),s("div",{staticClass:"slds-border_left slds-grid slds-grid_vertical build-area-right"},[s("div",{staticClass:"build-right-header"},[e._v("\n        "+e._s(e.buidRightTitle)+"\n        "),e.canChangeType?s("div",{staticClass:"change-type-container",on:{click:function(t){return t.stopPropagation(),e.showChangeTypeList(t)}}},[s("icon",{attrs:{name:"changeIcon","fill-color":"#706e6b",width:"16px",height:"16px"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowChangeTypeList,expression:"isShowChangeTypeList"}],staticClass:"change-type-list"},e._l(e.changeTypeOptions,(function(t){return s("div",{staticClass:"change-type-item",on:{click:function(s){return s.stopPropagation(),e.changeCurItemType(t)}}},[s("span",{staticClass:"change-type-icon"},[s("icon",{attrs:{name:e.getIconName(t),"fill-color":"#706e6b",width:"16px",height:"16px","charket-icon":""}})],1),e._v(" "),s("span",{staticClass:"slds-truncate"},[e._v(e._s(e.getTypeOptionLabel(t)))])])})),0)],1):e._e()]),e._v(" "),s("div",{ref:"rightContentBody",staticClass:"slds-col build-right-content"},["Banner Image"===e.currentSetItem?s("div",{staticClass:"banner-image-set"},[s("label",{attrs:{for:""}},[e._v(e._s(e.$t("url")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.Banner,expression:"form.Banner"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"5000"},domProps:{value:e.form.Banner},on:{input:function(t){t.target.composing||e.$set(e.form,"Banner",t.target.value)}}})]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&"Heading"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"banner-image-set"},[s("Label",{attrs:{for:""}},[e._v(e._s(e.$t("heading")))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.AlternativeLabel,expression:"currentSetItem.AlternativeLabel"}],staticClass:"slds-textarea",attrs:{name:"",id:"",cols:"30",rows:"10",maxlength:"255"},domProps:{value:e.currentSetItem.AlternativeLabel},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"AlternativeLabel",t.target.value)}}})],1):e._e(),e._v(" "),"Button"===e.currentSetItem?s("div",{staticClass:"banner-image-set"},[s("label",{attrs:{for:""}},[e._v(e._s(e.$t("label")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.ButtonSettings.Label,expression:"form.ButtonSettings.Label"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.form.ButtonSettings.Label},on:{input:function(t){t.target.composing||e.$set(e.form.ButtonSettings,"Label",t.target.value)}}})]):e._e(),e._v(" "),"Title"===e.currentSetItem?s("div",{staticClass:"banner-image-set"},[s("label",{attrs:{for:""}},[e._v(e._s(e.$t("title")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.Title,expression:"form.Title"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.form.Title},on:{input:function(t){t.target.composing||e.$set(e.form,"Title",t.target.value)}}})]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&"Heading"!==e.currentSetItem.FieldSettings.Type&&"Address"!==e.currentSetItem.FieldSettings.Type&&"DecisionBox"!==e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical common-set"},[s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("objectField")))]),e._v(" "),s("div",{staticClass:"choose-fields-picklist"},[s("input-select",{attrs:{currents:e.fieldsOptionData.currentOptions,"is-disabled":0===e.fieldsOptionData.options.length||e.currentSetItem.IsDatabaseRequired,type:"Fields"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("fieldLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.AlternativeLabel,expression:"currentSetItem.AlternativeLabel"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.AlternativeLabel},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"AlternativeLabel",t.target.value)}}})]),e._v(" "),"Picklist"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("placeholderChoice")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.Placeholder,expression:"currentSetItem.Placeholder"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.Placeholder},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"Placeholder",t.target.value)}}})]):e._e(),e._v(" "),"Textarea"===e.currentSetItem.FieldSettings.Type||"Text"===e.currentSetItem.FieldSettings.Type||"Phone"===e.currentSetItem.FieldSettings.Type||"Email"===e.currentSetItem.FieldSettings.Type||"Number"===e.currentSetItem.FieldSettings.Type||"Date"===e.currentSetItem.FieldSettings.Type||"Datetime"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("placeholderText")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.Placeholder,expression:"currentSetItem.Placeholder"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.Placeholder},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"Placeholder",t.target.value)}}})]):e._e(),e._v(" "),"Textarea"===e.currentSetItem.FieldSettings.Type||"Text"===e.currentSetItem.FieldSettings.Type||"Phone"===e.currentSetItem.FieldSettings.Type||"Email"===e.currentSetItem.FieldSettings.Type||"Number"===e.currentSetItem.FieldSettings.Type||"Date"===e.currentSetItem.FieldSettings.Type||"Datetime"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("defaultValue")))]),e._v(" "),"Textarea"===e.currentSetItem.FieldSettings.Type?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.DefaultValue,expression:"currentSetItem.DefaultValue"}],staticClass:"slds-textarea",attrs:{cols:"30",rows:"10",maxlength:"131072"},domProps:{value:e.currentSetItem.DefaultValue},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"DefaultValue",t.target.value)}}}):e._e(),e._v(" "),"Text"===e.currentSetItem.FieldSettings.Type||"Phone"===e.currentSetItem.FieldSettings.Type||"Email"===e.currentSetItem.FieldSettings.Type||"Number"===e.currentSetItem.FieldSettings.Type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.DefaultValue,expression:"currentSetItem.DefaultValue"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"131072"},domProps:{value:e.currentSetItem.DefaultValue},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"DefaultValue",t.target.value)}}}):e._e(),e._v(" "),"Date"===e.currentSetItem.FieldSettings.Type||"Datetime"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"default-value-date"},[s("common-date-picker",{attrs:{"custom-settings":e.datePickerSettings,"auto-set-position":!1},on:{"get-time":function(t){return e.updateDateDefaultValue(t)}}})],1):e._e()]):e._e(),e._v(" "),"Checkbox"===e.currentSetItem.FieldSettings.Type||"Picklist"===e.currentSetItem.FieldSettings.Type||"RadioButton"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("choicesLabel")))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.canHideOptions.length>0,expression:"canHideOptions.length > 0"}],staticClass:"choices-item-view choices-all-item-view",on:{click:e.toggleAllOptionsHide}},[s("span",{staticClass:"toggle-hide-button"},[e._v(e._s(e.isAllOptionsHide?e.$t("showAllLabel"):e.$t("hideAllLabel")))])]),e._v(" "),s("ul",{ref:"choiceList",staticClass:"slds-grid slds-grid_vertical choices-list",class:{"unselect-text":!!e.currentDragOption}},[e._l(e.currentSetItem.FieldSettings.Options,(function(t,i){return s("li",{staticClass:"slds-grid choices-item",class:{"current-drag-option":e.currentDragOption===t}},[s("div",{staticClass:"choices-item-info drag-icon",on:{"!mousedown":function(s){return e.dragOptionStart(e.currentSetItem.FieldSettings.Options,t,s)}}},[s("icon",{attrs:{name:"rows",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.Value},expression:"{content: option.Value}"}],staticClass:"choices-item-info"},[s("icon",{attrs:{name:"infoFill",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{staticClass:"slds-grid slds-col choices-item-content"},["Checkbox"!==e.currentSetItem.FieldSettings.Type?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("setAsDefaultChoice")},expression:"{content: $t('setAsDefaultChoice')}"}],staticClass:"slds-radio",on:{"!click":function(s){return s.preventDefault(),e.setDefaultRadio(t)}}},[s("input",{attrs:{type:"radio",disabled:t.IsHidden,name:"options",value:"true",id:e.currentSetItem.FieldName+"-form-choice-"+i},domProps:{checked:t.IsDefaultValue}}),e._v(" "),s("label",{staticClass:"slds-radio__label",attrs:{for:e.currentSetItem.FieldName+"-form-choice-"+i}},[s("span",{staticClass:"slds-radio_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"})])]):e._e(),e._v(" "),"Checkbox"===e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.IsDefaultValue,expression:"option.IsDefaultValue"}],attrs:{type:"checkbox",name:"choices",id:e.currentSetItem.FieldName+"-option-checkbox-"+i,value:"on"},domProps:{checked:Array.isArray(t.IsDefaultValue)?e._i(t.IsDefaultValue,"on")>-1:t.IsDefaultValue},on:{change:function(s){var i=t.IsDefaultValue,o=s.target,a=!!o.checked;if(Array.isArray(i)){var n=e._i(i,"on");o.checked?n<0&&e.$set(t,"IsDefaultValue",i.concat(["on"])):n>-1&&e.$set(t,"IsDefaultValue",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(t,"IsDefaultValue",a)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:e.currentSetItem.FieldName+"-option-checkbox-"+i}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"})])]):e._e(),e._v(" "),t.IsCustomOption?s("div",{staticClass:"slds-grid slds-grid_align-spread custom-choice-set-inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.Label,expression:"option.Label"}],staticClass:"slds-input",attrs:{placeholder:e.$t("label"),type:"text",maxlength:"255"},domProps:{value:t.Label},on:{input:function(s){s.target.composing||e.$set(t,"Label",s.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.Value,expression:"option.Value"}],staticClass:"slds-input",attrs:{placeholder:e.$t("value"),type:"text",maxlength:"255"},domProps:{value:t.Value},on:{focus:function(s){return e.prefillValue(t,s)},input:function(s){s.target.composing||e.$set(t,"Value",s.target.value)}}})]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.Label,expression:"option.Label"}],staticClass:"slds-input",attrs:{disabled:t.IsHidden,type:"text",maxlength:"255"},domProps:{value:t.Label},on:{input:function(s){s.target.composing||e.$set(t,"Label",s.target.value)}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"BOOLEAN"!==e.currentSetItem.Type&&!t.IsCustomOption,expression:"currentSetItem.Type !== 'BOOLEAN' && !option.IsCustomOption"},{name:"tooltip",rawName:"v-tooltip",value:t.IsHidden?e.$t("showLabel"):e.$t("hideLabel"),expression:"option.IsHidden? $t('showLabel') : $t('hideLabel')"}],staticClass:"choices-item-view",on:{click:function(s){return e.changeRadioOptionStatus(t)}}},[s("icon",{attrs:{name:t.IsHidden?"previewIcon":"hideIcon","fill-color":"#706e6b",width:"18px",height:"16px"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.IsCustomOption,expression:"option.IsCustomOption"},{name:"tooltip",rawName:"v-tooltip",value:"delete",expression:"'delete'"}],staticClass:"choices-item-view",on:{click:function(s){return e.deleteCustomChoice(t)}}},[s("icon",{attrs:{name:"customDelete","fill-color":"#706e6b",width:"18px",height:"16px"}})],1)])})),e._v(" "),e.currentDragOption?s("li",{staticClass:"slds-grid fake-drag-option",style:{top:e.curDragOptionTop,left:e.curDragOptionLeft}},[s("div",{staticClass:"choices-item-info"},[s("icon",{attrs:{name:"rows",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{staticClass:"choices-item-info"},[s("icon",{attrs:{name:"infoFill",width:"13px",height:"13px","fill-color":"#706e6b"}})],1),e._v(" "),s("div",{staticClass:"slds-grid slds-col choices-item-content"},["Checkbox"!==e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-radio"},[s("input",{attrs:{type:"radio",disabled:e.currentDragOption.IsHidden,name:"options",value:"true"},domProps:{checked:e.currentDragOption.IsDefaultValue}}),e._v(" "),e._m(0)]):s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentDragOption.IsDefaultValue,expression:"currentDragOption.IsDefaultValue"}],attrs:{type:"checkbox",name:"choices",value:"on"},domProps:{checked:Array.isArray(e.currentDragOption.IsDefaultValue)?e._i(e.currentDragOption.IsDefaultValue,"on")>-1:e.currentDragOption.IsDefaultValue},on:{change:function(t){var s=e.currentDragOption.IsDefaultValue,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentDragOption,"IsDefaultValue",s.concat(["on"])):a>-1&&e.$set(e.currentDragOption,"IsDefaultValue",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentDragOption,"IsDefaultValue",o)}}}),e._v(" "),e._m(1)]),e._v(" "),e.currentDragOption.IsCustomOption?s("div",{staticClass:"slds-grid slds-grid_align-spread custom-choice-set-inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentDragOption.Label,expression:"currentDragOption.Label"}],staticClass:"slds-input",attrs:{placeholder:e.$t("label"),type:"text"},domProps:{value:e.currentDragOption.Label},on:{input:function(t){t.target.composing||e.$set(e.currentDragOption,"Label",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentDragOption.Value,expression:"currentDragOption.Value"}],staticClass:"slds-input",attrs:{placeholder:e.$t("value"),type:"text"},domProps:{value:e.currentDragOption.Value},on:{input:function(t){t.target.composing||e.$set(e.currentDragOption,"Value",t.target.value)}}})]):s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentDragOption.Label,expression:"currentDragOption.Label"}],staticClass:"slds-input",attrs:{disabled:e.currentDragOption.IsHidden,type:"text"},domProps:{value:e.currentDragOption.Label},on:{input:function(t){t.target.composing||e.$set(e.currentDragOption,"Label",t.target.value)}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"BOOLEAN"!==e.currentSetItem.Type&&!e.currentDragOption.IsCustomOption,expression:"currentSetItem.Type !== 'BOOLEAN' && !currentDragOption.IsCustomOption"}],staticClass:"choices-item-view"},[s("icon",{attrs:{name:e.currentDragOption.IsHidden?"hideIcon":"previewIcon","fill-color":"#706e6b",width:"18px",height:"16px"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.currentDragOption.IsCustomOption,expression:"currentDragOption.IsCustomOption"}],staticClass:"choices-item-view"},[s("icon",{attrs:{name:"customDelete","fill-color":"#706e6b",width:"18px",height:"16px"}})],1)]):e._e()],2),e._v(" "),e.currentSetItem.Type&&"BOOLEAN"!==e.currentSetItem.Type?s("div",{staticClass:"slds-grid slds-grid_align-end add-choice-button"},[s("span",{staticClass:"add-button-text add-button-text-line",on:{click:function(t){return e.addAnotherChoice()}}},[e._v(e._s(e.$t("addAnotherChoice")))]),e._v(" "),s("span",{staticClass:"add-button-text",on:{click:function(t){return e.editChoices()}}},[e._v(e._s(e.$t("editChoices")))])]):e._e()]):e._e(),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("label",{staticClass:"each-label"},[s("abbr",{directives:[{name:"show",rawName:"v-show",value:"Url Parameter"===e.currentSetItem.FieldSettings.PrefillType,expression:"currentSetItem.FieldSettings.PrefillType === 'Url Parameter'"}],staticClass:"slds-required"},[e._v("* ")]),e._v("\n                "+e._s(e.$t("preFillTypeLabel"))+"\n              ")]),e._v(" "),s("ld-tooltip",{staticClass:"down-btn prefill-type-tooltip"},[s("p",{domProps:{innerHTML:e._s(e.$t("prefillTypeTooltip"))}}),e._v(" "),s("icon",{attrs:{slot:"activator",name:"info","class-name":"slds-icon_xx-small down-icon"},slot:"activator"})],1)],1),e._v(" "),s("div",{staticClass:"slds-grid choose-url-parameter"},[s("div",{staticClass:"url-parameter-dropdown"},[s("input-select",{attrs:{currents:e.parameterOptionData.currentOptions,type:"Parameter"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1),e._v(" "),s("div",{staticClass:"slds-col slds-grid slds-grid_vertical"},[s("input",{directives:[{name:"show",rawName:"v-show",value:"Url Parameter"===e.currentSetItem.FieldSettings.PrefillType,expression:"currentSetItem.FieldSettings.PrefillType === 'Url Parameter'"},{name:"model",rawName:"v-model",value:e.currentSetItem.UrlParameterName,expression:"currentSetItem.UrlParameterName"}],staticClass:"slds-input",class:{"error-border":e.fieldErrorMessage},attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.UrlParameterName},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"UrlParameterName",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:"Fixed Value"===e.currentSetItem.FieldSettings.PrefillType,expression:"currentSetItem.FieldSettings.PrefillType === 'Fixed Value'"},{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.FixedValue,expression:"currentSetItem.FieldSettings.FixedValue"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.FieldSettings.FixedValue},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem.FieldSettings,"FixedValue",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!e.currentSetItem.FieldSettings.PrefillType||"None"===e.currentSetItem.FieldSettings.PrefillType,expression:"!currentSetItem.FieldSettings.PrefillType || currentSetItem.FieldSettings.PrefillType === 'None'"}],staticClass:"slds-input",attrs:{disabled:"",type:"text"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.fieldErrorMessage,expression:"fieldErrorMessage"}],staticClass:"field-error-msg"},[e._v("\n                  "+e._s(e.fieldErrorMessage)+"\n                ")])])])])]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&"Address"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical common-set"},[s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label"},[e._v(e._s(e.$t("fieldLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.AlternativeLabel,expression:"currentSetItem.AlternativeLabel"}],staticClass:"slds-input address-label-value",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.AlternativeLabel},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem,"AlternativeLabel",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Hidden"===e.currentSetItem.LabelLayout?e.$t("showLabel"):e.$t("hideLabel"),expression:"currentSetItem.LabelLayout === 'Hidden' ? $t('showLabel') : $t('hideLabel')"}],staticClass:"address-label-icon",on:{click:function(t){return e.changeAddressLabel(e.currentSetItem)}}},[s("icon",{attrs:{name:"Top"===e.currentSetItem.LabelLayout?"previewIcon":"hideIcon","fill-color":"#706e6b",width:"18px",height:"16px"}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label"},[e._v(e._s(e.$t("includeLabel")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center address-section"},[s("span",{staticClass:"slds-checkbox address-checkbox"},[s("input",{attrs:{type:"checkbox",id:"field-checkbox-state",value:"on"},domProps:{checked:e.currentSetItem.FieldSettings.AddressFields.State.Display},on:{click:function(t){return e.changeAddressDisplay(e.currentSetItem,"State")}}}),e._v(" "),e._m(2)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.AddressFields.State.Label,expression:"currentSetItem.FieldSettings.AddressFields.State.Label"}],staticClass:"slds-input address-value",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.FieldSettings.AddressFields.State.Label},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem.FieldSettings.AddressFields.State,"Label",t.target.value)}}}),e._v(" "),s("input-select",{attrs:{currents:e.addressOptionData.currentStateOptions,"default-label":e.$t("chooseFieldLabel"),type:"State"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center address-section"},[s("span",{staticClass:"slds-checkbox address-checkbox"},[s("input",{attrs:{type:"checkbox",id:"field-checkbox-city",value:"on"},domProps:{checked:e.currentSetItem.FieldSettings.AddressFields.City.Display},on:{click:function(t){return e.changeAddressDisplay(e.currentSetItem,"City")}}}),e._v(" "),e._m(3)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.AddressFields.City.Label,expression:"currentSetItem.FieldSettings.AddressFields.City.Label"}],staticClass:"slds-input address-value",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.FieldSettings.AddressFields.City.Label},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem.FieldSettings.AddressFields.City,"Label",t.target.value)}}}),e._v(" "),s("input-select",{attrs:{currents:e.addressOptionData.currentCityOptions,"default-label":e.$t("chooseFieldLabel"),type:"City"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center address-section"},[s("span",{staticClass:"slds-checkbox address-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.AddressFields.Street.Display,expression:"currentSetItem.FieldSettings.AddressFields.Street.Display"}],attrs:{type:"checkbox",id:"field-checkbox-street",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.FieldSettings.AddressFields.Street.Display)?e._i(e.currentSetItem.FieldSettings.AddressFields.Street.Display,"on")>-1:e.currentSetItem.FieldSettings.AddressFields.Street.Display},on:{change:function(t){var s=e.currentSetItem.FieldSettings.AddressFields.Street.Display,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem.FieldSettings.AddressFields.Street,"Display",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem.FieldSettings.AddressFields.Street,"Display",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem.FieldSettings.AddressFields.Street,"Display",o)}}}),e._v(" "),e._m(4)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.AddressFields.Street.Label,expression:"currentSetItem.FieldSettings.AddressFields.Street.Label"}],staticClass:"slds-input address-value",attrs:{type:"text",maxlength:"255"},domProps:{value:e.currentSetItem.FieldSettings.AddressFields.Street.Label},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem.FieldSettings.AddressFields.Street,"Label",t.target.value)}}}),e._v(" "),s("input-select",{attrs:{currents:e.addressOptionData.currentStreetOptions,"default-label":e.$t("chooseFieldLabel"),type:"Street"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label"},[e._v(e._s(e.$t("defaultLabel")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center address-container"},[s("p",[e._v(e._s(e.currentSetItem.FieldSettings.AddressFields.State.Label))]),e._v(" "),s("div",{staticClass:"address-label"},[s("input-select",{attrs:{currents:e.addressStateDefaultOptionData.currentOptions,"default-label":e.$t("noneLabel"),type:"StateDefault","is-disabled":0===e.addressStateDefaultOptionData.options.length},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center address-container"},[s("p",[e._v(e._s(e.currentSetItem.FieldSettings.AddressFields.City.Label))]),e._v(" "),s("div",{staticClass:"address-label"},[s("input-select",{attrs:{currents:e.addressCityDefaultOptionData.currentOptions,"is-disabled":0===e.addressCityDefaultOptionData.options.length,"default-label":e.$t("noneLabel"),type:"CityDefault"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center address-container"},[s("p",[e._v(e._s(e.currentSetItem.FieldSettings.AddressFields.Street.Label))]),e._v(" "),s("div",{staticClass:"address-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.AddressFields.Street.DefaultValue,expression:"currentSetItem.FieldSettings.AddressFields.Street.DefaultValue"}],staticClass:"slds-input",attrs:{type:"text",maxlength:"255",disabled:!e.currentSetItem.FieldSettings.AddressFields.Street.Display},domProps:{value:e.currentSetItem.FieldSettings.AddressFields.Street.DefaultValue},on:{input:function(t){t.target.composing||e.$set(e.currentSetItem.FieldSettings.AddressFields.Street,"DefaultValue",t.target.value)}}})])])])]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&"DecisionBox"===e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical common-set"},[s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label",attrs:{for:""}},[e._v(e._s(e.$t("objectField")))]),e._v(" "),s("div",{staticClass:"choose-fields-picklist"},[s("input-select",{attrs:{currents:e.decisionBoxOptionData.currentOptions,"is-disabled":0===e.decisionBoxOptionData.options.length,type:"DecisionBox","default-label":e.$t("chooseFieldLabel")},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label"},[e._v(e._s(e.$t("text")))]),e._v(" "),s("div",{staticClass:"each-textarea",domProps:{innerHTML:e._s(e.currentSetItem.FieldSettings.Text)},on:{click:function(t){e.showPopup(e.$t("global.popupHeader.createTextMessage"),e.$t("global.textLabel"),"text","")}}})])]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&"Heading"!==e.currentSetItem.FieldSettings.Type?s("div",{staticClass:"slds-grid slds-grid_vertical option-set"},[s("div",{staticClass:"option-set-title"},[s("icon",{attrs:{name:"chevrondown","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v("\n            "+e._s(e.$t("options"))+"\n          ")],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical option-set-options"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.IsRequired,expression:"currentSetItem.IsRequired"}],attrs:{type:"checkbox",name:"options",disabled:e.currentSetItem.IsDatabaseRequired,id:"field-checkbox-1",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.IsRequired)?e._i(e.currentSetItem.IsRequired,"on")>-1:e.currentSetItem.IsRequired},on:{change:function(t){var s=e.currentSetItem.IsRequired,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem,"IsRequired",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem,"IsRequired",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem,"IsRequired",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-1"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("required")))])])]),e._v(" "),"DecisionBox"!==e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.IsReadOnly,expression:"currentSetItem.IsReadOnly"}],attrs:{type:"checkbox",name:"options",id:"field-checkbox-2",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.IsReadOnly)?e._i(e.currentSetItem.IsReadOnly,"on")>-1:e.currentSetItem.IsReadOnly},on:{change:function(t){var s=e.currentSetItem.IsReadOnly,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem,"IsReadOnly",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem,"IsReadOnly",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem,"IsReadOnly",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-2"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("readOnly")))])])]):e._e(),e._v(" "),"DecisionBox"!==e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.IsHidden,expression:"currentSetItem.IsHidden"}],attrs:{type:"checkbox",name:"options",id:"field-checkbox-3",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.IsHidden)?e._i(e.currentSetItem.IsHidden,"on")>-1:e.currentSetItem.IsHidden},on:{change:function(t){var s=e.currentSetItem.IsHidden,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem,"IsHidden",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem,"IsHidden",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem,"IsHidden",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-3"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("hidden")))])])]):e._e(),e._v(" "),"Text"===e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.IsMasked,expression:"currentSetItem.FieldSettings.IsMasked"}],attrs:{type:"checkbox",name:"options",id:"field-checkbox-4",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.FieldSettings.IsMasked)?e._i(e.currentSetItem.FieldSettings.IsMasked,"on")>-1:e.currentSetItem.FieldSettings.IsMasked},on:{change:function(t){var s=e.currentSetItem.FieldSettings.IsMasked,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem.FieldSettings,"IsMasked",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem.FieldSettings,"IsMasked",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem.FieldSettings,"IsMasked",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-4"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("masked")))])])]):e._e(),e._v(" "),"DecisionBox"===e.currentSetItem.FieldSettings.Type?s("span",{staticClass:"slds-checkbox"},[s("input",{attrs:{type:"checkbox",name:"options",id:"field-checkbox-5",value:"on"},domProps:{checked:"1"===e.currentSetItem.DefaultValue},on:{click:function(t){return e.changeBoxDefaultValue(e.currentSetItem)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-5"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("checkedByDefaultLabel")))])])]):e._e(),e._v(" "),"Phone"===e.currentSetItem.FieldSettings.Type&&e.isCharketSmsEnabled?s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentSetItem.FieldSettings.IsSmsVerificationEnabled,expression:"currentSetItem.FieldSettings.IsSmsVerificationEnabled"}],attrs:{type:"checkbox",name:"options",id:"field-checkbox-6",value:"on"},domProps:{checked:Array.isArray(e.currentSetItem.FieldSettings.IsSmsVerificationEnabled)?e._i(e.currentSetItem.FieldSettings.IsSmsVerificationEnabled,"on")>-1:e.currentSetItem.FieldSettings.IsSmsVerificationEnabled},on:{change:function(t){var s=e.currentSetItem.FieldSettings.IsSmsVerificationEnabled,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._i(s,"on");i.checked?a<0&&e.$set(e.currentSetItem.FieldSettings,"IsSmsVerificationEnabled",s.concat(["on"])):a>-1&&e.$set(e.currentSetItem.FieldSettings,"IsSmsVerificationEnabled",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.currentSetItem.FieldSettings,"IsSmsVerificationEnabled",o)}}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-6"}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("smsVerificationCode")))])]),e._v(" "),s("span",{staticClass:"verification-code-settings",on:{click:e.onClickVerificationSettings}},[e._v("\n                "+e._s(e.$t("verificationCodeComponentSettings"))+"\n              ")])]):e._e()])]):e._e(),e._v(" "),e.currentSetItem.FieldSettings&&e.currentSetItem.FieldSettings.Type in e.defaultLabelLayout?s("div",{staticClass:"slds-grid slds-grid_vertical option-set layout-option-set"},[s("div",{staticClass:"option-set-title"},[s("icon",{attrs:{name:"chevrondown","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}}),e._v(" "),e._v("\n            "+e._s(e.$t("layout"))+"\n          ")],1),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical each-item-set"},[s("label",{staticClass:"each-label layout-label"},[e._v(e._s(e.$t("labelPlacement")))]),e._v(" "),s("div",{staticClass:"choose-fields-picklist"},[s("input-select",{attrs:{currents:e.labelLayoutOptionData.currentOptions,type:"LabelLayout"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)])]):e._e()]),e._v(" "),s("div",{staticClass:"slds-border_top slds-grid slds-grid_align-center build-right-footer"},[s("button",{staticClass:"slds-button slds-button_brand build-save-button",attrs:{disabled:e.isSavingForm},on:{click:function(t){return e.onClickSave(t)}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("ueditor-popup",{directives:[{name:"show",rawName:"v-show",value:e.showDescriptionEditor,expression:"showDescriptionEditor"}],ref:"descriptionEditor",attrs:{"ueditor-title":e.ueditorTitle},on:{"close-editor":function(t){return e.closeFormDescriptionEditor()},"update-description":e.updateEditedContent}}),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth,identityName:e.identifyPicklistTypes.indexOf(e.dropdownType)>-1&&e.identityName,"default-label":!0,"is-single-selection":!0,"has-filter":e.hasDropdownFilter,"object-type":e.$t("fieldsLabel")},on:{"select-option":e.selectPicklist,close:e.closeDropdown}}):e._e(),e._v(" "),!e.isLoadingForm&&e.hasClickedSettingsTab&&"settings"===e.currentTab?s("div",{staticClass:"build-form-area"},[s("wechat-form-setting",{ref:"formSetting",attrs:{"setting-form":e.form},on:{"open-ueditor":function(t){return e.openUeditorPopup(t)},"refresh-form":e.refreshForm,"update-settings":e.onSettingsUpdated}})],1):e._e(),e._v(" "),e.isLoadingForm||"publish"!==e.currentTab?e._e():s("div",{staticClass:"build-form-area"},[s("we-chat-form-publish",{attrs:{"form-id":e.form.FormId}})],1),e._v(" "),e.isShowPreview?s("charket-preview",{attrs:{"preview-info":e.form,type:e.currentPreviewLabel}}):e._e(),e._v(" "),e.isShowChoicesEditor?s("we-chat-form-choices-editor",{attrs:{choices:e.currentSetItem.FieldSettings.Options},on:{closeChoicesEditor:e.closeChoicesEditor,updateChoices:e.updateChoices}}):e._e(),e._v(" "),s("message-popup",{ref:"messagePopup",attrs:{"header-content":e.popupHeaderContent,popupType:e.currentPopupType,isMultiSelect:!1,"enable-mini-program-page":!1,"enable-action":!1},on:{getSelectedMessage:e.getSelectedMessage}}),e._v(" "),s("ld-modal",{ref:"leaveConfirm",attrs:{title:e.$t("leaveConfirm")},on:{close:e.closeLeaveConfirm},scopedSlots:e._u([{key:"content",fn:function(){return[s("p",{staticClass:"slds-p-around_medium slds-text-align_center"},[e._v(e._s(e.$t("global.unsavedLabel")))])]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{attrs:{neutral:""},on:{click:function(t){return e.discardChanges()}}},[e._v("\n        "+e._s(e.$t("discardChangeLabel"))+"\n      ")]),e._v(" "),s("ld-button",{attrs:{brand:""},on:{click:function(t){return e.stayOnThisPage()}}},[e._v("\n        "+e._s(e.$t("stayPageLabel"))+"\n      ")])]},proxy:!0}])}),e._v(" "),s("verification-code-settings",{ref:"verificationCodeSettings",on:{confirm:e.onVerificationCodeSettingsConfirm}})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-radio__label"},[t("span",{staticClass:"slds-radio_faux"}),this._v(" "),t("span",{staticClass:"slds-form-element__label"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label"},[t("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),t("span",{staticClass:"slds-form-element__label"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-state"}},[t("span",{staticClass:"slds-checkbox_faux"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-city"}},[t("span",{staticClass:"slds-checkbox_faux"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label",attrs:{for:"field-checkbox-street"}},[t("span",{staticClass:"slds-checkbox_faux"})])}],!1,null,"089ea0ed",null);"function"==typeof Ze.default&&Object(Ze.default)(Xe);var et={mounted(){this.$root.$on("forms-entrance-clicked",this.refreshList)},data:()=>({showNewFormPopup:!1,showWeChatAccounts:!1,createFormData:{fields:[]},isClone:!1,cloneSourceData:null,form:{}}),computed:{showEditFormPage(){return!!this.$route.name&&"forms"!==this.$route.name}},methods:{refreshList(){this.$refs.formList.getCurrentFormList()},openNewFormPopup(){this.showNewFormPopup=!0},closeNewFormPopup(e){this.form={},this.showNewFormPopup=!1,this.isClone=!1,this.cloneSourceData=null,e&&this.$router.replace({name:"forms-editor",params:{formId:e}})},openEditFormPopup(e){this.createFormData=e,this.showEditFormPage=!0},openCloneFormPopup(e){this.isClone=!0,this.cloneSourceData=e,this.openNewFormPopup()},completeClone(){this.isClone=!1,this.cloneSourceData=null},backToList(){this.$router.replace({name:"forms"})},toggleWeChatAccounts(){this.$root.$emit("show-nav-box")},editForm(e){this.form=e,this.openNewFormPopup()}},components:{WeChatFormsList:x,WeChatNewFormPopup:U,EditForm:Xe.exports},beforeRouteLeave(e,t,s){this.$refs.formEditor?this.$refs.formEditor.routeLeaveAction(e,t,s):s()},beforeDestroy(){this.$root.$off("forms-entrance-clicked")}},tt=(s("f007"),s("BDbr")),st=Object(I.a)(et,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical wechat-page wechat-forms-page"},[e.showEditFormPage?e._e():s("div",{staticClass:"slds-border_bottom header-tab"},[s("a",{staticClass:"down-btn",on:{click:e.toggleWeChatAccounts}},[s("icon",{attrs:{name:"menuIcon","class-name":"down-icon",width:"18px",height:"18px"}})],1),e._v(" "),s("span",{staticClass:"header-line"}),e._v(" "),s("span",{staticClass:"tab-value"},[e._v(e._s(e.$t("forms")))]),e._v(" "),s("div",{staticClass:"header-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.openNewFormPopup()}}},[e._v(e._s(e.$t("global.newBtn")))])])]),e._v(" "),e.showEditFormPage?s("edit-form",{ref:"formEditor",on:{"back-to-list":e.backToList}}):e._e(),e._v(" "),e.showEditFormPage?e._e():s("div",{staticClass:"page-content"},[s("we-chat-forms-list",{ref:"formList",on:{openEditFormPopup:e.openEditFormPopup,openCloneFormPopup:e.openCloneFormPopup,"edit-form":e.editForm}})],1),e._v(" "),e.showNewFormPopup?s("we-chat-new-form-popup",{attrs:{showNewFormPopup:e.showNewFormPopup,isClone:e.isClone,cloneSourceData:e.cloneSourceData,form:e.form},on:{completeClone:e.completeClone,closeNewFormPopup:e.closeNewFormPopup}}):e._e()],1)}),[],!1,null,"3cfdc2d0",null);"function"==typeof tt.default&&Object(tt.default)(st);t.default=st.exports},XFcT:function(e,t,s){},"YM5/":function(e,t,s){"use strict";var i=s("0FFQ"),o=s.n(i);t.default=o.a},ZKzn:function(e,t,s){"use strict";var i=s("To+i");s.n(i).a},aF8D:function(e,t,s){"use strict";var i=s("dOfv"),o=s("UZn8"),a={mixins:[i.a],components:{SetTextLink:o.a},props:{descriptionData:{type:String,defualt:""},ueditorTitle:{type:String,default(){return this.$t("descriptionEditor")}}},mounted(){this.$on("ready",()=>{this.editorReady=!0})},data:()=>({editorReady:!1,showSetUrlBox:!1,customImageUrl:""}),watch:{descriptionData(){this.descriptionData&&this.editorReady&&this.editor.setContent(this.descriptionData)}},methods:{closeEditor(){this.$refs.SetTextLink.close(),this.$emit("close-editor")},saveEdit(){const e=this.getContent();this.$emit("update-description",e)},openSetUrlBox(){this.showSetUrlBox=!0},setCustomUrlImage(){this.editor.iframe.focus();const e='<p><img src="'.concat(this.customImageUrl,'" /></p>');this.editor.execCommand("inserthtml",e),this.closeSetImageUrlBox()},onClickInsertLink(e){this.editor.selection.getRange().select();const t=this.editor.selection.getText();this.$refs.SetTextLink.open({text:t,type:"Normal Link",el:e.currentTarget,position:"right-bottom"})},onClickTextLinkOk(e){let{text:t,url:s}=e;this.editor.iframe.focus(),this.editor.execCommand("link",{href:s,target:"_blank",textValue:t,style:"color: #006dcc; text-decoration: none;"}),this.$refs.SetTextLink.close()},closeSetImageUrlBox(){this.showSetUrlBox=!1,this.customImageUrl=""}}},n=(s("iiLD"),s("KHd+")),l=s("rxPh"),r=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-description-area"},[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container form-description-container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeEditor()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.$t("global.closeBtn")))])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.ueditorTitle))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium modal-content-custom"},[s("div",{staticClass:"slds-grid slds-grid_vertical editor-toolbar"},[s("div",{staticClass:"slds-grid top-bar"},[s("div",{staticClass:"slds-grid re-undo"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onUndo()}}},[s("icon",{attrs:{name:"undo",width:"17px",height:"17px","fill-color":0!==e.toolStates.undo?"#d0d0d0":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onRedo()}}},[s("icon",{attrs:{name:"redo",width:"17px",height:"17px","fill-color":0!==e.toolStates.redo?"#d0d0d0":"#aaa","charket-icon":""}})],1)]),e._v(" "),s("a",{staticClass:"slds-grid font-size",attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openFontSizeList()}}},[s("div",{staticClass:"font-size-value"},[e._v("\n                "+e._s(e.toolValues.fontsize)+"\n              ")]),e._v(" "),s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showFontSizeList,expression:"showFontSizeList"}],staticClass:"font-size-list"},e._l(e.fontSizeList,(function(t){return s("li",{style:{fontSize:t},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.onFontsizeChange(t)}}},[e._v(e._s(t))])})),0)],1),e._v(" "),s("div",{staticClass:"slds-grid quot-dash"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onBlockquote()}}},[s("icon",{attrs:{name:"quot",width:"17px",height:"17px","fill-color":e.toolStates.blockquote?"#5268ee":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onHorizontal()}}},[s("icon",{attrs:{name:"dash",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid clear-or-brush"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onRemoveFormat()}}},[s("icon",{attrs:{name:"clearFormat",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onFormatmatch()}}},[s("icon",{attrs:{name:"brushFormat",width:"17px",height:"17px","fill-color":e.toolStates.formatmatch?"#5268ee":"#aaa","charket-icon":""}})],1)]),e._v(" "),s("div",{staticClass:"insert-link"},[s("span",{on:{click:function(t){return t.preventDefault(),e.onClickInsertLink(t)}}},[s("icon",{attrs:{name:"textLink",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}})],1)]),e._v(" "),s("div",{staticClass:"insert-image"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.openSetUrlBox()}}},[s("icon",{attrs:{name:"image",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),e.showSetUrlBox?s("div",{staticClass:"set-image-url"},[s("div",{staticClass:"set-image-main"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.customImageUrl,expression:"customImageUrl"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.customImageUrl},on:{input:function(t){t.target.composing||(e.customImageUrl=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-end set-image-footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeSetImageUrlBox()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",on:{click:function(t){return e.setCustomUrlImage()}}},[e._v(e._s(e.$t("global.confirmBtn")))])])]):e._e()])]),e._v(" "),s("div",{staticClass:"slds-grid bottom-bar"},[s("div",{staticClass:"slds-grid slds-wrap font-style"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onBold()}}},[s("icon",{attrs:{name:"bold",width:"19px",height:"19px","fill-color":e.toolStates.bold?"#5268ee":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onItalic()}}},[s("icon",{attrs:{name:"italic",width:"19px",height:"19px","fill-color":e.toolStates.italic?"#5268ee":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onUnderline()}}},[s("icon",{attrs:{name:"underline",width:"19px",height:"19px","fill-color":e.toolStates.underline?"#5268ee":"#aaa","charket-icon":""}})],1),e._v(" "),s("div",{staticClass:"slds-grid font-color"},[s("a",{staticClass:"slds-grid slds-grid_vertical",attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onFontColor(e.recentForeColor.hex)}}},[s("icon",{attrs:{name:"textColor",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("div",{staticClass:"color-bar",style:{backgroundColor:e.recentForeColor.hex}})],1),e._v(" "),s("button",{attrs:{name:"button",type:"button",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openFontColorList()}}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("color-picker",{ref:"colorList",attrs:{value:e.recentForeColor.hex?e.recentForeColor:e.defaultColor},on:{"get-color":e.onFontColor}})],1),e._v(" "),s("div",{staticClass:"slds-grid bg-color"},[s("a",{staticClass:"slds-grid slds-grid_vertical",attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onBgColor(e.recentBackColor.hex)}}},[s("icon",{attrs:{name:"text",width:"15px",height:"15px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("div",{staticClass:"color-bar",style:{backgroundColor:e.recentBackColor.hex}})],1),e._v(" "),s("button",{attrs:{name:"button",type:"button",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openBgColorList()}}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("color-picker",{ref:"bgColorList",attrs:{value:e.recentBackColor.hex?e.recentBackColor:e.defaultColor},on:{"get-color":e.onBgColor}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid style-paragraph"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.onParagraphStyle("indent")}}},[s("icon",{attrs:{name:"textIndent",width:"17px",height:"17px","fill-color":e.toolStates.indent?"#5268ee":"#aaa","charket-icon":""}})],1),e._v(" "),e._l(e.paragraphStyle,(function(t){return s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(s){return s.preventDefault(),e.onParagraphStyle(t.value)}}},[s("icon",{attrs:{name:t.label,width:"17px",height:"17px","fill-color":e.toolValues.justify===t.value?"#5268ee":"#aaa","charket-icon":""}})],1)}))],2),e._v(" "),s("div",{staticClass:"slds-grid style-list"},[s("div",{staticClass:"ol-list"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openOlList()}}},[s("icon",{attrs:{name:"olList",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("button",{attrs:{type:"button",name:"button",tabindex:"-1"}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1)],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOlList,expression:"showOlList"}]},e._l(e.toolOptions.orderedlist,(function(t){return s("li",{staticClass:"slds-grid check-list",on:{click:function(s){return e.setListStyle("ol",t.value)}}},[s("div",{staticClass:"list-icon"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:e.toolValues.insertunorderedlist===t.value,expression:"toolValues.insertunorderedlist === style.value"}],attrs:{name:"check",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{staticClass:"slds-col",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.label))])])})),0)]),e._v(" "),s("div",{staticClass:"ul-list"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openUlList()}}},[s("icon",{attrs:{name:"ulList",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("button",{attrs:{type:"button",name:"button",tabindex:"-1"}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1)],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showUlList,expression:"showUlList"}]},e._l(e.toolOptions.unorderedlist,(function(t){return s("li",{staticClass:"slds-grid check-list",on:{click:function(s){return e.setListStyle("ul",t.value)}}},[s("div",{staticClass:"list-icon"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:e.toolValues.insertunorderedlist===t.value,expression:"toolValues.insertunorderedlist === style.value"}],attrs:{name:"check",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{staticClass:"slds-col",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.label))])])})),0)])]),e._v(" "),s("div",{staticClass:"slds-grid paragraph-line-space"},[s("div",{staticClass:"line-height-list"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openLineHeightList()}}},[s("icon",{attrs:{name:"lineHeight",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("button",{attrs:{type:"button",name:"button",tabindex:"-1"}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1)],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showLineHeightList,expression:"showLineHeightList"}]},e._l(e.toolOptions.lineheight,(function(t){return s("li",{staticClass:"slds-grid check-list",on:{click:function(s){return e.onLineHeight(t.value)}}},[s("div",{staticClass:"list-icon"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:e.toolValues.lineheight===t.value,expression:"toolValues.lineheight === val.value"}],attrs:{name:"check",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{staticClass:"slds-col",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.label))])])})),0)]),e._v(" "),s("div",{staticClass:"spacing-top-list"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openSpacingTopList()}}},[s("icon",{attrs:{name:"pMarginTop",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("button",{attrs:{type:"button",name:"button",tabindex:"-1"}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1)],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showSpacingTopList,expression:"showSpacingTopList"}]},e._l(e.toolOptions.rowspacing,(function(t){return s("li",{staticClass:"slds-grid check-list",on:{click:function(s){return e.onRowSpacing(t.value,"top")}}},[s("div",{staticClass:"list-icon"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:e.toolValues.rowspacingtop===t.value,expression:"toolValues.rowspacingtop === val.value"}],attrs:{name:"check",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{staticClass:"slds-col",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.label))])])})),0)]),e._v(" "),s("div",{staticClass:"spacing-bottom-list"},[s("a",{attrs:{href:"#",tabindex:"-1"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openSpacingBottomList()}}},[s("icon",{attrs:{name:"pMarginBottom",width:"17px",height:"17px","fill-color":"#aaa","charket-icon":""}}),e._v(" "),s("button",{attrs:{type:"button",name:"button",tabindex:"-1"}},[s("icon",{attrs:{name:"down",width:"8px",height:"8px","fill-color":"#aaa","charket-icon":""}})],1)],1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showSpacingBottomList,expression:"showSpacingBottomList"}]},e._l(e.toolOptions.rowspacing,(function(t){return s("li",{staticClass:"slds-grid check-list",on:{click:function(s){return e.onRowSpacing(t.value,"bottom")}}},[s("div",{staticClass:"list-icon"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:e.toolValues.rowspacingbottom===t.value,expression:"toolValues.rowspacingbottom === val.value"}],attrs:{name:"check",width:"14px",height:"14px","fill-color":"#aaa","charket-icon":""}})],1),e._v(" "),s("a",{staticClass:"slds-col",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(t.label))])])})),0)])])])]),e._v(" "),s("div",{staticClass:"editor-container"},[s("div",{ref:"editor"})])]),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeEditor()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),e._t("negative",[s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",on:{click:function(t){return e.saveEdit()}}},[e._v(e._s(e.$t("global.confirmBtn")))])])],2)])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"}),e._v(" "),s("set-text-link",{ref:"SetTextLink",on:{ok:e.onClickTextLinkOk}})],1)}),[],!1,null,"2ca67452",null);"function"==typeof l.default&&Object(l.default)(r);t.a=r.exports},bvdj:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"customizeLabel":"定制","advancedLabel":"高级","addBtn":"添加","pageLabel":"页面","fontLabel":"字体","pageBgLabel":"页面背景","bgImgLabel":"背景图","formLabel":"表单","formBgLabel":"背景","errorBackground":"错误背景色","errorTextColor":"错误文字颜色","itemsLabel":"项目","requiredIcon":"必填的图标","headingFontSize":"标题字体大小","headingTextColor":"标题文字颜色","labelFontSize":"字段标题字号","labelTextColor":"字段标题颜色","checkedColor":"复选框和单选框选中颜色","buttonLabel":"按钮","buttonBackground":"按钮背景","buttonFontColor":"按钮文字颜色","buttonFontSize":"按钮字体大小","cssStyle":"CSS样式","addBgImgHeader":"添加背景图","editBgImgHeader":"修改背景图","urlLabel":"链接","defaultLabel":"默认","noneLabel":"无","asteriskLabel":"星号","redAsteriskLabel":"红色星号","surveyLabel":"问卷","questionFontSize":"问题字体大小","questionTextColor":"问题文字颜色","answerFontSize":"答案字体大小","answerTextColor":"答案文字颜色","choiceCheckedColor":"选项选中颜色"},"en":{"customizeLabel":"Customize","advancedLabel":"Advanced","addBtn":"Add","pageLabel":"Page","fontLabel":"Font","pageBgLabel":"Background","bgImgLabel":"Background Image","formLabel":"Form","formBgLabel":"Background","errorBackground":"Error Background","errorTextColor":"Error Text Color","itemsLabel":"Items","requiredIcon":"Required Icon","headingFontSize":"Heading Font Size","headingTextColor":"Heading Text Color","labelFontSize":"Label Font Size","labelTextColor":"Label Text Color","checkedColor":"Checkbox & Radio Button Checked Color","buttonLabel":"Button","buttonBackground":"Button Background","buttonFontColor":"Button Font Color","buttonFontSize":"Button Font Size","cssStyle":"CSS style","addBgImgHeader":"Add Background Image","editBgImgHeader":"Edit Background Image","urlLabel":"URL","defaultLabel":"Default","noneLabel":"None","asteriskLabel":"Asterisk","redAsteriskLabel":"Red Asterisk","surveyLabel":"Survey","questionFontSize":"Question Font Size","questionTextColor":"Question Text Color","answerFontSize":"Answer Font Size","answerTextColor":"Answer Text Color","choiceCheckedColor":"Choice Checked Color"}}'),delete e.options._Ctor}},dOfv:function(e,t,s){"use strict";var i=s("rZkV"),o=s.n(i),a=s("+Bun"),n=s.n(a),l=s("ejTr"),r=s.n(l),c=s("autp"),d=s.n(c),u=s("vkTm");t.a={components:{ColorPicker:u.a},mounted(){this.$nextTick(()=>{this.$refs.editor.id=this.id,this.editor=this.UE.getEditor(this.id,this.config),this.editor.ready(()=>{this.bindContentChange(),this.bindSelectionChange(),this.bindPaste(),this.bindFocusBlur(),this.editor.setContent(this.$t("defaultContent")),this.$emit("ready")})})},data(){return{id:"charket_editor"+Math.random(10),UE:window.UE||null,showFontSizeList:!1,showOlList:!1,showUlList:!1,showLineHeightList:!1,showSpacingTopList:!1,showSpacingBottomList:!1,editor:null,recentForeColor:{hex:null},recentBackColor:{hex:null},defaultColor:{hex:"#194d33"},fontSizeList:["12px","14px","15px","16px","18px","20px","24px"],paragraphStyle:[{label:"alignLeft",value:"left"},{label:"alignCenter",value:"center"},{label:"alignRight",value:"right"}],toolStates:{undo:-1,redo:-1,blockquote:0,horizontal:0,removeformat:0,formatmatch:0,bold:0,italic:0,underline:0,indent:0},toolValues:{fontsize:"16px",forecolor:"#ffffff",backcolor:"#ffffff",justify:"",imagefloat:"",lineheight:"",rowspacing:"",rowspacingtop:"",rowspacingbottom:"",insertorderedlist:"",insertunorderedlist:""},toolOptions:{rowspacing:[{label:"5",value:"5"},{label:"10",value:"10"},{label:"15",value:"15"},{label:"20",value:"20"},{label:"25",value:"25"}],lineheight:[{label:"1",value:"1"},{label:"1.5",value:"1.5"},{label:"1.75",value:"1.75"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}],orderedlist:[{label:"1,2,3...",value:"decimal"},{label:"a,b,c...",value:"lower-alpha"},{label:"i,ii,iii...",value:"lower-roman"},{label:"A,B,C...",value:"upper-alpha"},{label:"Ⅰ,Ⅱ,Ⅲ...",value:"upper-roman"}],unorderedlist:[{label:"○ "+this.$t("global.ueditor.circle"),value:"circle"},{label:"● "+this.$t("global.ueditor.disc"),value:"disc"},{label:"■ "+this.$t("global.ueditor.square"),value:"square"}]},listVisible:!0,toolbarMaskVisible:!1,imagefloatvisible:!1,config:{toolbars:[[]],enableAutoSave:!1,initialFrameWidth:null,initialFrameHeight:400,autoHeightEnabled:!0,imagePopup:!1,imageScaleEnabled:!1}}},methods:{closeAllList(){this.showFontSizeList=!1,this.showOlList=!1,this.showUlList=!1,this.showLineHeightList=!1,this.showSpacingTopList=!1,this.showSpacingBottomList=!1,this.$refs.colorList.close(),this.$refs.bgColorList.close()},openFontColorList(){this.closeAllList(),this.$refs.colorList.open()},openBgColorList(){this.closeAllList(),this.$refs.bgColorList.open()},openFontSizeList(){this.closeAllList(),this.showFontSizeList=!this.showFontSizeList;const e=()=>{this.showFontSizeList=!1,window.removeEventListener("click",e)};d()(()=>{window.addEventListener("click",e)},100)},openOlList(e){this.closeAllList(),this.showOlList=!this.showOlList;const t=()=>{this.showOlList=!1,window.removeEventListener("click",t)};d()(()=>{window.addEventListener("click",t)},200)},openUlList(){this.closeAllList(),this.showUlList=!this.showUlList;const e=()=>{this.showUlList=!1,window.removeEventListener("click",e)};d()(()=>{window.addEventListener("click",e)},200)},openLineHeightList(){this.closeAllList(),this.showLineHeightList=!0;const e=()=>{this.showLineHeightList=!1,window.removeEventListener("click",e)};d()(()=>{window.addEventListener("click",e)},200)},openSpacingTopList(){this.closeAllList(),this.showSpacingTopList=!0;const e=()=>{this.showSpacingTopList=!1,window.removeEventListener("click",e)};d()(()=>{window.addEventListener("click",e)},200)},openSpacingBottomList(){this.closeAllList(),this.showSpacingBottomList=!0;const e=()=>{this.showSpacingBottomList=!1,window.removeEventListener("click",e)};d()(()=>{window.addEventListener("click",e)},200)},bindContentChange(){this.editor.addListener("contentChange",()=>{this.$emit("onchange",this.getContent())})},bindSelectionChange(){this.editor.addListener("selectionchange",()=>{const e=r()(this.toolStates),t=r()(this.toolValues),s=e.length,i=t.length;for(let t=0;t<s;t++)this.toolStates[e[t]]=this.editor.queryCommandState(e[t]);for(let e=0;e<i;e++){var o;n()(o=t[e]).call(o,"rowspacing")>-1?this.toolValues[t[e]]=this.editor.queryCommandValue("rowspacing",t[e].replace("rowspacing","")):this.toolValues[t[e]]=this.editor.queryCommandValue(t[e])+""}const a=this.editor.selection.getRange().getClosedNode();a&&"IMG"===a.tagName?this.imagefloatvisible=!0:this.imagefloatvisible=!1})},bindPaste(){this.editor.addListener("beforepaste",(e,t)=>{const s=document.createElement("div");s.innerHTML=t.html;let i=null,a=0;i=(e=>{const t={};const s=e=>{if(e.childNodes.length>0)for(const i of e.childNodes)if("IMG"===i.nodeName)i.src&&(i.id="transUrl"+a,a++,t[i.id]=i.src);else if(1===i.nodeType){if(i.style.backgroundImage){i.id="transUrl"+a,a++;let e=i.style.backgroundImage;t[i.id]=o()(e).call(e,5,-2)}s(i)}};return s(e),t})(s),this.replaceImgUrl(i),t.html=s.innerHTML})},replaceImgUrl(e){},bindFocusBlur(){this.editor.addListener("focus",()=>{this.$emit("editorFocus"),this.closeAllList(),this.toolbarMaskVisible=!1,this.listVisible=!1;const e=this.editor.getContent();n()(e).call(e,'id="initContent"')>-1&&(this.editor.execCommand("cleardoc"),this.editor.reset())}),this.editor.addListener("blur",()=>{this.listVisible=!0,d()(()=>{var e;const t=this.editor.hasContents(["span","strong","hr","ul","ol","blockquote","em"]),s=n()(e=this.editor.body.innerHTML).call(e,'style="')>-1;t||s||this.editor.setContent(this.$t("defaultContent"))},100)})},onUndo(){this.editor.execCommand("undo")},onRedo(){this.editor.execCommand("redo")},onFontsize(e){this.checkPlaceHolder(),this.editor.execCommand("fontsize",e),this.showFontSizeList=!1},onBlockquote(){this.checkPlaceHolder(),this.editor.execCommand("blockquote")},onHorizontal(){this.checkPlaceHolder(),this.editor.execCommand("horizontal")},onRemoveFormat(){this.editor.execCommand("removeformat"),this.editor.iframe.focus()},onFormatmatch(){this.checkPlaceHolder(),this.editor.execCommand("formatmatch")},onBold(){this.checkPlaceHolder(),this.editor.execCommand("bold")},onItalic(){this.checkPlaceHolder(),this.editor.execCommand("italic")},onUnderline(){this.checkPlaceHolder(),this.editor.execCommand("underline")},onIndent(){this.checkPlaceHolder(),this.editor.execCommand("indent"),this.editor.iframe.focus()},onJustify(e){this.checkPlaceHolder(),this.editor.execCommand("justify",e),this.editor.iframe.focus()},onLineHeight(e){this.checkPlaceHolder(),this.editor.execCommand("lineheight",e),this.editor.iframe.focus()},onRowSpacing(e,t){this.checkPlaceHolder(),this.editor.execCommand("rowspacing",e,t),this.editor.iframe.focus()},onMaskShow(){this.toolbarMaskVisible=!0},onFontsizeChange(e){this.checkPlaceHolder(),this.toolValues.fontsize=e,this.showFontSizeList=!1,this.onFontsize(e),this.$refs.editor.focus()},onFontColor(e){this.checkPlaceHolder(),e&&("none"===e?this.editor.execCommand("removeformat","span","color"):(this.editor.execCommand("forecolor",e),this.recentForeColor={hex:e},this.editor.iframe.focus()))},onBgColor(e){this.checkPlaceHolder(),e&&("none"===e?this.editor.execCommand("removeformat","span","background-color"):(this.editor.execCommand("backcolor",e),this.recentBackColor={hex:e},this.editor.iframe.focus()))},onRemoveFormatColor(e,t,s){this.editor.execCommand("removeformat",t)},onParagraphStyle(e){this.checkPlaceHolder(),"indent"===e?this.editor.execCommand("indent"):(this.editor.execCommand("justify",e),this.toolValues.justify=e)},setListStyle(e,t){this.checkPlaceHolder(),this.editor.execCommand("insertunorderedlist",t),this.editor.iframe.focus()},onImageFloat(e){this.imagefloatvisible&&(this.editor.execCommand("imagefloat",e),this.toolValues.imagefloat=e)},inputImage(e){this.editor.iframe.focus();const t='<p><img src="'.concat(e,'" /></p>');this.editor.execCommand("inserthtml",t)},getImages(){this.$emit("getImages")},updateContent(e){e?this.editor.setContent(e):(this.editor.reset(),this.editor.setContent(this.$t("defaultContent")))},checkPlaceHolder(){var e;n()(e=this.editor.body.innerHTML).call(e,'id="initContent"')>-1&&this.editor.execCommand("cleardoc")},getContent(){return this.editor.getContent(()=>{var e;return!(n()(e=this.editor.body.innerHTML).call(e,'id="initContent"')>-1||!this.editor.hasContents(["span","strong","hr","ul","ol","blockquote","em"]))})}}}},eT6Y:function(e,t,s){"use strict";var i=s("19oo");s.n(i).a},f007:function(e,t,s){"use strict";var i=s("yIy6");s.n(i).a},fGFX:function(e,t,s){},fOvr:function(e,t,s){"use strict";var i=s("OWFR"),o=s.n(i);t.default=o.a},fb3H:function(e,t,s){"use strict";var i=s("w2Vt"),o=s("zUtI"),a=s("4B+h"),n=s("LQ5e"),l=s.n(n),r={props:{accountId:String,default:()=>""},components:{LoadingSpinner:i.a},data:()=>({notifies:[],isNotifyLoading:!1,selectedNotify:{}}),created(){this.isNotifyLoading=!0,this.fetchNotifies()},methods:{async fetchNotifies(){try{const e=await Object(o.g)(this.accountId||this.$route.params.accountId);if(e.ok){this.isNotifyLoading=!1,this.notifies=JSON.parse(l.a.unescape(e.data));for(let e of this.notifies)this.$set(e,"type","example"),this.$set(e,"isSelectedShow",!1);this.$nextTick((function(){this.renderGrid()}))}else this.isNotifyLoading=!1,Object(a.f)(e)}catch(e){Object(a.f)(e)}},closeNotify(){this.$emit("close")},renderGrid(){const e=document.getElementsByClassName("template-item");let t,s,i=0;for(let o=0;o<e.length;o++)o>0&&(e[o-3]&&(t=e[o-3].offsetTop+e[o-3].offsetHeight+20,e[o].style.top=t+"px"),o%3>0&&(s=e[o-1].offsetLeft+e[o-1].offsetWidth+20,e[o].style.left=s+"px")),i=Math.max(i,e[o].offsetTop+e[o].offsetHeight+60);const o=document.getElementsByClassName("template-content")[0];o&&(o.style.height=i-35+"px");for(let t=0;t<e.length;t++)e[t].style.height=e[t].offsetHeight+10+"px"},selectNotify(e,t){t.isSelectedShow=!t.isSelectedShow;for(let e of this.notifies)e.TemplateId!==t.TemplateId&&(e.isSelectedShow=!1);this.selectedNotify=t.isSelectedShow?t:{}},switchTemplate(e,t){e.type=t},goToWeChatPlatform(){this.$emit("close"),window.open("https://mp.weixin.qq.com")},next(){this.$emit("next",this.selectedNotify)}}},c=(s("vyV3"),s("KHd+")),d=s("HaPu"),u=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"wechat-notification-list"}},[s("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container container-width",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeNotify()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("selectNotificationTemplateLabel")))])]),e._v(" "),e.isNotifyLoading?e._e():s("div",{staticClass:"slds-modal__content"},[s("div",{staticClass:"template-content"},[s("ul",{staticClass:"select-template-list"},[e._l(e.notifies,(function(t){return s("li",{staticClass:"slds-box template-item",on:{click:function(s){return s.stopPropagation(),e.selectNotify(s,t)}}},[s("div",{staticClass:"template-container"},[s("div",{staticClass:"slds-grid template-section"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"example"===t.type&&t.Example,expression:"notify.type === 'example' && notify.Example"}]},[s("span",{staticClass:"slds-text-heading_small title"},[e._v(e._s(t.Title))]),e._v(" "),s("pre",{staticClass:"slds-text-body_regular content"},[e._v(e._s(t.Example))])]),e._v(" "),s("div",[s("span",{staticClass:"slds-text-heading_small title"},[e._v(e._s(t.Title))]),e._v(" "),s("pre",{staticClass:"slds-text-body_regular content"},[e._v(e._s(t.Content))])])])]),e._v(" "),s("div",{staticClass:"switch-section"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.Example,expression:"notify.Example"}],staticClass:"left",class:{selected:"example"===t.type},on:{click:function(s){return s.stopPropagation(),e.switchTemplate(t,"example")}}}),e._v(" "),s("p",{class:{selected:"content"===t.type||!t.Example},on:{click:function(s){return s.stopPropagation(),e.switchTemplate(t,"content")}}})]),e._v(" "),t.isSelectedShow?s("div",{staticClass:"selected-notify"},[s("div",{staticClass:"selected-bg"}),e._v(" "),s("div",{staticClass:"selected-icon"},[s("icon",{attrs:{name:"check","fill-color":"white",width:"48px",height:"48px"}})],1)]):e._e()])})),e._v(" "),s("li",{staticClass:"slds-box template-item default"},[s("span",{staticClass:"default-icon down-btn",on:{click:function(t){return e.goToWeChatPlatform()}}},[s("icon",{attrs:{name:"add","class-name":"down-icon",width:"32px",height:"32px"}})],1),e._v(" "),s("p",{staticClass:"default-value"},[e._v(e._s(e.$t("newTemplateLabel")))])])],2)])]),e._v(" "),s("loading-spinner",{attrs:{"is-loading":e.isNotifyLoading,"custom-style":"position: relative;padding: 40px;background-color: white"}}),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeNotify()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!e.selectedNotify.TemplateId},on:{click:function(t){return e.next()}}},[e._v(e._s(e.$t("global.nextBtn")))])])],1)]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])])}),[],!1,null,"1a576594",null);"function"==typeof d.default&&Object(d.default)(u);t.a=u.exports},fext:function(e,t,s){"use strict";var i=s("Dt9k"),o=s.n(i);t.default=o.a},hG8I:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newTextMessage":"新建文本消息","textMessages":"文本消息","designer":{"linkIcon":"添加链接","miniProgramIcon":"添加小程序链接","actionIcon":"添加动作","mergeFieldIcon":"插入合并字段","changeBtn":"更改","removeBtn":"删除","linkUrl":"链接网址","illegalUrl":"不合法的网址","appId":"App ID","pagePath":"页面路径","name":"名称","value":"值","selectAField":"选择一个字段","fieldTitle":"你已选择以下字段","findObjectPlaceholder":"查找对象...","labelFilterPlaceholder":"键入以过滤列表...","type":"类型","apiName":"API名","currentSelection":"当前选择","noMatchesFound":"没有发现匹配项"}},"en":{"newTextMessage":"New Text Message","textMessages":"Text Messages","designer":{"linkIcon":"Add link","miniProgramIcon":"Add mini program link","actionIcon":"Add action","mergeFieldIcon":"Insert merge field","changeBtn":"Change","removeBtn":"Remove","linkUrl":"Link URL","illegalUrl":"Invalid URL","appId":"App ID","pagePath":"Page Path","name":"Name","value":"Value","selectAField":"Select A Field","fieldTitle":"You have selected the following field","findObjectPlaceholder":"Find An Object...","labelFilterPlaceholder":"Type here to filter the list...","type":"Type","apiName":"API Name","currentSelection":"Current Selection","noMatchesFound":"No matches found"}}}'),delete e.options._Ctor}},hkfk:function(e,t,s){"use strict";var i=s("fGFX");s.n(i).a},iQVG:function(e,t,s){},iiLD:function(e,t,s){"use strict";var i=s("3zWd");s.n(i).a},jonr:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"formLink":"表单链接","shareLinkTip":"该链接可发给微信关注者或用于创建图文消息","copySuccess":"链接已被复制至你的粘贴板。","copyFailed":"复制失败。","copyLink":"复制链接"},"en":{"formLink":"Form Link","shareLinkTip":"This link can be sent to WeChat followers or used by structured messages","copySuccess":"The link has been copied to your clipboard.","copyFailed":"Copy failed.","copyLink":"Copy Link"}}'),delete e.options._Ctor}},"k/9o":function(e,t,s){"use strict";var i=s("qVZU"),o=s.n(i);t.default=o.a},kbAI:function(e,t,s){},lNHh:function(e,t,s){"use strict";var i=s("svHN"),o=s.n(i);t.default=o.a},m7q8:function(e,t,s){"use strict";var i=s("1yYj"),o=s.n(i);t.default=o.a},miio:function(e,t,s){"use strict";s.d(t,"g",(function(){return o})),s.d(t,"h",(function(){return a})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return l})),s.d(t,"d",(function(){return r})),s.d(t,"k",(function(){return c})),s.d(t,"i",(function(){return d})),s.d(t,"f",(function(){return u})),s.d(t,"j",(function(){return p})),s.d(t,"l",(function(){return m})),s.d(t,"e",(function(){return h})),s.d(t,"c",(function(){return f}));s("Yvyk");var i=s("00Ee");function o(e,t,s){return Object(i.a)({method:"FormRemoteActions.getForms",args:[e,t,s]})}function a(){return Object(i.a)({method:"FormRemoteActions.getObjects",args:[]})}function n(e){return Object(i.a)({method:"FormRemoteActions.createForm",args:[e]})}function l(e){return Object(i.a)({method:"FormRemoteActions.deleteForm",args:[e]})}function r(e){return Object(i.a)({method:"FormRemoteActions.getForm",args:[e]})}function c(e,t){return Object(i.a)({method:"FormRemoteActions.updateForm",args:[e,t]})}function d(e,t){return Object(i.a)({method:"FormRemoteActions.setStatus",args:[e,t]})}function u(e){return Object(i.a)({method:"FormRemoteActions.getFormUrl",args:[e]})}function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.a)({method:"FormRemoteActions.setSettings",args:[e,t,s]})}function m(e,t){return Object(i.a)({method:"FormRemoteActions.updateFormBasicInfo",args:[e,t]})}function h(){return Object(i.a)({method:"FormRemoteActions.getFormStatus",args:[]})}function f(e,t){return Object(i.a)({method:"FormRemoteActions.editFormName",args:[e,t]})}},mmw4:function(e,t,s){"use strict";var i=s("SLhn"),o=s.n(i),a=s("Ip10"),n=s.n(a),l=s("wG3i"),r=s.n(l),c=s("ngIk"),d=s("dcdS"),u=s("oWfJ"),p=s("za7x"),m=s("vkTm"),h={components:{Icon:p.a,ColorPicker:m.a,InputSelect:c.a,Dropdown:d.a},mixins:[u.a],props:{stylesType:{type:String,default:"form"},customizeStyles:{type:Object,default:()=>({})},advanced:{type:String,default:""}},data(){return{showCustomize:!0,showAdvanced:!1,customizedBoxHeight:null,currentColorEL:null,colorPickerPosition:"",colorType:"",showColorPicker:!1,pageFontFamilyOption:{options:[{Name:"Default",value:"Default"},{Name:"Arial",value:"Arial"},{Name:"Courier New",value:"Courier New"},{Name:"Helvetica",value:"Helvetica"},{Name:"Tahoma",value:"Tahoma"},{Name:"Times New Roman",value:"Times New Roman"},{Name:"Trebuchet MS",value:"Trebuchet MS"},{Name:"Verdana",value:"Verdana"},{Name:"黑体",value:"黑体"},{Name:"宋体",value:"宋体"},{Name:"楷体",value:"楷体"}],currentOptions:[{Name:"Default",value:"Default"}]},requiredIconOption:{options:[{Name:this.$t("noneLabel"),value:"None"},{Name:this.$t("asteriskLabel"),value:"Asterisk"},{Name:this.$t("redAsteriskLabel"),value:"Red Asterisk"}],currentOptions:[{Name:this.$t("noneLabel"),value:"None"}]},fontSizeOption:{options:[{Name:"10px",value:"10px"},{Name:"11px",value:"11px"},{Name:"12px",value:"12px"},{Name:"13px",value:"13px"},{Name:"14px",value:"14px"},{Name:"16px",value:"16px"},{Name:"17px",value:"17px"},{Name:"18px",value:"18px"},{Name:"20px",value:"20px"},{Name:"24px",value:"24px"},{Name:"30px",value:"30px"}]},titleFontSizeOption:{currentOptions:[{Name:"14px",value:"14px"}]},labelFontSizeOption:{currentOptions:[{Name:"17px",value:"17px"}]},buttonFontSizeOption:{currentOptions:[{Name:"18px",value:"18px"}]},bgImg:"",styles:{PageFontFamily:"Default",PageBg:"#ffffff",PageBgImage:"",FormBg:"#efeef4",ErrorBg:"#e64340",ErrorColor:"#ffffff",RequiredIcon:"None",TitleFontSize:"14px",TitleColor:"#999999",LabelFontSize:"16px",LabelColor:"#000",CheckedColor:"#09bb07",ButtonBg:"#1aad19",ButtonColor:"#fff",ButtonFontSize:"18px"},advancedStyles:"",pageBgImgHeader:this.$t("addBgImgHeader")}},inject:["showErrorImg"],created(){if(this.customizeStyles){var e;if(this.styles=JSON.parse(r()(this.customizeStyles)),this.customizeStyles.PageFontFamily&&(this.pageFontFamilyOption.currentOptions=[{Name:this.customizeStyles.PageFontFamily,value:this.customizeStyles.PageFontFamily}]),this.customizeStyles.RequiredIcon)this.requiredIconOption.currentOptions[0]=n()(e=this.requiredIconOption.options).call(e,e=>e.value===this.customizeStyles.RequiredIcon);this.customizeStyles.TitleFontSize&&(this.titleFontSizeOption.currentOptions=[{Name:this.customizeStyles.TitleFontSize,value:this.customizeStyles.TitleFontSize}]),this.customizeStyles.LabelFontSize&&(this.labelFontSizeOption.currentOptions=[{Name:this.customizeStyles.LabelFontSize,value:this.customizeStyles.LabelFontSize}]),this.customizeStyles.ButtonFontSize&&(this.buttonFontSizeOption.currentOptions=[{Name:this.customizeStyles.ButtonFontSize,value:this.customizeStyles.ButtonFontSize}])}this.advanced&&(this.advancedStyles=this.advanced)},mounted(){this.setCustomizedBoxHeight()},watch:{dropdownRefId:function(){"pageFontFamily"===this.dropdownType?(this.dropdownOptionData.options=this.pageFontFamilyOption.options,this.dropdownOptionData.currentOptions=this.pageFontFamilyOption.currentOptions):"requiredIcon"===this.dropdownType?(this.dropdownOptionData.options=this.requiredIconOption.options,this.dropdownOptionData.currentOptions=this.requiredIconOption.currentOptions):"titleFontSize"===this.dropdownType?(this.dropdownOptionData.options=this.fontSizeOption.options,this.dropdownOptionData.currentOptions=this.titleFontSizeOption.currentOptions):"labelFontSize"===this.dropdownType?(this.dropdownOptionData.options=this.fontSizeOption.options,this.dropdownOptionData.currentOptions=this.labelFontSizeOption.currentOptions):"buttonFontSize"===this.dropdownType&&(this.dropdownOptionData.options=this.fontSizeOption.options,this.dropdownOptionData.currentOptions=this.buttonFontSizeOption.currentOptions)},showCustomize:function(){this.showCustomize?this.setCustomizedBoxHeight():this.customizedBoxHeight="0px"}},methods:{setCustomizedBoxHeight(){this.$nextTick(()=>{const e=this.$refs.wrapper.offsetHeight;this.customizedBoxHeight=e-38-52+"px"})},toggleChooseBox(e){"customize"===e?(this.showCustomize=!this.showCustomize,this.showCustomize&&(this.showAdvanced=!1)):(this.showAdvanced=!this.showAdvanced,this.showAdvanced&&(this.showCustomize=!1))},addBgImg(){this.styles.PageBgImage?(this.pageBgImgHeader=this.$t("editBgImgHeader"),this.bgImg=this.styles.PageBgImage):this.pageBgImgHeader=this.$t("addBgImgHeader"),this.$refs.addBgImgModal.open()},cancelAddBgImg(){this.bgImg="",this.$refs.addBgImgModal.close()},saveBgImg(){this.$refs.addBgImgModal.close(),this.styles.PageBgImage=this.bgImg,this.bgImg="",this.$emit("update-styles",this.styles,"customize")},selectOption(e){"pageFontFamily"===this.dropdownType?(this.pageFontFamilyOption.currentOptions=e,this.styles.PageFontFamily=e[0].value):"requiredIcon"===this.dropdownType?(this.requiredIconOption.currentOptions=e,this.styles.RequiredIcon=e[0].value):"titleFontSize"===this.dropdownType?(this.titleFontSizeOption.currentOptions=e,this.styles.TitleFontSize=e[0].value):"labelFontSize"===this.dropdownType?(this.labelFontSizeOption.currentOptions=e,this.styles.LabelFontSize=e[0].value):"buttonFontSize"===this.dropdownType&&(this.buttonFontSizeOption.currentOptions=e,this.styles.ButtonFontSize=e[0].value),this.$refs.bgColorList.close(),this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1,this.$emit("update-styles",this.styles,"customize")},onColorSelected(e){this.styles[this.colorType]=e,this.styles,this.$emit("update-styles",this.styles,"customize")},colorPickerShow(e){this.showColorPicker=e},setColorPickerPosition(){var e;let t=0;const s=this.currentColorEl.offsetHeight,i=this.currentColorEl.getBoundingClientRect().top;t=(()=>{let e=0;return e=document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight,e})()-i-s>300?i+s-22:i-300-22,this.colorPickerPosition=o()(e="z-index: 1200; position: fixed; left: ".concat(54,"px; top: ")).call(e,t,"px;")},styleListScroll(e){this.showColorPicker&&(this.setColorPickerPosition(),e.currentTarget.scrollTop>this.currentColorEl.offsetTop&&this.$refs.bgColorList.close())},openColorPicker(e,t){this.currentColorEl=e.currentTarget,this.showDropdown=!1,this.$root.$emit("close-other-dropdown",null),this.$refs.bgColorList.close(),this.setColorPickerPosition(),this.colorType=t,this.$refs.bgColorList.open()},addAdvancedStyles(){this.$emit("update-styles",this.advancedStyles,"advanced")}}},f=(s("6mtQ"),s("KHd+")),v=s("+O6Z"),g=Object(f.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"wrapper",staticClass:"charket-form-style"},[s("div",{staticClass:"form-choose-items"},[s("div",{staticClass:"choose-items-header",class:{"choosed-field":e.showCustomize},on:{click:function(t){return e.toggleChooseBox("customize")}}},[s("span",{staticClass:"arrow-icon",class:{"arrow-down":e.showCustomize}},[s("icon",{attrs:{name:"chevronright","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}})],1),e._v("\n      "+e._s(e.$t("customizeLabel"))+"\n    ")]),e._v(" "),s("div",{ref:"styleItemList",staticClass:"choose-items-content",style:{height:e.customizedBoxHeight},on:{scroll:function(t){return e.styleListScroll(t)}}},[s("div",{staticClass:"form-section"},[s("div",{staticClass:"slds-border_bottom form-title"},[e._v(e._s(e.$t("pageLabel")))]),e._v(" "),s("div",{staticClass:"form-items-content"},[s("div",{staticClass:"slds-grid slds-grid_align-spread form-item"},[s("span",[e._v(e._s(e.$t("fontLabel")))]),e._v(" "),s("div",{staticClass:"input-wrapper"},[s("input-select",{attrs:{currents:e.pageFontFamilyOption.currentOptions,type:"pageFontFamily"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread form-item"},[s("span",[e._v(e._s(e.$t("pageBgLabel")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"PageBg")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.PageBg?"#ffffff":e.styles.PageBg}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread form-item"},[s("span",[e._v(e._s(e.$t("bgImgLabel")))]),e._v(" "),e.styles.PageBgImage?s("div",{staticClass:"bg-img-content",on:{click:e.addBgImg}},[s("img",{attrs:{src:e._f("imgFilter")(e.styles.PageBgImage)},on:{error:function(t){return e.showErrorImg(t)}}})]):s("button",{staticClass:"slds-button slds-button_neutral btn-size",on:{click:e.addBgImg}},[e._v(e._s(e.$t("addBtn")))])])])]),e._v(" "),s("div",{staticClass:"form-section"},[s("div",{staticClass:"slds-border_bottom form-title"},[e._v(e._s("survey"===e.stylesType?e.$t("surveyLabel"):e.$t("formLabel")))]),e._v(" "),s("div",{staticClass:"form-items-content"},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("formBgLabel")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"FormBg")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.FormBg?"#ffffff":e.styles.FormBg}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("errorBackground")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"ErrorBg")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.ErrorBg?"#ffffff":e.styles.ErrorBg}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("errorTextColor")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"ErrorColor")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.ErrorColor?"#ffffff":e.styles.ErrorColor}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])])])]),e._v(" "),s("div",{staticClass:"form-section"},[s("div",{staticClass:"slds-border_bottom form-title"},[e._v(e._s(e.$t("itemsLabel")))]),e._v(" "),s("div",{staticClass:"form-items-content"},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("requiredIcon")))]),e._v(" "),s("div",{staticClass:"input-wrapper"},[s("input-select",{attrs:{currents:e.requiredIconOption.currentOptions,type:"requiredIcon"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s("survey"===e.stylesType?e.$t("questionFontSize"):e.$t("headingFontSize")))]),e._v(" "),s("div",{staticClass:"input-wrapper"},[s("input-select",{attrs:{"default-label":e.$t("defaultLabel"),currents:e.titleFontSizeOption.currentOptions,type:"titleFontSize"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s("survey"===e.stylesType?e.$t("questionTextColor"):e.$t("headingTextColor")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"TitleColor")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.TitleColor?"#ffffff":e.styles.TitleColor}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s("survey"===e.stylesType?e.$t("answerFontSize"):e.$t("labelFontSize")))]),e._v(" "),s("div",{staticClass:"input-wrapper"},[s("input-select",{attrs:{"default-label":e.$t("defaultLabel"),currents:e.labelFontSizeOption.currentOptions,type:"labelFontSize"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s("survey"===e.stylesType?e.$t("answerTextColor"):e.$t("labelTextColor")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"LabelColor")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.LabelColor?"#ffffff":e.styles.LabelColor}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s("survey"===e.stylesType?e.$t("choiceCheckedColor"):e.$t("checkedColor")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"CheckedColor")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.CheckedColor?"#ffffff":e.styles.CheckedColor}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])])])]),e._v(" "),s("div",{staticClass:"form-section"},[s("div",{staticClass:"slds-border_bottom form-title"},[e._v(e._s(e.$t("buttonLabel")))]),e._v(" "),s("div",{staticClass:"form-items-content"},[s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("buttonBackground")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"ButtonBg")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.ButtonBg?"#ffffff":e.styles.ButtonBg}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("buttonFontColor")))]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread select-box",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(t,"ButtonColor")}}},[s("div",{staticClass:"current-color",style:{"background-color":"none"===e.styles.ButtonColor?"#ffffff":e.styles.ButtonColor}}),e._v(" "),s("span",{staticClass:"icon"},[s("icon",{attrs:{name:"down",width:"14px",height:"14px","fill-color":"#706e6b"}})],1)])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center form-item"},[s("span",[e._v(e._s(e.$t("buttonFontSize")))]),e._v(" "),s("div",{staticClass:"input-wrapper"},[s("input-select",{attrs:{"default-label":e.$t("defaultLabel"),currents:e.buttonFontSizeOption.currentOptions,type:"buttonFontSize"},on:{"open-dropdown":e.openDropdown,"close-dropdown":e.closeDropdown,resize:e.resizeDropdown}})],1)])])]),e._v(" "),s("div",{style:e.colorPickerPosition},[s("color-picker",{ref:"bgColorList",attrs:{value:""},on:{"get-color":e.onColorSelected,"update-showing-status":function(t){return e.colorPickerShow(t)}}})],1)])]),e._v(" "),s("div",{staticClass:"form-choose-items form-choose-items-none"},[s("div",{staticClass:"choose-items-header",class:{"choosed-field":e.showAdvanced,"choose-items-bottom":e.showCustomize},on:{click:function(t){return e.toggleChooseBox("commonItems")}}},[s("span",{staticClass:"arrow-icon",class:{"arrow-down":e.showAdvanced}},[s("icon",{attrs:{name:"chevronright","fill-color":"#0070d2",width:"15px",height:"15px","charket-icon":""}})],1),e._v("\n      "+e._s(e.$t("advancedLabel"))+"\n    ")]),e._v(" "),s("transition",{attrs:{name:"expand"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanced,expression:"showAdvanced"}],staticClass:"choose-items-content advance-choose-section"},[s("div",{staticClass:"choose-items-content-padding"},[s("div",{staticClass:"advanced-title"},[e._v(e._s(e.$t("cssStyle")))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.advancedStyles,expression:"advancedStyles"}],staticClass:"slds-textarea advanced-content",domProps:{value:e.advancedStyles},on:{keyup:function(t){return e.addAdvancedStyles()},input:function(t){t.target.composing||(e.advancedStyles=t.target.value)}}})])])])],1),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.dropdownOptionData.options,currents:e.dropdownOptionData.currentOptions,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth},on:{"select-option":e.selectOption,close:e.closeDropdown}}):e._e(),e._v(" "),s("ld-modal",{ref:"addBgImgModal",attrs:{title:e.pageBgImgHeader,width:"50%"},scopedSlots:e._u([{key:"content",fn:function(){return[s("div",{staticClass:"slds-p-around_medium"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-content-title"},[e._v(e._s(e.$t("urlLabel")))]),e._v(" "),s("div",{staticClass:"modal-content-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bgImg,expression:"bgImg"}],staticClass:"slds-input",attrs:{type:"text"},domProps:{value:e.bgImg},on:{input:function(t){t.target.composing||(e.bgImg=t.target.value)}}})])])])]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{attrs:{neutral:""},on:{click:function(t){return e.cancelAddBgImg()}}},[e._v("\n        "+e._s(e.$t("global.cancelBtn"))+"\n      ")]),e._v(" "),s("ld-button",{attrs:{brand:""},on:{click:function(t){return e.saveBgImg()}}},[e._v("\n        "+e._s(e.$t("global.saveBtn"))+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,"43ca6134",null);"function"==typeof v.default&&Object(v.default)(g);t.a=g.exports},nOmU:function(e,t,s){"use strict";var i=s("yWOo");s.n(i).a},pUDi:function(e,t,s){"use strict";var i=s("SLhn"),o=s.n(i),a=s("3O4B"),n=s.n(a),l=s("WE60"),r=s.n(l),c=s("wG3i"),d=s.n(c),u=s("Ip10"),p=s.n(u),m=s("+Bun"),h=s.n(m),f=s("0G99"),v=s.n(f),g=s("vQrK"),b=s.n(g),y=s("mdEO"),_=s("TDue"),S=s("vkTm"),C=s("ngIk"),w=s("dcdS"),I=s("oWfJ"),F=s("L2JU"),L={components:{SelectField:_.a,ColorPicker:S.a,InputSelect:C.a,Dropdown:w.a,PhoneFrameCard:y.PhoneFrameCard},mixins:[I.a],props:{notify:{type:Object,default:()=>({contentTemplate:{keywords:[]}})},selectedMiniProgram:{type:Object,default:function(){return{}}},wechatAccountId:{type:String,default:()=>""}},data(){return{colorPickerPosition:"",newNotify:{},notifyColor:{first:"#000000",keywords:[],remark:"#000000"},colorType:"",mergeFieldType:"",keywords:[],notificationURL:"",note:"",showMergeField:!1,notifyFirst:"",notifyRemark:"",showFirst:"",showRemark:"",fieldObj:{},redirectOptionData:{options:[{Name:this.$t("urlLabel"),Value:"URL"},{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],currents:[{Name:this.$t("urlLabel"),Value:"URL"}]},selectedMiniProgramPage:{}}},computed:b()({},Object(F.c)({currentAccount:"sidebar/currentAccount"}),{isRedirectToURL(){return"URL"===this.redirectOptionData.currents[0].Value},isShowDetail(){return this.notificationURL||this.selectedMiniProgramPage.messageId}}),created(){this.newNotify=this.notify,this.notificationURL=this.newNotify.NotificationURL||"";let e=this.newNotify.Content.split(/{{.*?}}/gm),t=this.newNotify.Content.match(/{{.*?}}/gm),s=[];if(v()(e).call(e,(e,i)=>{s.push({name:e,value:t[i],key:t[i],color:"#000000"})}),this.$set(this.newNotify,"contentTemplate",s),this.notify.Id){var i,o;this.fieldObj=this.newNotify.mergeFieldObject;let e=p()(i=this.newNotify.contentTemplate).call(i,e=>{var t;return e.key&&0===h()(t=e.key).call(t,"{{first.")}),s=p()(o=this.newNotify.contentTemplate).call(o,e=>{var t;return e.key&&0===h()(t=e.key).call(t,"{{remark.")});e&&(e.color=this.newNotify.ContentMapping.first.color,e.value=this.newNotify.ContentMapping.first.value,this.notifyFirst=this.newNotify.ContentMapping.first.value,this.notifyColor.first=this.newNotify.ContentMapping.first.color),s&&(s.color=this.newNotify.ContentMapping.remark.color,s.value=this.newNotify.ContentMapping.remark.value,this.notifyRemark=this.newNotify.ContentMapping.remark.value,this.notifyColor.remark=this.newNotify.ContentMapping.remark.color),v()(t).call(t,(e,t)=>{if(0===h()(e).call(e,"{{first."))this.showFirst=e;else if(0===h()(e).call(e,"{{remark."))this.showRemark=e;else{var s;let t=e.match(/({{=?)(\S*)(?=.DATA)/g);const i=t[0].substr(2,t[0].length-1);this.keywords.push({label:i,value:this.newNotify.ContentMapping[i].value}),this.notifyColor.keywords.push(this.newNotify.ContentMapping[i].color);let o=p()(s=this.newNotify.contentTemplate).call(s,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===i);o.value=this.newNotify.ContentMapping[i].value,o.color=this.newNotify.ContentMapping[i].color}}),this.notificationURL=this.newNotify.ContentMapping.url||this.notificationURL}else v()(t).call(t,(e,t)=>{if(0===h()(e).call(e,"{{first."))this.showFirst=e;else if(0===h()(e).call(e,"{{remark."))this.showRemark=e;else{let t=e.match(/({{=?)(\S*)(?=.DATA)/g);this.keywords.push({label:t[0].substr(2,t[0].length-1),value:""}),this.notifyColor.keywords.push("#000000")}});this.note=this.newNotify.Note||"",this.selectedMiniProgram.messageId&&(this.redirectOptionData.currents=[{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],this.selectedMiniProgramPage=JSON.parse(d()(this.selectedMiniProgram)))},methods:{changeFirst(e){var t;p()(t=this.newNotify.contentTemplate).call(t,e=>{var t;return 0===h()(t=e.key).call(t,"{{first.")}).value=this.notifyFirst},changeRemark(){var e;p()(e=this.newNotify.contentTemplate).call(e,e=>{var t;return 0===h()(t=e.key).call(t,"{{remark.")}).value=this.notifyRemark},changeKey(e,t,s){var i;p()(i=this.newNotify.contentTemplate).call(i,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===s).value=e.target.value,this.keywords[t].value=e.target.value},onBgColor(e){if("first"===this.colorType){var t;this.notifyColor.first=e,p()(t=this.newNotify.contentTemplate).call(t,e=>{var t;return 0===h()(t=e.key).call(t,"{{first.")}).color=e}else if("remark"===this.colorType){var s;this.notifyColor.remark=e,p()(s=this.newNotify.contentTemplate).call(s,e=>{var t;return 0===h()(t=e.key).call(t,"{{remark.")}).color=e}else{var i,o,a;const t=r()(i=this.keywords).call(i,e=>e.label===this.colorType);n()(o=this.notifyColor.keywords).call(o,t,1,e),p()(a=this.newNotify.contentTemplate).call(a,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===this.colorType).color=e}},openColorPicker(e,t,s){var i;this.$refs.bgColorList.close(),this.colorType=s,this.colorPickerPosition=o()(i="position: absolute; left: ".concat(t,"px; top: ")).call(i,e,"px;"),this.$refs.bgColorList.open()},openSelectField(e){this.showMergeField=!0,this.mergeFieldType=e},closeSelectFiled(){this.showMergeField=!1},selectMergeField(e,t){if(this.fieldObj.label!==t.label&&(this.fieldObj=JSON.parse(d()(t))),"first"===this.mergeFieldType){var s;p()(s=this.newNotify.contentTemplate).call(s,e=>{var t;return 0===h()(t=e.key).call(t,"{{first.")}).value=this.notifyFirst+e,this.notifyFirst=this.notifyFirst+e}else if("remark"===this.mergeFieldType){var i;p()(i=this.newNotify.contentTemplate).call(i,e=>{var t;return 0===h()(t=e.key).call(t,"{{remark.")}).value=this.notifyRemark+e,this.notifyRemark=this.notifyRemark+e}else if("url"===this.mergeFieldType)this.notificationURL=e;else{var o,a;let t=p()(o=this.newNotify.contentTemplate).call(o,e=>{var t;return h()(t=e.key).call(t,this.mergeFieldType)>=0});const s=r()(a=this.keywords).call(a,e=>e.label===this.mergeFieldType);t.value=this.keywords[s].value,t.value=t.value+e,this.keywords[s].value=this.keywords[s].value+e}this.showMergeField=!1},prepareUpdatedData(){var e,t;let s={ContentMapping:{}};return s.Note=this.note,s.Title=this.newNotify.Title,this.showFirst&&(s.ContentMapping.first={value:this.notifyFirst,color:this.notifyColor.first}),v()(e=this.keywords).call(e,(e,t)=>{s.ContentMapping[e.label]={value:e.value,color:this.notifyColor.keywords[t]}}),this.showRemark&&(s.ContentMapping.remark={value:this.notifyRemark,color:this.notifyColor.remark}),this.isRedirectToURL?(s.NotificationURL=this.notificationURL,this.selectedMiniProgramPage={}):(this.notificationURL="",s.MiniProgramPageId=this.selectedMiniProgramPage.messageId||""),h()(t=this.notificationURL).call(t,"{!")>=0&&(s.NotificationURL="",s.ContentMapping.url=this.notificationURL),s},prepareCreatedData(){let e=this.prepareUpdatedData();return e.Content=this.newNotify.Content,this.newNotify.Industry&&(e.Industry=this.newNotify.Industry),this.newNotify.Sample&&(e.Sample=this.newNotify.Sample),e.TemplateId=this.newNotify.TemplateId,e},onChangeRedirectTo(e){this.redirectOptionData.currents=e,this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},onMiniProgramChanged(e){this.selectedMiniProgramPage=e}}},x=(s("Fblv"),s("KHd+")),k=s("A3YL"),T=Object(x.a)(L,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid slds-grid_vertical-align-start new-notification-page"},[s("phone-frame-card",{staticClass:"phone-model-outer",attrs:{name:e.currentAccount.Name}},[s("div",{attrs:{slot:"app-name"},slot:"app-name"},[e._v(e._s(e.$t("global.wechatLabel")))]),e._v(" "),s("span",{attrs:{slot:"back-label"},slot:"back-label"},[e._v(e._s(e.$t("global.backBtn")))]),e._v(" "),s("div",{staticClass:"phone-model-body",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"slds-box template-container"},[s("div",{staticClass:"template-section",class:{"has-padding":!e.isShowDetail}},[s("span",{staticClass:"slds-text-heading_small title",class:{"key-title":!e.showFirst}},[e._v(e._s(e.newNotify.Title))]),e._v(" "),e._l(e.newNotify.contentTemplate,(function(t){return[t.name?s("pre",{staticClass:"keyword"},[e._v(e._s(t.name))]):e._e(),e._v(" "),t.value?s("pre",{staticClass:"keyword",style:{color:t.color}},[e._v(e._s(t.value))]):e._e()]})),e._v(" "),e.isShowDetail?s("div",{staticClass:"detail-section",class:{"mini-program-detail":!e.isRedirectToURL}},[e.isRedirectToURL?e._e():s("icon",{staticClass:"mini-program-icon",attrs:{name:"miniProIcon",width:"16px",height:"16px","fill-color":"#706e6b","charket-icon":""}}),e._v(" "),e.isRedirectToURL?s("span",{staticClass:"slds-text-body_regular detail-value"},[e._v("\n              "+e._s(e.$t("detailsLabel"))+"\n            ")]):e._e(),e._v(" "),s("span",{staticClass:"detail-icon"},[s("icon",{attrs:{name:"chevronright","fill-color":"#b0adab",width:"14px",height:"14px"}})],1)],1):e._e()],2)])]),e._v(" "),s("div",{staticClass:"slds-col phone-model-footer",attrs:{slot:"action"},slot:"action"},[s("icon",{attrs:{name:"add","fill-color":"slds-icon_container slds-icon-text-default",width:"20px",height:"20px"}})],1)]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"right-content"},[s("span",{staticClass:"slds-text-heading_small content-title"},[e._v(e._s(e.$t("templateSettingLabel")))]),e._v(" "),e.showFirst?s("div",{staticClass:"input-section"},[s("label",[e._v("First")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notifyFirst,expression:"notifyFirst"}],staticClass:"slds-textarea value first",style:{color:e.notifyColor.first},domProps:{value:e.notifyFirst},on:{keyup:function(t){return e.changeFirst(t)},input:function(t){t.target.composing||(e.notifyFirst=t.target.value)}}}),e._v(" "),s("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openSelectField("first")}}},[s("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),s("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(100,755,"first")}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):e._e(),e._v(" "),e._l(e.keywords,(function(t,i){return s("div",{staticClass:"input-section"},[s("label",[e._v(e._s(t.label))]),e._v(" "),s("input",{staticClass:"slds-input value",style:{color:e.notifyColor.keywords[i]},attrs:{type:"text"},domProps:{value:t.value},on:{keyup:function(s){return e.changeKey(s,i,t.label)}}}),e._v(" "),s("span",{staticClass:"insert-icon short-icon down-btn",on:{click:function(s){return s.stopPropagation(),e.openSelectField(t.label)}}},[s("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),e.showFirst?s("span",{staticClass:"color-icon short-icon down-btn",on:{click:function(s){return s.stopPropagation(),e.openColorPicker(212+70*i,755,t.label)}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1):e._e(),e._v(" "),e.showFirst?e._e():s("span",{staticClass:"color-icon short-icon down-btn",on:{click:function(s){return s.stopPropagation(),e.openColorPicker(110+70*i,755,t.label)}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)])})),e._v(" "),e.showRemark?s("div",{staticClass:"input-section"},[s("label",[e._v("Remark")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notifyRemark,expression:"notifyRemark"}],staticClass:"slds-textarea value",style:{color:e.notifyColor.remark},domProps:{value:e.notifyRemark},on:{keyup:function(t){return e.changeRemark()},input:function(t){t.target.composing||(e.notifyRemark=t.target.value)}}}),e._v(" "),s("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openSelectField("remark")}}},[s("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),e.showFirst?s("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(204+70*e.keywords.length,755,"remark")}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1):e._e(),e._v(" "),e.showFirst?e._e():s("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(102+70*e.keywords.length,755,"remark")}}},[s("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):e._e(),e._v(" "),s("div",{staticClass:"input-section"},[s("label",[e._v("Redirect To")]),e._v(" "),s("div",{staticClass:"redirect-section"},[s("input-select",{staticClass:"redirect-section__picklist",attrs:{currents:e.redirectOptionData.currents},on:{"close-dropdown":e.closeDropdown,"open-dropdown":e.openDropdown,resize:e.resizeDropdown}}),e._v(" "),e.isRedirectToURL?s("div",{staticClass:"redirect-section__content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.notificationURL,expression:"notificationURL"}],staticClass:"slds-input",attrs:{type:"text",placeholder:e.$t("placeholderLabel")},domProps:{value:e.notificationURL},on:{input:function(t){t.target.composing||(e.notificationURL=t.target.value)}}}),e._v(" "),s("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return e.openSelectField("url")}}},[s("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):s("div",{staticClass:"redirect-section__content"},[s("mini-program-selector",{attrs:{selected:e.selectedMiniProgramPage,"wechat-account-id":e.wechatAccountId},on:{changed:function(t){return e.onMiniProgramChanged(t)}}})],1)],1)]),e._v(" "),s("span",{staticClass:"slds-text-heading_small content-title"},[e._v(e._s(e.$t("informationLabel")))]),e._v(" "),s("div",{staticClass:"input-section"},[s("label",[e._v(e._s(e.$t("noteLabel")))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],staticClass:"slds-textarea value note",attrs:{placeholder:e.$t("placeholderLabel")},domProps:{value:e.note},on:{input:function(t){t.target.composing||(e.note=t.target.value)}}})])],2)]),e._v(" "),s("div",{style:e.colorPickerPosition},[s("color-picker",{ref:"bgColorList",attrs:{value:""},on:{"get-color":e.onBgColor}})],1),e._v(" "),e.showMergeField?s("select-field",{attrs:{"title-name":"Campaigin Members","field-obj":e.fieldObj,"primary-disabled":!!e.notify.Id},on:{"close-merge-field":function(t){return e.closeSelectFiled()},"select-merge-field":e.selectMergeField}}):e._e(),e._v(" "),e.showDropdown?s("dropdown",{attrs:{options:e.redirectOptionData.options,currents:e.redirectOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth},on:{"select-option":function(t){return e.onChangeRedirectTo(t)},close:function(t){return e.closeDropdown()}}}):e._e()],1)}),[],!1,null,"57709f2e",null);"function"==typeof k.default&&Object(k.default)(T);t.a=T.exports},qVZU:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"preTitle":"上一页","nextTitle":"下一页"},"en":{"preTitle":"Previous Page","nextTitle":"Next Page"}}'),delete e.options._Ctor}},rEsM:function(e,t,s){"use strict";var i=s("HA+Y");s.n(i).a},rxPh:function(e,t,s){"use strict";var i=s("1MG1"),o=s.n(i);t.default=o.a},s48z:function(e,t,s){"use strict";var i=s("S06D"),o=s.n(i);t.default=o.a},svHN:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newNotifyLabel":"新建通知","saveNotifyLabel":"模板消息保存成功！"},"en":{"newNotifyLabel":"New Notification","saveNotifyLabel":"The notification was saved."}}'),delete e.options._Ctor}},t29s:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"urlLabel":"跳转链接","titleLabel":"标题","createdLabel":"创建人","keywordLabel":"关键字","noteLabel":"备注"},"en":{"urlLabel":"Notification URL","titleLabel":"Title","createdLabel":"Created By","keywordLabel":"Keywords","noteLabel":"Note"}}'),delete e.options._Ctor}},tAMZ:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectSkillLabel":"选择技能","nameLabel":"技能名称","knowledgeSourceLabel":"知识源","relatedToLabel":"相关项","descriptionLabel":"描述","validForLabel":"有效时间(分钟)","displayInLiveChatLabel":"在 Live Chat 中显示","internalLabel":"内部","lastModifiedByLabel":"上次修改人"},"en":{"selectSkillLabel":"Select Skill","nameLabel":"Name","knowledgeSourceLabel":"Knowledge Source","relatedToLabel":"Related To","descriptionLabel":"Description","validForLabel":"Valid For (mins)","displayInLiveChatLabel":"Display in Live Chat","internalLabel":"Internal","lastModifiedByLabel":"Last Modified By"}}'),delete e.options._Ctor}},tSYV:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newFormLabel":"新建表单","editFormLabel":"编辑表单","nameLabel":"名称","salesforceObjLabel":"Salesforce 对象","recordTypeLabel":"记录类型","noteLabel":"备注","accountLabel":"微信公众号","formAccountTip":"选择一个微信公众号可以让一个潜在客户或者客户和一个微信关注者关联。"},"en":{"newFormLabel":"New Form","editFormLabel":"Edit Form","nameLabel":"Name","salesforceObjLabel":"Salesforce Object","recordTypeLabel":"Record Type","noteLabel":"Note","accountLabel":"WeChat Account","formAccountTip":"Select a WeChat Account that can link a lead or contact with a WeChat follower."}}'),delete e.options._Ctor}},vyV3:function(e,t,s){"use strict";var i=s("AScg");s.n(i).a},wW5N:function(e,t,s){"use strict";var i=s("kbAI");s.n(i).a},wbfU:function(e,t,s){"use strict";var i=s("wG3i"),o=s.n(i),a=s("pUDi"),n=s("zUtI"),l=s("4B+h"),r={props:{notify:{type:Object,default:()=>({contentTemplate:{keywords:[]}})},accId:{type:String,default:()=>""}},components:{NewNotification:a.a},data:()=>({isSaveNotify:!1}),methods:{closeModal(e){this.$emit("close",e)},async saveNotify(){const e=this.accId||this.$route.params.accountId,t=this.$refs.newNotifyPage.prepareCreatedData();if(e)try{this.isSaveNotify=!0;const s=await Object(n.a)(e,o()(t));s.ok?(this.$router.app.$emit("open-toast-notification",{content:this.$t("saveNotifyLabel"),type:"success"}),this.closeModal(s),this.isSaveNotify=!1):(Object(l.f)(s),this.isSaveNotify=!1)}catch(e){Object(l.f)(e),this.isSaveNotify=!1}}}},c=(s("rEsM"),s("KHd+")),d=s("lNHh"),u=Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"new-notification-popup"},[s("section",{staticClass:"slds-modal slds-fade-in-open",attrs:{role:"dialog",tabindex:"-1","aria-labelledby":"modal-heading-01","aria-modal":"true","aria-describedby":"modal-content-id-1"}},[s("div",{staticClass:"slds-modal__container notify-width"},[s("header",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.closeModal()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium slds-hyphenate",attrs:{id:"modal-heading-01"}},[e._v(e._s(e.$t("newNotifyLabel")))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium modal-content-custom",attrs:{id:"modal-content-id-1"}},[s("new-notification",{ref:"newNotifyPage",attrs:{notify:e.notify,"wechat-account-id":e.accId}})],1),e._v(" "),s("footer",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.saveNotify()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),s("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"5fadaa67",null);"function"==typeof d.default&&Object(d.default)(u);t.a=u.exports},xWEm:function(e,t,s){"use strict";var i=s("INZ7");s.n(i).a},xncO:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"replyModeLabel":"回复模式","replyModeAll":"全部","replyModeRandom":"随机","nameLabel":"名称","changeSavedNofity":"修改已保存。","uploader":{"imageTitle":"上传图片","videoTitle":"上传视频","voiceTitle":"上传音频","titleLabel":"标题","descriptionLabel":"说明","cancelBtn":"取消","uploadBtn":"上传","uploadingBtn":"上传中","tooLarge":"最大文件大小为 2 MB。"},"exclusive":{"skillAddTitle":"移除已添加回复","skillAddContent":"技能无法和其他类型自动回复同时运行。添加当前技能会移除已添加回复。确定吗？","skillRemoveTitle":"移除已添加技能","skillRemoveContent":"技能无法和其他类型自动回复同时运行。添加当前回复会移除已添加技能。确定吗？"}},"en":{"replyModeLabel":"Reply Mode","replyModeAll":"All","replyModeRandom":"Random","nameLabel":"Name","changeSavedNofity":"Your changes are saved.","uploader":{"imageTitle":"Upload Image","videoTitle":"Upload Video","voiceTitle":"Upload Voice Clip","titleLabel":"Title","descriptionLabel":"Description","cancelBtn":"Cancel","uploadBtn":"Upload","uploadingBtn":"Uploading","tooLarge":"The maximum file size is 2 MB."},"exclusive":{"skillAddTitle":"Remove Added Responses","skillAddContent":"A skill cannot be executed along with any other auto responses. Adding this skill response removes all other auto responses. Are you sure?","skillRemoveTitle":"Remove Added Skill","skillRemoveContent":"A skill cannot be executed along with any other auto responses. Adding this auto response removes the previously added skill response. Are you sure?"}}}'),delete e.options._Ctor}},xswR:function(e,t,s){"use strict";var i=s("xncO"),o=s.n(i);t.default=o.a},yIy6:function(e,t,s){},yWOo:function(e,t,s){},ybke:function(e,t,s){},z7oQ:function(e,t,s){},zUtI:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"e",(function(){return a})),s.d(t,"g",(function(){return n})),s.d(t,"d",(function(){return l})),s.d(t,"b",(function(){return r})),s.d(t,"h",(function(){return c})),s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return u}));var i=s("00Ee");function o(e,t,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(i.a)({method:"NotificationTemplateRemoteActions.getNotificationTemplates",args:[e,t,s,o]})}function a(e,t,s,o){return Object(i.a)({method:"NotificationTemplateRemoteActions.getTemplates",args:[e,t,s,o]})}function n(e){return Object(i.a)({method:"NotificationTemplateRemoteActions.getWeChatPrivateTemplates",args:[e]})}function l(e){return Object(i.a)({method:"NotificationTemplateRemoteActions.getTemplate",args:[e]})}function r(e){return Object(i.a)({method:"NotificationTemplateRemoteActions.deleteTemplate",args:[e]})}function c(e,t){return Object(i.a)({method:"NotificationTemplateRemoteActions.updateTemplate",args:[e,t]})}function d(e,t){return Object(i.a)({method:"NotificationTemplateRemoteActions.createTemplate",args:[e,t]})}function u(e){return Object(i.a)({method:"NotificationTemplateRemoteActions.getWeChatNotifications",args:[e]})}}}]);