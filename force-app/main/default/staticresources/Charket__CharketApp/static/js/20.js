(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"09cB":function(t,e,s){},"22jB":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{},"en":{}}'),delete t.options._Ctor}},"5Ny6":function(t,e,s){"use strict";var a=s("t9rN");s.n(a).a},"5Qgp":function(t,e,s){},"7dC8":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"totalChatLabel":"聊天总数","chatLabel":"对话中","waitLabel":"等待接入","historyLabel":"已结束","closeLabel":"已关闭","msgSentLabel":"已发送的消息","firstResponseLabel":"专员首次响应时间","timeResponseLabel":"响应时间","chatDurationLabel":"聊天时长","noRecordLabel":"没有数据","markDoneLabel":"结束聊天","conversationLabel":"会话","detailLabel":"详情","relatedLabel":"相关","commentLabel":"留言","transferLabel":"转发","noBtn":"否","yesBtn":"是","modalContentLabel":"你确定要结束这次会话吗?","transferChat":"转发会话","timeRequestLabel":"请求时间"},"en":{"totalChatLabel":"Total Chats","chatLabel":"Chatting","waitLabel":"Waiting","historyLabel":"History","closeLabel":"Closed","msgSentLabel":"Messages Sent","firstResponseLabel":"Agent First Response Time","timeResponseLabel":"Response Time","chatDurationLabel":"Chat Duration","noRecordLabel":"No Records","markDoneLabel":"Mark as Done","conversationLabel":"Conversation","detailLabel":"Detail","relatedLabel":"Related","commentLabel":"Comment","transferLabel":"Transfer","noBtn":"No","yesBtn":"Yes","modalContentLabel":"Are you sure you want to end this conversation?","transferChat":"Transfer Chat","timeRequestLabel":"Request Time"}}'),delete t.options._Ctor}},"9iPR":function(t,e,s){},Ah4I:function(t,e,s){"use strict";var a=s("v/lj"),i=s.n(a);e.default=i.a},EO0a:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"tagLabel":"标签","genderLabel":"性别","addressLabel":"地址","subDateLabel":"关注日期","activityLabel":"最近活跃时间","relatedLabel":"相关","leadLabel":"潜在客户","leadNameLabel":"潜在客户名称","companyLabel":"公司","emailLabel":"电子邮件","phoneLabel":"手机","mobileLabel":"移动电话","leadSourceLabel":"潜在客户来源","leadStatusLabel":"潜在客户状态","contactLabel":"联系人","contactNameLabel":"联系人名字","accountNameLabel":"客户名","noRecordLabel":"没有记录"},"en":{"tagLabel":"Tags","genderLabel":"Gender","addressLabel":"Address","subDateLabel":"Subscription Date","activityLabel":"Last Activity Time","relatedLabel":"Related To","leadLabel":"Lead","leadNameLabel":"Lead Name","companyLabel":"Company","emailLabel":"Email","phoneLabel":"Phone","mobileLabel":"Mobile","leadSourceLabel":"Lead Source","leadStatusLabel":"Lead Status","contactLabel":"Contact","contactNameLabel":"Contact Name","accountNameLabel":"Account Name","noRecordLabel":"No Records"}}'),delete t.options._Ctor}},F5n6:function(t,e,s){"use strict";var a={props:{paginations:{type:Array},pageNumber:{type:Number,default:1}},data:()=>({currentPageNumber:1}),created(){this.currentPageNumber=this.pageNumber},methods:{changePageNumber(t,e){this.currentPageNumber="pre"===e?this.currentPageNumber-1:"next"===e?this.currentPageNumber+1:t,this.$emit("target",this.currentPageNumber)}}},i=(s("hkfk"),s("KHd+")),n=s("k/9o"),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.paginations.length>1?s("ul",{staticClass:"slds-grid slds-grid_align-center pagination"},[s("li",{staticClass:"page-turning-pre",attrs:{title:t.$t("preTitle")}},[t.currentPageNumber>1?s("a",{staticClass:"page-turning",attrs:{id:"previousPage"},on:{click:function(e){return t.changePageNumber("","pre")}}},[s("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1):s("a",{staticClass:"disabled page-turning",attrs:{id:"previousPageDisabled",disabled:"true"}},[s("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1)]),t._v(" "),t._l(t.paginations,(function(e){return s("li",{staticClass:"middle-page-number"},[0!==e.PageNumber?s("a",{class:{currentPage:e.PageNumber===t.currentPageNumber},on:{click:function(s){return t.changePageNumber(e.PageNumber)}}},[t._v(t._s(e.PageNumber))]):s("a",[t._v("...")])])})),t._v(" "),s("li",{staticClass:"page-turning-pre",attrs:{title:t.$t("nextTitle")}},[t.paginations[t.paginations.length-1].PageNumber!==t.currentPageNumber?s("a",{staticClass:"page-turning",attrs:{id:"nextPage"},on:{click:function(e){return t.changePageNumber("","next")}}},[s("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1):s("a",{staticClass:"disabled page-turning",attrs:{id:"nextPageDisabled",disabled:"true"}},[s("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1)])],2):t._e()}),[],!1,null,"430ba9bf",null);"function"==typeof n.default&&Object(n.default)(r);e.a=r.exports},HYpb:function(t,e,s){"use strict";s.r(e);var a=s("wG3i"),i=s.n(a),n=s("Yvyk"),r=s.n(n),o=s("ejTr"),l=s.n(o),c=s("4LGG"),d=s.n(c),h=s("8Vev"),u=s.n(h),g=s("vQrK"),p=s.n(g),m=s("692z"),b=s("ngIk"),f=s("dcdS"),_=s("oWfJ"),v=s("7aFC"),C=s("cybb"),T=s("SLhn"),y=s.n(T),L={methods:{$_managerMixin_secondsFormat(t){const e=Math.floor(t/86400),s=Math.floor((t-24*e*3600)/3600),a=Math.floor((t-24*e*3600-3600*s)/60),i=Math.floor(t-24*e*3600-3600*s-60*a);let n=this.$t("global.dayLabel"),r=this.$t("global.hourLabel"),o=this.$t("global.minuteLabel"),l=this.$t("global.secondLabel");var c,d,h,u,g,p,m,b,f,_,v,C,T;return e?s?y()(c=y()(d=y()(h="".concat(e)).call(h,n," ")).call(d,s)).call(c,r):y()(u="".concat(e)).call(u,n):s?a?y()(g=y()(p=y()(m="".concat(s)).call(m,r," ")).call(p,a)).call(g,o):y()(b="".concat(s)).call(b,r):a?i?y()(f=y()(_=y()(v="".concat(a)).call(v,o," ")).call(_,i)).call(f,l):y()(C="".concat(a)).call(C,o):y()(T="".concat(i)).call(T,l)}}},w=s("F5n6"),D=s("TPMu"),A=s("L2JU"),I={props:{agents:{type:Array,default:()=>[]},paginations:{type:Array,default:()=>[]},number:{type:Number,default:()=>1},agentColor:{type:Object,default:()=>({})}},filters:{filterName:v.d},inject:["showErrorImg"],computed:p()({},Object(A.c)({chatsLimit:"chatsettings/chatsLimit",currentUser:"user/currentUser"})),components:{Pagination:w.a,AgentStatusIcon:D.a},mixins:[L],data:()=>({botImage:s("dklp"),errorImg:s("GHCX")}),created(){},methods:{selectAgent(t,e){this.$set(t,"bgColor",e),this.$emit("select-agent",t)},target(t){this.$emit("select-page",t)},formatCount(t){return this.$_managerMixin_secondsFormat(t)},formatDatetimeFilter:()=>C.e}},S=(s("L596"),s("KHd+")),F=s("Ah4I"),M=Object(S.a)(I,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"charket-manager-list"}},[s("section",[s("table",{staticClass:"slds-table slds-table_bordered slds-no-row-hover slds-table--header-fixed manager-table",attrs:{role:"grid"}},[s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"15%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:t.$t("nameLabel")}},[t._v(t._s(t.$t("nameLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable statu",staticStyle:{width:"14%","text-align":"initial","padding-left":"22px"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:t.$t("statusLabel")}},[t._v(t._s(t.$t("statusLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"8%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"8%"},attrs:{title:t.$t("chatLabel")}},[t._v(t._s(t.$t("chatLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"7%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"7%"},attrs:{title:t.$t("waitLabel")}},[t._v(t._s(t.$t("waitLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"7%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"7%"},attrs:{title:t.$t("closeLabel")}},[t._v(t._s(t.$t("closeLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"12%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"12%"},attrs:{title:t.$t("msgSentLabel")}},[t._v(t._s(t.$t("msgSentLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"12%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"12%"},attrs:{title:t.$t("firstResponseLabel")}},[t._v(t._s(t.$t("firstResponseLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"12%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"12%"},attrs:{title:t.$t("timeResponseLabel")}},[t._v(t._s(t.$t("timeResponseLabel")))])]),t._v(" "),s("th",{staticClass:"slds-is-sortable slds-is-resizable",staticStyle:{width:"12%"},attrs:{focusable:"true",scope:"col"}},[s("span",{staticClass:"slds-truncate slds-cell-fixed",staticStyle:{width:"12%"},attrs:{title:t.$t("chatDurationLabel")}},[t._v(t._s(t.$t("chatDurationLabel")))])])])]),t._v(" "),s("tbody",{staticClass:"list-body slds-scrollable_y"},t._l(t.agents,(function(e,a){return s("tr",{staticClass:"slds-hint-parent agent-list-item",class:{"selected-agent":e.showDetail},on:{click:function(s){return s.stopPropagation(),t.selectAgent(e,t.agentColor[e.Id],a)}}},[s("th",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center",attrs:{title:e.Name}},[e.ProfilePhotoUrl?s("div",{staticClass:"agent-pic"},[s("img",{attrs:{src:t._f("imgFilter")(e.ProfilePhotoUrl)},on:{error:function(e){return t.showErrorImg(e)}}})]):t._e(),t._v(" "),e.ProfilePhotoUrl?t._e():s("div",{staticClass:"agent-pic",style:{"background-color":t.agentColor[e.Id]}},[t._v(t._s(t._f("filterName")(e.Name)))]),t._v(" "),s("span",{staticClass:"slds-truncate agent-name"},[t._v(t._s(e.Name))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate statu-value"},[s("agent-status-icon",{staticClass:"status-icon",class:{"no-since":!e.StatusModifiedTime},attrs:{status:e.Status,"is-disabled-notification":e.IsDoNotDisturbEnabled}}),t._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical statu-detail"},[s("span",{staticClass:"slds-truncate first"},[t._v(t._s(e.Status.Name))]),t._v(" "),e.StatusModifiedTime?s("span",{staticClass:"second"},[t._v(t._s(t.$t("agentStatusLabel",[""+t.formatDatetimeFilter()(e.StatusModifiedTime,t.currentUser.TimeZoneSidKey)])))]):t._e()])],1)]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate",class:{"num-right":-1!==e.ChattingCount}},[s("span",[t._v(t._s(-1===e.ChattingCount?"--":e.ChattingCount+"/"+t.chatsLimit))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate",class:{"num-right":-1!==e.WaitingCount}},[s("span",[t._v(t._s(-1===e.WaitingCount?"--":e.WaitingCount))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate num-right"},[s("span",[t._v(t._s(e.ClosedCount))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate num-right"},[s("span",[t._v(t._s(e.MessageCount))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate num-right"},[s("span",[t._v(t._s(-1===e.FirstResponseTime?"--":t.formatCount(e.FirstResponseTime)))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate num-right"},[s("span",[t._v(t._s(-1===e.ResponseTime?"--":t.formatCount(e.ResponseTime)))])])]),t._v(" "),s("td",{attrs:{role:"gridcell"}},[s("div",{staticClass:"slds-truncate num-right"},[s("span",[t._v(t._s(-1===e.ChatDuration?"--":t.formatCount(e.ChatDuration)))])])])])})),0)]),t._v(" "),s("pagination",{attrs:{paginations:t.paginations,"page-number":t.number},on:{target:t.target}}),t._v(" "),s("section",{staticClass:"footer"})],1)])}),[],!1,null,"2f00fc7e",null);"function"==typeof F.default&&Object(F.default)(M);var O=M.exports,$=s("pqUP"),x=s.n($),N=s("pweZ"),k=s("PgUQ"),R=s("w2Vt"),P=s("KTdE"),j=s("3KLK"),B=s("OB9W"),U=s("4Wlx"),H=s("4B+h"),W=s("LQ5e"),E=s.n(W),z=s("jkSJ"),K={props:{followerId:{type:String,default:()=>""},loadData:{type:Number,default:()=>-1}},computed:p()({},Object(A.e)({currentUser:t=>t.user.currentUser}),{leadOrContact(){return!this.currentFollower||"Lead"!==this.currentFollower.Type&&"Contact"!==this.currentFollower.Type?null:this.currentFollower[this.currentFollower.Type]}}),components:{LoadingSpinner:R.a,FollowerDetail:P.a,FollowerTag:j.a,RelatedDetail:B.a},watch:{loadData(){this.fetchDetails()}},data:()=>({currentFollower:{},isLoading:!1,leadOrContactDetail:null}),created(){this.fetchDetails()},methods:{async fetchDetails(){try{this.isLoading=!0;const t=await z.f.getFollowerDetail(this.followerId);this.currentFollower=t;let e="";const s=t.Type;if("Lead"!==s&&"Contact"!==s||(e=t[s].Id),!e)return;const a={Lead:U.h,Contact:U.f}[t.Type];if(!a)return;try{const s=await a(e);if(s.ok){const e=JSON.parse(E.a.unescape(s.data));e.Type=t.Type,this.leadOrContactDetail=e}else Object(H.f)(s)}catch(t){Object(H.f)(t)}finally{this.isLoading=!1}}catch(t){this.$handleError(t)}finally{this.isLoading=!1}}}},J=(s("5Ny6"),s("s0ft")),V=Object(S.a)(K,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoading?t._e():s("div",{staticClass:"tab-content slds-scrollable_y details-tab"},[s("follower-detail",{attrs:{follower:t.currentFollower,"has-basic":!1,"can-edit-related":!1}}),t._v(" "),s("follower-tag",{staticClass:"slds-border_top slds-m-top_medium slds-p-top_x-small",attrs:{follower:t.currentFollower,"can-edit":!1}}),t._v(" "),s("related-detail",{staticClass:"slds-m-top_xx-small slds-p-top_small slds-border_top",attrs:{detail:t.leadOrContactDetail,type:t.currentFollower.Type}})],1),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isLoading,"custom-style":"left: 280px;top: 150px;"}}),t._v(" "),t.currentFollower||t.isLoading?t._e():s("div",{staticClass:"no-record"},[s("span",[t._v(t._s(t.$t("noRecordLabel")))])])],1)}),[],!1,null,"7d406d6c",null);"function"==typeof J.default&&Object(J.default)(V);var q=V.exports,Y=s("5kNm"),Z={props:{followerId:{type:String,default:()=>""},loadData:{type:Number,default:()=>-1}},components:{LoadingSpinner:R.a,FollowerRelatedList:Y.a},computed:p()({},Object(A.c)({currentUser:"user/currentUser"}),{leadOrContact(){let t={};return this.follower&&"Follower"!==this.follower.Type&&(t=p()({},this.follower[this.follower.Type]),t.Type=this.follower.Type),t}}),watch:{loadData(){this.clearData(),this.fetchRelates()}},data:()=>({isLoading:!1,follower:null,relatedListLimit:3}),created(){this.fetchRelates()},methods:{async fetchRelates(){this.isLoading=!0;try{this.follower=await z.f.getFollowerDetail(this.followerId)}catch(t){this.$handleError(t)}this.isLoading=!1},clearData(){this.follower=null}}},G=(s("QK50"),s("cQCT")),Q=Object(S.a)(Z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"related-content"},[t.isLoading?t._e():s("div",{staticClass:"charket-related-object slds-scrollable_y"},["Contact"===t.follower.Type||"Lead"===t.follower.Type&&t.currentUser.Permissions.Objects.Campaign.IsReadable?s("div",{staticClass:"slds-box"},[s("follower-related-list",{attrs:{limit:t.relatedListLimit,"current-user":t.currentUser,"lead-or-contact":t.leadOrContact,"is-in-card":!0,type:"campaign"}})],1):t._e(),t._v(" "),"Contact"===t.follower.Type&&t.currentUser.Permissions.Objects.Opportunity.IsReadable?s("div",{staticClass:"slds-box slds-m-top_small"},[s("follower-related-list",{attrs:{limit:t.relatedListLimit,"current-user":t.currentUser,"lead-or-contact":t.leadOrContact,"is-in-card":!0,type:"opportunity"}})],1):t._e(),t._v(" "),"Contact"===t.follower.Type&&t.currentUser.Permissions.Objects.CaseObj.IsReadable?s("div",{staticClass:"slds-box slds-m-top_small"},[s("follower-related-list",{attrs:{limit:t.relatedListLimit,"current-user":t.currentUser,"lead-or-contact":t.leadOrContact,"is-in-card":!0,type:"case"}})],1):t._e()]),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isLoading,"custom-style":"left: 280px;top: 150px;"}})],1)}),[],!1,null,"cf3ea3de",null);"function"==typeof G.default&&Object(G.default)(Q);var X=Q.exports,tt=s("rZkV"),et=s.n(tt),st=s("ip3M"),at=s.n(st),it=s("wA34"),nt=s("DbBp"),rt=s("zlqK"),ot=s("dE3K"),lt=s("sWYD"),ct=s("gXqy"),dt=s("Y/WH"),ht=s("suXn"),ut=s.n(ht),gt=s("xt0/"),pt={props:{messages:{type:Array,default:()=>[]},senders:{type:Object,default:()=>({})},currentThread:{type:Object,default:()=>({})},isMsgLoading:{type:Boolean,default:()=>!1},isThreadLoading:{type:Boolean,default:()=>!1},nextTranscriptId:{type:String,default:""}},inject:["showErrorImg"],components:{notificationDetail:it.a,MiniProgramDetail:dt.a,UsersMessage:nt.a,SystemMessage:rt.a,DateInfo:ot.a,ImagePreview:gt.ImagePreview},computed:p()({},Object(A.e)({currentUser:t=>t.user.currentUser}),{messageList(){const t={},e=JSON.parse(i()(this.messages)),s=Object(C.b)(new Date,this.currentUser.TimeZoneSidKey);for(const a of e){a.WeChatCreatedTime=Object(C.b)(a.WeChatCreatedTime,this.currentUser.TimeZoneSidKey);const e=Object(lt.a)(a.WeChatCreatedTime,"M/d/yyyy");if(0===Object(ct.a)(s,a.WeChatCreatedTime)){if(!t[this.$t("today")]){const s=new Date(e).getTime();t[this.$t("today")]={Type:"DateInfo",WeChatCreatedTime:s,Content:this.$t("today"),height:51}}}else if(1===Object(ct.a)(s,a.WeChatCreatedTime)){if(!t[this.$t("yesterday")]){const s=new Date(e).getTime();t[this.$t("yesterday")]={Type:"DateInfo",WeChatCreatedTime:s,Content:this.$t("yesterday"),height:51}}}else{const s=Object(C.g)(e,"week");if(!t[s]){const a=new Date(e).getTime();t[s]={Type:"DateInfo",WeChatCreatedTime:a,Content:s,height:51}}}}const a=at()(t),n=ut.a.orderBy(y()(e).call(e,a),"WeChatCreatedTime","asc");return n.length>this.messagesPage*this.messagesPageLimit?et()(n).call(n,-this.messagesPage*this.messagesPageLimit):n},senderColor(){let t={};if(this.senders){const e=["#29a49c","#eb6e66","#655df0","#42ac5e"];let s=0;for(const a of l()(this.senders))a===this.currentThread.AgentId?t[a]="#116fd2":(t[a]=e[s],s++,s>3&&(s=0))}return t},loadMsg(){return this.isMsgLoading}}),data:()=>({botImage:s("dklp"),errorImg:s("GHCX"),loadingMessage:!1,currentViewImage:{},showCaseCheckBox:!1}),created(){},methods:{loadMessage(t){this.$emit("load-message",t,!0)},viewCurrentImage(t,e){e="null"===e?"":e,this.currentViewImage={url:t,name:e},this.$refs.ImagePreview.open()},messageTypeFilter:t=>"DateInfo"===t.Type?"DateInfo":"System"!==t.SendBy&&"Lock"!==t.Type&&"Close"!==t.Type&&"MP Chat Opened"!==t.Type?"UsersMessage":"SystemMessage"}},mt=(s("hA8h"),s("iEJ6")),bt=Object(S.a)(pt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isThreadLoading?t._e():s("div",{staticClass:"charket-chat-message slds-scrollable_y"},[s("ul",[s("li",{directives:[{name:"show",rawName:"v-show",value:t.nextTranscriptId&&"Completed"!==t.currentThread.Status,expression:"nextTranscriptId && currentThread.Status !== 'Completed'"}],staticClass:"load-more-area"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!t.loadMsg&&t.currentThread&&!t.currentThread.IsDisabled,expression:"!loadMsg && currentThread && !currentThread.IsDisabled"}],staticClass:"scroll-message",on:{click:function(e){return t.loadMessage(e)}}},[t._v(t._s(t.$t("loadOldMsgLabel")))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadMsg,expression:"loadMsg"}],staticClass:"scroll-message"},[t._v(t._s(t.$t("chatHistoryLabel")))])]),t._v(" "),t._l(t.messageList,(function(e,a){return s("li",{key:a,staticClass:"slds-media slds-comment slds-hint-parent copy-use-li"},[s(t.messageTypeFilter(e),{tag:"component",attrs:{senders:t.senders,"sender-color":t.senderColor,"current-user":t.currentUser,index:a,"current-thread":t.currentThread,"show-case-checkbox":t.showCaseCheckBox,message:e},on:{"view-current-image":t.viewCurrentImage,"update:message":function(t){e=t}}})],1)}))],2),t._v(" "),s("image-preview",{ref:"ImagePreview",attrs:{url:t._f("imgFilter")(t.currentViewImage.url),name:t.currentViewImage.name}}),t._v(" "),t.loadMsg||t.isThreadLoading||0!==t.messages.length||t.nextTranscriptId?t._e():s("div",{staticClass:"no-record"},[s("span",[t._v(t._s(t.$t("noRecordsLabel")))])])],1)}),[],!1,null,"36edf438",null);"function"==typeof mt.default&&Object(mt.default)(bt);var ft=bt.exports,_t=s("UX+f"),vt=s("00Ee");function Ct(t,e,s){return Object(vt.a)({method:"LiveChatMonitorRemoteActions.getAgentsChatSummaryDataByUserId",args:[t,e,s]})}function Tt(t,e,s,a,i){return Object(vt.a)({method:"LiveChatMonitorRemoteActions.getThreads",args:[t,e,s,a,i]})}var yt={props:{agent:{type:Object,default:()=>({})},filter:{type:Object,default:()=>({})}},filters:{filterName:v.d},inject:["showErrorImg"],components:{ThreadListItem:N.a,ChatAgentList:k.a,Detail:q,Related:X,ChatMessage:ft,LoadingSpinner:R.a,CktLink:_t.a,AgentStatusIcon:D.a},mixins:[L],computed:p()({},Object(A.c)({currentUser:"user/currentUser",chatsLimit:"chatsettings/chatsLimit"}),{canTranfer:function(){return!this.assignToAgent.id},noNameFollowerInfo(){if(this.currentThread&&this.currentThread.Follower){const t=this.currentThread.Follower.Id,e=t.substring(0,t.length-3);return Object(H.c)(e)}return{Name:"A",BgColor:"#29a49c"}},currentThreads(){return this.isHistoryThread?[]:this.isChattingThread?this.chattingThreads:this.waitingThreads},totalChats(){const t=this.monitorCount.chattingCount+this.monitorCount.waitingCount+this.monitorCount.closedCount;return t<=-1?"N/A":t},responseTime(){return-1===this.monitorCount.averageResponseTime?"N/A":this.$_managerMixin_secondsFormat(this.monitorCount.averageResponseTime)},chatDuration(){return-1===this.monitorCount.chatDuration?"N/A":this.$_managerMixin_secondsFormat(this.monitorCount.chatDuration)},requestTime(){let t;return t=this.currentThread.RequestTime?Object(C.e)(this.currentThread.RequestTime,this.currentUser.TimeZoneSidKey):"--",t},chatTime(){if(this.isHistoryThread)return this.currentThread.ChatDuration?this.$_managerMixin_secondsFormat(this.currentThread.ChatDuration):"--";{if(!this.currentThread.StartTime)return"--";let t=Object(C.b)(this.currentThread.StartTime,this.currentUser.TimeZoneSidKey).getTime(),e=Object(C.b)(new Date,this.currentUser.TimeZoneSidKey).getTime();return this.chatRequestTime=e-t,this.$_managerMixin_secondsFormat(this.chatRequestTime/1e3)}},acceptTime(){let t;return t=this.currentThread.StartTime?Object(C.e)(this.currentThread.StartTime,this.currentUser.TimeZoneSidKey):"--",t},timeLimits(){return{StartTime:u()(this).StartTime,EndTime:u()(this).EndTime}},threadsToDisplay(){return this.isHistoryThread?this.historyThreads:this.currentThreads},isChattingThread(){return"Chatting"===this.threadType},isWaitingThread(){return"Waiting"===this.threadType},isHistoryThread(){return"History"===this.threadType}}),beforeDestroy(){clearInterval(this.chatDurationTimer)},watch:{"filter.WeChatAgentId":async function(){await this.initDetailPageData(),this.scrollToBottom()}},data:()=>({messageCursor:"",messageLimit:50,nextTranscriptId:"",detailType:"Conversation",currentThread:{Follower:{Id:""},Id:"",WeChatAccount:{Id:"",Name:""}},showAgentList:!1,isSelectThread:!1,currentAgentItem:null,isTransferButtonDisabled:!1,assignToAgent:{id:"",comment:""},buttonDisabled:!1,isFetchData:!1,chatMessages:[],chatSenders:{},threads:[],chattingThreads:[],waitingThreads:[],historyThreads:[],threadType:"Chatting",pageNumber:1,monitorCount:{agentMessageCounts:0,averageFirstResponse:0,averageResponseTime:0,chatDuration:0,chattingCount:0,closedCount:0,waitingCount:0},isHistoryLoading:!1,isHistoryDone:!0,chatRequestTime:0,chatDurationTimer:null,isLoadingMoreMsg:!1,loadData:-1}),mounted(){this.chatDurationTimer=x()(()=>{this.currentThread.Id&&!this.isHistoryThread&&"--"!==this.chatTime&&(this.chatRequestTime=this.chatRequestTime++)},1e3),this.scrollToBottom()},async created(){await this.initDetailPageData(),this.scrollToBottom()},methods:{async initDetailPageData(){this.initAllData(),this.isFetchData=!0,await r.a.all([this.fetchThreads(),this.fetchMonitorDetailByAgentId()]),this.monitorCount.chattingCount=this.chattingThreads.length,this.monitorCount.waitingCount=this.waitingThreads.length,this.currentThreads.length>0?(this.currentThread=this.currentThreads[0],this.isSelectThread=!0,await this.fetchChatMessages(),this.isSelectThread=!1,this.isFetchData=!1,this.$emit("load-data-success")):(this.isFetchData=!1,this.$emit("load-data-success"))},async fetchThreads(){if(await r.a.all([this.fetchThreadsByType("Chatting"),this.fetchThreadsByType("Waiting")]),this.threads.length>0)for(const t of this.threads)this.$set(this.chatSenders,t.Follower.Id,{Id:t.Follower.Id,Name:t.Follower.Name,PhotoUrl:t.Follower.PhotoUrl}),this.$set(this.chatSenders,t.Agent.Id,{Id:t.Agent.Id,Name:t.Agent.Name,PhotoUrl:t.Agent.PhotoUrl})},async fetchThreadsByType(t){try{const n=await Tt(u()(this).WeChatAccountIds,u()(this).WeChatAgentId,i()(this.timeLimits),t,this.pageNumber);if(!n.ok)return this.isFetchData=!1,Object(H.f)(n),!0;{var e;const i=JSON.parse(E.a.unescape(n.data));var s;if("Chatting"===t)this.chattingThreads=y()(s=this.chattingThreads).call(s,i.threads);else if("Waiting"===t){var a;this.waitingThreads=y()(a=this.waitingThreads).call(a,i.threads)}if(this.threads=y()(e=this.threads).call(e,i.threads),i.done)return this.pageNumber=1,this.isFetchData=!1,!0;this.pageNumber++,this.fetchThreadsByType(t)}}catch(t){return this.isFetchData=!1,Object(H.f)(t),!0}},async fetchHistoryThreads(){try{const e=await Tt(u()(this).WeChatAccountIds,u()(this).WeChatAgentId,i()(this.timeLimits),"History",this.pageNumber);if(e.ok){var t;const s=JSON.parse(E.a.unescape(e.data));this.historyThreads=y()(t=this.historyThreads).call(t,s.threads),this.isHistoryDone=s.done}else this.isHistoryLoading=!1,Object(H.f)(e)}catch(t){this.isHistoryLoading=!1,Object(H.f)(t)}},async fetchChatMessages(t){try{t=t||this.currentThread.Id;const s=await function(t,e,s){return Object(vt.a)({method:"LiveChatRemoteActions.getTranscriptItems",args:[t,e,s]})}(t,this.messageCursor,this.messageLimit);if(s.ok){const t=JSON.parse(E.a.unescape(s.data));this.messageCursor=this.nextTranscriptId===t.nextTranscriptId||this.currentThread.Id===t.nextTranscriptId?t.cursor:"",this.nextTranscriptId=t.nextTranscriptId;for(const e of t.records)"Agent"!==e.SendBy&&"Supervisor"!==e.SendBy||this.$set(this.chatSenders,e.Sender.Id,{Id:e.Sender.Id,Name:e.Sender.Name,PhotoUrl:e.Sender.PhotoUrl}),e.Body&&"object"==typeof e.Body&&(e.Body.Content=e.Body.IsKeyword?"[Keyword] "+e.Body.Content:e.Body.Content);var e;if(t.records)this.chatMessages=y()(e=this.chatMessages).call(e,t.records)}else this.errorMsg(s)}catch(t){this.errorMsg(t)}},errorMsg(t){this.isFetchData=!1,this.isSelectThread=!1,this.$emit("load-data-success"),Object(H.f)(t)},async scrollFetchChatMessages(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.nextTranscriptId&&!this.isSelectThread&&!this.isLoadingMoreMsg)if(e){const t=this.$refs.threadContent,e=t.scrollHeight;this.isLoadingMoreMsg=!0,await this.fetchChatMessages(this.nextTranscriptId),this.isLoadingMoreMsg=!1;const s=t.scrollHeight;t.scrollTop=s-e}else{const e=t.target;if(0===e.scrollTop&&!this.isHistoryThread){const t=e.scrollHeight;this.isLoadingMoreMsg=!0,await this.fetchChatMessages(this.nextTranscriptId),this.isLoadingMoreMsg=!1;const s=e.scrollHeight;e.scrollTop=s-t}}},scrollToBottom(){this.$nextTick(()=>{if(this.currentThread.Id){let t=this.$refs.threadContent;t.scrollTop=t.scrollHeight}})},async fetchMonitorDetailByAgentId(){try{const t=await Ct(u()(this).WeChatAccountIds,[u()(this).WeChatAgentId],i()(this.timeLimits));if(t.ok){const e=JSON.parse(E.a.unescape(t.data));let s=this.monitorCount;s.agentMessageCounts=e.agentMessageCounts,s.averageFirstResponse=e.averageFirstResponse,s.averageResponseTime=e.averageResponseTime,s.chatDuration=e.chatDuration,s.closedCount=e.closedCount}else this.isFetchData=!1,Object(H.f)(t)}catch(t){this.isFetchData=!1,Object(H.f)(t)}},async switchThreadTab(t){if(!this.isSelectThread)if(this.threadType=t,this.initRightData(),this.initCurrentThread(),"History"===t)this.isSelectThread=!0,this.isHistoryLoading=!0,this.historyThreads=[],await this.fetchHistoryThreads(),this.isHistoryLoading=!1,this.historyThreads.length>0?(this.currentThread=this.historyThreads[0],await this.fetchChatMessages(),this.isHistoryLoading=!1,this.isSelectThread=!1,this.scrollToBottom()):this.isSelectThread=!1;else{if(this.threads=[],this.historyThreads=[],this.chattingThreads=[],this.waitingThreads=[],this.isHistoryDone=!0,this.isFetchData=!0,await r.a.all([this.fetchThreadsByType(t),this.fetchMonitorDetailByAgentId()]),this.threads.length>0)for(const t of this.threads)this.$set(this.chatSenders,t.Follower.Id,{Id:t.Follower.Id,Name:t.Follower.Name,PhotoUrl:t.Follower.PhotoUrl}),this.$set(this.chatSenders,t.Agent.Id,{Id:t.Agent.Id,Name:t.Agent.Name,PhotoUrl:t.Agent.PhotoUrl});this.currentThreads.length>0?(this.currentThread=this.currentThreads[0],this.isSelectThread=!0,await this.fetchChatMessages(),this.isFetchData=!1,this.isSelectThread=!1,this.scrollToBottom()):this.isFetchData=!1}},async switchTab(t){this.currentThread.Id&&(this.detailType=t,"Conversation"===t?(this.initRightData(),this.isSelectThread=!0,await this.fetchChatMessages(),this.isSelectThread=!1,this.scrollToBottom()):"Related"===t?this.loadData=(new Date).getTime():"Detail"===t&&(this.loadData=(new Date).getTime()))},async selectThread(t){this.isSelectThread||(this.currentThread=t,this.initRightData(),this.isSelectThread=!0,await this.fetchChatMessages(),this.isSelectThread=!1,this.scrollToBottom())},initCurrentThread(){this.currentThread={Follower:{},LastItem:{},WeChatAccount:{Id:"",Name:""}}},initAllData(){this.detailType="Conversation",this.threadType="Chatting",this.initCurrentThread(),this.chattingThreads=[],this.waitingThreads=[],this.threads=[],this.chatMessages=[],this.historyThreads=[],this.isHistoryDone=!0,this.chatSenders={},this.messageCursor=""},initRightData(){this.detailType="Conversation",this.chatMessages=[],this.chatSenders={},this.messageCursor=""},openAgentAssignmentModal(){this.showAgentList=!0,this.$refs.agentAssignment.open()},openMarkAsDoneModal(){this.$refs.markAsDonePopup.open()},selectAgent(t){this.assignToAgent.id=t.Id},onRemove(){this.assignToAgent.id=""},onClickAssignTranscriptToAgentCancel(){this.$refs.agentAssignment.close()},assignTranscriptToAgent:async function(){this.setTransferButtonStatus(!0);const t=await(e={transcriptId:this.currentThread.Id,oldAgentId:this.currentThread.Agent.Id,newAgentId:this.assignToAgent.id,content:this.assignToAgent.comment},Object(vt.a)({method:"LiveChatMonitorRemoteActions.transferAgentBySupervisor",args:[e.transcriptId,e.oldAgentId,e.newAgentId,e.content]}));var e;t.ok?(this.initDetailPageData(),this.$refs.agentAssignment.close(),this.clearAgentData(),this.setTransferButtonStatus(!1)):this.$refs.agentAssignment.showError(t.error)},setTransferButtonStatus(t){this.isTransferButtonDisabled=t},clearAgentData(){this.showAgentList=!1,this.currentAgentItem={Name:""},this.assignToAgent.comment="",this.assignToAgent.id=""},closeMarkAsDoneModal(){this.$refs.markAsDonePopup.close()},closeTranscript:async function(){if(this.buttonDisabled=!0,this.currentThread){let t=await function(t){let{transcriptId:e}=t;return Object(vt.a)({method:"LiveChatMonitorRemoteActions.completeChat",args:[e]})}({transcriptId:this.currentThread.Id});if(!t.ok)return void this.$refs.markAsDonePopup.showError(t.error);this.initDetailPageData()}this.buttonDisabled=!1,this.$refs.markAsDonePopup.close()},async refreshData(){await this.initDetailPageData(),this.scrollToBottom()},async loadHistory(t){if(this.isHistoryThread){const e=t.target;!this.isHistoryDone&&e.scrollTop>=e.scrollHeight-e.clientHeight&&(this.pageNumber++,this.isHistoryLoading=!0,await this.fetchHistoryThreads(),this.isHistoryLoading=!1)}}}},Lt=(s("YaTm"),s("nGVY")),wt=Object(S.a)(yt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"charket-manager-detail"},on:{click:function(t){t.stopPropagation()}}},[s("section",{staticClass:"manager-detail-page slds-border_left"},[s("section",{staticClass:"slds-grid slds-grid_vertical-align-center header-detail slds-border_bottom"},[t.agent.ProfilePhotoUrl?s("div",{staticClass:"avatar-panel"},[s("img",{attrs:{src:t._f("imgFilter")(t.agent.ProfilePhotoUrl)},on:{error:function(e){return t.showErrorImg(e)}}})]):t._e(),t._v(" "),t.agent.ProfilePhotoUrl?t._e():s("div",{staticClass:"avatar-panel",style:{"background-color":t.agent.bgColor}},[t._v(t._s(t._f("filterName")(t.agent.Name)))]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical detail-value agent-name-section"},[s("span",{staticClass:"detail-name slds-truncate",attrs:{title:t.agent.Name}},[t._v(t._s(t.agent.Name))]),t._v(" "),s("span",{staticClass:"slds-grid slds-grid_vertical-align-center detail-status"},[s("agent-status-icon",{staticClass:"status-icon",attrs:{status:t.agent.Status,"is-disabled-notification":t.agent.IsDoNotDisturbEnabled}}),t._v(" "),s("span",{staticClass:"detail-status-value slds-truncate"},[t._v(t._s(t.agent.Status.Name))])],1)]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical detail-value narrow"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("totalChatLabel")))]),t._v(" "),s("span",{staticClass:"count-value"},[t._v(t._s(t.totalChats))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical detail-value"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("msgSentLabel")))]),t._v(" "),s("span",{staticClass:"count-value"},[t._v(t._s(t.monitorCount.agentMessageCounts))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical detail-value"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("timeResponseLabel")))]),t._v(" "),s("span",{staticClass:"count-value"},[t._v(t._s(t.responseTime))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical detail-value narrow"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("chatDurationLabel")))]),t._v(" "),s("span",{staticClass:"count-value"},[t._v(t._s(t.chatDuration))])]),t._v(" "),s("button",{staticClass:"refresh-btn slds-button slds-button_icon slds-button_icon-border-filled down-btn",on:{click:function(e){return t.refreshData()}}},[s("icon",{attrs:{name:"refresh","class-name":"down-icon",category:"utility",width:"14px",height:"14px"}})],1)]),t._v(" "),s("section",{staticClass:"slds-grid content-detail"},[s("section",{staticClass:"left-section slds-border_right"},[s("nav",{staticClass:"header"},[s("div",{staticClass:"slds-tabs_default"},[s("ul",{staticClass:"slds-tabs_default__nav tab-list"},[s("li",{staticClass:"slds-tabs_default__item",class:{"slds-is-active":t.isChattingThread},attrs:{title:t.$t("chatLabel")},on:{click:function(e){return t.switchThreadTab("Chatting")}}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"}},[t._v("\n                  "+t._s(-1===t.monitorCount.chattingCount?"0":t.monitorCount.chattingCount)+"/"+t._s(t.chatsLimit)+" "+t._s(t.$t("chatLabel"))+"\n                ")])]),t._v(" "),s("li",{staticClass:"slds-tabs_default__item",class:{"slds-is-active":t.isWaitingThread},attrs:{title:t.$t("waitLabel")},on:{click:function(e){return t.switchThreadTab("Waiting")}}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"}},[t._v("\n                  "+t._s(-1===t.monitorCount.waitingCount?"0":t.monitorCount.waitingCount)+" "+t._s(t.$t("waitLabel"))+"\n                ")])]),t._v(" "),s("li",{staticClass:"slds-tabs_default__item slds-grid slds-grid_align-spread slds-grid_vertical-align-center history-thread-tab",class:{"slds-is-active":t.isHistoryThread},attrs:{title:t.$t("historyLabel")},on:{click:function(e){return t.switchThreadTab("History")}}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"}},[t._v("\n                  "+t._s(t.monitorCount.closedCount)+"\n                ")]),t._v(" "),s("span",{staticClass:"history-icon down-btn"},[s("icon",{attrs:{name:"history","class-name":"down-icon",category:"utility",width:"16px",height:"16px"}})],1)])])])]),t._v(" "),s("ul",{staticClass:"list-items slds-scrollable_y",on:{scroll:function(e){return t.loadHistory(e)}}},t._l(t.threadsToDisplay,(function(e){return s("li",{key:e.Id,staticClass:"list-item slds-border_bottom",class:{active:e.Id===t.currentThread.Id},on:{click:function(s){return t.selectThread(e)}}},[s("thread-list-item",{attrs:{"tab-name":t.threadType,"current-user":t.currentUser,thread:e,"is-monitor":!0}})],1)})),0),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isHistoryLoading}}),t._v(" "),0!==t.currentThreads.length||0!==this.historyThreads.length||t.isHistoryLoading||t.isFetchData?t._e():s("section",{staticClass:"no-record"},[t._v(t._s(t.$t("noRecordLabel")))])],1),t._v(" "),t.currentThread.Id?s("section",{staticClass:"right-section"},[s("section",{staticClass:"thread-detail slds-border_bottom"},[s("section",{staticClass:"slds-grid slds-grid_vertical-align-center detail-section"},[t.currentThread.Follower.PhotoUrl&&"https"!==t.currentThread.Follower.PhotoUrl?s("div",{staticClass:"avatar-panel name"},[s("img",{attrs:{src:t._f("imgFilter")(t.currentThread.Follower.PhotoUrl)},on:{error:function(e){return t.showErrorImg(e)}}})]):s("div",{staticClass:"avatar-panel name",style:{"background-color":t.noNameFollowerInfo.BgColor}},[t._v(t._s(t.noNameFollowerInfo.Name))]),t._v(" "),s("section",{staticClass:"agent-detail"},[s("section",{staticClass:"slds-grid slds-grid_vertical left"},[s("span",{staticClass:"name-value slds-truncate"},[s("ckt-link",{attrs:{href:"/"+t.currentThread.Follower.Id,label:t.currentThread.Follower.Name}})],1),t._v(" "),s("span",{staticClass:"acc-value slds-truncate"},[t._v(t._s(t.currentThread.WeChatAccount.Name))])])]),t._v(" "),this.isHistoryThread?t._e():s("span",{staticClass:"transfer-icon down-btn",class:{"en-transfer-btn":t.$t("markDoneLabel").indexOf("Mark")>-1},attrs:{title:t.$t("transferChat")},on:{click:function(e){return t.openAgentAssignmentModal()}}},[s("icon",{attrs:{name:"transfer","class-name":"transfer-agent down-icon",width:"30px",height:"30px"}})],1),t._v(" "),t.isHistoryThread?t._e():s("button",{staticClass:"slds-button slds-button_brand mark-btn",on:{click:function(e){return t.openMarkAsDoneModal()}}},[s("icon",{attrs:{name:"check",category:"utility","class-name":"slds-button__icon slds-button__icon_left"}}),t._v("\n              "+t._s(t.$t("markDoneLabel"))+"\n            ")],1)]),t._v(" "),s("section",{staticClass:"slds-grid count-section"},[s("section",{staticClass:"count-detail first"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("timeRequestLabel")))]),t._v(" "),s("p",{staticClass:"count-value"},[t._v(t._s(t.requestTime))])]),t._v(" "),s("section",{staticClass:"count-detail center"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("firstResponseLabel")))]),t._v(" "),s("p",{staticClass:"count-value"},[t._v(t._s(t.acceptTime))])]),t._v(" "),s("section",{staticClass:"count-detail last"},[s("span",{staticClass:"count-label"},[t._v(t._s(t.$t("chatDurationLabel")))]),t._v(" "),s("p",{staticClass:"count-value"},[t._v(t._s(t.chatTime))])])])]),t._v(" "),s("section",{staticClass:"slds-grid thread-tab"},[s("div",{staticClass:"slds-tabs_default"},[s("ul",{staticClass:"slds-tabs_default__nav"},[s("li",{staticClass:"slds-tabs_default__item",class:{"slds-active":"Conversation"===t.detailType}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.switchTab("Conversation")}}},[t._v(t._s(t.$t("conversationLabel")))])]),t._v(" "),s("li",{staticClass:"slds-tabs_default__item",class:{"slds-active":"Detail"===t.detailType}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.switchTab("Detail")}}},[t._v(t._s(t.$t("detailLabel")))])]),t._v(" "),s("li",{staticClass:"slds-tabs_default__item",class:{"slds-active":"Related"===t.detailType}},[s("a",{staticClass:"slds-tabs_default__link tab-value",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.switchTab("Related")}}},[t._v(t._s(t.$t("relatedLabel")))])])])])]),t._v(" "),s("section",{ref:"threadContent",staticClass:"thread-content slds-scrollable_y",on:{scroll:function(e){return t.scrollFetchChatMessages(e)}}},["Conversation"===t.detailType?s("chat-message",{attrs:{messages:t.chatMessages,"current-thread":t.currentThread,senders:t.chatSenders,"is-msg-loading":t.isLoadingMoreMsg,"is-thread-loading":t.isSelectThread,"next-transcript-id":t.nextTranscriptId},on:{"load-message":t.scrollFetchChatMessages}}):t._e(),t._v(" "),"Detail"===t.detailType?s("detail",{attrs:{"follower-id":t.currentThread.Follower.Id,"load-data":t.loadData}}):t._e(),t._v(" "),"Related"===t.detailType?s("related",{attrs:{"follower-id":t.currentThread.Follower.Id,"load-data":t.loadData}}):t._e()],1)]):t._e(),t._v(" "),t.currentThread.Id||t.isHistoryLoading||t.isFetchData?t._e():s("div",{staticClass:"no-thread-record"},[s("span",[t._v(t._s(t.$t("noRecordLabel")))])])]),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isSelectThread,"custom-style":"left: 280px;top: 224px;"}}),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isFetchData}})],1),t._v(" "),s("ld-modal",{ref:"agentAssignment",attrs:{title:t.$t("transferChat")},on:{close:function(e){return t.clearAgentData()}},scopedSlots:t._u([{key:"content",fn:function(){return[s("div",{staticClass:"slds-p-around_medium"},[s("div",{staticClass:"agent-assignment"},[t.currentThread&&t.currentThread.Agent&&t.showAgentList?s("chat-agent-list",{attrs:{"account-id":t.currentThread.WeChatAccount.Id,"user-id":t.currentThread.UserId,current:t.currentAgentItem,"from-agent-id":t.currentThread.Agent.Id},on:{select:function(e){return t.selectAgent(e)},remove:function(e){return t.onRemove()}}}):t._e(),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label comment-label"},[t._v(t._s(t.$t("commentLabel")))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.assignToAgent.comment,expression:"assignToAgent.comment"}],staticClass:"slds-textarea",domProps:{value:t.assignToAgent.comment},on:{input:function(e){e.target.composing||t.$set(t.assignToAgent,"comment",e.target.value)}}})])])],1)])]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{attrs:{neutral:"",disabled:t.isTransferButtonDisabled},on:{click:function(e){return t.onClickAssignTranscriptToAgentCancel()}}},[t._v("\n        "+t._s(t.$t("global.cancelBtn"))+"\n      ")]),t._v(" "),s("ld-button",{attrs:{brand:"",disabled:t.isTransferButtonDisabled||t.canTranfer},on:{click:function(e){return t.assignTranscriptToAgent()}}},[t._v("\n        "+t._s(t.$t("transferLabel"))+"\n      ")])]},proxy:!0}])}),t._v(" "),s("ld-modal",{ref:"markAsDonePopup",attrs:{title:t.$t("markDoneLabel")},scopedSlots:t._u([{key:"content",fn:function(){return[s("p",{staticClass:"slds-p-around_medium text-align-center"},[t._v(t._s(t.$t("modalContentLabel")))])]},proxy:!0},{key:"footer",fn:function(){return[s("ld-button",{attrs:{neutral:"",disabled:t.buttonDisabled},on:{click:function(e){return t.closeMarkAsDoneModal()}}},[t._v("\n        "+t._s(t.$t("noBtn"))+"\n      ")]),t._v(" "),s("ld-button",{attrs:{brand:"",disabled:t.buttonDisabled},on:{click:function(e){return t.closeTranscript()}}},[t._v("\n        "+t._s(t.$t("yesBtn"))+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,"733868ba",null);"function"==typeof Lt.default&&Object(Lt.default)(wt);var Dt=wt.exports,At=s("eLKX"),It=s("f29V"),St=s("J+st");const Ft=t=>{let e=new Date;return new Date(e.setDate(e.getDate()+t)).toISOString()};var Mt={mixins:[_.a,L],props:{content:{type:String,default:""}},components:{NoRecord:m.a,InputSelect:b.a,Dropdown:f.a,ManagerList:O,ManagerDetail:Dt,LoadingSpinner:R.a},computed:p()({},Object(A.c)({currentUser:"user/currentUser",wechatAccounts:"sidebar/wechatAccounts"}),{accPicklistDisabled(){return this.accounts.options.length<=0},currentAccountId(){const t=this.accounts.currentOptions[0];return t?t.Id:null},filterAgentIds(){let t=[];for(const e of this.agents.currentOptions)t.push(e.Id);return t},fristResponse(){return-1===this.monitorCount.averageFirstResponse?"N/A":this.$_managerMixin_secondsFormat(this.monitorCount.averageFirstResponse)},responseTime(){return-1===this.monitorCount.averageResponseTime?"N/A":this.$_managerMixin_secondsFormat(this.monitorCount.averageResponseTime)},chatDuration(){return-1===this.monitorCount.chatDuration?"N/A":this.$_managerMixin_secondsFormat(this.monitorCount.chatDuration)},isDetailLoading(){var t;return u()(t=this.agentList).call(t,t=>!t.canClick).length>0},wechatAccountIds(){var t;return this.currentAccountId?[this.currentAccountId]:d()(t=this.accounts.options).call(t,t=>t.Id)}}),data:()=>({agents:{options:[],currentOptions:[]},accounts:{options:[],currents:[],currentOptions:[]},monitorCount:{agentMessageCounts:0,averageFirstResponse:0,averageResponseTime:0,chatDuration:0,chattingCount:0,closedCount:0,waitingCount:0},agentList:[],totalCount:0,paginations:[],showManagerDetail:!1,isSingleSelection:!0,hasDropdownFilter:!1,isFetchData:!1,filterDate:{FilterDate:"Today"},currentPageNumber:1,limitSize:20,agentColor:{},colorIndex:0,hasApply:!1,threadFilter:{WeChatAccountIds:"",WeChatAgentId:"",StartTime:"",EndTime:""},selectedAgent:{},currentAgent:{}}),watch:{dropdownRefId:async function(){"agents"===this.dropdownType?(this.isSingleSelection=!1,this.hasDropdownFilter=!0,this.hasApply=!0,this.agents.options.length<=0?(this.dropdownOptionData.options=[],this.dropdownOptionData.currents=[],await this.fetchAgentsName(),this.agents.options.length<=0?(this.dropdownOptionData.options=[{Name:this.$t("noAgentLabel")}],this.dropdownOptionData.currents=[]):(this.dropdownOptionData.options=this.agents.options,this.dropdownOptionData.currents=this.agents.currentOptions)):(this.dropdownOptionData.options=this.agents.options,this.dropdownOptionData.currents=this.agents.currentOptions)):"accounts"===this.dropdownType&&(this.isSingleSelection=!0,this.hasApply=!1,this.hasDropdownFilter=!1,this.dropdownOptionData.options=this.accounts.options,this.dropdownOptionData.currents=this.accounts.currentOptions)},agentList:{handler(t){const e=["#29a49c","#eb6e66","#655df0","#42ac5e"];for(const s of t)s.ProfilePhotoUrl||(s.UserId===this.currentUser.Id?this.agentColor[s.Id]="#116fd2":(this.agentColor[s.Id]||(this.agentColor[s.Id]=e[this.colorIndex],this.colorIndex++),this.colorIndex>3&&(this.colorIndex=0)))},deep:!0}},async created(){var t;const e=d()(t=l()(this.wechatAccounts)).call(t,t=>{const e=this.wechatAccounts[t];return{Id:t,Name:e.Name,Type:e.Type,LiveChatEnabled:e.LiveChatEnabled}});this.accounts.options=u()(e).call(e,t=>t.LiveChatEnabled),Object(vt.a)({method:"LiveChatMonitorRemoteActions.createInactiveAgentsForSupervisor"}),this.isFetchData=!0,await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]),this.isFetchData=!1},methods:{async fetchAgents(){try{const r=await(t=this.wechatAccountIds,e=i()(this.timeInterval()),s=(this.currentPageNumber-1)*this.limitSize,a=this.limitSize,n=this.currentPageNumber,Object(vt.a)({method:"LiveChatMonitorRemoteActions.getAgentsChatData",args:[t,e,s,a,n]}));if(r.ok){const t=JSON.parse(E.a.unescape(r.data));this.agentList=[...t.agents];for(let t of this.agentList)this.$set(t,"showDetail",!1),this.$set(t,"canClick",!0);this.paginations=[...t.pages]}else this.isFetchData=!1,Object(H.f)(r)}catch(t){this.isFetchData=!1,Object(H.f)(t)}var t,e,s,a,n},async fetchMonitorDetail(){try{const s=await(t=this.wechatAccountIds,e=i()(this.timeInterval()),Object(vt.a)({method:"LiveChatMonitorRemoteActions.getAgentsChatSummaryData",args:[t,e]}));if(s.ok){const t=JSON.parse(E.a.unescape(s.data));this.monitorCount=t}else this.isFetchData=!1,Object(H.f)(s)}catch(t){this.isFetchData=!1,Object(H.f)(t)}var t,e},async fetchAgentsName(){try{const e=await(t=this.wechatAccountIds,Object(vt.a)({method:"LiveChatMonitorRemoteActions.getAgents",args:[t]}));if(e.ok){const t=JSON.parse(E.a.unescape(e.data));this.agents.options=[...t.agents],this.agents.currentOptions=[],this.agents.currents=[]}else this.isFetchData=!1,Object(H.f)(e)}catch(t){this.isFetchData=!1,Object(H.f)(t)}var t},async fetchAgentsById(){try{const a=await(t=this.wechatAccountIds,e=this.filterAgentIds,s=i()(this.timeInterval()),Object(vt.a)({method:"LiveChatMonitorRemoteActions.getAgentsChatDataByUserId",args:[t,e,s]}));if(a.ok){const t=JSON.parse(E.a.unescape(a.data));this.agentList=[...t.agents];for(let t of this.agentList)this.$set(t,"showDetail",!1),this.$set(t,"canClick",!0)}else this.isFetchData=!1,Object(H.f)(a)}catch(t){this.isFetchData=!1,Object(H.f)(t)}var t,e,s},async fetchMonitorDetailByAgentId(){try{const t=await Ct(this.wechatAccountIds,this.filterAgentIds,i()(this.timeInterval()));if(t.ok){const e=JSON.parse(E.a.unescape(t.data));this.monitorCount=e}else this.isFetchData=!1,Object(H.f)(t)}catch(t){this.isFetchData=!1,Object(H.f)(t)}},toggleWeChatAccounts(){this.$root.$emit("show-nav-box")},async selectPicklist(t){this.$root.$emit("close-other-dropdown",null),"agents"===this.dropdownType?this.agents.currents=t:"accounts"===this.dropdownType&&(this.showDropdown=!1,this.accounts.currentOptions=t,this.agents.options=[],this.agents.currentOptions=[],this.agents.currents=[],this.currentPageNumber=1,this.paginations=[],this.isFetchData=!0,await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]),this.isFetchData=!1)},async applyFilters(){this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1,this.agents.currentOptions=[...this.agents.currents],this.currentPageNumber=1,this.paginations=[],this.isFetchData=!0,0===this.filterAgentIds.length?await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]):await r.a.all([this.fetchAgentsById(),this.fetchMonitorDetailByAgentId()]),this.isFetchData=!1},selectAgent(t){if(this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1,t.canClick){if(this.currentAgent&&this.currentAgent!==t&&(this.currentAgent.showDetail=!1),t.showDetail=!t.showDetail,this.showWeChatAccounts=!1,t.showDetail){this.selectedAgent=t,this.threadFilter.WeChatAccountIds=this.wechatAccountIds,this.threadFilter.WeChatAgentId=t.Id;let e=this.timeInterval();this.threadFilter.StartTime=e.StartTime,this.threadFilter.EndTime=e.EndTime;for(const t of this.agentList)t.canClick=!1}this.currentAgent=t,window.addEventListener("click",this.hideDetailPage)}},loadDataSuccess(){for(const t of this.agentList)t.canClick=!0},hideDetailPage(){this.isDetailLoading||(this.currentAgent.showDetail=!1,window.removeEventListener("click",this.hideDetailPage))},async refreshData(){this.isFetchData=!0,0===this.filterAgentIds.length?await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]):await r.a.all([this.fetchAgentsById(),this.fetchMonitorDetailByAgentId()]),this.isFetchData=!1},async filterByDate(t){this.filterDate.FilterDate=t,this.isFetchData=!0,0===this.filterAgentIds.length?await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]):await r.a.all([this.fetchAgentsById(),this.fetchMonitorDetailByAgentId()]),this.isFetchData=!1},async target(t){this.currentPageNumber=t,this.isFetchData=!0,await this.fetchAgents(),this.isFetchData=!1},async resetAgentFilters(){this.agents.currentOptions=[],this.agents.currents=[],this.currentPageNumber=1,this.paginations=[],this.isFetchData=!0,await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]),this.isFetchData=!1},async resetFilters(){this.agents.options=[],this.agents.currents=[],this.agents.currentOptions=[],this.accounts.currentOptions=[],this.isFetchData=!0,await r.a.all([this.fetchAgents(),this.fetchMonitorDetail()]),this.isFetchData=!1},timeInterval(){const t=t=>{const e=Object(At.a)(t,this.currentUser.TimeZoneSidKey);return Object(It.a)(Object(St.a)(e,"yyyy-MM-dd'T00:00:00'"),this.currentUser.TimeZoneSidKey).toISOString()};if("Today"===this.filterDate.FilterDate){let e=Ft(0),s=Ft(1);return{StartTime:t(e),EndTime:t(s)}}if("Yesterday"===this.filterDate.FilterDate){let e=Ft(-1),s=Ft(0);return{StartTime:t(e),EndTime:t(s)}}{let e=Ft(-6),s=Ft(1);return{StartTime:t(e),EndTime:t(s)}}}}},Ot=(s("iova"),s("iUKC")),$t=Object(S.a)(Mt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"manager-view-page"},[s("section",{staticClass:"header-tab slds-border_bottom"},[s("a",{staticClass:"down-btn",on:{click:t.toggleWeChatAccounts}},[s("icon",{attrs:{name:"menuIcon","class-name":"down-icon",width:"18px",height:"18px"}})],1),t._v(" "),s("span",{staticClass:"header-line"}),t._v(" "),s("span",{staticClass:"tab-value"},[t._v(t._s(t.$t("titleLabel")))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical-align-center filter-tab slds-border_bottom"},[s("section",{staticClass:"filter-date slds-button-group"},[s("button",{staticClass:"slds-button slds-button_neutral",class:{"slds-button_brand":"Today"===t.filterDate.FilterDate},on:{click:function(e){return t.filterByDate("Today")}}},[t._v(t._s(t.$t("todayLabel")))]),t._v(" "),s("button",{staticClass:"slds-button slds-button_neutral",class:{"slds-button_brand":"Yesterday"===t.filterDate.FilterDate},on:{click:function(e){return t.filterByDate("Yesterday")}}},[t._v(t._s(t.$t("yesterdayLabel")))]),t._v(" "),s("button",{staticClass:"slds-button slds-button_neutral",class:{"slds-button_brand":"Last 7 Days"===t.filterDate.FilterDate},on:{click:function(e){return t.filterByDate("Last 7 Days")}}},[t._v(t._s(t.$t("lastDayLabel")))])]),t._v(" "),s("p",{staticClass:"acc-label"},[t._v(t._s(t.$t("accountLabel"))+" ")]),t._v(" "),s("section",{staticClass:"acc-picklist"},[s("input-select",{attrs:{currents:t.accounts.currentOptions,type:"accounts","default-label":t.$t("allLabel"),"is-disabled":t.accPicklistDisabled},on:{"open-dropdown":t.openDropdown,"close-dropdown":t.closeDropdown,resize:t.resizeDropdown}})],1),t._v(" "),s("p",{staticClass:"acc-label"},[t._v(t._s(t.$t("agentLabel"))+" ")]),t._v(" "),s("section",{staticClass:"acc-picklist"},[s("input-select",{attrs:{currents:t.agents.currentOptions,type:"agents","default-label":t.$t("allLabel"),"is-single-selection":!1,"show-list":!1},on:{"open-dropdown":t.openDropdown,"close-dropdown":t.closeDropdown,resize:t.resizeDropdown}})],1),t._v(" "),s("button",{staticClass:"refresh-btn slds-button slds-button_icon slds-button_icon-border-filled down-btn",on:{click:function(e){return t.refreshData()}}},[s("icon",{attrs:{name:"refresh","class-name":"down-icon",category:"utility",width:"14px",height:"14px"}})],1)]),t._v(" "),t.currentAccountId||t.filterAgentIds.length>0?s("section",{staticClass:"filter-list-section slds-box slds-box_x-small"},[s("span",{staticClass:"reset-filter-icon",on:{click:function(e){return t.resetFilters()}}},[s("icon",{attrs:{name:"close","fill-color":"#706e6b",width:"13px",height:"13px"}})],1),t._v(" "),s("span",{staticClass:"reset-filter-title"},[t._v(t._s(t.$t("filterLabel"))+" ")]),t._v(" "),t.currentAccountId?s("span",{staticClass:"reset-filter-value"},[t._v(t._s(t.$t("accountLabel"))+" "+t._s(t.accounts.currentOptions[0].Name)+".")]):t._e(),t._v(" "),t.filterAgentIds.length>0?s("span",{staticClass:"reset-filter-value"},[t._v(t._s(t.$t("agentLabel"))+" \n      "),t._l(t.agents.currentOptions,(function(e,a){return s("span",{key:a},[t._v("\n        "+t._s(e.Name)+"\n      ")])}))],2):t._e()]):t._e(),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_align-spread slds-grid_vertical-align-center slds-border_bottom count-tab"},[s("section",{staticClass:"slds-grid slds-grid_align-space slds-grid_vertical-align-center slds-size_3-of-12 slds-box slds-box_x-small"},[s("section",{staticClass:"slds-grid slds-grid_vertical slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(-1===t.monitorCount.chattingCount?"N/A":t.monitorCount.chattingCount))]),t._v(" "),s("span",[t._v(t._s(t.$t("chatLabel")))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(-1===t.monitorCount.waitingCount?"N/A":t.monitorCount.waitingCount))]),t._v(" "),s("span",[t._v(t._s(t.$t("waitLabel")))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(t.monitorCount.closedCount))]),t._v(" "),s("span",[t._v(t._s(t.$t("closeLabel")))])])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_align-space slds-grid_vertical-align-center slds-size_2-of-12 slds-box slds-box_x-small"},[s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(t.monitorCount.agentMessageCounts))]),t._v(" "),s("span",[t._v(t._s(t.$t("msgSentLabel")))])])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_align-space slds-grid_vertical-align-center slds-size_6-of-12 slds-box slds-box_x-small"},[s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(t.fristResponse))]),t._v(" "),s("span",[t._v(t._s(t.$t("firstResponseLabel")))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(t.responseTime))]),t._v(" "),s("span",[t._v(t._s(t.$t("timeResponseLabel")))])]),t._v(" "),s("section",{staticClass:"slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-col count-detail"},[s("span",{staticClass:"first"},[t._v(t._s(t.chatDuration))]),t._v(" "),s("span",[t._v(t._s(t.$t("chatDurationLabel")))])])])]),t._v(" "),this.agentList.length>0?s("div",{staticClass:"slds-table--header-fixed_container content",class:{"content-filter":t.currentAccountId||t.filterAgentIds.length>0}},[s("section",{staticClass:"slds-scrollable_y scroll-content"},[s("manager-list",{attrs:{agents:t.agentList,paginations:t.paginations,number:t.currentPageNumber,"agent-color":t.agentColor},on:{"select-agent":t.selectAgent,"select-page":t.target}})],1)]):t._e(),t._v(" "),t.isFetchData||0!==this.agentList.length?t._e():s("no-record",{attrs:{"custom-style":"top: 210px;"}}),t._v(" "),t.showDropdown?s("dropdown",{attrs:{options:t.dropdownOptionData.options,currents:t.dropdownOptionData.currents,left:t.dropdownLeft,top:t.dropdownTop,width:t.dropdownWidth,"default-label":!0,"is-single-selection":t.isSingleSelection,"has-filter":t.hasDropdownFilter,"has-apply":t.hasApply},on:{"select-option":t.selectPicklist,close:t.closeDropdown,"apply-filters":t.applyFilters,"reset-filters":t.resetAgentFilters}}):t._e(),t._v(" "),t.currentAgent.showDetail?s("manager-detail",{attrs:{agent:t.selectedAgent,filter:t.threadFilter},on:{"load-data-success":function(e){return t.loadDataSuccess()}}}):t._e(),t._v(" "),s("loading-spinner",{attrs:{"is-loading":t.isFetchData}})],1)}),[],!1,null,"6e970213",null);"function"==typeof Ot.default&&Object(Ot.default)($t);e.default=$t.exports},L596:function(t,e,s){"use strict";var a=s("09cB");s.n(a).a},QK50:function(t,e,s){"use strict";var a=s("TM44");s.n(a).a},TM44:function(t,e,s){},"Vj+w":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"loadOldMsgLabel":"加载历史消息","chatHistoryLabel":"正在加载历史消息","supInternalCommentLabel":"管理员内部留言","autoResponseLabel":"自动回复给关注者","markedByLabel":"会话被{0}关闭","transferSystemLabel":"会话被系统从{0}转移到了{1}","transferInactivityLabel":"由于你长时间不在线, 会话被转发给了{0}","noRecordsLabel":"没有记录","locationLabel":"[位置]","linkLabel":"[链接]","convertVoiceLabel":"[把语音转化为文本]","transferLabel":"[转发]","showMoreLabel":"显示更多...","viewVoiceFileLabel":"浏览语音文件","internalCommentLabel":"内部留言","today":"今天","yesterday":"昨天","mpChatOpenedMsg":"点击{0}按钮进入小程序聊天窗口，","mpChatNoBtnOpenedMsg":"进入小程序聊天窗口，"},"en":{"loadOldMsgLabel":"Load old messages","chatHistoryLabel":"Retrieving chat history...","supInternalCommentLabel":"Supervisor internal comment","autoResponseLabel":"Auto response to follower","markedByLabel":"The conversation was marked as done by {0}","transferSystemLabel":"The conversation was transferred from {0} to {1} by the system","transferInactivityLabel":"The conversation was transferred to {0} due to your inactivity","noRecordsLabel":"No Records","locationLabel":"[LOCATION]","linkLabel":"[LINK]","convertVoiceLabel":"[Convert the voice to text]","transferLabel":"[TRANSFER]","showMoreLabel":"Show more...","viewVoiceFileLabel":"View voice file","internalCommentLabel":"Internal comment","today":"Today","yesterday":"Yesterday","mpChatOpenedMsg":"Mini program chat window opened from the {0} button","mpChatNoBtnOpenedMsg":"Mini program chat window opened"}}'),delete t.options._Ctor}},YaTm:function(t,e,s){"use strict";var a=s("5Qgp");s.n(a).a},cQCT:function(t,e,s){"use strict";var a=s("22jB"),i=s.n(a);e.default=i.a},fGFX:function(t,e,s){},hA8h:function(t,e,s){"use strict";var a=s("wnGd");s.n(a).a},hkfk:function(t,e,s){"use strict";var a=s("fGFX");s.n(a).a},iEJ6:function(t,e,s){"use strict";var a=s("Vj+w"),i=s.n(a);e.default=i.a},iUKC:function(t,e,s){"use strict";var a=s("rBmT"),i=s.n(a);e.default=i.a},iova:function(t,e,s){"use strict";var a=s("9iPR");s.n(a).a},"k/9o":function(t,e,s){"use strict";var a=s("qVZU"),i=s.n(a);e.default=i.a},nGVY:function(t,e,s){"use strict";var a=s("7dC8"),i=s.n(a);e.default=i.a},qVZU:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"preTitle":"上一页","nextTitle":"下一页"},"en":{"preTitle":"Previous Page","nextTitle":"Next Page"}}'),delete t.options._Ctor}},rBmT:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"titleLabel":"Live Chat Monitor","todayLabel":"今天","yesterdayLabel":"昨天","lastDayLabel":"过去7天","accountLabel":"微信公众号:","agentLabel":"专员:","allLabel":"全部","filterLabel":"过滤条件:","chatLabel":"对话中","waitLabel":"等待接入","closeLabel":"已结束","msgSentLabel":"已发送的消息","firstResponseLabel":"平均首次响应时间","timeResponseLabel":"平均响应时间","chatDurationLabel":"平均聊天时长","noAgentLabel":"无专员"},"en":{"titleLabel":"Live Chat Monitor","todayLabel":"Today","yesterdayLabel":"Yesterday","lastDayLabel":"Last 7 days","accountLabel":"WeChat Account:","agentLabel":"Agent:","allLabel":"All","filterLabel":"Filtered By:","chatLabel":"Chatting","waitLabel":"Waiting","closeLabel":"Closed","msgSentLabel":"Messages Sent","firstResponseLabel":"Average First Response","timeResponseLabel":"Average Response Time","chatDurationLabel":"Average Chat Duration","noAgentLabel":"No Agent"}}'),delete t.options._Ctor}},s0ft:function(t,e,s){"use strict";var a=s("EO0a"),i=s.n(a);e.default=i.a},t9rN:function(t,e,s){},"v/lj":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"cn":{"nameLabel":"名称","statusLabel":"状态","chatLabel":"对话中","waitLabel":"等待接入","closeLabel":"已结束","msgSentLabel":"已发送的消息","allLabel":"全部","filterLabel":"过滤条件","firstResponseLabel":"首次回复","timeResponseLabel":"响应时间","chatDurationLabel":"聊天时长","agentStatusLabel":"自{0}以后"},"en":{"nameLabel":"Name","statusLabel":"Status","chatLabel":"Chatting","waitLabel":"Waiting","closeLabel":"Closed","msgSentLabel":"Messages Sent","allLabel":"All","filterLabel":"Filtered By:","firstResponseLabel":"First Response","timeResponseLabel":"Response Time","chatDurationLabel":"Chat Duration","agentStatusLabel":"Since {0}"}}'),delete t.options._Ctor}},wnGd:function(t,e,s){}}]);