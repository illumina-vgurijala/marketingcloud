(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+nt+":function(e,t,a){"use strict";var s=a("lRJj");a.n(s).a},"/SRz":function(e,t,a){},"/qSv":function(e,t,a){},"1vOb":function(e,t,a){"use strict";var s=a("Hi2j"),i=a.n(s);t.default=i.a},"2ATp":function(e,t,a){"use strict";a.r(t);var s=a("Yvyk"),i=a.n(s),n=a("wG3i"),o=a.n(n),r=a("vQrK"),l=a.n(r),c=a("w2Vt"),d=a("u7w5"),p=a("F5n6"),u=a("+Bun"),h=a.n(u),m=a("+SX9"),g=a("2AFw"),f=a("ejTr"),b=a.n(f),v=a("urRO"),y=a.n(v);var C={props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:String,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},data:()=>({cropper:null}),mounted(){const e=function(e,t){const a={};for(const s of b()(e))h()(t).call(t,s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return a}(this.$props,["containerStyle","src","alt","imgStyle"]),t={};for(const a of b()(e))void 0!==e[a]&&(t[a]=e[a]);this.cropper=new y.a(this.$refs.img,t)},methods:{reset(){return this.cropper.reset()},clear(){return this.cropper.clear()},replace(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.cropper.replace(e,t)},enable(){return this.cropper.enable()},disable(){return this.cropper.disable()},destroy(){return this.cropper.destroy()},move(e,t){return this.cropper.move(e,t)},moveTo(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.moveTo(e,t)},relativeZoom(e,t){return this.cropper.zoom(e,t)},zoomTo(e,t){return this.cropper.zoomTo(e,t)},rotate(e){return this.cropper.rotate(e)},rotateTo(e){return this.cropper.rotateTo(e)},scaleX(e){return this.cropper.scaleX(e)},scaleY(e){return this.cropper.scaleY(e)},scale(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.scale(e,t)},getData(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cropper.getData(e)},setData(e){return this.cropper.setData(e)},getContainerData(){return this.cropper.getContainerData()},getImageData(){return this.cropper.getImageData()},getCanvasData(){return this.cropper.getCanvasData()},setCanvasData(e){return this.cropper.setCanvasData(e)},getCropBoxData(){return this.cropper.getCropBoxData()},setCropBoxData(e){return this.cropper.setCropBoxData(e)},getCroppedCanvas(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cropper.getCroppedCanvas(e)},setAspectRatio(e){return this.cropper.setAspectRatio(e)},setDragMode(e){return this.cropper.setDragMode(e)}}},_=(a("8QbS"),a("KHd+")),w=Object(_.a)(C,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:this.containerStyle},[t("img",{ref:"img",staticStyle:{"max-width":"100%"},style:this.imgStyle,attrs:{src:this.src,alt:this.alt||"image"}})])}),[],!1,null,"eae1a0ca",null).exports,L=a("4B+h"),T=a("LQ5e"),I=a.n(T),k=a("L2JU"),x={components:{ErrorToast:m.a,Lookup:g.a,VueCropper:w},inject:["showErrorImg"],data(){return{isShowCreateAgentPopup:!1,newAgent:{Nickname:"",UserId:"",WeChatAccountId:"",ProfilePhoto:{ID:"",Name:"",Body:"",ContentType:""},IsSyncToWeChat:!1,IsActive:!0},isSyncChecked:!1,userMetadata:{name:"User",label:this.$t("userLabel"),labelPural:this.$t("lookupPlaceholder"),icon:"user",linkField:{name:"Name",label:this.$t("userLabel")},fields:[],newObjectLink:"/005/e"},currentUserItem:null,showCropperPhoto:!1,cropperPhoto:"",cropImg:"",imgBase:"",isSubmitSave:!1,popupType:"",popupTitle:this.$tc("agentPopupTitle",1),showProfileWarning:!1,agentName:"",maxStringSize:1e6,errorToastMsg:""}},computed:l()({},Object(k.c)({currentUser:"user/currentUser",currentAccount:"sidebar/currentAccount"}),{canSave:function(){return this.newAgent.Nickname&&this.newAgent.UserId},isMiniProgramAcc(){return"Mini Program"===this.currentAccount.Type}}),methods:{openAgentPopup(e,t){this.popupType=e,"new"===e?(this.popupTitle=this.$tc("agentPopupTitle",1),this.currentUserItem=null):"edit"===e&&(this.popupTitle=this.$tc("agentPopupTitle",2),this.cropImg=t.ProfilePhotoUrl,this.newAgent.ProfilePhotoUrl=t.ProfilePhotoUrl,this.newAgent.Nickname=t.Nickname,this.newAgent.UserId=t.UserId,this.newAgent.Id=t.Id,this.newAgent.IsSyncToWeChat=t.IsSyncToWeChat,this.newAgent.IsActive=t.IsActive,this.isSyncChecked=t.IsSyncToWeChat,t.Name&&t.UserId?this.currentUserItem={name:t.Name,id:t.UserId}:this.currentUserItem=null),this.isShowCreateAgentPopup=!0},closeCreateAgentPopup(){this.showProfileWarning=!1,this.isShowCreateAgentPopup=!1,this.cropImg="",this.imgBase="",this.newAgent.Nickname="",this.newAgent.UserId="",this.newAgent.Id="",this.newAgent.WeChatAccountId="",this.newAgent.ProfilePhoto.ID="",this.newAgent.ProfilePhoto.Name="",this.newAgent.ProfilePhoto.Body="",this.newAgent.ProfilePhoto.ContentType="",this.newAgent.IsActive=!0,this.isSyncChecked=!1,this.currentUserItem={},this.errorToastMsg=""},onSelect(e){this.newAgent.UserId=e?e.id:""},onRemove(){this.newAgent.UserId=""},openReadImage(){document.getElementById("cropperImg").click()},readImage(e){this.showProfileWarning=!1;const t=e.target.files||e.dataTransfer.files;if(!t.length)return null;const a=t[0];this.newAgent.ProfilePhoto.Name=t[0].name,this.newAgent.ProfilePhoto.ContentType=t[0].type;const s=new window.FileReader,i=this;s.onload=function(e){i.cropperPhoto=e.target.result,i.showCropperPhoto=!0},s.readAsDataURL(a),e.srcElement.value=""},cancelCropperPhoto(){this.showCropperPhoto=!1},saveCropper(){var e;if(this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL("image/jpeg",.5),this.cropImg.length>this.maxStringSize)return this.cropImg="",this.showProfileWarning=!0,void(this.showCropperPhoto=!1);for(this.imgBase=this.$refs.cropper.getCroppedCanvas().toDataURL("image/jpeg",.5),this.imgBase=this.imgBase.substring(h()(e=this.imgBase).call(e,",")+1);-1!==h()(t=this.imgBase).call(t,"=",this.imgBase.length-1);){var t;this.imgBase=this.imgBase.substring(0,this.imgBase.length-1)}this.showCropperPhoto=!1},clearAgentPhoto(){this.newAgent.ProfilePhoto.Body="",this.newAgent.ProfilePhotoUrl="",this.cropImg=""},async saveNewAgent(){this.isSubmitSave=!0,this.newAgent.WeChatAccountId=this.$route.params.accountId,this.newAgent.ProfilePhoto.Body=this.imgBase,this.newAgent.IsSyncToWeChat=this.isSyncChecked;let e=JSON.parse(o()(this.newAgent));if(this.isMiniProgramAcc&&delete e.IsSyncToWeChat,"new"===this.popupType)try{const t=await Object(d.b)(o()(e));this.callBackAction(t,this.$t("createAgentNotify"),!0)}catch(e){Object(L.f)(e)}else try{const t=await Object(d.l)(o()(e));this.callBackAction(t,this.$t("saveAgentNotify"),!1)}catch(e){Object(L.f)(e)}},async callBackAction(e,t,a){if(e.ok){const s=JSON.parse(I.a.unescape(e.data));if(this.isSyncChecked)try{const e=await Object(d.j)(s.agentId,s.profilePhotoId,a);e.ok?(this.$router.app.$emit("open-toast-notification",{content:t,type:"success"}),this.closeCreateAgentPopup(),this.$emit("hasUpdatedAgents",s.userId===this.currentUser.Id)):(this.errorToastMsg=e.error,this.scrollToTop())}catch(e){Object(L.f)(e)}else this.$router.app.$emit("open-toast-notification",{content:t,type:"success"}),this.closeCreateAgentPopup(),this.$emit("hasUpdatedAgents",s.userId===this.currentUser.Id)}else this.errorToastMsg=e.error,this.scrollToTop();this.isSubmitSave=!1},scrollToTop(){document.getElementById("modal-content").scrollTop=0}}},A=(a("vp38"),a("Xhym")),N=Object(_.a)(x,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("div",{staticClass:"slds-modal slds-modal_large",class:{"slds-fade-in-open":e.isShowCreateAgentPopup},attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container show-selected-container new-width",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeCreateAgentPopup()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.popupTitle))])]),e._v(" "),s("div",{staticClass:"slds-modal__content slds-p-around_medium new-height",attrs:{id:"modal-content"}},[e.errorToastMsg?s("error-toast",{attrs:{content:e.errorToastMsg}}):e._e(),e._v(" "),s("div",{staticClass:"new-line-profile slds-grid"},[e.cropImg?s("div",{staticClass:"cropper-img slds-box"},[s("div",{staticClass:"cropper-clear-icon",on:{click:function(t){return e.clearAgentPhoto()}}},[s("icon",{attrs:{name:"clear",width:"14px",height:"14px","fill-color":"#706e6b"}})],1),e._v(" "),e.cropImg?s("img",{attrs:{src:e._f("imgFilter")(e.cropImg),alt:""},on:{error:function(t){return e.showErrorImg(t)}}}):e._e()]):e._e(),e._v(" "),e.cropImg?e._e():s("div",{staticClass:"cropper-img slds-avatar"},[s("img",{attrs:{alt:"avatar",src:a("TUGy"),title:"avatar",width:"125px",height:"125px"}})]),e._v(" "),s("div",{staticClass:"slds-col edit-photo-action"},[s("div",{staticClass:"new-profile-title"},[e._v(e._s(e.$t("photoLabel")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral new-input-cropper",on:{click:function(t){return e.openReadImage()}}},[e._v(e._s(e.$t("photoDescription")))]),e._v(" "),s("div",{staticClass:"new-profile-rule"},[e._v("\n                "+e._s(e.$t("photoLimit"))+"\n              ")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showProfileWarning,expression:"showProfileWarning"}],staticClass:"new-profile-warning"},[e._v("\n                "+e._s(e.$t("photoWarning"))+"\n              ")]),e._v(" "),s("input",{staticClass:"file-select",attrs:{type:"file",id:"cropperImg",accept:"image/bmp,image/png,image/jpeg,image/jpg,image/gif"},on:{change:function(t){return e.readImage(t)}}})])]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical new-line"},[s("div",{staticClass:"new-title"},[s("span",[e._v("*")]),e._v(" "+e._s(e.$t("nameLabel")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newAgent.Nickname,expression:"newAgent.Nickname"}],staticClass:"slds-input",attrs:{type:"text",name:""},domProps:{value:e.newAgent.Nickname},on:{input:function(t){t.target.composing||e.$set(e.newAgent,"Nickname",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical new-line"},[s("div",{staticClass:"new-title"},[s("span",[e._v("*")]),e._v(" "+e._s(e.$t("userLabel")))]),e._v(" "),s("lookup",{attrs:{"ld-selected-item":e.currentUserItem,"ld-metadatas":e.userMetadata},on:{select:function(t){return e.onSelect(t)},remove:function(t){return e.onRemove()}}})],1),e._v(" "),e.isMiniProgramAcc?e._e():s("div",{staticClass:"new-line sync-line"},[s("div",{staticClass:"new-title"},[e._v(e._s(e.$t("showPersonalNameLabel")))]),e._v(" "),s("label",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isSyncChecked,expression:"isSyncChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isSyncChecked)?e._i(e.isSyncChecked,null)>-1:e.isSyncChecked},on:{change:function(t){var a=e.isSyncChecked,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&(e.isSyncChecked=a.concat([null])):n>-1&&(e.isSyncChecked=a.slice(0,n).concat(a.slice(n+1)))}else e.isSyncChecked=i}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])]),e._v(" "),"edit"===e.popupType?s("div",{staticClass:"new-line sync-line sync-line-right"},[s("div",{staticClass:"new-title"},[e._v(e._s(e.$t("activeLabel")))]),e._v(" "),s("label",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newAgent.IsActive,expression:"newAgent.IsActive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newAgent.IsActive)?e._i(e.newAgent.IsActive,null)>-1:e.newAgent.IsActive},on:{change:function(t){var a=e.newAgent.IsActive,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&e.$set(e.newAgent,"IsActive",a.concat([null])):n>-1&&e.$set(e.newAgent,"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.newAgent,"IsActive",i)}}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])]):e._e()],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSubmitSave},on:{click:function(t){return e.closeCreateAgentPopup()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!e.canSave||e.isSubmitSave},on:{click:function(t){return e.saveNewAgent()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),e.showCropperPhoto?s("div",{staticClass:"slds-modal slds-modal_large cropper-photo",attrs:{"aria-hidden":"false",role:"dialog"}},[s("div",{staticClass:"slds-modal__container cropper-photo-container",attrs:{role:"document",tabindex:"0"}},[s("div",{staticClass:"slds-modal__header cropper-photo-header"},[s("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.cancelCropperPhoto()}}},[s("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),s("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),s("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("cropPhotoTitle")))])]),e._v(" "),s("div",{staticClass:"slds-grid slds-modal__content slds-p-around_medium slds-col cropper-photo-content"},[s("vue-cropper",{ref:"cropper",style:{flex:"1 1 auto"},attrs:{guides:!0,"view-mode":2,"drag-mode":"crop","auto-crop-area":.5,"min-container-width":250,"min-container-height":250,background:!0,rotatable:!1,src:e.cropperPhoto,"aspect-ratio":1}})],1),e._v(" "),s("div",{staticClass:"slds-modal__footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.cancelCropperPhoto()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",on:{click:function(t){return e.saveCropper()}}},[e._v(e._s(e.$t("global.confirmBtn")))])])])]):e._e(),e._v(" "),e.showCropperPhoto?s("div",{staticClass:"cropper-photo-backdrop"}):e._e(),e._v(" "),s("div",{staticClass:"slds-backdrop",class:{"slds-backdrop_open":e.isShowCreateAgentPopup}})])])}),[],!1,null,"63efc1e8",null);"function"==typeof A.default&&Object(A.default)(N);var S=N.exports,$=a("692z"),P=a("CjVY"),M=a.n(P),R={components:{LoadingSpinner:c.a,NoRecord:$.a,Pagination:p.a},data:()=>({replies:[],currentPageNumber:1,count:20,totalMessage:0,hasMoreQuickReplies:!1,currentReplyPagination:[],searchKey:"",currentReply:"",isInitMessageLoading:!1,replyId:""}),created(){this.fetchQuickReplies()},methods:{async fetchQuickReplies(){this.isInitMessageLoading=!0;try{const e=await Object(d.i)(this.$route.params.accountId,this.currentPageNumber,this.count,this.searchKey);this.isInitMessageLoading=!1;const t=JSON.parse(I.a.unescape(e.data));this.replies=t.quickreplymessages,this.currentReplyPagination=t.pages,this.totalMessage=t.total.Count,this.hasMoreQuickReplies=t.total.HasMore;for(let e of this.replies)e.TextBodyTitle=M.a.decorateText(e.TextBody__c,"Plain Text")}catch(e){Object(L.f)(e)}},decorateTextMessage:e=>M.a.decorateText(e),searchReplies(){this.currentPageNumber=1,this.fetchQuickReplies()},clearSearch(){this.searchKey="",this.currentPageNumber=1,this.fetchQuickReplies()},getMenuItems(e){return[{value:"Edit",label:this.$t("global.editBtn"),target:e},{value:"Delete",label:this.$t("global.deleteBtn"),target:e}]},onClickMenuItem(e){const{value:t,target:a}=e;"Edit"===t?this.openEditReplyPopup(a):"Delete"===t&&this.deleteReply(a)},openEditReplyPopup(e){this.$emit("operate-quick-reply",this.$t("editHeader"),e)},deleteReply(e){this.replyId=e.Id;const t=this.$confirm({content:this.$t("delContent"),title:this.$t("delHeader"),ok:this.$t("global.deleteBtn")});t.$on("ok",async()=>{try{const e=await Object(d.e)(this.replyId);e.ok?(t.close(),this.fetchQuickReplies(),this.$router.app.$emit("open-toast-notification",{content:this.$t("delNotifyContent"),type:"success"})):this.$router.app.$emit("open-toast-notification",{content:e.error,type:"error"})}catch(e){t.resume(),Object(L.f)(e)}})},target(e){this.currentPageNumber=e,this.fetchQuickReplies(),document.getElementsByClassName("quick-reply-list")[0].scrollTop=0}}},O=(a("P3wW"),a("ycb/")),D=Object(_.a)(R,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"charket-agent-list"}},[a("div",{staticClass:"slds-grid slds-border_bottom slds-grid_align-spread reply-msg-header"},[e.totalMessage>1?a("div",{staticClass:"reply-msg-count"},[e._v(e._s(e._f("addSeparators")(e.totalMessage))),e.hasMoreQuickReplies?a("i",{staticClass:"show-plus-sign"},[e._v("+")]):e._e(),e._v(" "+e._s(e.$tc("global.itemLabel",2))+"\n    ")]):e._e(),e._v(" "),e.totalMessage<=1?a("div",{staticClass:"reply-msg-count"},[e._v(e._s(e.totalMessage)+" "+e._s(e.$tc("global.itemLabel",1)))]):e._e(),e._v(" "),a("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[a("search-input",{attrs:{placeholder:e.$t("searchLabel")},on:{search:e.searchReplies,clear:e.clearSearch},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)]),e._v(" "),a("div",{staticClass:"slds-scrollable_y quick-reply-list"},[e.isInitMessageLoading||0===e.totalMessage?e._e():a("table",{staticClass:"slds-table slds-table_bordered slds-no-row-hover table-top-line slds-table_fixed-layout",attrs:{role:"grid"}},[a("tbody",{staticClass:"quick-reply-table-body"},e._l(e.replies,(function(t,s){return a("tr",{key:s,staticClass:"slds-hint-parent"},[a("td",{attrs:{role:"gridcell"}},[a("h3",{staticClass:"reply-title"},[e._v(e._s(t.Name))]),e._v(" "),a("div",{staticClass:"slds-truncate text-body",attrs:{title:t.TextBodyTitle},domProps:{innerHTML:e._s(e.decorateTextMessage(t.TextBody__c))}})]),e._v(" "),a("td",{staticClass:"td-position",staticStyle:{width:"3.25rem"},attrs:{role:"gridcell"}},[a("ld-action-menu",{attrs:{items:e.getMenuItems(t)},on:{click:function(t){return e.onClickMenuItem(t)}}})],1)])})),0)]),e._v(" "),e.isInitMessageLoading?e._e():a("pagination",{attrs:{paginations:e.currentReplyPagination,"page-number":e.currentPageNumber},on:{target:e.target}})],1),e._v(" "),e.isInitMessageLoading||0!==e.totalMessage?e._e():a("no-record",{attrs:{"custom-style":"top: 80px;"}}),e._v(" "),a("loading-spinner",{attrs:{"is-loading":e.isInitMessageLoading,"custom-style":"top: 40px;"}})],1)}),[],!1,null,"68f8dc93",null);"function"==typeof O.default&&Object(O.default)(D);var B=D.exports,F=a("WuRX"),q=a("7aFC"),j=a("cybb"),W={components:{LoadingSpinner:c.a,NewAgent:S,AgentList:B,NewQuickReply:F.a,NoRecord:$.a,Pagination:p.a},filters:{filterName:q.d},computed:l()({},Object(k.c)({currentUser:"user/currentUser",currentAccount:"sidebar/currentAccount"}),{agentTab(){return"agents"===this.$route.name?(this.showAgentList=!1,"Agents"):"agent-quick-replies"===this.$route.name?"Quick Replies":""},isMiniProgramAcc(){return"Mini Program"===this.currentAccount.Type}}),watch:{agents:{handler(e){const t=["#29a49c","#eb6e66","#655df0","#42ac5e"];for(const a of e)a.ProfilePhotoUrl||(a.UserId===this.currentUser.Id?this.agentColor[a.Id]="#116fd2":(this.agentColor[a.Id]||(this.agentColor[a.Id]=t[this.colorIndex],this.colorIndex++),this.colorIndex>3&&(this.colorIndex=0)))},deep:!0}},inject:["showErrorImg"],data(){return{tabs:[{name:"Agents",label:this.$t("agentTabLabel")},{name:"Quick Replies",label:this.$t("qrTabLabel")}],accountId:"",agents:[],totalMessage:0,currentAgentPagination:[],currentPageNumber:1,agentCount:20,searchKey:"",massStatus:{content:"",header:"",agentId:""},isInitMessageLoading:!1,currentTab:"Active",condition:{SearchKey:"",IsActive:!0},activeTotalCount:0,inactiveTotalCount:0,currentActiveTotalCount:-1,currentInactiveTotalCount:-1,hasMoreInActiveAgent:!1,showAgentList:!1,showNewQuickReply:!1,quickReplyTitle:"",currentQuickReply:{},agentColor:{},colorIndex:0}},created(){this.switchAccount({wechatAccountId:this.$route.params.accountId,router:this.$router}),"agents"===this.$route.name?this.fetchAgentsAndCounts():"agent-quick-replies"===this.$route.name&&(this.showAgentList=!0)},methods:l()({},Object(k.b)("sidebar",["switchAccount"]),{formatDatetimeFilter:()=>j.e,async fetchAgents(){this.accountId=this.$route.params.accountId,this.isInitMessageLoading=!0;try{const e=await Object(d.h)(this.$route.params.accountId,this.currentPageNumber,this.agentCount,o()(this.condition));this.isInitMessageLoading=!1;const t=JSON.parse(I.a.unescape(e.data));this.agents=t.agents,"Active"===this.currentTab?(this.currentActiveTotalCount=t.paging.total,this.currentInactiveTotalCount=-1):(this.currentActiveTotalCount=-1,this.currentInactiveTotalCount=t.paging.total),this.totalMessage=t.paging.total,this.currentAgentPagination=t.paging.pages}catch(e){Object(L.f)(e)}},async fetchAgentsAndCounts(){this.accountId=this.$route.params.accountId,this.isInitMessageLoading=!0;try{const[e,t]=await i.a.all([Object(d.h)(this.$route.params.accountId,this.currentPageNumber,this.agentCount,o()(this.condition)),Object(d.g)(this.accountId)]);this.isInitMessageLoading=!1;const a=JSON.parse(I.a.unescape(e.data));this.agents=a.agents,this.currentAgentPagination=a.paging.pages,"Active"===this.currentTab?(this.currentActiveTotalCount=a.paging.total,this.currentInactiveTotalCount=-1):(this.currentActiveTotalCount=-1,this.currentInactiveTotalCount=a.paging.total);const s=JSON.parse(I.a.unescape(t.data));this.activeTotalCount=s.active.Count,this.inactiveTotalCount=s.inactive.Count,this.hasMoreInActiveAgent=s.inactive.HasMore}catch(e){Object(L.f)(e)}},switchMode(e){"Agents"===e?(this.$router.replace({path:"/".concat(this.$route.params.accountId,"/agents")}),this.showAgentList=!1,this.resetFilterData(),this.currentTab="Active",this.fetchAgentsAndCounts()):"Quick Replies"===e&&(this.$router.replace({path:"/".concat(this.$route.params.accountId,"/quick-replies")}),this.showAgentList=!0,this.$refs.agentListComponent&&this.$refs.agentListComponent.fetchQuickReplies())},resetFilterData(){this.condition={SearchKey:"",IsActive:!0}},getMenuItems(e){const t=[{value:"edit",label:this.$t("global.editBtn"),target:e}];return e.IsActive?t.push({value:"deactivate",label:this.$t("deactivateLabel"),target:e}):t.push({value:"activate",label:this.$t("activateLabel"),target:e}),t},onClickMenuItem(e){const{value:t,target:a}=e;"edit"===t?this.openAgentPopup(t,a):"deactivate"===t?this.changeAgentStatus(a.Id,this.$tc("agentActionContent",1),this.$tc("agentActionHeader",1)):"activate"===t&&this.changeAgentStatus(a.Id,this.$tc("agentActionContent",2),this.$tc("agentActionHeader",2))},openAgentPopup(e,t){this.$refs.agentPopup.openAgentPopup(e,t)},target(e){this.currentPageNumber=e,this.fetchAgents(),document.getElementsByClassName("right-page-section")[0].scrollTop=0},syncAgent(){const e=this.$confirm({content:this.$t("syncContent"),title:this.$t("syncTitle")});e.$on("ok",async()=>{try{const t=await Object(d.k)(this.accountId);t.ok?(e.close(),this.$router.app.$emit("open-toast-notification",{content:this.$t("global.syncNotifyContent"),type:"success"})):(e.resume(),this.$router.app.$emit("open-toast-notification",{content:t.error,type:"error"}))}catch(t){e.resume(),Object(L.f)(t)}})},changeAgentStatus(e,t,a){this.massStatus.agentId=e,this.massStatus.content=t,this.massStatus.header=a;const s=this.$confirm({title:a,content:t});s.$on("ok",async()=>{this.confirmChangeAgentStatus(s)})},async confirmChangeAgentStatus(e){if(this.massStatus.header===this.$tc("agentActionHeader",1))try{const t=await Object(d.d)(this.massStatus.agentId);if(t.ok){e.close(),this.$router.app.$emit("open-toast-notification",{content:this.$t("deactivateNotifyContent"),type:"success"});const a=JSON.parse(I.a.unescape(t.data)).userId;this.refreshAgentList(a===this.currentUser.Id)}else e.resume(),this.$router.app.$emit("open-toast-notification",{content:t.error,type:"error"})}catch(t){e.resume(),Object(L.f)(t)}else if(this.massStatus.header===this.$tc("agentActionHeader",2))try{const t=await Object(d.a)(this.massStatus.agentId);if(t.ok){e.close(),this.$router.app.$emit("open-toast-notification",{content:this.$t("activateNotifyContent"),type:"success"});const a=JSON.parse(I.a.unescape(t.data)).userId;this.refreshAgentList(a===this.currentUser.Id)}else e.resume(),this.$router.app.$emit("open-toast-notification",{content:t.error,type:"error"})}catch(t){e.resume(),Object(L.f)(t)}},refreshAgentList(e){e?window.location.reload():this.fetchAgentsAndCounts()},changeTab(e){this.currentTab=e,this.condition.IsActive="Active"===e,this.currentPageNumber=1,this.fetchAgents()},searchAgents(){this.currentPageNumber=1,this.fetchAgents()},clearSearchKey(){this.condition.SearchKey="",this.currentPageNumber=1,this.fetchAgents()},openNewQuickReplyPopup(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.showNewQuickReply=!0,this.quickReplyTitle=e,this.currentQuickReply=t},closeNewQuickReplyPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.showNewQuickReply=!1,this.quickReplyTitle="",this.currentQuickReply={},"create"===e?(this.$refs.agentListComponent.fetchQuickReplies(),this.$router.app.$emit("open-toast-notification",{content:this.$t("saveNotifyContent"),type:"success"})):"edit"===e&&(this.$refs.agentListComponent.fetchQuickReplies(),this.$router.app.$emit("open-toast-notification",{content:this.$t("changeNotifyContent"),type:"success"}))}})},E=(a("sE/L"),a("ywBz")),U=Object(_.a)(W,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agent-page",attrs:{id:"charket-agent-page"}},[a("scoped-tabs",{attrs:{tabs:e.tabs,"current-tab-name":e.agentTab},on:{switch:e.switchMode}},[a("template",{slot:"button-group"},[e.showAgentList?e._e():a("div",[a("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.syncAgent()}}},[e._v(e._s(e.$t("global.syncBtn")))]),e._v(" "),a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.openAgentPopup("new")}}},[e._v(e._s(e.$t("global.newBtn")))])]),e._v(" "),e.showAgentList?a("div",[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){e.openNewQuickReplyPopup(e.$t("createTitle"))}}},[e._v(e._s(e.$t("global.newBtn")))])]):e._e()])],2),e._v(" "),e.showAgentList?e._e():a("div",{staticClass:"agent-tab"},[a("div",{staticClass:"agent-tab-title"},[a("ul",{staticClass:"slds-tabs_default__nav"},[a("li",{staticClass:"slds-tabs_default__item",class:{"slds-is-active":"Active"===e.currentTab},on:{click:function(t){return e.changeTab("Active")}}},[a("a",{staticClass:"slds-tabs_default__link slds-grid slds-grid_vertical-align-center agent-tab-link",attrs:{href:"javascript:void(0);"}},[a("span",[e._v(e._s(e.$t("activeLabel")))]),e._v(" "),a("span",{staticClass:"slds-badge"},[e._v(e._s(this.currentActiveTotalCount>=0?this.currentActiveTotalCount:e.activeTotalCount)+"/100")])])]),e._v(" "),a("li",{staticClass:"slds-tabs_default__item",class:{"slds-is-active":"Inactive"===e.currentTab},on:{click:function(t){return e.changeTab("Inactive")}}},[a("a",{staticClass:"slds-tabs_default__link slds-grid slds-grid_vertical-align-center agent-tab-link",attrs:{href:"javascript:void(0);"}},[a("span",[e._v(e._s(e.$t("inactiveLabel")))]),e._v(" "),e.currentInactiveTotalCount>=0?a("span",{staticClass:"slds-badge"},[e._v(e._s(e._f("addSeparators")(e.currentInactiveTotalCount)))]):a("span",{staticClass:"slds-badge"},[e._v(e._s(e._f("addSeparators")(e.inactiveTotalCount))),e.hasMoreInActiveAgent?a("i",{staticClass:"show-plus-sign"},[e._v("+")]):e._e()])])])]),e._v(" "),a("div",{staticClass:"agent-search"},[a("search-input",{attrs:{placeholder:e.$t("searchLabel")},on:{search:e.searchAgents,clear:e.clearSearchKey},model:{value:e.condition.SearchKey,callback:function(t){e.$set(e.condition,"SearchKey",t)},expression:"condition.SearchKey"}})],1)]),e._v(" "),e.isInitMessageLoading||0===e.currentActiveTotalCount||0===e.currentInactiveTotalCount?e._e():a("div",{staticClass:"slds-table--header-fixed_container agent-list-content"},[a("div",{staticClass:"slds-scrollable_y scroll-content"},[a("table",{staticClass:"slds-table slds-table_bordered slds-no-row-hover slds-table--header-fixed agent-table",attrs:{role:"grid"}},[a("thead",{staticClass:"agent-thead"},[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{staticClass:"slds-is-sortable slds-is-resizable",attrs:{focusable:"true",scope:"col"}},[a("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$tc("tableTitle",0)}},[e._v(e._s(e.$tc("tableTitle",0)))])]),e._v(" "),e.isMiniProgramAcc?a("th",{key:"personal-name",staticClass:"slds-is-sortable slds-is-resizable",attrs:{focusable:"true",scope:"col"}}):a("th",{key:"personal-name",staticClass:"slds-is-sortable slds-is-resizable",attrs:{focusable:"true",scope:"col"}},[a("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$tc("tableTitle",1)}},[e._v(e._s(e.$tc("tableTitle",1)))])]),e._v(" "),a("th",{staticClass:"slds-is-sortable slds-is-resizable",attrs:{focusable:"true",scope:"col"}},[a("span",{staticClass:"slds-truncate slds-cell-fixed",attrs:{title:e.$tc("tableTitle",2)}},[e._v(e._s(e.$tc("tableTitle",2)))])]),e._v(" "),a("th",{staticStyle:{width:"54px"},attrs:{scope:"col"}})])]),e._v(" "),e.isInitMessageLoading?e._e():a("tbody",e._l(e.agents,(function(t){return a("tr",{staticClass:"slds-hint-parent"},[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[t.ProfilePhotoUrl?a("div",{staticClass:"agent-pic"},[a("img",{attrs:{src:e._f("imgFilter")(t.ProfilePhotoUrl)},on:{error:function(t){return e.showErrorImg(t)}}})]):e._e(),e._v(" "),t.ProfilePhotoUrl?e._e():a("div",{staticClass:"agent-pic",style:{"background-color":e.agentColor[t.Id]}},[e._v(e._s(e._f("filterName")(t.Nickname)))]),e._v(" "),a("div",[a("div",{staticClass:"slds-truncate agent-nick-name",attrs:{title:t.Nickname}},[a("a",{attrs:{href:"/"+t.Id,target:"_blank"}},[e._v(e._s(t.Nickname))])]),e._v(" "),a("div",{staticClass:"agent-user-name slds-truncate",attrs:{title:t.Username}},[a("a",{attrs:{href:"/"+t.UserId,target:"_blank"}},[e._v(e._s(t.Username))])])])])]),e._v(" "),e.isMiniProgramAcc?a("td",{key:"personal-name-checkbox",attrs:{role:"gridcell"}},[a("div",{staticClass:"slds-truncate"})]):a("td",{key:"personal-name-checkbox",attrs:{role:"gridcell"}},[a("div",{staticClass:"slds-truncate"},[a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("span",{staticClass:"slds-checkbox"},[a("input",{attrs:{type:"checkbox",name:"options",disabled:"",value:"on"},domProps:{checked:t.IsSyncToWeChat}}),e._v(" "),e._m(0,!0)])])])])]),e._v(" "),a("td",{attrs:{role:"gridcell"}},[a("div",{staticClass:"slds-truncate"},[t.CreatedByUser?a("span",{attrs:{title:t.CreatedByUser+", "+e.formatDatetimeFilter()(t.CreatedDate,e.currentUser.TimeZoneSidKey)}},[e._v(e._s(t.CreatedByUser)+", "+e._s(e._f("formatDatetimeFilter")(t.CreatedDate,e.currentUser.TimeZoneSidKey)))]):a("span",{attrs:{title:e.formatDatetimeFilter()(t.CreatedDate,e.currentUser.TimeZoneSidKey)}},[e._v(e._s(e._f("formatDatetimeFilter")(t.CreatedDate,e.currentUser.TimeZoneSidKey)))])])]),e._v(" "),a("td",{staticClass:"td-position",staticStyle:{width:"3.25rem"},attrs:{role:"gridcell"}},[a("ld-action-menu",{attrs:{items:e.getMenuItems(t)},on:{click:function(t){return e.onClickMenuItem(t)}}})],1)])})),0)]),e._v(" "),e.isInitMessageLoading||e.showAgentList?e._e():a("pagination",{attrs:{paginations:e.currentAgentPagination,"page-number":e.currentPageNumber},on:{target:e.target}})],1)]),e._v(" "),e.isInitMessageLoading||0!==e.currentActiveTotalCount&&0!==e.currentInactiveTotalCount?e._e():a("no-record",{attrs:{"custom-style":"top: 80px;"}}),e._v(" "),a("loading-spinner",{attrs:{"is-loading":e.isInitMessageLoading,"custom-style":"top: 80px;"}})],1),e._v(" "),a("new-agent",{ref:"agentPopup",on:{hasUpdatedAgents:e.refreshAgentList}}),e._v(" "),e.showAgentList?a("agent-list",{ref:"agentListComponent",on:{"operate-quick-reply":e.openNewQuickReplyPopup}}):e._e(),e._v(" "),e.showNewQuickReply?a("new-quick-reply",{attrs:{title:e.quickReplyTitle,reply:e.currentQuickReply},on:{"close-quick-reply":e.closeNewQuickReplyPopup}}):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"slds-checkbox__label"},[t("span",{staticClass:"slds-checkbox_faux"})])}],!1,null,"16c21179",null);"function"==typeof E.default&&Object(E.default)(U);t.default=U.exports},"2xbR":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"agentPopupTitle":"新建专员 | 编辑专员","photoLabel":"个人资料图片","photoDescription":"上传新的个人资料图片","photoLimit":"允许的最大文件大小是1MB。","photoWarning":"你选择的图片太大了。","nameLabel":"名称","userLabel":"用户","showPersonalNameLabel":"显示专员个人名称","activeLabel":"启用","cropPhotoTitle":"裁剪专员的个人资料照片","createAgentNotify":"专员已创建。","saveAgentNotify":"专员已保存。","lookupPlaceholder":"用户"},"en":{"agentPopupTitle":"Create Agent | Edit Agent","photoLabel":"Profile Photo","photoDescription":"Upload a new profile photo.","photoLimit":"The photo to upload must be less than 1MB.","photoWarning":"The photo selected is too large.","nameLabel":"Name","userLabel":"User","showPersonalNameLabel":"Show Agent Personal Name","activeLabel":"Active","cropPhotoTitle":"Crop the profile photo.","createAgentNotify":"The agent was created.","saveAgentNotify":"The agent was saved.","lookupPlaceholder":"Users"}}'),delete e.options._Ctor}},"3nmp":function(e,t,a){"use strict";var s=a("R9hF"),i=a.n(s),n=a("dUVM"),o=a.n(n),r=a("8Vev"),l=a.n(r),c=a("4LGG"),d=a.n(c),p=a("kZKX"),u=a.n(p),h=a("q1Z7"),m=a("QBew"),g=a("OZZp"),f=a("zEt/"),b=a.n(f),v=a("i+Lc"),y=a.n(v),C=a("20nU"),_=a("XIlo"),w=a("OB6B");var L={openRoute(e){let{wechatAccountId:t,path:a}=e;const s=["#",t,y()(a).call(a,"/")?a.substring(1):a].join("/");_.a.isInLightningConsole?w.a.openWindow(["/apex/",C.a.sfdc_namespace?"".concat(C.a.sfdc_namespace,"__"):"","CharketApp?isdtp=p1",s].join("")):window.open([window.location.origin,window.location.pathname,window.location.search,s].join(""))}},T=a("SLhn"),I=a.n(T),k=a("0G99"),x=a.n(k),A=a("cybb"),N=a("M9dV");const S=["Image","Skill","Pass","Video","Voice Message","Text Message","Coupon","Notification Template","Structured Message","Mini Program Page"],$=new u.a([["Image","global.imageLabel"],["Skill","global.skillLabel"],["Pass","global.passLabel"],["Video","global.videoLabel"],["Voice Message","global.voiceLabel"],["Text Message","global.textLabel"],["Coupon","global.couponLabel"],["Notification Template","global.notifyLabel"],["Structured Message","global.strucLabel"],["Mini Program Page","global.miniProgramLabel"]]),P=new u.a([["Image","global.popupHeader.selectImage"],["Skill","global.popupHeader.selectSkill"],["Pass","global.popupHeader.selectPass"],["Video","global.popupHeader.selectVideo"],["Voice Message","global.popupHeader.selectVoiceClip"],["Text Message","global.popupHeader.selectTextMessage"],["Coupon","global.popupHeader.selectCoupon"],["Notification Template","global.popupHeader.selectNotificationTemplateLabel"],["Structured Message","global.popupHeader.selectStructuredMessage"],["Mini Program Page","global.popupHeader.selectMiniProgram"]]);var M=class{constructor(e){this.componentInstance=e}static getAllChoosers(){return[...S]}getExclusivelyConfig(e){let t=null;switch(e){case"Skill":t={add:{title:this.componentInstance.$t("exclusive.skillAddTitle"),content:this.componentInstance.$t("exclusive.skillAddContent"),ok:this.componentInstance.$t("global.yesBtn"),cancel:this.componentInstance.$t("global.noBtn")},remove:{title:this.componentInstance.$t("exclusive.skillRemoveTitle"),content:this.componentInstance.$t("exclusive.skillRemoveContent"),ok:this.componentInstance.$t("global.yesBtn"),cancel:this.componentInstance.$t("global.noBtn")}}}return t}getReplyModeConfig(e){if("false"!==e&&!1!==e&&null!=e)return{label:this.componentInstance.$t("replyModeLabel"),modes:[{label:this.componentInstance.$t("replyModeAll"),value:"All"},{label:this.componentInstance.$t("replyModeRandom"),value:"Random"}]}}getChooserConfigs(e){return d()(e).call(e,e=>{const{type:t}=e,a={type:t,name:this.componentInstance.$t($.get(t)),exclusive:this.getExclusivelyConfig(t),layout:this.createLayout(t,e.limitLabel),dataProvider:this.createDataProvider(t),limitOfItems:e.limit||null};if("Text Message"===t){a.showTabs=!0;const t=this.getSubConfigsOfTextMessageChooser(),{textConfig:s}=e;if(s){const e={};x()(s).call(s,a=>{e[a]=t.designer[a]}),a.configs={designer:e,editor:t.editor}}else a.configs=t}return a})}getSubConfigsOfTextMessageChooser(){return{designer:{link:{iconTitle:this.componentInstance.$t("designer.linkIcon"),title:this.componentInstance.$t("global.title"),linkURL:this.componentInstance.$t("designer.linkUrl"),invalidUrl:this.componentInstance.$t("designer.illegalUrl"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),change:this.componentInstance.$t("designer.changeBtn"),remove:this.componentInstance.$t("designer.removeBtn")},miniProgramPage:{iconTitle:this.componentInstance.$t("designer.miniProgramIcon"),title:this.componentInstance.$t("global.title"),linkUrl:this.componentInstance.$t("designer.linkUrl"),invalidUrl:this.componentInstance.$t("designer.illegalUrl"),appId:this.componentInstance.$t("designer.appId"),pagePath:this.componentInstance.$t("designer.pagePath"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),change:this.componentInstance.$t("designer.changeBtn"),remove:this.componentInstance.$t("designer.removeBtn"),dataProvider:this.createDataProvider("Mini Program Link")},action:{iconTitle:this.componentInstance.$t("designer.actionIcon"),name:this.componentInstance.$t("designer.name"),value:this.componentInstance.$t("designer.value"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn")},mergeField:{iconTitle:this.componentInstance.$t("designer.mergeFieldIcon"),title:this.componentInstance.$t("designer.selectAField"),placeholder:this.componentInstance.$t("designer.findObjectPlaceholder"),filterPlaceholder:this.componentInstance.$t("designer.labelFilterPlaceholder"),fieldTitle:this.componentInstance.$t("designer.fieldTitle"),type:this.componentInstance.$t("designer.type"),apiName:this.componentInstance.$t("designer.apiName"),primaryButton:this.componentInstance.$t("global.chooseBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn"),noMatches:this.componentInstance.$t("designer.noMatchesFound"),currentSelection:this.componentInstance.$t("designer.currentSelection"),dataProvider:this.createDataProvider("Merge Field")}},editor:{title:this.componentInstance.$t("global.popupHeader.editTextMessage"),cancelButton:this.componentInstance.$t("global.cancelBtn"),okButton:this.componentInstance.$t("global.saveBtn")}}}createLayout(e,t){const a={title:this.componentInstance.$t(P.get(e)),noRecords:this.componentInstance.$t("global.noRecords"),editButton:this.componentInstance.$t("global.editBtn"),searchPlaceholder:this.componentInstance.$t("global.searchPlaceholder"),primaryButton:this.componentInstance.$t("global.confirmBtn"),secondaryButton:this.componentInstance.$t("global.cancelBtn")},s={title:"Voice Message"===e?this.componentInstance.$t("uploader.voiceTitle"):this.componentInstance.$t("uploader.".concat(e.toLowerCase(),"Title")),label:this.componentInstance.$t("uploader.titleLabel"),descriptionLabel:this.componentInstance.$t("uploader.descriptionLabel"),secondaryButton:this.componentInstance.$t("uploader.cancelBtn"),sizeLimitError:this.componentInstance.$t("uploader.tooLarge"),upload:this.componentInstance.$t("uploader.uploadBtn"),uploading:this.componentInstance.$t("uploader.uploadingBtn")};switch(e){case"Text Message":a.tabs={new:{title:this.componentInstance.$t("global.popupHeader.createTextMessage"),tabLabel:this.componentInstance.$t("newTextMessage")},list:{title:this.componentInstance.$t("global.popupHeader.selectTextMessage"),tabLabel:this.componentInstance.$t("textMessages")}},a.iconLabel=this.componentInstance.$t("global.textLabel");break;case"Skill":a.headers=[{text:this.componentInstance.$t("nameLabel"),value:"name"},{text:this.componentInstance.$t("knowledgeSourceLabel"),value:"knowledgeSource"},{text:this.componentInstance.$t("relatedToLabel"),value:"relatedTo"},{text:this.componentInstance.$t("descriptionLabel"),value:"description"},{text:this.componentInstance.$t("validForLabel"),value:"validFor"},{text:this.componentInstance.$t("displayInLiveChatLabel"),value:"isDisplayInLiveChat"},{text:this.componentInstance.$t("internalLabel"),value:"isInternal"},{text:this.componentInstance.$t("lastModifiedByLabel"),value:"lastModifiedBy"}],a.iconLabel=this.componentInstance.$t("global.skillLabel");break;case"Pass":a.headers=[{text:this.componentInstance.$t("name"),value:"name"},{text:this.componentInstance.$t("startDate"),value:"localizedStartTime"},{text:this.componentInstance.$t("endDate"),value:"localizedEndTime"},{text:this.componentInstance.$t("quantity"),value:"quantity"},{text:this.componentInstance.$t("createdBy"),value:"compoundCreatedBy"}],a.iconLabel=t||this.componentInstance.$t("global.passLabel");break;case"Coupon":a.headers=[{text:this.componentInstance.$t("type"),value:"type"},{text:this.componentInstance.$t("name"),value:"name"},{text:this.componentInstance.$t("expirationDate"),value:"expirationDate"},{text:this.componentInstance.$t("quantity"),value:"quantity"},{text:this.componentInstance.$t("status"),value:"status"}],a.iconLabel=this.componentInstance.$t("global.couponLabel");break;case"Notification Template":a.headers=[{text:this.componentInstance.$t("titleLabel"),value:"title"},{text:this.componentInstance.$t("keywordLabel"),value:"keywordNames"},{text:this.componentInstance.$t("urlLabel"),value:"notificationURL"},{text:this.componentInstance.$t("noteLabel"),value:"note"},{text:this.componentInstance.$t("createdLabel"),value:"createdBy"}],a.iconLabel=this.componentInstance.$t("global.notifyLabel");break;case"Image":a.uploader=s,a.iconLabel=this.componentInstance.$t("global.imageLabel"),a.hasAction=!0;break;case"Voice Message":a.uploader=s,a.iconLabel=this.componentInstance.$t("global.voiceLabel"),a.hasAction=!0;break;case"Video":a.uploader=s,a.iconLabel=this.componentInstance.$t("global.videoLabel"),a.hasAction=!0;break;case"Mini Program Page":a.iconLabel=this.componentInstance.$t("global.miniProgramLabel");break;case"Structured Message":a.iconLabel=this.componentInstance.$t("global.strucLabel"),a.syncedTooltip=this.componentInstance.$t("global.syncedWithWeChatPlatform")}return a}createDataProvider(e){const t={wechatAccount:this.componentInstance.wechatAccount,pageName:this.componentInstance.pageName,structuredType:this.componentInstance.structuredType};switch(e){case"Text Message":t.success=()=>{this.componentInstance.$toast({content:this.componentInstance.$t("changeSavedNofity"),type:"success"})},t.error=e=>{this.componentInstance.$handleError(e)};break;case"Skill":t.formatter=e=>{var t;e.compoundRelatedTo={id:e.relatedTo?e.relatedTo.id:"",name:e.relatedTo?e.relatedTo.name:""},"Survey"===e.knowledgeSource&&e.relatedTo&&e.relatedTo.id?(e.compoundRelatedTo.href="javascript: void(0);",e.compoundRelatedTo.onClick=e=>{this.componentInstance.$router.push({name:"survey-editor",params:{surveyId:e.relatedTo.id}})}):e.relatedTo&&e.relatedTo.id&&(e.compoundRelatedTo.href="/".concat(e.relatedTo.id));const a=Object(A.e)(e.lastModifiedDate,this.componentInstance.$user.TimeZoneSidKey);return e.compoundLastModifiedBy=e.lastModifiedBy.name?I()(t="".concat(e.lastModifiedBy.name,", ")).call(t,a):a,e};break;case"Structured Message":t.formatter=e=>(e.localizedWeChatLastModifiedTime=Object(A.e)(e.weChatLastModifiedTime,this.componentInstance.$user.TimeZoneSidKey),e);break;case"Pass":t.formatter=e=>{var t;const a=Object(A.e)(e.createdDate,this.componentInstance.$user.TimeZoneSidKey);return e.compoundCreatedBy=I()(t="".concat(e.createdByUser,", ")).call(t,a),e.localizedStartTime=Object(A.e)(e.startTime,this.componentInstance.$user.TimeZoneSidKey),e.localizedEndTime=Object(A.e)(e.endTime,this.componentInstance.$user.TimeZoneSidKey),e};break;case"Coupon":const e=this.componentInstance.$t("to");t.formatter=t=>{var a,s;const i=Object(A.e)(t.beginDate,this.componentInstance.$user.TimeZoneSidKey),n=Object(A.e)(t.endDate,this.componentInstance.$user.TimeZoneSidKey);return t.expirationDate=I()(a=I()(s="".concat(i," ")).call(s,e," ")).call(a,n),t};break;case"Notification Template":t.formatter=e=>{var t;return e.localizedCreatedDate=Object(A.e)(e.createdDate,this.componentInstance.$user.TimeZoneSidKey),e.createdBy=I()(t="".concat(e.createdByUser,", ")).call(t,e.localizedCreatedDate),e};break;case"Voice Message":case"Video":t.formatter=e=>(e.localizedUpdateDateTime=Object(A.e)(e.updateDateTime,this.componentInstance.$user.TimeZoneSidKey),e)}return N.a.create(e,t)}},R=a("itEF"),O=a("wG3i"),D=a.n(O),B=a("FYrm"),F=a("w+Ta"),q=a("hOMy"),j={props:{accountId:{type:String,default:()=>""}},components:{CreateWeChatPass:B.a,LdModal:q.LdModal},data:()=>({isSavingPass:!1}),methods:{onClickActivator(){this.$refs.Modal.open()},closeModal(e){this.$emit("close",e),this.$refs.Modal.close()},async saveNewPass(){const e=this.accountId||this.$route.params.accountId,t=this.$refs.pass.getPass();if(e&&t)try{this.isSavingPass=!0;const a=await Object(F.f)(e,D()(t));if(a.ok){this.$router.app.$emit("open-toast-notification",{content:this.$t("passForApproval"),type:"success"});const e=a.data;this.$parent.$parent.$parent.$emit("new-pass-created"),this.closeModal(e)}else this.$refs.Modal.showError(a.error)}catch(e){const t=this.$parseErrorMessage(e);this.$refs.Modal.showError(t)}finally{this.isSavingPass=!1}}}},W=(a("nOmU"),a("KHd+")),E=a("Dk61"),U=Object(W.a)(j,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"new-pass-popup"},[a("span",{on:{click:e.onClickActivator}},[e._t("activator")],2),e._v(" "),a("ld-modal",{ref:"Modal",attrs:{title:e.$t("newPassTitle"),width:"auto","min-width":900,"max-width":"90%",persistent:e.isSavingPass}},[a("template",{slot:"content"},[a("create-we-chat-pass",{ref:"pass",attrs:{"acc-id":e.accountId,"is-popup":!0}})],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSavingPass},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),a("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSavingPass},on:{click:function(t){return e.saveNewPass()}}},[e._v(e._s(e.$t("global.saveBtn")))])])],2)],1)}),[],!1,null,"dcb5ef76",null);"function"==typeof E.default&&Object(E.default)(U);var V=U.exports,Q=a("fb3H"),K=a("wbfU"),z={props:{accountId:String},components:{WechatNotification:Q.a,NewNotificationPopup:K.a},data:()=>({isWeChatNotificationVisible:!1,isNewNotificationPopupVisible:!1,selectedWeChatNotification:null}),methods:{onClickActivator(){this.isWeChatNotificationVisible=!0},onWeChatNotificationClose(){this.isWeChatNotificationVisible=!1},onWeChatNotificationNext(e){this.selectedWeChatNotification=e,this.isWeChatNotificationVisible=!1,this.isNewNotificationPopupVisible=!0},onNewNotificationPopupClose(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")?this.$parent.$parent.$parent.$emit("new-notification-template-created"):this.isWeChatNotificationVisible=!0,this.isNewNotificationPopupVisible=!1}}},Z=Object(W.a)(z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isWeChatNotificationVisible?a("wechat-notification",{attrs:{"account-id":e.accountId},on:{close:e.onWeChatNotificationClose,next:e.onWeChatNotificationNext}}):e._e(),e._v(" "),e.isNewNotificationPopupVisible?a("new-notification-popup",{attrs:{"acc-id":e.accountId,notify:e.selectedWeChatNotification},on:{close:e.onNewNotificationPopupClose}}):e._e(),e._v(" "),a("div",{on:{click:e.onClickActivator}},[e._t("activator")],2)],1)}),[],!1,null,null,null).exports;const G=new u.a([["Mini Program",["Text Message","Image","Mini Program Page","Skill"]],["Subscription Account",["Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Pass","Coupon","Skill"]],["Service Account",["Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Notification Template","Pass","Coupon","Skill"]]]);var H={components:{WechatResponseDesigner:h.WechatResponseDesigner,LdButton:m.LdButton,LdIcon:g.LdIcon,NewPassPopup:V,NotificationTemplateCreator:Z},model:{prop:"value",event:"input"},props:{value:{type:Object,default:()=>({})},limitOfItems:{type:Number,default:999},wechatAccount:{type:Object,required:!0},choosers:{type:Array,required:!0},multiple:{type:Boolean,default:()=>!1},enableReplyMode:{type:[Boolean,String],default:()=>!1},pageName:{type:String,default:""},iconSize:{type:String,default:"small"},structuredType:{type:String,default:"news"}},data:()=>({helperInstance:null,wechatResponse:{},addSvg:b.a}),computed:{unifiedChoosers(){var e;return d()(e=this.choosers).call(e,e=>"string"==typeof e?{type:e}:e)},supportedChoosers(){var e;return this.wechatAccount.type?l()(e=this.unifiedChoosers).call(e,e=>{var t;let{type:a}=e;return o()(t=G.get(this.wechatAccount.type)).call(t,a)}):this.unifiedChoosers},chooserConfigs(){return this.helper.getChooserConfigs(this.supportedChoosers)},replyModeConfig(){return this.helper.getReplyModeConfig(this.enableReplyMode)},helper(){return this.helperInstance||(this.helperInstance=new M(this)),this.helperInstance},accountId(){return this.wechatAccount.id}},watch:{wechatResponse:{handler(e){if(e.isInternalChange&&this.value&&e.content===this.value.content)return;const t=this.multiple?R.a.from(e):R.a.createItem(e);this.$emit("input",t)},deep:!0},value:{deep:!0,immediate:!0,handler(e){this.wechatResponse=i()({isInternalChange:!0},e)}}},methods:{onClickNewStructuredMessage(){L.openRoute({wechatAccountId:this.$wechatAccount.id,path:"message/structured-messages/new"})}}},J=(a("Ek5D"),a("xswR")),X=a("ItEM"),Y=a("fOvr"),ee=a("1vOb"),te=a("4bTK"),ae=a("DR4q"),se=Object(W.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wechat-response-designer",{attrs:{choosers:e.chooserConfigs,multiple:e.multiple,"reply-mode-config":e.replyModeConfig,"limit-of-items":e.limitOfItems,"icon-size":e.iconSize},model:{value:e.wechatResponse,callback:function(t){e.wechatResponse=t},expression:"wechatResponse"}},[a("ld-button",{attrs:{slot:"structured-message-create-button",neutral:""},on:{click:e.onClickNewStructuredMessage},slot:"structured-message-create-button"},[a("ld-icon",{staticClass:"plus-icon",attrs:{size:"xx-small",color:"current",content:e.addSvg}})],1),e._v(" "),a("new-pass-popup",{attrs:{slot:"pass-create-button","account-id":e.accountId},slot:"pass-create-button"},[a("ld-button",{attrs:{slot:"activator",neutral:""},slot:"activator"},[e._v("\n      "+e._s(e.$t("global.newBtn"))+"\n    ")])],1),e._v(" "),a("notification-template-creator",{attrs:{slot:"notification-template-create-button","account-id":e.accountId},slot:"notification-template-create-button"},[a("ld-button",{attrs:{slot:"activator",neutral:""},slot:"activator"},[e._v("\n      "+e._s(e.$t("global.newBtn"))+"\n    ")])],1)],1)}),[],!1,null,"486a8157",null);"function"==typeof J.default&&Object(J.default)(se),"function"==typeof X.default&&Object(X.default)(se),"function"==typeof Y.default&&Object(Y.default)(se),"function"==typeof ee.default&&Object(ee.default)(se),"function"==typeof te.default&&Object(te.default)(se),"function"==typeof ae.default&&Object(ae.default)(se);var ie=se.exports;t.a=ie},"4bTK":function(e,t,a){"use strict";var s=a("t29s"),i=a.n(s);t.default=i.a},"6T+t":function(e,t,a){"use strict";var s=a("utxR");a.n(s).a},"82yQ":function(e,t,a){},"8QbS":function(e,t,a){"use strict";var s=a("qzvn");a.n(s).a},"8YXT":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectNotificationTemplateLabel":"选择微信模板","newTemplateLabel":"在微信中添加一个新模板"},"en":{"selectNotificationTemplateLabel":"Select WeChat Template","newTemplateLabel":"Choose a new template from WeChat."}}'),delete e.options._Ctor}},"94pc":function(e,t,a){},"9Zkp":function(e,t,a){},A3YL:function(e,t,a){"use strict";var s=a("F5n2"),i=a.n(s);t.default=i.a},AScg:function(e,t,a){},DR4q:function(e,t,a){"use strict";var s=a("hG8I"),i=a.n(s);t.default=i.a},Dk61:function(e,t,a){"use strict";var s=a("I0LH"),i=a.n(s);t.default=i.a},Ek5D:function(e,t,a){"use strict";var s=a("94pc");a.n(s).a},F5n2:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"weChatLabel":"微信","backLabel":"返回","detailsLabel":"详情","templateSettingLabel":"模板设置","urlLabel":"链接","informationLabel":"附加信息","noteLabel":"备注","placeholderLabel":"可选的"},"en":{"weChatLabel":"WeChat","backLabel":"Back","detailsLabel":"Details","templateSettingLabel":"Template Settings","urlLabel":"URL","informationLabel":"Additional Information","noteLabel":"NOTE","placeholderLabel":"Optional"}}'),delete e.options._Ctor}},F5n6:function(e,t,a){"use strict";var s={props:{paginations:{type:Array},pageNumber:{type:Number,default:1}},data:()=>({currentPageNumber:1}),created(){this.currentPageNumber=this.pageNumber},methods:{changePageNumber(e,t){this.currentPageNumber="pre"===t?this.currentPageNumber-1:"next"===t?this.currentPageNumber+1:e,this.$emit("target",this.currentPageNumber)}}},i=(a("hkfk"),a("KHd+")),n=a("k/9o"),o=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.paginations.length>1?a("ul",{staticClass:"slds-grid slds-grid_align-center pagination"},[a("li",{staticClass:"page-turning-pre",attrs:{title:e.$t("preTitle")}},[e.currentPageNumber>1?a("a",{staticClass:"page-turning",attrs:{id:"previousPage"},on:{click:function(t){return e.changePageNumber("","pre")}}},[a("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1):a("a",{staticClass:"disabled page-turning",attrs:{id:"previousPageDisabled",disabled:"true"}},[a("icon",{attrs:{name:"left","text-color":"default",size:"x-small","charket-icon":""}})],1)]),e._v(" "),e._l(e.paginations,(function(t){return a("li",{staticClass:"middle-page-number"},[0!==t.PageNumber?a("a",{class:{currentPage:t.PageNumber===e.currentPageNumber},on:{click:function(a){return e.changePageNumber(t.PageNumber)}}},[e._v(e._s(t.PageNumber))]):a("a",[e._v("...")])])})),e._v(" "),a("li",{staticClass:"page-turning-pre",attrs:{title:e.$t("nextTitle")}},[e.paginations[e.paginations.length-1].PageNumber!==e.currentPageNumber?a("a",{staticClass:"page-turning",attrs:{id:"nextPage"},on:{click:function(t){return e.changePageNumber("","next")}}},[a("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1):a("a",{staticClass:"disabled page-turning",attrs:{id:"nextPageDisabled",disabled:"true"}},[a("icon",{attrs:{name:"right","text-color":"default",size:"x-small","charket-icon":""}})],1)])],2):e._e()}),[],!1,null,"430ba9bf",null);"function"==typeof n.default&&Object(n.default)(o);t.a=o.exports},Fblv:function(e,t,a){"use strict";var s=a("O2ea");a.n(s).a},"HA+Y":function(e,t,a){},HaPu:function(e,t,a){"use strict";var s=a("8YXT"),i=a.n(s);t.default=i.a},Hi2j:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"type":"类型","name":"名称","expirationDate":"过期日期","quantity":"数量","status":"状态","to":"至"},"en":{"type":"Type","name":"Name","expirationDate":"Expiration Date","quantity":"Quantity","status":"Status","to":"to"}}'),delete e.options._Ctor}},HrZM:function(e,t,a){},I0LH:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newPassTitle":"新建凭证","passForApproval":"凭证已提交审批！"},"en":{"newPassTitle":"New Pass","passForApproval":"The pass was submitted for approval."}}'),delete e.options._Ctor}},IWmz:function(e,t,a){"use strict";a.r(t);var s=a("dUVM"),i=a.n(s),n=a("692z"),o=a("F5n6"),r=a("wG3i"),l=a.n(r);const c={OrderBy:"Last Created Date",SearchKey:"",Active:"Active"};var d={props:{qrcodeType:{type:String,required:!0},count:{type:Number,default:()=>0},hasMore:{type:Boolean,default:()=>!1}},watch:{conditions:{handler(e){this.$emit("change",e)},deep:!0}},data:()=>({defaultStatus:"Active",defaultOrder:"Last Created Date",conditions:JSON.parse(l()(c))}),computed:{countLabel(){return this.count<=1?this.$tc("itemLabel",1):this.$tc("itemLabel",2)},statusOptions(){const e=[{label:this.$t("allLabel"),value:"All"},{label:this.$t("activeLabel"),value:"Active"},{label:this.$t("inactiveLabel"),value:"Inactive"}],t=[...e,{label:this.$t("expireLabel"),value:"Expired"}];return"Permanent"===this.qrcodeType?e:"Temporary"===this.qrcodeType?t:[]},orderOptions(){const e=[{label:this.$t("lastDateLabel"),value:"Last Created Date"},{label:this.$t("oldestDateLabel"),value:"Oldest Created Date"},{label:this.$t("mostScanLabel"),value:"Most Scanned Count"},{label:this.$t("leastScanLabel"),value:"Least Scanned Count"}],t=[...e,{label:this.$t("lastExpireLabel"),value:"Last Expiration Date"},{label:this.$t("oldestExpireLabel"),value:"Oldest Expiration Date"}];return"Permanent"===this.qrcodeType?e:"Temporary"===this.qrcodeType?t:[]}},methods:{onSearchKeyClear(){this.conditions.SearchKey=""},onSearch(e){this.conditions.SearchKey=e},onStatusChange(e){this.conditions.Active=e.value},onOrderChange(e){this.conditions.OrderBy=e.value},getConditions(){return this.conditions},reset(){this.$refs.StatusPicklist.reset(!0),this.$refs.OrderPicklist.reset(!0),this.$refs.SearchInput.reset(),this.conditions=JSON.parse(l()(c))}}},p=(a("aZdR"),a("KHd+")),u=a("tIdp"),h=Object(p.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-border_bottom qrcode-filter"},[a("div",{staticClass:"qrcode-count"},[e._v("\n    "+e._s(e._f("addSeparators")(e.count))),e.hasMore?a("i",{staticClass:"has-more-icon"},[e._v("+")]):e._e(),e._v(" "+e._s(e.countLabel)+"\n  ")]),e._v(" "),a("div",{staticClass:"qrcode-status"},[a("ld-picklist",{ref:"StatusPicklist",staticClass:"qrcode-status__picklist",attrs:{options:e.statusOptions,value:e.defaultStatus},on:{change:function(t){return e.onStatusChange(t)}}})],1),e._v(" "),a("div",{staticClass:"slds-col_bump-left qrcode-search"},[a("search-input",{ref:"SearchInput",attrs:{placeholder:e.$t("searchQRCodeLabel")},on:{search:function(t){return e.onSearch(t)},clear:function(t){return e.onSearchKeyClear()}}})],1),e._v(" "),a("div",{staticClass:"qrcode-order"},[a("ld-picklist",{ref:"OrderPicklist",attrs:{options:e.orderOptions,"option-header":e.$t("sortByLabel"),value:e.defaultOrder},on:{change:function(t){return e.onOrderChange(t)}}})],1)])}),[],!1,null,"73e70ab4",null);"function"==typeof u.default&&Object(u.default)(h);var m=h.exports,g=a("SLhn"),f=a.n(g),b=a("7aFC"),v=a("jkSJ"),y=a("R9w4"),C=a.n(y),_=a("4LGG"),w=a.n(_),L=a("vQrK"),T=a.n(L),I=a("rZkV"),k=a.n(I),x=a("L2JU");const A=Number.NaN;var N={props:{value:{type:Number,default:0}},data(){return{expirationUnitOptions:[{label:this.$t("daysLabel"),value:"Day"},{label:this.$t("hoursLabel"),value:"Hour"}],expirationType:"Day",expirationCount:A}},watch:{expirationSeconds(e){this.$emit("input",e),this.$emit("change")}},computed:{expirationSeconds(){return"Day"===this.expirationType?24*this.expirationCount*3600:"Hour"===this.expirationType?3600*this.expirationCount:(console.warn("should not be here"),0)}},methods:{reset(){this.expirationCount=A,this.expirationType="Day"},onExpirationUnitChanged(e){this.expirationType=e.value}}},S=(a("XLDG"),a("rr/m")),$=Object(p.a)(N,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"expiration-seconds-field"},[a("div",{staticClass:"field__label"},[a("span",{staticClass:"field__required"},[e._v("*")]),e._v(" "),a("p",{staticClass:"field__name"},[e._v(e._s(e.$tc("expireInLabel",1)))]),e._v(" "),a("p",{staticClass:"field__tips"},[e._v("("+e._s(e.$t("maxExpireLabel"))+")")])]),e._v(" "),a("div",{staticClass:"slds-grid slds-grid_align-spread field__body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.expirationCount,expression:"expirationCount"}],staticClass:"slds-input field__input expiration-count",attrs:{type:"number",min:"0"},domProps:{value:e.expirationCount},on:{input:function(t){t.target.composing||(e.expirationCount=t.target.value)}}}),e._v(" "),a("ld-picklist",{staticClass:"expiration-unit",attrs:{options:e.expirationUnitOptions,value:e.expirationType},on:{change:function(t){return e.onExpirationUnitChanged(t)}}})],1)])}),[],!1,null,"1f8e64e4",null);"function"==typeof S.default&&Object(S.default)($);var P=$.exports,M=a("kWsH"),R=a.n(M),O=a("0G99"),D=a.n(O),B=a("2AFw"),F=a("4MOm");const q=["qr-codes-temporaries-new","qr-codes-permanents-new"];var j={components:{Lookup:B.a},props:{value:{type:String,default:""},objectLabel:{type:String,default:""},objectName:{type:String,default:""},fieldLabel:{type:String,default:()=>""}},async mounted(){const e=await v.o.getRelatedObjects();D()(e).call(e,e=>{const t={name:e.name,label:e.label,labelPural:e.pluralLabel,linkField:{name:"Name",label:this.fieldLabel},newObjectLink:"/".concat(e.ObjectIdPrefix,"/e"),fields:[],icon:this.getMetadataIcon(e.name)};this.metadatas.push(t)}),this.defaultMetadataType=this.metadatas[0].name,this.tryInitRelatedCampaign(),this.$emit("change",{id:this.selectedOption?this.selectedOption.id:"",label:this.selectedOption?this.selectedOption.name:"",name:this.defaultMetadataType})},data:()=>({selectedOption:null,metadatas:[],defaultMetadataType:""}),watch:{value(e){if(e){const t=this.isRelatedToWeChatCampaignFlowStep?"Campaign":this.objectName;this.setMetadataTypeAsFirst(t),this.selectedOption={id:e,name:this.objectLabel}}else this.selectedOption=null}},computed:{isLookupVisible(){return this.metadatas.length>0},isRelatedToWeChatCampaignFlowStep(){return this.objectName===F.a.getQualifiedName("WeChatCampaignFlowStep__c")}},methods:{reset(){this.setMetadataTypeAsFirst(this.defaultMetadataType)},setMetadataTypeAsFirst(e){var t;R()(t=this.metadatas).call(t,(t,a)=>t.name===e?-1:a.name===e?1:0)},getMetadataIcon(e){if("ApexClass"===e)return"apex";const t=F.a.isCustomObject(e)?"default":e.toLowerCase();return"Case"===e?"".concat(t,"Icon"):t},tryInitRelatedCampaign(){if(!i()(q).call(q,this.$route.name))return;const{campaignId:e,campaignName:t}=this.$route.query;e&&t&&(this.selectedOption={id:e,name:t})},onSelectObject(e){this.$emit("change",{id:e?e.id:"",label:e.name,name:this.objectName?this.objectName:this.defaultMetadataType})},onSelectedObjectRemoved(){this.$emit("change",{id:"",label:"",name:this.objectName})},onSelectObjectType(e){this.$emit("change",{id:this.value,label:this.objectLabel,name:e.name})}}},W=(a("KiqS"),a("z7QL")),E=Object(p.a)(j,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLookupVisible?a("lookup",{attrs:{"ld-selected-item":e.selectedOption,"ld-metadatas":e.metadatas,"is-disabled":e.isRelatedToWeChatCampaignFlowStep},on:{select:function(t){return e.onSelectObject(t)},selectObj:function(t){return e.onSelectObjectType(t)},remove:function(t){return e.onSelectedObjectRemoved()}}}):e._e()}),[],!1,null,"b608adee",null);"function"==typeof W.default&&Object(W.default)(E);var U=E.exports,V=a("3nmp"),Q=a("cybb"),K=a("rVwK"),z={name:"qrcode-edit-layout",components:{ExpirationSecondsField:P,RelatedToField:U,WechatResponse:V.a},model:{prop:"qrcodeData",event:"changed"},props:{qrcodeData:{type:Object,required:!0},campaignMemberStatusOptions:{type:Array,default:()=>null}},data(){var e;return{overwriteTagCheckboxId:k()(e=Math.random().toString(36)).call(e,4),memberStatusOptions:this.fetchCampaignMemberStatusOptions,response:null}},computed:T()({},Object(x.c)({currentAccount:"sidebar/currentAccount"}),{wechatAccount(){return{id:this.currentAccount?this.currentAccount.Id:"",type:this.currentAccount?this.currentAccount.Type:""}},relatedToFieldLabel(){return this.isRelatedToWeChatCampaignFlowStep?this.$t("weChatCampaignLabel"):this.$t("relatedLabel")},isRelatedToCampaign(){return"Campaign"===this.qrcodeData.RelatedObjectType},isCampaignMemberStatusVisible(){return this.isRelatedToCampaign||!this.qrcodeData.RelatedObjectType},relatedCampaignId(){return this.isRelatedToCampaign?this.qrcodeData.WhatId:""},isCampaignMemberStatusDisabled(){return!this.qrcodeData.WhatId},isExpirationFieldVisible(){return!this.qrcodeData.QRCodeId&&"Temporary"===this.qrcodeData.Type},isRelatedToWeChatCampaignFlowStep(){return this.qrcodeData.RelatedObjectType===F.a.getQualifiedName("WeChatCampaignFlowStep__c")},mergeFieldCategory(){return this.isRelatedToWeChatCampaignFlowStep?"QR Codes of WeChat Campaign":"QR Codes"}}),watch:{campaignMemberStatusOptions(e){this.$refs.CampaignMemberStatus.reset(),this.memberStatusOptions=e?w()(e).call(e,e=>({label:e,value:e})):this.fetchCampaignMemberStatusOptions},"qrcodeData.RelatedObjectName":function(e){const t=!e;this.isRelatedToCampaign&&t&&(this.resetCampaignMemberStatusField(),this.$emit("changed",this.qrcodeData))},qrcodeData:{deep:!0,handler(e){const t=this.response&&e.Skill&&e.Skill.Id===this.response.id,a=this.response&&e.WeChatMessage&&e.WeChatMessage.Id===this.response.id;if(!t&&!a)if(e.Skill&&e.Skill.Id){const t=new K.j(e.Skill);this.response=t}else e.WeChatMessage&&e.WeChatMessage.Id?this.response=this.formatMessageDateField(new K.e(e.WeChatMessage.FileMapping)):this.response=null}},response(e){this.onAutoResponseChanged(e)}},methods:{async fetchCampaignMemberStatusOptions(){const e=await v.c.getCampaignMemberStatusOptions(this.relatedCampaignId);return w()(e).call(e,e=>({label:e,value:e}))},formatMessageDateField(e){return e.updateDateTime?e.localizedUpdateDateTime=Object(Q.e)(e.updateDateTime,this.$user.TimeZoneSidKey):e.weChatLastModifiedTime&&(e.localizedWeChatLastModifiedTime=Object(Q.e)(e.weChatLastModifiedTime,this.$user.TimeZoneSidKey)),e},reset(){this.$refs.RelatedTo.reset(),this.$refs.TagSelector.reset(),this.$refs.ExpirationSecondsField&&this.$refs.ExpirationSecondsField.reset()},resetCampaignMemberStatusField(){this.$refs.CampaignMemberStatus.reset(),this.memberStatusOptions=this.fetchCampaignMemberStatusOptions,this.qrcodeData.CampaignMemberStatus=null},onDataChanged(){this.$emit("changed",this.qrcodeData)},onCampaignMemberStatusChanged(e){this.qrcodeData.CampaignMemberStatus=e?e.value:null,this.$emit("changed",this.qrcodeData)},onRelatedToFieldChanged(e){let{id:t,label:a,name:s}=e;this.qrcodeData.WhatId=t,this.qrcodeData.RelatedObjectName=a,this.qrcodeData.RelatedObjectType=s,this.$emit("change",this.qrcodeData)},onTagChanged(e){this.qrcodeData.WeChatTags=[...e],this.qrcodeData.WeChatTagIds=w()(e).call(e,e=>e.Id),this.$emit("changed",this.qrcodeData)},onAutoResponseChanged(e){this.qrcodeData.Skill={},this.qrcodeData.WeChatMessage={TextBody:"",Id:""},e&&(e.type||e.Type)&&("Skill"===e.type?this.qrcodeData.Skill={Name:e.name,IsInternal:e.isInternal,Id:e.id}:"Text Message"===e.type?(this.qrcodeData.WeChatMessage.TextBody=e.textBody,this.qrcodeData.WeChatMessage.Id=e.id):this.qrcodeData.WeChatMessage.Id=e.id,this.qrcodeData.WeChatMessage.FileMapping=e,this.$emit("changed",this.qrcodeData))}}},Z=(a("QAlp"),a("WmA8")),G=Object(p.a)(z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qrcode-edit-layout"},[a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__label"},[a("span",{staticClass:"field__required"},[e._v("*")]),e._v(" "),a("p",{staticClass:"field__name"},[e._v(e._s(e.$t("nameLabel")))])]),e._v(" "),a("div",{staticClass:"field__body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qrcodeData.Name,expression:"qrcodeData.Name"}],staticClass:"slds-input field__input",attrs:{type:"text"},domProps:{value:e.qrcodeData.Name},on:{input:[function(t){t.target.composing||e.$set(e.qrcodeData,"Name",t.target.value)},function(t){return e.onDataChanged()}]}})])]),e._v(" "),a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__label"},[a("p",[e._v(e._s(e.relatedToFieldLabel))])]),e._v(" "),a("div",{staticClass:"field__body"},[a("related-to-field",{ref:"RelatedTo",attrs:{value:e.qrcodeData.WhatId,"object-label":e.qrcodeData.RelatedObjectName,"object-name":e.qrcodeData.RelatedObjectType,"field-label":e.relatedToFieldLabel},on:{change:function(t){return e.onRelatedToFieldChanged(t)}}})],1)]),e._v(" "),e.isCampaignMemberStatusVisible?a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__label"},[a("p",[e._v(e._s(e.$t("memberStatusLabel")))])]),e._v(" "),a("div",{staticClass:"field__body"},[a("ld-picklist",{ref:"CampaignMemberStatus",attrs:{placeholder:e.$t("noneLabel"),options:e.memberStatusOptions,value:e.qrcodeData.CampaignMemberStatus,disabled:e.isCampaignMemberStatusDisabled},on:{change:function(t){return e.onCampaignMemberStatusChanged(t)}}})],1)]):e._e(),e._v(" "),e.isExpirationFieldVisible?a("expiration-seconds-field",{ref:"ExpirationSecondsField",staticClass:"qrcode-edit-layout__field",on:{change:function(t){return e.onDataChanged()}},model:{value:e.qrcodeData.ExpirationSeconds,callback:function(t){e.$set(e.qrcodeData,"ExpirationSeconds",t)},expression:"qrcodeData.ExpirationSeconds"}}):e._e(),e._v(" "),a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__label"},[a("p",{staticClass:"field__name"},[e._v(e._s(e.$t("followerTagsLabel")))])]),e._v(" "),a("div",{staticClass:"field__body"},[a("tag-selector",{ref:"TagSelector",attrs:{"selected-tags":e.qrcodeData.WeChatTags,"limit-length":5},on:{changed:function(t){return e.onTagChanged(t)}}})],1)]),e._v(" "),a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__body overwrite-tag-field__body"},[a("span",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.qrcodeData.IsOverwriteFollowerTag,expression:"qrcodeData.IsOverwriteFollowerTag"}],attrs:{type:"checkbox",id:e.overwriteTagCheckboxId},domProps:{checked:Array.isArray(e.qrcodeData.IsOverwriteFollowerTag)?e._i(e.qrcodeData.IsOverwriteFollowerTag,null)>-1:e.qrcodeData.IsOverwriteFollowerTag},on:{click:function(t){return e.onDataChanged()},change:function(t){var a=e.qrcodeData.IsOverwriteFollowerTag,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&e.$set(e.qrcodeData,"IsOverwriteFollowerTag",a.concat([null])):n>-1&&e.$set(e.qrcodeData,"IsOverwriteFollowerTag",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.qrcodeData,"IsOverwriteFollowerTag",i)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:e.overwriteTagCheckboxId}},[a("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),a("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e.$t("overwriteTagLabel")))])])])])]),e._v(" "),a("div",{staticClass:"qrcode-edit-layout__field"},[a("div",{staticClass:"field__label"},[a("p",{staticClass:"field__name"},[e._v(e._s(e.$t("scanResponseLabel")))])]),e._v(" "),a("div",{staticClass:"field__body"},[a("wechat-response",{attrs:{"page-name":e.mergeFieldCategory,"wechat-account":e.wechatAccount,choosers:["Text Message","Image","Structured Message","Voice Message","Video","Mini Program Page","Skill"]},model:{value:e.response,callback:function(t){e.response=t},expression:"response"}})],1)])],1)}),[],!1,null,"f023a39a",null);"function"==typeof Z.default&&Object(Z.default)(G);var H=G.exports;const J={QRCodeId:"",Name:"",WhatId:"",Type:"",ExpirationSeconds:0,WeChatAccount:"",WeChatMessage:{Id:"",TextBody:""},CampaignMemberStatus:null,WeChatTagIds:[],WeChatTags:[],IsOverwriteFollowerTag:!1,IsActive:!0,Skill:{},RelatedObjectType:"",RelatedObjectName:""},X={Temporary:"qr-codes-temporaries",Permanent:"qr-codes-permanents"};var Y={name:"qrcode-edit-modal",components:{EditLayout:H},data:()=>({title:"",qrcodeData:{},isSaving:!1,isLoading:!1,campaignMemberStatusOptions:null}),computed:{isEditMode(){return!!this.qrcodeData.QRCodeId},isSaveButtonDisabled(){return this.isSaving||!this.isFormValid},isNameValid(){return!!this.qrcodeData.Name},isExpirationValid(){return!("Permanent"!==this.qrcodeData.Type&&!this.isEditMode)||this.qrcodeData.ExpirationSeconds>0&&this.qrcodeData.ExpirationSeconds<=2592e3},isFormValid(){return this.isNameValid&&this.isExpirationValid}},methods:{async open(e){let{id:t,type:a}=e;if(this.isLoading=!0,this.reset(),this.initTitle(t,a),t){this.$refs.Modal.open();const e=await v.o.getById(t);"Campaign"===e.RelatedObjectType&&e.WhatId&&(this.campaignMemberStatusOptions=await v.c.getCampaignMemberStatusOptions(e.WhatId)),this.qrcodeData=e.getData()}else{var s;this.qrcodeData.Type=a,this.$refs.Modal.open(),C()(s=this.$route.path).call(s,"/new")||this.$router.replace({path:"".concat(this.$route.path,"/new")})}this.isLoading=!1},initTitle(e,t){var a;const s=e?"edit":"create",i=f()(a="".concat(s)).call(a,t,"QRCodeLabel");this.title=this.$t(i)},async onClickSave(){this.isSaving=!0;try{this.isEditMode?await this.update():await this.create(),this.$refs.Modal.close(),this.$emit("save-qrcode-success",this.qrcodeData.Type)}catch(e){const t=this.$parseErrorMessage(e);this.$refs.Modal.showError(t),this.$emit("save-qrcode-failed",e)}finally{this.isSaving=!1}},async create(){this.qrcodeData.WeChatAccount=this.$wechatAccount.id,await v.o.create(this.qrcodeData),this.$toast({content:this.$t("createdQrCodeNotify"),type:"success"})},async update(){await v.o.update(this.qrcodeData),this.$toast({content:this.$t("saveQrCodeNotify"),type:"success"})},onClickCancel(){this.$refs.Modal.close(),this.$emit("cancel")},reset(){this.$refs.EditLayout.reset(),this.campaignMemberStatusOptions=null,this.qrcodeData=JSON.parse(l()(J))},onClose(){this.$router.replace({name:X[this.qrcodeData.Type],params:{accountId:this.$wechatAccount.id}})}}},ee=(a("+nt+"),a("vTzv")),te=Object(p.a)(Y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ld-modal",{ref:"Modal",staticClass:"qrcode-edit-modal",attrs:{title:e.title},on:{close:function(t){return e.onClose()}},scopedSlots:e._u([{key:"content",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"qrcode-edit-modal__loading"},[a("ld-loading")],1),e._v(" "),a("edit-layout",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"EditLayout",staticClass:"qrcode-edit-modal__content",attrs:{"campaign-member-status-options":e.campaignMemberStatusOptions},model:{value:e.qrcodeData,callback:function(t){e.qrcodeData=t},expression:"qrcodeData"}})]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSaving},on:{click:function(t){return e.onClickCancel()}}},[e._v("\n      "+e._s(e.$t("global.cancelBtn"))+"\n    ")]),e._v(" "),a("button",{staticClass:"slds-button slds-button_neutral slds-button_brand",attrs:{disabled:e.isSaveButtonDisabled},on:{click:function(t){return e.onClickSave()}}},[e._v("\n      "+e._s(e.$t("global.saveBtn"))+"\n    ")])]},proxy:!0}])})}),[],!1,null,"dc6ff7e0",null);"function"==typeof ee.default&&Object(ee.default)(te);var ae=te.exports,se={components:{"edit-modal":ae},props:{rows:{type:Array,default:()=>[]}},data:()=>({confirmModal:{title:"",content:""},currentQRCode:{Name:"",WeChatQrCodeUrl:""},isConfirming:!1}),methods:{onClickRelatedToLink(e){var t;let a="";if("Registration"===e.RelatedObjectType)a="register";else{if("Check-in"!==e.RelatedObjectType)throw new Error("Unknow RelatedObjectType");a="check-in"}this.$router.push({path:f()(t="/".concat(this.$wechatAccount.id,"/wechat-campaign/")).call(t,a),query:{flowId:e.WeChatCampaignFlowId,flowStepId:e.WhatId}})},getNewFollowersLabel(e){var t,a,s,i;return e>1?f()(t=f()(a="".concat(this.$t("gotLabel")," ")).call(a,Object(b.a)(e)," ")).call(t,this.$tc("followerLabel",2)):f()(s=f()(i="".concat(this.$t("gotLabel")," ")).call(i,e," ")).call(s,this.$tc("followerLabel",1))},isShowWarning:e=>e.hasExpired||e.willExpireInDays(7),getExpirationDateLabel(e){if(e<=0)return"".concat(this.$t("expiredLabel"));var t,a;if(e/60>0&&e/60<1.5)return f()(t="".concat(this.$tc("expireInLabel",2)," 1 ")).call(t,this.$tc("minuteLabel",1));if(e/60>=1.5&&e/3600<=1.5){var s,i;const t=(e/60).toFixed(0);return f()(s=f()(i="".concat(this.$tc("expireInLabel",2)," ")).call(i,t," ")).call(s,this.$tc("minuteLabel",2))}if(e/3600>1.5&&e/3600<24){var n,o;const t=(e/3600).toFixed(0);return f()(n=f()(o="".concat(this.$tc("expireInLabel",2)," ")).call(o,t," ")).call(n,this.$tc("hourLabel",2))}if(e/3600>=24&&e/3600<36)return f()(a="".concat(this.$tc("expireInLabel",2)," 1 ")).call(a,this.$tc("daysLabel",1));{var r,l;const t=(e/86400).toFixed(0);return f()(r=f()(l="".concat(this.$tc("expireInLabel",2)," ")).call(l,t," ")).call(r,this.$tc("daysLabel",2))}},getMenuItems(e){const t=[{value:"Edit",label:this.$t("global.editBtn"),target:e}];return e.IsActive?t.push({value:"Deactivate",label:this.$t("global.deactivateBtn"),target:e}):t.push({value:"Activate",label:this.$t("global.activateBtn"),target:e}),t},onClickMenuItem(e){const{value:t,target:a}=e;"Edit"===t?this.$refs.EditModal.open({id:a.QRCodeId,type:a.Type}):"Deactivate"===t?this.deactivate(a.QRCodeId):"Activate"===t&&this.activate(a.QRCodeId)},activate(e){const t=this.$confirm({title:this.$t("activateModalTitleLabel"),content:this.$t("activateModalContentLabel")});t.$on("ok",async()=>{try{await v.o.activate(e),this.$toast({type:"success",content:this.$t("activateSuccessLabel")}),t.close(),this.$emit("active-status-changed")}catch(e){this.$handleError(e),t.resume()}})},deactivate(e){const t=this.$confirm({title:this.$t("deactivateModalTitleLabel"),content:this.$t("deactivateModalContentLabel")});t.$on("ok",async()=>{try{await v.o.deactivate(e),this.$toast({type:"success",content:this.$t("deactivateSuccessLabel")}),t.close(),this.$emit("active-status-changed")}catch(e){this.$handleError(e),t.resume()}})},onUpdatedQRCode(){this.$emit("record-updated")},onClickThumbnail(e){this.currentQRCode=e,this.$refs.ImageViewer.open()}}},ie=(a("6T+t"),a("TpN3")),ne=Object(p.a)(se,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",e._l(e.rows,(function(t,s){return a("li",{key:s,staticClass:"slds-grid slds-border_bottom qrcode"},[a("div",{staticClass:"qrcode__thumbnail",on:{click:function(a){return e.onClickThumbnail(t)}}},[a("safe-image",{attrs:{url:t.WeChatQrCodeUrl}})],1),e._v(" "),a("div",{staticClass:"slds-grid slds-grid_align-spread slds-col qrcode__detail"},[a("div",{staticClass:"qrcode__detail__left"},[a("a",{staticClass:"qrcode__name",attrs:{href:"/"+t.QRCodeId,target:"_blank"}},[e._v("\n            "+e._s(t.Name)+"\n          ")]),e._v(" "),a("div",[a("span",[e._v(e._s(e.$t("relatedLabel"))+":")]),e._v(" "),t.isRelatedToCampaignFlow?a("a",{key:"flow",staticClass:"qrcode__related",attrs:{target:"_blank"},on:{click:function(a){return e.onClickRelatedToLink(t)}}},[e._v("\n              "+e._s(t.RelatedObjectName)+"\n            ")]):a("a",{key:"related",staticClass:"qrcode__related",attrs:{href:"/"+t.WhatId,target:"_blank"}},[e._v("\n              "+e._s(t.RelatedObjectName)+"\n            ")]),e._v(" "),t.hasWeChatTags?a("span",{staticClass:"qrcode__tag"},[a("icon",{staticClass:"qrcode__tag__icon",attrs:{name:"tagGrey","fill-color":"#706e6b",width:"12px",height:"12px","charket-icon":""}}),e._v(" "),a("span",{staticClass:"qrcode__tag__count"},[e._v(e._s(t.WeChatTagIds.length))])],1):e._e()]),e._v(" "),a("div",[a("a",{staticClass:"qrcode__download",attrs:{href:t.WeChatQrCodeUrl,target:"_blank"}},[a("icon",{staticClass:"qrcode__download__icon",attrs:{name:"download","fill-color":"#706e6b",width:"12px",height:"12px"}}),e._v(" "),a("div",{staticClass:"qrcode__download__label"},[e._v(e._s(e.$t("downloadLabel")))])],1),e._v(" "),a("span",{staticClass:"qrcode__created"},[e._v("\n              "+e._s(e.$t("createdLabel"))+" "+e._s(e._f("formatDateFilter")(t.CreatedDate,e.$user.TimeZoneSidKey))+"\n            ")])])]),e._v(" "),a("div",{staticClass:"slds-grid slds-grid_vertical slds-grid_align-space qrcode__detail__right"},[a("div",[e._v(e._s(e.$t("scanCountLabel"))+": "+e._s(e._f("addSeparators")(t.ScanCount)))]),e._v(" "),a("div",[e._v(e._s(e.getNewFollowersLabel(t.NewFollowerScanCount)))]),e._v(" "),t.isTypeEqual("Temporary")?a("div",{class:{"qrcode__expiration--warning":e.isShowWarning(t)},attrs:{title:e._f("formatDatetimeFilter")(t.expirationDate,e.$user.TimeZoneSidKey)}},[e._v("\n            "+e._s(e.getExpirationDateLabel(t.ExpirationSeconds))+"\n          ")]):e._e()])]),e._v(" "),a("div",{staticClass:"slds-grid slds-grid_vertical-align-center qrcode__actions"},[a("ld-action-menu",{attrs:{items:e.getMenuItems(t)},on:{click:function(t){return e.onClickMenuItem(t)}}})],1)])})),0),e._v(" "),a("ld-image-viewer",{ref:"ImageViewer",attrs:{title:e.currentQRCode.Name,url:e.currentQRCode.WeChatQrCodeUrl}}),e._v(" "),a("edit-modal",{ref:"EditModal",on:{"save-qrcode-success":function(t){return e.onUpdatedQRCode()}}})],1)}),[],!1,null,"616eb7da",null);"function"==typeof ie.default&&Object(ie.default)(ne);var oe=ne.exports;var re={components:{"qrcode-filter":m,"data-table":oe,"no-record":n.a,pagination:o.a},props:{type:{type:String,required:!0}},data:()=>({count:0,hasMore:!1,qrcodes:[],conditions:null,isLoading:!0,paginations:[],pageNumber:1}),computed:{showNoRecord(){return!this.isLoading&&0===this.count}},async mounted(){this.$logger.trace("QRCodeListView","mounted"),this.conditions=this.$refs.Filter.getConditions()},methods:{onRecordUpdated(){this.reset(),this.load()},onActiveStatusChanged(){this.load()},async onFilterChange(e){this.$logger.trace("QRCodeListView","onFilterChange > conditions",e),this.conditions=e,this.pageNumber=1,await this.load()},async load(){this.isLoading=!0;const e={accountId:this.$wechatAccount.id,type:this.type,pageNumber:this.pageNumber,pageSize:20,filter:this.conditions};await this.$try(async()=>{const t=await v.o.getQRCodes(e);this.$logger.trace("QRCodeListView","load > result",t),this.qrcodes=t.qrcodes,this.count=t.total.Count,this.hasMore=t.total.HasMore,this.paginations=t.pages}),this.isLoading=!1},async onPaginationChange(e){this.pageNumber=e,await this.load()},reset(){this.pageNumber=1,this.$refs.Filter.reset(),this.conditions=this.$refs.Filter.getConditions()}}},le=(a("hEgu"),Object(p.a)(re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-view"},[a("qrcode-filter",{ref:"Filter",attrs:{"qrcode-type":e.type,count:e.count,"has-more":e.hasMore},on:{change:function(t){return e.onFilterChange(t)}}}),e._v(" "),a("div",{staticClass:"slds-scrollable_y list-view__wrapper charket-list-view"},[e.showNoRecord?a("no-record"):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"list-view__loading"},[a("ld-loading",{attrs:{size:"medium",type:"brand"}})],1),e._v(" "),e.isLoading?e._e():a("data-table",{attrs:{rows:e.qrcodes},on:{"record-updated":function(t){return e.onRecordUpdated()},"active-status-changed":function(t){return e.onActiveStatusChanged()}}}),e._v(" "),e.isLoading?e._e():a("pagination",{attrs:{paginations:e.paginations,"page-number":e.pageNumber},on:{target:function(t){return e.onPaginationChange(t)}}})],1)],1)}),[],!1,null,"8a7db456",null).exports),ce=a("A9jw"),de={components:{ListView:le,EditModal:ae,LdTabs:ce.LdTabs,LdTab:ce.LdTab},data:()=>({selectedTabIndex:-1}),created(){this.$store.dispatch("sidebar/switchAccount",{wechatAccountId:this.$route.params.accountId})},mounted(){this.$logger.trace("QRCode.vue","mounted"),this.selectedTabIndex=this.getTabIndex(),this.load(),this.openNewModalIfNeeded()},methods:{getTabIndex(){var e,t;return i()(e=this.$route.name).call(e,"qr-codes-temporaries")?0:i()(t=this.$route.name).call(t,"qr-codes-permanents")?1:void 0},load(){0===this.selectedTabIndex?this.$refs.TemporaryListView.load():1===this.selectedTabIndex&&this.$refs.PermanentListView.load()},openNewModalIfNeeded(){"qr-codes-temporaries-new"===this.$route.name?this.$refs.EditModal.open({type:"Temporary"}):"qr-codes-permanents-new"===this.$route.name&&this.$refs.EditModal.open({type:"Permanent"})},onClickNewTemporary(){this.$refs.EditModal.open({type:"Temporary"})},onClickNewPermanent(){this.$refs.EditModal.open({type:"Permanent"})},onChangeTab(e){this.$logger.trace("QRCode.vue","onChangeTab",e),this.selectedTabIndex=e.index,0===e.index?(this.$router.replace({path:"/".concat(this.$wechatAccount.id,"/qr-codes/temporaries")}),this.$refs.TemporaryListView.load()):1===e.index&&(this.$router.replace({path:"/".concat(this.$wechatAccount.id,"/qr-codes/permanents")}),this.$refs.PermanentListView.load())},onSaveQRCodeSuccess(e){"Temporary"===e?(this.$refs.TemporaryListView.reset(),this.$refs.TemporaryListView.load()):"Permanent"===e&&(this.$refs.PermanentListView.reset(),this.$refs.PermanentListView.load())}}},pe=(a("sVWg"),a("NaJj")),ue=Object(p.a)(de,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qrcode-view"},[a("ld-tabs",{staticClass:"qrcode-tabs",attrs:{"selected-index":e.selectedTabIndex},on:{changed:function(t){return e.onChangeTab(t)}},scopedSlots:e._u([{key:"right-area",fn:function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.selectedTabIndex,expression:"selectedTabIndex === 0"}],staticClass:"slds-col_bump-left slds-grid slds-grid_vertical-align-center slds-p-right_large qrcode-action-bar"},[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.onClickNewTemporary()}}},[e._v("\n          "+e._s(e.$t("global.newBtn"))+"\n        ")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.selectedTabIndex,expression:"selectedTabIndex === 1"}],staticClass:"slds-col_bump-left slds-grid slds-grid_vertical-align-center slds-p-right_large qrcode-action-bar"},[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.onClickNewPermanent()}}},[e._v("\n          "+e._s(e.$t("global.newBtn"))+"\n        ")])])]},proxy:!0}])},[e._v(" "),a("ld-tab",{staticClass:"qrcode-tab",attrs:{label:e.$t("temporaryLabel")}},[a("list-view",{ref:"TemporaryListView",attrs:{type:"Temporary"}})],1),e._v(" "),a("ld-tab",{staticClass:"qrcode-tab",attrs:{label:e.$t("permanentLabel")}},[a("list-view",{ref:"PermanentListView",attrs:{type:"Permanent"}})],1)],1),e._v(" "),a("edit-modal",{ref:"EditModal",on:{"save-qrcode-success":function(t){return e.onSaveQRCodeSuccess(t)}}})],1)}),[],!1,null,"330747b8",null);"function"==typeof pe.default&&Object(pe.default)(ue);var he=ue.exports;t.default=he},ItEM:function(e,t,a){"use strict";var s=a("tAMZ"),i=a.n(s);t.default=i.a},KQil:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"expireInLabel":"过期时间","maxExpireLabel":"最多允许30天","daysLabel":"天","hoursLabel":"小时"},"en":{"expireInLabel":"Expires In | Expires in","maxExpireLabel":"Up to 30 days","daysLabel":"Day(s)","hoursLabel":"Hour(s)"}}'),delete e.options._Ctor}},KiqS:function(e,t,a){"use strict";var s=a("mdrW");a.n(s).a},NaJj:function(e,t,a){"use strict";var s=a("TdX9"),i=a.n(s);t.default=i.a},O2ea:function(e,t,a){},OWFR:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"name":"名称","startDate":"开始日期","endDate":"结束日期","quantity":"数量","createdBy":"最后修改信息"},"en":{"name":"Name","startDate":"Start Date","endDate":"End Date","quantity":"Quantity","createdBy":"Created By"}}'),delete e.options._Ctor}},P3wW:function(e,t,a){"use strict";var s=a("xwn9");a.n(s).a},Pa1r:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"agentTabLabel":"专员","qrTabLabel":"快捷回复","searchLabel":"搜索专员","tableTitle":"名称 | 显示专员个人姓名 | 创建人","deactivateLabel":"禁用","activateLabel":"启用","agentActionContent":"你确定要禁用这个专员吗？ | 你确定要启用这个专员吗？","agentActionHeader":"禁用专员 | 启用专员","activeLabel":"已启用","inactiveLabel":"已禁用","createTitle":"创建快捷回复","syncTitle":"同步专员","syncContent":"确定要从微信平台同步专员吗?","deactivateNotifyContent":"专员已禁用。","activateNotifyContent":"专员已启用。","saveNotifyContent":"快捷回复已保存。","changeNotifyContent":"快捷回复已修改。"},"en":{"agentTabLabel":"Agents","qrTabLabel":"Quick Replies","searchLabel":"Search Agents","tableTitle":"Name | Show Agent Personal Name | Created By","deactivateLabel":"Deactivate","activateLabel":"Activate","agentActionContent":"Are you sure you want to deactivate this Agent? | Are you sure you want to activate this Agent?","agentActionHeader":"Deactivate Agent | Activate Agent","activeLabel":"Active","inactiveLabel":"Inactive","createTitle":"Create Quick Reply","syncTitle":"Sync Agent","syncContent":"Are you sure you want to sync agents from WeChat?","deactivateNotifyContent":"The agent was deactivated.","activateNotifyContent":"The agent was activated.","saveNotifyContent":"The quick reply was saved.","changeNotifyContent":"The quick reply was updated."}}'),delete e.options._Ctor}},Py3R:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"nameLabel":"名称","companyLabel":"公司","accountNameLabel":"公司名","phoneLabel":"电话","emailLabel":"电子邮件","caseNumberLabel":"个案编号"},"en":{"nameLabel":"Name","companyLabel":"Company","accountNameLabel":"Account Name","phoneLabel":"Phone","emailLabel":"Email","caseNumberLabel":"Case Number"}}'),delete e.options._Ctor}},QAlp:function(e,t,a){"use strict";var s=a("oWKn");a.n(s).a},TTrU:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"deactivateModalTitleLabel":"禁用二维码","deactivateModalContentLabel":"你确定要禁用这个二维码吗?","deactivateSuccessLabel":"二维码已被禁用。","activateModalTitleLabel":"启用二维码","activateModalContentLabel":"你确定要启用这个二维码吗?","activateSuccessLabel":"二维码已启用。","createdLabel":"已创建","downloadLabel":"下载","relatedLabel":"相关","scanCountLabel":"扫描次数","gotLabel":"新增","followerLabel":"关注者","expireInLabel":"过期时间","minuteLabel":"分","hourLabel":"时","daysLabel":"天","expiredLabel":"已过期"},"en":{"deactivateModalTitleLabel":"Deactivate QR Code","deactivateModalContentLabel":"Are you sure you want to deactivate this QR code?","deactivateSuccessLabel":"The QR code was deactivated.","activateModalTitleLabel":"Activate QR Code","activateModalContentLabel":"Are you sure you want to activate this QR code?","activateSuccessLabel":"The QR code was activated.","createdLabel":"Created","downloadLabel":"Download","relatedLabel":"Related To","scanCountLabel":"Scanned Count","gotLabel":"Got","followerLabel":"Follower | Followers","expireInLabel":"Expires In | Expires in","minuteLabel":"minute | minutes","hourLabel":"hour | hours","daysLabel":"day | days","expiredLabel":"Expired"}}'),delete e.options._Ctor}},TUGy:function(e,t){e.exports="data:image/png;base64,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"},TdX9:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"temporaryLabel":"临时二维码","permanentLabel":"永久二维码"},"en":{"temporaryLabel":"Temporary","permanentLabel":"Permanent"}}'),delete e.options._Ctor}},TpN3:function(e,t,a){"use strict";var s=a("TTrU"),i=a.n(s);t.default=i.a},WmA8:function(e,t,a){"use strict";var s=a("eV1y"),i=a.n(s);t.default=i.a},XLDG:function(e,t,a){"use strict";var s=a("/qSv");a.n(s).a},Xhym:function(e,t,a){"use strict";var s=a("2xbR"),i=a.n(s);t.default=i.a},aZdR:function(e,t,a){"use strict";var s=a("fRm9");a.n(s).a},eV1y:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"nameLabel":"名称","followerTagsLabel":"微信关注者标签","overwriteTagLabel":"覆盖微信关注者的现有标签","memberStatusLabel":"市场活动成员状态","noneLabel":"--无--","scanResponseLabel":"扫描响应","weChatCampaignLabel":"微信市场活动","relatedLabel":"相关"},"en":{"nameLabel":"Name","followerTagsLabel":"WeChat Follower Tags","overwriteTagLabel":"Overwrite WeChat followers\' existing tag(s)","memberStatusLabel":"Campaign Member Status","noneLabel":"--None--","scanResponseLabel":"Auto Response","weChatCampaignLabel":"WeChat Campaign","relatedLabel":"Related To"}}'),delete e.options._Ctor}},fGFX:function(e,t,a){},fOvr:function(e,t,a){"use strict";var s=a("OWFR"),i=a.n(s);t.default=i.a},fRm9:function(e,t,a){},fb3H:function(e,t,a){"use strict";var s=a("w2Vt"),i=a("zUtI"),n=a("4B+h"),o=a("LQ5e"),r=a.n(o),l={props:{accountId:String,default:()=>""},components:{LoadingSpinner:s.a},data:()=>({notifies:[],isNotifyLoading:!1,selectedNotify:{}}),created(){this.isNotifyLoading=!0,this.fetchNotifies()},methods:{async fetchNotifies(){try{const e=await Object(i.g)(this.accountId||this.$route.params.accountId);if(e.ok){this.isNotifyLoading=!1,this.notifies=JSON.parse(r.a.unescape(e.data));for(let e of this.notifies)this.$set(e,"type","example"),this.$set(e,"isSelectedShow",!1);this.$nextTick((function(){this.renderGrid()}))}else this.isNotifyLoading=!1,Object(n.f)(e)}catch(e){Object(n.f)(e)}},closeNotify(){this.$emit("close")},renderGrid(){const e=document.getElementsByClassName("template-item");let t,a,s=0;for(let i=0;i<e.length;i++)i>0&&(e[i-3]&&(t=e[i-3].offsetTop+e[i-3].offsetHeight+20,e[i].style.top=t+"px"),i%3>0&&(a=e[i-1].offsetLeft+e[i-1].offsetWidth+20,e[i].style.left=a+"px")),s=Math.max(s,e[i].offsetTop+e[i].offsetHeight+60);const i=document.getElementsByClassName("template-content")[0];i&&(i.style.height=s-35+"px");for(let t=0;t<e.length;t++)e[t].style.height=e[t].offsetHeight+10+"px"},selectNotify(e,t){t.isSelectedShow=!t.isSelectedShow;for(let e of this.notifies)e.TemplateId!==t.TemplateId&&(e.isSelectedShow=!1);this.selectedNotify=t.isSelectedShow?t:{}},switchTemplate(e,t){e.type=t},goToWeChatPlatform(){this.$emit("close"),window.open("https://mp.weixin.qq.com")},next(){this.$emit("next",this.selectedNotify)}}},c=(a("vyV3"),a("KHd+")),d=a("HaPu"),p=Object(c.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"wechat-notification-list"}},[a("div",{staticClass:"slds-modal slds-modal_large slds-fade-in-open",attrs:{"aria-hidden":"false",role:"dialog"}},[a("div",{staticClass:"slds-modal__container container-width",attrs:{role:"document",tabindex:"0"}},[a("div",{staticClass:"slds-modal__header"},[a("button",{staticClass:"slds-button slds-button_icon-inverse slds-modal__close",on:{click:function(t){return e.closeNotify()}}},[a("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),a("h2",{staticClass:"slds-text-heading_medium"},[e._v(e._s(e.$t("selectNotificationTemplateLabel")))])]),e._v(" "),e.isNotifyLoading?e._e():a("div",{staticClass:"slds-modal__content"},[a("div",{staticClass:"template-content"},[a("ul",{staticClass:"select-template-list"},[e._l(e.notifies,(function(t){return a("li",{staticClass:"slds-box template-item",on:{click:function(a){return a.stopPropagation(),e.selectNotify(a,t)}}},[a("div",{staticClass:"template-container"},[a("div",{staticClass:"slds-grid template-section"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"example"===t.type&&t.Example,expression:"notify.type === 'example' && notify.Example"}]},[a("span",{staticClass:"slds-text-heading_small title"},[e._v(e._s(t.Title))]),e._v(" "),a("pre",{staticClass:"slds-text-body_regular content"},[e._v(e._s(t.Example))])]),e._v(" "),a("div",[a("span",{staticClass:"slds-text-heading_small title"},[e._v(e._s(t.Title))]),e._v(" "),a("pre",{staticClass:"slds-text-body_regular content"},[e._v(e._s(t.Content))])])])]),e._v(" "),a("div",{staticClass:"switch-section"},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.Example,expression:"notify.Example"}],staticClass:"left",class:{selected:"example"===t.type},on:{click:function(a){return a.stopPropagation(),e.switchTemplate(t,"example")}}}),e._v(" "),a("p",{class:{selected:"content"===t.type||!t.Example},on:{click:function(a){return a.stopPropagation(),e.switchTemplate(t,"content")}}})]),e._v(" "),t.isSelectedShow?a("div",{staticClass:"selected-notify"},[a("div",{staticClass:"selected-bg"}),e._v(" "),a("div",{staticClass:"selected-icon"},[a("icon",{attrs:{name:"check","fill-color":"white",width:"48px",height:"48px"}})],1)]):e._e()])})),e._v(" "),a("li",{staticClass:"slds-box template-item default"},[a("span",{staticClass:"default-icon down-btn",on:{click:function(t){return e.goToWeChatPlatform()}}},[a("icon",{attrs:{name:"add","class-name":"down-icon",width:"32px",height:"32px"}})],1),e._v(" "),a("p",{staticClass:"default-value"},[e._v(e._s(e.$t("newTemplateLabel")))])])],2)])]),e._v(" "),a("loading-spinner",{attrs:{"is-loading":e.isNotifyLoading,"custom-style":"position: relative;padding: 40px;background-color: white"}}),e._v(" "),a("div",{staticClass:"slds-modal__footer"},[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeNotify()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),a("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:!e.selectedNotify.TemplateId},on:{click:function(t){return e.next()}}},[e._v(e._s(e.$t("global.nextBtn")))])])],1)]),e._v(" "),a("div",{staticClass:"slds-backdrop slds-backdrop_open"})])])}),[],!1,null,"1a576594",null);"function"==typeof d.default&&Object(d.default)(p);t.a=p.exports},hEgu:function(e,t,a){"use strict";var s=a("HrZM");a.n(s).a},hG8I:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newTextMessage":"新建文本消息","textMessages":"文本消息","designer":{"linkIcon":"添加链接","miniProgramIcon":"添加小程序链接","actionIcon":"添加动作","mergeFieldIcon":"插入合并字段","changeBtn":"更改","removeBtn":"删除","linkUrl":"链接网址","illegalUrl":"不合法的网址","appId":"App ID","pagePath":"页面路径","name":"名称","value":"值","selectAField":"选择一个字段","fieldTitle":"你已选择以下字段","findObjectPlaceholder":"查找对象...","labelFilterPlaceholder":"键入以过滤列表...","type":"类型","apiName":"API名","currentSelection":"当前选择","noMatchesFound":"没有发现匹配项"}},"en":{"newTextMessage":"New Text Message","textMessages":"Text Messages","designer":{"linkIcon":"Add link","miniProgramIcon":"Add mini program link","actionIcon":"Add action","mergeFieldIcon":"Insert merge field","changeBtn":"Change","removeBtn":"Remove","linkUrl":"Link URL","illegalUrl":"Invalid URL","appId":"App ID","pagePath":"Page Path","name":"Name","value":"Value","selectAField":"Select A Field","fieldTitle":"You have selected the following field","findObjectPlaceholder":"Find An Object...","labelFilterPlaceholder":"Type here to filter the list...","type":"Type","apiName":"API Name","currentSelection":"Current Selection","noMatchesFound":"No matches found"}}}'),delete e.options._Ctor}},hkfk:function(e,t,a){"use strict";var s=a("fGFX");a.n(s).a},iEOx:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"searchLabel":"搜索快捷回复","editHeader":"编辑快捷回复","delHeader":"删除快捷回复","delContent":"你确定要删除这条快捷回复吗?","delNotifyContent":"快捷回复已删除。"},"en":{"searchLabel":"Search Quick Replies","editHeader":"Edit Quick Reply","delHeader":"Delete Quick Reply","delContent":"Are you sure you want to delete this Quick Reply?","delNotifyContent":"The Quick Reply was deleted."}}'),delete e.options._Ctor}},"k/9o":function(e,t,a){"use strict";var s=a("qVZU"),i=a.n(s);t.default=i.a},lNHh:function(e,t,a){"use strict";var s=a("svHN"),i=a.n(s);t.default=i.a},lRJj:function(e,t,a){},mdrW:function(e,t,a){},nOmU:function(e,t,a){"use strict";var s=a("yWOo");a.n(s).a},oWKn:function(e,t,a){},pUDi:function(e,t,a){"use strict";var s=a("SLhn"),i=a.n(s),n=a("3O4B"),o=a.n(n),r=a("WE60"),l=a.n(r),c=a("wG3i"),d=a.n(c),p=a("Ip10"),u=a.n(p),h=a("+Bun"),m=a.n(h),g=a("0G99"),f=a.n(g),b=a("vQrK"),v=a.n(b),y=a("mdEO"),C=a("TDue"),_=a("vkTm"),w=a("ngIk"),L=a("dcdS"),T=a("oWfJ"),I=a("L2JU"),k={components:{SelectField:C.a,ColorPicker:_.a,InputSelect:w.a,Dropdown:L.a,PhoneFrameCard:y.PhoneFrameCard},mixins:[T.a],props:{notify:{type:Object,default:()=>({contentTemplate:{keywords:[]}})},selectedMiniProgram:{type:Object,default:function(){return{}}},wechatAccountId:{type:String,default:()=>""}},data(){return{colorPickerPosition:"",newNotify:{},notifyColor:{first:"#000000",keywords:[],remark:"#000000"},colorType:"",mergeFieldType:"",keywords:[],notificationURL:"",note:"",showMergeField:!1,notifyFirst:"",notifyRemark:"",showFirst:"",showRemark:"",fieldObj:{},redirectOptionData:{options:[{Name:this.$t("urlLabel"),Value:"URL"},{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],currents:[{Name:this.$t("urlLabel"),Value:"URL"}]},selectedMiniProgramPage:{}}},computed:v()({},Object(I.c)({currentAccount:"sidebar/currentAccount"}),{isRedirectToURL(){return"URL"===this.redirectOptionData.currents[0].Value},isShowDetail(){return this.notificationURL||this.selectedMiniProgramPage.messageId}}),created(){this.newNotify=this.notify,this.notificationURL=this.newNotify.NotificationURL||"";let e=this.newNotify.Content.split(/{{.*?}}/gm),t=this.newNotify.Content.match(/{{.*?}}/gm),a=[];if(f()(e).call(e,(e,s)=>{a.push({name:e,value:t[s],key:t[s],color:"#000000"})}),this.$set(this.newNotify,"contentTemplate",a),this.notify.Id){var s,i;this.fieldObj=this.newNotify.mergeFieldObject;let e=u()(s=this.newNotify.contentTemplate).call(s,e=>{var t;return e.key&&0===m()(t=e.key).call(t,"{{first.")}),a=u()(i=this.newNotify.contentTemplate).call(i,e=>{var t;return e.key&&0===m()(t=e.key).call(t,"{{remark.")});e&&(e.color=this.newNotify.ContentMapping.first.color,e.value=this.newNotify.ContentMapping.first.value,this.notifyFirst=this.newNotify.ContentMapping.first.value,this.notifyColor.first=this.newNotify.ContentMapping.first.color),a&&(a.color=this.newNotify.ContentMapping.remark.color,a.value=this.newNotify.ContentMapping.remark.value,this.notifyRemark=this.newNotify.ContentMapping.remark.value,this.notifyColor.remark=this.newNotify.ContentMapping.remark.color),f()(t).call(t,(e,t)=>{if(0===m()(e).call(e,"{{first."))this.showFirst=e;else if(0===m()(e).call(e,"{{remark."))this.showRemark=e;else{var a;let t=e.match(/({{=?)(\S*)(?=.DATA)/g);const s=t[0].substr(2,t[0].length-1);this.keywords.push({label:s,value:this.newNotify.ContentMapping[s].value}),this.notifyColor.keywords.push(this.newNotify.ContentMapping[s].color);let i=u()(a=this.newNotify.contentTemplate).call(a,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===s);i.value=this.newNotify.ContentMapping[s].value,i.color=this.newNotify.ContentMapping[s].color}}),this.notificationURL=this.newNotify.ContentMapping.url||this.notificationURL}else f()(t).call(t,(e,t)=>{if(0===m()(e).call(e,"{{first."))this.showFirst=e;else if(0===m()(e).call(e,"{{remark."))this.showRemark=e;else{let t=e.match(/({{=?)(\S*)(?=.DATA)/g);this.keywords.push({label:t[0].substr(2,t[0].length-1),value:""}),this.notifyColor.keywords.push("#000000")}});this.note=this.newNotify.Note||"",this.selectedMiniProgram.messageId&&(this.redirectOptionData.currents=[{Name:this.$t("global.miniProgramLabel"),Value:"Mini Program Page"}],this.selectedMiniProgramPage=JSON.parse(d()(this.selectedMiniProgram)))},methods:{changeFirst(e){var t;u()(t=this.newNotify.contentTemplate).call(t,e=>{var t;return 0===m()(t=e.key).call(t,"{{first.")}).value=this.notifyFirst},changeRemark(){var e;u()(e=this.newNotify.contentTemplate).call(e,e=>{var t;return 0===m()(t=e.key).call(t,"{{remark.")}).value=this.notifyRemark},changeKey(e,t,a){var s;u()(s=this.newNotify.contentTemplate).call(s,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===a).value=e.target.value,this.keywords[t].value=e.target.value},onBgColor(e){if("first"===this.colorType){var t;this.notifyColor.first=e,u()(t=this.newNotify.contentTemplate).call(t,e=>{var t;return 0===m()(t=e.key).call(t,"{{first.")}).color=e}else if("remark"===this.colorType){var a;this.notifyColor.remark=e,u()(a=this.newNotify.contentTemplate).call(a,e=>{var t;return 0===m()(t=e.key).call(t,"{{remark.")}).color=e}else{var s,i,n;const t=l()(s=this.keywords).call(s,e=>e.label===this.colorType);o()(i=this.notifyColor.keywords).call(i,t,1,e),u()(n=this.newNotify.contentTemplate).call(n,e=>e.key.replace(/{{/,"").replace(/.DATA}}/,"")===this.colorType).color=e}},openColorPicker(e,t,a){var s;this.$refs.bgColorList.close(),this.colorType=a,this.colorPickerPosition=i()(s="position: absolute; left: ".concat(t,"px; top: ")).call(s,e,"px;"),this.$refs.bgColorList.open()},openSelectField(e){this.showMergeField=!0,this.mergeFieldType=e},closeSelectFiled(){this.showMergeField=!1},selectMergeField(e,t){if(this.fieldObj.label!==t.label&&(this.fieldObj=JSON.parse(d()(t))),"first"===this.mergeFieldType){var a;u()(a=this.newNotify.contentTemplate).call(a,e=>{var t;return 0===m()(t=e.key).call(t,"{{first.")}).value=this.notifyFirst+e,this.notifyFirst=this.notifyFirst+e}else if("remark"===this.mergeFieldType){var s;u()(s=this.newNotify.contentTemplate).call(s,e=>{var t;return 0===m()(t=e.key).call(t,"{{remark.")}).value=this.notifyRemark+e,this.notifyRemark=this.notifyRemark+e}else if("url"===this.mergeFieldType)this.notificationURL=e;else{var i,n;let t=u()(i=this.newNotify.contentTemplate).call(i,e=>{var t;return m()(t=e.key).call(t,this.mergeFieldType)>=0});const a=l()(n=this.keywords).call(n,e=>e.label===this.mergeFieldType);t.value=this.keywords[a].value,t.value=t.value+e,this.keywords[a].value=this.keywords[a].value+e}this.showMergeField=!1},prepareUpdatedData(){var e,t;let a={ContentMapping:{}};return a.Note=this.note,a.Title=this.newNotify.Title,this.showFirst&&(a.ContentMapping.first={value:this.notifyFirst,color:this.notifyColor.first}),f()(e=this.keywords).call(e,(e,t)=>{a.ContentMapping[e.label]={value:e.value,color:this.notifyColor.keywords[t]}}),this.showRemark&&(a.ContentMapping.remark={value:this.notifyRemark,color:this.notifyColor.remark}),this.isRedirectToURL?(a.NotificationURL=this.notificationURL,this.selectedMiniProgramPage={}):(this.notificationURL="",a.MiniProgramPageId=this.selectedMiniProgramPage.messageId||""),m()(t=this.notificationURL).call(t,"{!")>=0&&(a.NotificationURL="",a.ContentMapping.url=this.notificationURL),a},prepareCreatedData(){let e=this.prepareUpdatedData();return e.Content=this.newNotify.Content,this.newNotify.Industry&&(e.Industry=this.newNotify.Industry),this.newNotify.Sample&&(e.Sample=this.newNotify.Sample),e.TemplateId=this.newNotify.TemplateId,e},onChangeRedirectTo(e){this.redirectOptionData.currents=e,this.$root.$emit("close-other-dropdown",null),this.showDropdown=!1},onMiniProgramChanged(e){this.selectedMiniProgramPage=e}}},x=(a("Fblv"),a("KHd+")),A=a("A3YL"),N=Object(x.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-grid slds-grid_vertical-align-start new-notification-page"},[a("phone-frame-card",{staticClass:"phone-model-outer",attrs:{name:e.currentAccount.Name}},[a("div",{attrs:{slot:"app-name"},slot:"app-name"},[e._v(e._s(e.$t("global.wechatLabel")))]),e._v(" "),a("span",{attrs:{slot:"back-label"},slot:"back-label"},[e._v(e._s(e.$t("global.backBtn")))]),e._v(" "),a("div",{staticClass:"phone-model-body",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"slds-box template-container"},[a("div",{staticClass:"template-section",class:{"has-padding":!e.isShowDetail}},[a("span",{staticClass:"slds-text-heading_small title",class:{"key-title":!e.showFirst}},[e._v(e._s(e.newNotify.Title))]),e._v(" "),e._l(e.newNotify.contentTemplate,(function(t){return[t.name?a("pre",{staticClass:"keyword"},[e._v(e._s(t.name))]):e._e(),e._v(" "),t.value?a("pre",{staticClass:"keyword",style:{color:t.color}},[e._v(e._s(t.value))]):e._e()]})),e._v(" "),e.isShowDetail?a("div",{staticClass:"detail-section",class:{"mini-program-detail":!e.isRedirectToURL}},[e.isRedirectToURL?e._e():a("icon",{staticClass:"mini-program-icon",attrs:{name:"miniProIcon",width:"16px",height:"16px","fill-color":"#706e6b","charket-icon":""}}),e._v(" "),e.isRedirectToURL?a("span",{staticClass:"slds-text-body_regular detail-value"},[e._v("\n              "+e._s(e.$t("detailsLabel"))+"\n            ")]):e._e(),e._v(" "),a("span",{staticClass:"detail-icon"},[a("icon",{attrs:{name:"chevronright","fill-color":"#b0adab",width:"14px",height:"14px"}})],1)],1):e._e()],2)])]),e._v(" "),a("div",{staticClass:"slds-col phone-model-footer",attrs:{slot:"action"},slot:"action"},[a("icon",{attrs:{name:"add","fill-color":"slds-icon_container slds-icon-text-default",width:"20px",height:"20px"}})],1)]),e._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"right-content"},[a("span",{staticClass:"slds-text-heading_small content-title"},[e._v(e._s(e.$t("templateSettingLabel")))]),e._v(" "),e.showFirst?a("div",{staticClass:"input-section"},[a("label",[e._v("First")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notifyFirst,expression:"notifyFirst"}],staticClass:"slds-textarea value first",style:{color:e.notifyColor.first},domProps:{value:e.notifyFirst},on:{keyup:function(t){return e.changeFirst(t)},input:function(t){t.target.composing||(e.notifyFirst=t.target.value)}}}),e._v(" "),a("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openSelectField("first")}}},[a("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),a("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(100,755,"first")}}},[a("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):e._e(),e._v(" "),e._l(e.keywords,(function(t,s){return a("div",{staticClass:"input-section"},[a("label",[e._v(e._s(t.label))]),e._v(" "),a("input",{staticClass:"slds-input value",style:{color:e.notifyColor.keywords[s]},attrs:{type:"text"},domProps:{value:t.value},on:{keyup:function(a){return e.changeKey(a,s,t.label)}}}),e._v(" "),a("span",{staticClass:"insert-icon short-icon down-btn",on:{click:function(a){return a.stopPropagation(),e.openSelectField(t.label)}}},[a("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),e.showFirst?a("span",{staticClass:"color-icon short-icon down-btn",on:{click:function(a){return a.stopPropagation(),e.openColorPicker(212+70*s,755,t.label)}}},[a("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1):e._e(),e._v(" "),e.showFirst?e._e():a("span",{staticClass:"color-icon short-icon down-btn",on:{click:function(a){return a.stopPropagation(),e.openColorPicker(110+70*s,755,t.label)}}},[a("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)])})),e._v(" "),e.showRemark?a("div",{staticClass:"input-section"},[a("label",[e._v("Remark")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notifyRemark,expression:"notifyRemark"}],staticClass:"slds-textarea value",style:{color:e.notifyColor.remark},domProps:{value:e.notifyRemark},on:{keyup:function(t){return e.changeRemark()},input:function(t){t.target.composing||(e.notifyRemark=t.target.value)}}}),e._v(" "),a("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openSelectField("remark")}}},[a("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1),e._v(" "),e.showFirst?a("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(204+70*e.keywords.length,755,"remark")}}},[a("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1):e._e(),e._v(" "),e.showFirst?e._e():a("span",{staticClass:"color-icon down-btn",on:{click:function(t){return t.stopPropagation(),e.openColorPicker(102+70*e.keywords.length,755,"remark")}}},[a("icon",{attrs:{name:"colorSelect","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):e._e(),e._v(" "),a("div",{staticClass:"input-section"},[a("label",[e._v("Redirect To")]),e._v(" "),a("div",{staticClass:"redirect-section"},[a("input-select",{staticClass:"redirect-section__picklist",attrs:{currents:e.redirectOptionData.currents},on:{"close-dropdown":e.closeDropdown,"open-dropdown":e.openDropdown,resize:e.resizeDropdown}}),e._v(" "),e.isRedirectToURL?a("div",{staticClass:"redirect-section__content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notificationURL,expression:"notificationURL"}],staticClass:"slds-input",attrs:{type:"text",placeholder:e.$t("placeholderLabel")},domProps:{value:e.notificationURL},on:{input:function(t){t.target.composing||(e.notificationURL=t.target.value)}}}),e._v(" "),a("span",{staticClass:"insert-icon down-btn",on:{click:function(t){return e.openSelectField("url")}}},[a("icon",{attrs:{name:"insertTag","class-name":"down-icon",width:"15px",height:"15px"}})],1)]):a("div",{staticClass:"redirect-section__content"},[a("mini-program-selector",{attrs:{selected:e.selectedMiniProgramPage,"wechat-account-id":e.wechatAccountId},on:{changed:function(t){return e.onMiniProgramChanged(t)}}})],1)],1)]),e._v(" "),a("span",{staticClass:"slds-text-heading_small content-title"},[e._v(e._s(e.$t("informationLabel")))]),e._v(" "),a("div",{staticClass:"input-section"},[a("label",[e._v(e._s(e.$t("noteLabel")))]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],staticClass:"slds-textarea value note",attrs:{placeholder:e.$t("placeholderLabel")},domProps:{value:e.note},on:{input:function(t){t.target.composing||(e.note=t.target.value)}}})])],2)]),e._v(" "),a("div",{style:e.colorPickerPosition},[a("color-picker",{ref:"bgColorList",attrs:{value:""},on:{"get-color":e.onBgColor}})],1),e._v(" "),e.showMergeField?a("select-field",{attrs:{"title-name":"Campaigin Members","field-obj":e.fieldObj,"primary-disabled":!!e.notify.Id},on:{"close-merge-field":function(t){return e.closeSelectFiled()},"select-merge-field":e.selectMergeField}}):e._e(),e._v(" "),e.showDropdown?a("dropdown",{attrs:{options:e.redirectOptionData.options,currents:e.redirectOptionData.currents,left:e.dropdownLeft,top:e.dropdownTop,width:e.dropdownWidth},on:{"select-option":function(t){return e.onChangeRedirectTo(t)},close:function(t){return e.closeDropdown()}}}):e._e()],1)}),[],!1,null,"57709f2e",null);"function"==typeof A.default&&Object(A.default)(N);t.a=N.exports},qVZU:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"preTitle":"上一页","nextTitle":"下一页"},"en":{"preTitle":"Previous Page","nextTitle":"Next Page"}}'),delete e.options._Ctor}},qzvn:function(e,t,a){},rEsM:function(e,t,a){"use strict";var s=a("HA+Y");a.n(s).a},"rr/m":function(e,t,a){"use strict";var s=a("KQil"),i=a.n(s);t.default=i.a},"sE/L":function(e,t,a){"use strict";var s=a("9Zkp");a.n(s).a},sVWg:function(e,t,a){"use strict";var s=a("/SRz");a.n(s).a},svHN:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"newNotifyLabel":"新建通知","saveNotifyLabel":"模板消息保存成功！"},"en":{"newNotifyLabel":"New Notification","saveNotifyLabel":"The notification was saved."}}'),delete e.options._Ctor}},t29s:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"urlLabel":"跳转链接","titleLabel":"标题","createdLabel":"创建人","keywordLabel":"关键字","noteLabel":"备注"},"en":{"urlLabel":"Notification URL","titleLabel":"Title","createdLabel":"Created By","keywordLabel":"Keywords","noteLabel":"Note"}}'),delete e.options._Ctor}},tAMZ:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"selectSkillLabel":"选择技能","nameLabel":"技能名称","knowledgeSourceLabel":"知识源","relatedToLabel":"相关项","descriptionLabel":"描述","validForLabel":"有效时间(分钟)","displayInLiveChatLabel":"在 Live Chat 中显示","internalLabel":"内部","lastModifiedByLabel":"上次修改人"},"en":{"selectSkillLabel":"Select Skill","nameLabel":"Name","knowledgeSourceLabel":"Knowledge Source","relatedToLabel":"Related To","descriptionLabel":"Description","validForLabel":"Valid For (mins)","displayInLiveChatLabel":"Display in Live Chat","internalLabel":"Internal","lastModifiedByLabel":"Last Modified By"}}'),delete e.options._Ctor}},tIdp:function(e,t,a){"use strict";var s=a("w4N/"),i=a.n(s);t.default=i.a},utxR:function(e,t,a){},vTzv:function(e,t,a){"use strict";var s=a("z/dZ"),i=a.n(s);t.default=i.a},vp38:function(e,t,a){"use strict";var s=a("82yQ");a.n(s).a},vyV3:function(e,t,a){"use strict";var s=a("AScg");a.n(s).a},"w4N/":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"itemLabel":"项目","searchQRCodeLabel":"搜索二维码","lastDateLabel":"最近创建日期","oldestDateLabel":"最早创建日期","mostScanLabel":"扫描次数最多","leastScanLabel":"扫描次数最少","lastExpireLabel":"最近过期日期","oldestExpireLabel":"最早过期日期","allLabel":"全部","activeLabel":"已启用","inactiveLabel":"已禁用","expireLabel":"已过期","sortByLabel":"排序"},"en":{"itemLabel":"item | items","searchQRCodeLabel":"Search QR Codes","lastDateLabel":"Last Created Date","oldestDateLabel":"First Created Date","mostScanLabel":"Most Scanned","leastScanLabel":"Least Scanned","lastExpireLabel":"Last Expiration Date","oldestExpireLabel":"First Expiration Date","allLabel":"All","activeLabel":"Active","inactiveLabel":"Inactive","expireLabel":"Expired","sortByLabel":"Sort by"}}'),delete e.options._Ctor}},wbfU:function(e,t,a){"use strict";var s=a("wG3i"),i=a.n(s),n=a("pUDi"),o=a("zUtI"),r=a("4B+h"),l={props:{notify:{type:Object,default:()=>({contentTemplate:{keywords:[]}})},accId:{type:String,default:()=>""}},components:{NewNotification:n.a},data:()=>({isSaveNotify:!1}),methods:{closeModal(e){this.$emit("close",e)},async saveNotify(){const e=this.accId||this.$route.params.accountId,t=this.$refs.newNotifyPage.prepareCreatedData();if(e)try{this.isSaveNotify=!0;const a=await Object(o.a)(e,i()(t));a.ok?(this.$router.app.$emit("open-toast-notification",{content:this.$t("saveNotifyLabel"),type:"success"}),this.closeModal(a),this.isSaveNotify=!1):(Object(r.f)(a),this.isSaveNotify=!1)}catch(e){Object(r.f)(e),this.isSaveNotify=!1}}}},c=(a("rEsM"),a("KHd+")),d=a("lNHh"),p=Object(c.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-notification-popup"},[a("section",{staticClass:"slds-modal slds-fade-in-open",attrs:{role:"dialog",tabindex:"-1","aria-labelledby":"modal-heading-01","aria-modal":"true","aria-describedby":"modal-content-id-1"}},[a("div",{staticClass:"slds-modal__container notify-width"},[a("header",{staticClass:"slds-modal__header"},[a("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.closeModal()}}},[a("icon",{attrs:{name:"close",category:"utility","class-name":"slds-button__icon slds-button__icon_large"}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v("Close")])],1),e._v(" "),a("h2",{staticClass:"slds-text-heading_medium slds-hyphenate",attrs:{id:"modal-heading-01"}},[e._v(e._s(e.$t("newNotifyLabel")))])]),e._v(" "),a("div",{staticClass:"slds-modal__content slds-p-around_medium modal-content-custom",attrs:{id:"modal-content-id-1"}},[a("new-notification",{ref:"newNotifyPage",attrs:{notify:e.notify,"wechat-account-id":e.accId}})],1),e._v(" "),a("footer",{staticClass:"slds-modal__footer"},[a("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.closeModal()}}},[e._v(e._s(e.$t("global.cancelBtn")))]),e._v(" "),a("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isSaveNotify},on:{click:function(t){return e.saveNotify()}}},[e._v(e._s(e.$t("global.saveBtn")))])])])]),e._v(" "),a("div",{staticClass:"slds-backdrop slds-backdrop_open"})])}),[],!1,null,"5fadaa67",null);"function"==typeof d.default&&Object(d.default)(p);t.a=p.exports},xncO:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"replyModeLabel":"回复模式","replyModeAll":"全部","replyModeRandom":"随机","nameLabel":"名称","changeSavedNofity":"修改已保存。","uploader":{"imageTitle":"上传图片","videoTitle":"上传视频","voiceTitle":"上传音频","titleLabel":"标题","descriptionLabel":"说明","cancelBtn":"取消","uploadBtn":"上传","uploadingBtn":"上传中","tooLarge":"最大文件大小为 2 MB。"},"exclusive":{"skillAddTitle":"移除已添加回复","skillAddContent":"技能无法和其他类型自动回复同时运行。添加当前技能会移除已添加回复。确定吗？","skillRemoveTitle":"移除已添加技能","skillRemoveContent":"技能无法和其他类型自动回复同时运行。添加当前回复会移除已添加技能。确定吗？"}},"en":{"replyModeLabel":"Reply Mode","replyModeAll":"All","replyModeRandom":"Random","nameLabel":"Name","changeSavedNofity":"Your changes are saved.","uploader":{"imageTitle":"Upload Image","videoTitle":"Upload Video","voiceTitle":"Upload Voice Clip","titleLabel":"Title","descriptionLabel":"Description","cancelBtn":"Cancel","uploadBtn":"Upload","uploadingBtn":"Uploading","tooLarge":"The maximum file size is 2 MB."},"exclusive":{"skillAddTitle":"Remove Added Responses","skillAddContent":"A skill cannot be executed along with any other auto responses. Adding this skill response removes all other auto responses. Are you sure?","skillRemoveTitle":"Remove Added Skill","skillRemoveContent":"A skill cannot be executed along with any other auto responses. Adding this auto response removes the previously added skill response. Are you sure?"}}}'),delete e.options._Ctor}},xswR:function(e,t,a){"use strict";var s=a("xncO"),i=a.n(s);t.default=i.a},xwn9:function(e,t,a){},yWOo:function(e,t,a){},"ycb/":function(e,t,a){"use strict";var s=a("iEOx"),i=a.n(s);t.default=i.a},ywBz:function(e,t,a){"use strict";var s=a("Pa1r"),i=a.n(s);t.default=i.a},"z/dZ":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"cn":{"createPermanentQRCodeLabel":"创建永久二维码","editPermanentQRCodeLabel":"编辑永久二维码","createTemporaryQRCodeLabel":"创建临时二维码","editTemporaryQRCodeLabel":"编辑临时二维码","createdQrCodeNotify":"二维码创建成功！","saveQrCodeNotify":"二维码保存成功！"},"en":{"createPermanentQRCodeLabel":"Create Permanent QR Code","editPermanentQRCodeLabel":"Edit Permanent QR Code","createTemporaryQRCodeLabel":"Create Temporary QR Code","editTemporaryQRCodeLabel":"Edit Temporary QR Code","createdQrCodeNotify":"The WeChat QR code was created.","saveQrCodeNotify":"The WeChat QR code was updated."}}'),delete e.options._Ctor}},z7QL:function(e,t,a){"use strict";var s=a("Py3R"),i=a.n(s);t.default=i.a},zUtI:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return p}));var s=a("00Ee");function i(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(s.a)({method:"NotificationTemplateRemoteActions.getNotificationTemplates",args:[e,t,a,i]})}function n(e,t,a,i){return Object(s.a)({method:"NotificationTemplateRemoteActions.getTemplates",args:[e,t,a,i]})}function o(e){return Object(s.a)({method:"NotificationTemplateRemoteActions.getWeChatPrivateTemplates",args:[e]})}function r(e){return Object(s.a)({method:"NotificationTemplateRemoteActions.getTemplate",args:[e]})}function l(e){return Object(s.a)({method:"NotificationTemplateRemoteActions.deleteTemplate",args:[e]})}function c(e,t){return Object(s.a)({method:"NotificationTemplateRemoteActions.updateTemplate",args:[e,t]})}function d(e,t){return Object(s.a)({method:"NotificationTemplateRemoteActions.createTemplate",args:[e,t]})}function p(e){return Object(s.a)({method:"NotificationTemplateRemoteActions.getWeChatNotifications",args:[e]})}}}]);