(function(){var a=SVMX.Package("com.servicemax.client.sal.model.impl");a.Class("Module",com.servicemax.client.lib.api.ModuleActivator,{useJsr:false,__constructor:function(){this.__base();this.__self.instance=this;this.__logger=SVMX.getLoggingService().getLogger("SAL-MODEL");},beforeInitialize:function(){},initialize:function(){var b=SVMX.getClient().getApplicationParameter("svmx-sfm-sal-model-use-jsr");if(b&&b===true){this.useJsr=true;this.__logger.info("JSR is enabled. Will use this for server communication.");}else{this.useJsr=false;}},afterInitialize:function(){com.servicemax.client.sal.model.sfmdelivery.operations.init();},setUserInfo:function(b){var d=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.cache").getInstance();var c=b.UserId+"-SFMDELIVERY-USERLANGUAGE",f=d.getItem(c);if(f){if(f!=b.Language){this.__logger.info("User language OR User login has changed. Will clear cache");this.clearCache();}}if(UserContext){var e=UserContext.timeFormat;b.TimeFormat=e;}a.ModelState.getInstance().add("userInfo",b);d.setItem(c,b.Language);SVMX.getCurrentApplication().setUserInfo(b);},registerForSALEvents:function(b,c){if(!c){SVMX.getLoggingService().getLogger().warn("registerForSALEvents was invoked without operationObj!");}b.bind("REQUEST_ERROR",function(j){var f=c?c.getEventBus():SVMX.getCurrentApplication();var d=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.CHANGE_APP_STATE",this,{request:{state:"unblock"},responder:{}});f.triggerEvent(d);var h=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SFMDELIVERY");var g=h.T("TAG015");try{g+="::"+j.data.xhr.statusText+"=>"+j.data.xhr.responseText;}catch(i){}d=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.NOTIFY_APP_ERROR",this,{request:{message:g},responder:{}});f.triggerEvent(d);this.__logger.error(g);},this);},createServiceRequest:function(d,c){var b=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.sal.service.factory");b.getInstanceAsync({handler:function(e){var f=d.options||{};var h={type:f.type||"REST",endPoint:f.endPoint||"SFMDeliveryServiceIntf",nameSpace:f.namespace===null?null:SVMX.OrgNamespace};var i=e.createServiceManager(h);var g=i.createService();this.registerForSALEvents(g,c);d.handler.call(d.context,g);},context:this});},checkResponseStatus:function(e,f,j,g){var d=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SFMDELIVERY");if(!g){SVMX.getLoggingService().getLogger().warn("checkResponseStatus was invoked without operationObj!");}var i=true,m="",c="";if(f){if(f.response&&(f.response.success===false||f.response.success==="false")){i=false;if(f.response.msgDetails&&f.response.msgDetails.message){m=f.response.msgDetails.message;c=f.response.msgDetails.details;}else{m=f.response.message;}}else{if(f.success===false||f.success==="false"){i=false;if(f.msgDetails&&f.msgDetails.message){m=f.msgDetails.message;c=f.msgDetails.details;}else{m=f.message;}}}}var b=g?g.getEventBus():SVMX.getCurrentApplication(),k;if(i==false){k=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.CHANGE_APP_STATE",this,{request:{state:"unblock"},responder:{}});b.triggerEvent(k);k=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.NOTIFY_APP_ERROR",this,{request:{message:m,msgDetail:c},responder:{}});b.triggerEvent(k);var d=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("SFMDELIVERY");this.__logger.error(e+" : "+d.T("TAG035")+" "+m);}else{if(!j||((f.eventType=="quick save"||f.eventType=="save")&&f.success==true)){var l=null,h=null;if(f.response&&f.response.message){l=f.response.message;h=f.response.messageType;}else{if(f.message){l=f.message;h=f.messageType;}}if((f.eventType=="quick save"||f.eventType=="save")&&f.success==true){l=d.T("TAG020","Saved Succesfully");h="SVMX_SUCCESS";}if(l&&typeof(l)=="string"){k=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.NOTIFY_QUICK_MESSAGE",this,{request:{message:l,type:h},responder:{}});b.triggerEvent(k);}}}return i;},clearItemFromCache:function(b){var c=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.cache");b=this.__getKey(b);var d=c.getInstance();d.clear(b);this.__logger.info("Successfully cleared <"+b+"> from cache");},getItemFromCache:function(b){var d=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.cache");b=this.__getKey(b);var e=d.getInstance();var c=e.getItem(b);if(c){this.__logger.info("Successfully retrieved <"+b+"> from cache");}return c;},setItemToCache:function(b,c){var d=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.cache");b=this.__getKey(b);var e=d.getInstance();this.__logger.info("Setting <"+b+"> into cache");return e.setItem(b,c);},clearCache:function(){var b=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.cache");var c=b.getInstance();this.__logger.info("Clearing cache...");
c.reset();},__getKey:function(c){var b=a.ModelState.getInstance().get("userInfo");return b.UserId+"-"+b.Language+"-"+c;}},{instance:null});a.Class("LookupCacheUtil",com.servicemax.client.lib.api.Object,{__constructor:function(){}},{addToCache:function(h){var f="SFMDELIVERY-LOOKUPDATA-"+h.lookupId;var d=a.Module.instance.getItemFromCache(f);if(!d){d=[];}var g=false,e,c=d.length;for(e=0;e<c;e++){if(h.record.Id==d[e].Id){g=true;break;}}if(!g){d[d.length]=h.record;var b=SVMX.getClient().getApplicationParameter("svmx-sfm-lookup-cache-limit");if(b){if(d.length>b){SVMX.getLoggingService().getLogger("SFMDELIVERY-LOOKUP-CACHEUTIL").info("The limit for look up data cache is exceeded! Will flushed the oldest item now.");d.splice(0,1);}}a.Module.instance.setItemToCache(f,d);}},getFromCache:function(e){var d="SFMDELIVERY-LOOKUPDATA-"+e,c=[];var b=a.Module.instance.getItemFromCache(d);if(b){c=b;}return c;}});a.Class("ModelState",com.servicemax.client.lib.api.Object,{__state:null,__constructor:function(){this.__state={};},add:function(b,c){this.__state[b]=c;},get:function(b){return this.__state[b];},remove:function(b){var d=null;try{d=this.__state[b];}catch(c){}this.__state[b]=null;return d;}},{getInstance:function(){if(this.__instance==null){this.__instance=new a.ModelState();}return this.__instance;},__instance:null});a.Class("UploadAttachment",com.servicemax.client.lib.api.Object,{__state:null,__data:null,__requestId:null,__attachmentData:null,__attachmentCount:null,__questionWithAttachmentID:null,__unsyncRecord:null,__constructor:function(b){this.__data=b;if(this.__data.result&&this.__data.result.resultIds&&this.__data.result.resultIds.length>0){this.__requestId=this.__data.result.resultIds[0];}if(this.__data&&this.__data.request&&this.__data.request.data&&this.__data.request.data.__attachementData&&this.__data.request.data.__attachementData.__attachementDataHash){this.__attachmentData=this.__data.request.data.__attachementData.__attachementDataHash;}this.__questionWithAttachmentID={};},__uploadtoServer:function(c,f,b){var e=this;var d=com.servicemax.client.sal.model.impl.Module;d.instance.createServiceRequest({handler:function(h){h.bind("REQUEST_COMPLETED",function(l){e.__questionWithAttachmentID[l.data.questionId]=l.data.attachmentId;e.__attachmentCount--;if(e.__attachmentCount<=0){e.__uploadChecklistAttachment();}},this);h.bind("REQUEST_ERROR",function(l){e.__attachmentCount--;if(e.__attachmentCount<=0){e.__uploadChecklistAttachment();}},this);var j=SVMX.getClient().getApplicationParameter("session-id");var i="20";var g=e.getIDFromSession(j);var k={SOAPAction:"sObject"};h.callMethodAsync({questionId:b,methodName:'""',header:k,url:g,sessionId:j,type:"Attachment",isPrivate:false,ParentId:e.__requestId,name:c,body:f});},context:this,options:{type:"SOAP",subType:"sObject",endPoint:"test",namespace:SVMX.OrgNamespace}},this);},uploadAttachments:function(){var c=this.__attachmentData;if(c){var e=Object.keys(c);var d=e.length;this.__attachmentCount=e.length;for(var f=0;f<d;f++){var b=c[e[f]];b[SVMX.OrgNamespace+"__SM_Checklist__c"]=this.__requestId;if(b&&!b[SVMX.OrgNamespace+"__SM_Attachment_ID__c"]){if(b.attachmentURL){this.__uploadtoServer(b[SVMX.OrgNamespace+"__SM_Attachment_Name__c"],b.attachmentURL,b[SVMX.OrgNamespace+"__SM_Internal_Question_ID__c"]);}else{this.__attachmentCount--;}}else{this.__attachmentCount--;}}if(this.__attachmentCount<=0){this.__uploadChecklistAttachment();}}},__uploadChecklistAttachment:function(){var h=this;this.__unsyncRecord=[];var d=this.__attachmentData;if(d){var f=Object.keys(d);var e=f.length;for(var g=0;g<e;g++){var c=d[f[g]];c.attachmentURL=null;delete c.attachmentURL;c[SVMX.OrgNamespace+"__SM_Checklist__c"]=this.__requestId;if(c&&!c[SVMX.OrgNamespace+"__SM_Attachment_ID__c"]){this.__unsyncRecord.push(c);c[SVMX.OrgNamespace+"__SM_Attachment_ID__c"]=this.__questionWithAttachmentID[c[SVMX.OrgNamespace+"__SM_Internal_Question_ID__c"]];}}}this.__data.request.data.__attachementData.unSyncedRecord=this.__unsyncRecord;this.__data.request.data.result=this.__data.result;var b=SVMX.create("com.servicemax.client.lib.api.Event","SFMDELIVERY.SAVE_TARGETATTACHMENTRECORD",this,{request:h.__data.request,responder:h.__data.responder});this.__data.request.deliveryEngine.getEventBus().triggerEvent(b);},getIDFromSession:function(c){var b=c.split("!");var d="00DJ0000003LMuB";if(b.length>1){d=b[0];}return d;}},{});a.Class("SFMAttachmentDeliveryData",com.servicemax.client.lib.api.EventDispatcher,{__constructor:function(b){this.__deletedRecords={};this.__records=b.response.records||[];this.__attachementDataHash=this.getAttachmentDataHash(b.response.records);},getAttachmentDataHash:function(e){var b={};if(e){var d=e;for(var c=0;c<d.length;c++){if(d&&d[c]&&d[c][SVMX.OrgNamespace+"__SM_Internal_Question_ID__c"]){b[d[c][SVMX.OrgNamespace+"__SM_Internal_Question_ID__c"]]=d[c];}}}return b;},getAttachmentValuefromPath:function(b){return this.__attachementDataHash[b];},setAttachmentValueToPath:function(d,c){var b=c;if(c){if(Object.prototype.hasOwnProperty.call(this.__attachementDataHash,d)){if(c[SVMX.OrgNamespace+"__SM_Attachment_ID__c"]!==this.__attachementDataHash[d][SVMX.OrgNamespace+"__SM_Attachment_ID__c"]){this.__deletedRecords[d]=this.__attachementDataHash[d];
}}this.__attachementDataHash[d]=b;}},getRawAttachmentData:function(){return attachmentData;},getDeletedAttachmentRecords:function(){return this.__deletedRecords;},getAttachmentQuestionFields:function(){return Object.keys(this.__attachementDataHash);}},{});a.Class("SFMDeliveryData",com.servicemax.client.lib.api.EventDispatcher,{__data:null,_targetRecordId:null,_sourceRecordId:null,__logger:null,__deletedRecords:null,__objectNameMap:null,__attachmentData:null,__constructor:function(b){this.__base();this.__logger=SVMX.getLoggingService().getLogger("SFMDELIVERY-SAL_DATA");this.__data=b;this.__deletedRecords=[];this.__objectNameMap=b.objectNameMap;this._initialize();},_initialize:function(){this._targetRecordId=this.__data.pageDataSet.sobjectinfo.Id;this._sourceRecordId=this.__data.pageDataSet.sourceRecordID;if(this.__data.response&&this.__data.response.records&&this.__data.response.processType==="CHECKLIST"){this.__attachementData=SVMX.create("com.servicemax.client.sal.model.impl.SFMAttachmentDeliveryData",this.__data);}this._initialize2();},_resolveRecordTypes:function(g,d){var h=g.RecordTypeId;if(g.RecordTypeId&&g.RecordTypeId.fieldvalue&&g.RecordTypeId.fieldvalue.key){var h=g.RecordTypeId.fieldvalue.key;var f="SFMDELIVERY-RECORDTYPES-"+d;var e=a.Module.instance.getItemFromCache(f);var b=SVMX.array.get(e,function(i){return i.recordTypeId==h;});var c=b?b.name:null;if(c){g.RecordTypeId.fieldvalue.value=c;}}},_initialize2:function(){this.__data.sfmData=this.__extractData(this.__data.pageDataSet);if(this.__objectNameMap){this._resolveRecordTypes(this.__data.sfmData,this.__objectNameMap.header);}this.__data.sfmData.details={};var g=this.__data.detailDataSet;if(g){if(!(g instanceof Array)){g=[g];}var d,b=g.length;for(d=0;d<b;d++){var k=g[d].pageDataSet,h=g[d].aliasName;var e={lines:[]};if(k){if(!(k instanceof Array)){k=[k];}if(k.length>0){var c,f=k.length;for(c=0;c<f;c++){e.lines[c]=this.__extractData(k[c]);if(this.__objectNameMap){this._resolveRecordTypes(e.lines[c],this.__objectNameMap[h]);}}}}this.__data.sfmData.details[h]=e;}}},__extractData:function(b){var k=b.sobjectinfo,g=b.bubbleInfo,f,d=0;if(k){var h;for(h in k){if(k[h]===null){delete k[h];}}}if(g){if(!(g instanceof Array)){g=[g];}d=g.length;}for(f=0;f<d;f++){var e=g[f],c=e.fieldapiname,j={};j.fieldapiname=c;j.fieldvalue={};if(c=="Id"){j=e.fieldvalue.value;}else{if(e.fieldvalue){if(e.fieldvalue.value1!==undefined&&e.fieldvalue.value1!==null){j.fieldvalue={key:e.fieldvalue.value,value:e.fieldvalue.value1};}else{j.fieldvalue={key:e.fieldvalue.key,value:e.fieldvalue.value};}}}k[c]=j;}if(b.sourceRecordID&&typeof(b.sourceRecordID)=="string"){k.sourceRecordID=b.sourceRecordID;}if(b.sourceRecord&&typeof(b.sourceRecord)==="object"){k.sourceRecord=b.sourceRecord;}if(k&&k.Id&&typeof(k.Id)=="object"){delete k.Id;}return k||{};},reset:function(c,d){this.__logger.info("Performing reset of sal-model");this.__data=c;this._initialize2();this.__logger.info("Notifying the listeners that the sal-model has been reset");if(d){var b=SVMX.create("com.servicemax.client.lib.api.Event","MODEL_UPDATED",this,{});this.triggerEvent(b);}},updateFromEvent:function(b){this.reset(b,true);},copyFromTargetRecord:function(c){var w={pageDataSet:{sobjectinfo:{attributes:{type:c.headerRecord.objName}},bubbleInfo:[]},detailDataSet:[]};var v=c.headerRecord.records[0].targetRecordAsKeyValue,p,f=v.length;for(p=0;p<f;p++){w.pageDataSet.bubbleInfo[p]={fieldapiname:v[p].key,fieldvalue:{key:v[p].value,value:v[p].value1}};if(w.pageDataSet.bubbleInfo[p].fieldvalue.value===null||w.pageDataSet.bubbleInfo[p].fieldvalue.value===undefined){w.pageDataSet.bubbleInfo[p].fieldvalue.value=w.pageDataSet.bubbleInfo[p].fieldvalue.key;}}var b=c.detailRecords,f=b.length;for(p=0;p<f;p++){var q=b[p],t=q.aliasName,e=q.records,n,s=e.length,o=null;o={aliasName:t,pageDataSet:[]};for(n=0;n<s;n++){var u=e[n].targetRecordAsKeyValue,h,r=u.length,d;o.pageDataSet[n]={sobjectinfo:{attributes:{type:q.objName}}};var g=o.pageDataSet[n].bubbleInfo=[];if(e[n].sourceRecordId){o.pageDataSet[n].sobjectinfo.sourceRecordID=e[n].sourceRecordId;}for(h=0,d=0;h<r;h++){if(u[h].key=="Id"){o.pageDataSet[n].sobjectinfo.Id=u[h].value;}else{g[d]={fieldapiname:u[h].key,fieldvalue:{key:u[h].value,value:u[h].value1}};if(g[d].fieldvalue.value===null||g[d].fieldvalue.value===undefined){g[d].fieldvalue.value=g[d].fieldvalue.key;}d++;}}}w.detailDataSet[w.detailDataSet.length]=o;}this.updateFromEvent(w);},getTargetRecordId:function(){return this._targetRecordId;},setTargetRecordId:function(b){this._targetRecordId=b;},getSourceRecordId:function(){return this._sourceRecordId;},getDeletedRecords:function(){return this.__deletedRecords;},getValueFromPath:function(e){var f=e.split("."),c,b=f.length,d=this.__data.sfmData;for(c=0;c<b;c++){d=d[f[c]];if(!d){break;}}return d;},getRawData:function(){return this.__data;},getRawValues:function(i){if(!i){return this.__data.pageDataSet.sobjectinfo;}var g={},e;var h=i.data||this.__data.pageDataSet.sobjectinfo;var f=i.referenceValue;
for(e in h){if(e=="details"){g.details=h.details;}else{if(f&&h[e]&&typeof h[e]==="object"&&"fieldvalue" in h[e]&&f in h[e].fieldvalue){g[e]=h[e].fieldvalue[f];}else{g[e]=h[e];}}if(g[e]!==undefined&&g[e]!==null&&typeof g[e]!=="object"&&i.fieldTypes&&"attributes" in h){var d=h.attributes.type;var c=i.fieldTypes[d];var b=c[e];g[e]=this.__convertFieldValue(g[e],b);}}return g;},__isDateObject:function(b){if((b instanceof Date)&&(!isNaN(b.getTime()))){return true;}this.__logger.error("Invalid Date Object;",b);return false;},__convertFieldValue:function(b,e){switch(e){case"date":if(!b){return b;}var c=com.servicemax.client.lib.datetimeutils.DatetimeUtil.parseDate(b);if(this.__isDateObject(c)){c.setHours(0,0,0);}return c;case"datetime":if(!b){return b;}var c=com.servicemax.client.lib.datetimeutils.DatetimeUtil.parseGMTDate(b);this.__isDateObject(c);return c;case"boolean":return b==="true"||b===true;case"double":case"percent":case"currency":if(typeof b==="string"){return Number(b);}else{return b;}default:return b;}},deleteDetailRecords:function(e,j){var d="details."+j,b=this.getValueFromPath(d),g,f=e.length,k;for(g=0;g<f;g++){k=e[g].rowIndex;var h=b.lines.splice(k,1),c=h[0].Id;if(c){this.__deletedRecords.push({alias:j,id:c});}}var m=SVMX.create("com.servicemax.client.lib.api.Event","DETAIL_RECORDS_DELETED",this,{lines:e,bindingPath:d});this.triggerEvent(m);},addNewDetailRecords:function(d,h,k){var c="details."+h,b=this.getValueFromPath(c),g,e=d.length,f={lines:[]};for(g=0;g<e;g++){f.lines[g]=b.lines[b.lines.length]=this.__extractData(SVMX.cloneObject(d[g]));}var j=SVMX.create("com.servicemax.client.lib.api.Event","DETAIL_RECORDS_ADDED",this,{newRecords:SVMX.toObject(SVMX.toJSON(f)),bindingPath:c,onSuccess:k});this.triggerEvent(j);},setValueToPath:function(h,g){var j=h.split("."),d,c=j.length,f=this.__data.sfmData,e,b;for(d=0;d<c;d++){e=f;b=j[d];f=f[b];if(!f){break;}}e[b]=g;},getError:function(){return this.__error;}},{});a.Class("SFMDeliveryDataFromPageLayout",a.SFMDeliveryData,{__constructor:function(b){this.__base(b);},_initialize:function(){this.__data.sfmData=this.__extractHeaderData(this.__data.page.header);this._targetRecordId=this.__data.page.header.hdrData.Id;this._sourceRecordId=this.__data.page.header.sourceRecordId;this.__data.sfmData.details={};var g=this.__data.page.details;if(g){var d,b=g.length;for(d=0;d<b;d++){var k=g[d].bubbleinfolist,h=g[d].dtlLayoutId;var e={lines:[]};if(k&&k.length>0){var c,f=k.length;for(c=0;c<f;c++){e.lines[c]=this.__extractLineData(k[c]);}}this.__data.sfmData.details[h]=e;}}},__extractHeaderData:function(g){var n=g.hdrData,o=g.sections,f,c=o.length;for(f=0;f<c;f++){var m=o[f],e,h=m.fields,k=h.length;for(e=0;e<k;e++){var d=h[e].bubbleinfo,b=d.fieldapiname;n[b]=d;}}return n;},__extractLineData:function(f){var h=f.sobjectinfo,g=f.bubbleinfolist,e,b=g.length;for(e=0;e<b;e++){var d=g[e],c=d.fieldapiname;h[c]=d;}return h;}},{});a.Class("PlatformSpecifics",com.servicemax.client.lib.api.Object,{__constructor:function(){},isEventSupported:function(b){return true;},isActionButtonVisible:function(b){var c=b.buttonDetail[SVMX.OrgNamespace+"__Show_In_Web__c"];return !!c;},showRecordFrombubbleInfo:function(b){SVMX.openInBrowserWindow("/"+b.key+"?isdtp=mn");},getProcessLMD:function(){return window.svmx_sfm_delivery_process_lmd;},getAttachmentsEnabled:function(){return false;},getRefDisplayValue:function(e,c,b){var f=new $.Deferred();f.resolve(c);return f;},getQualificationInfo:function(e,c,g,i){var f=window.svmx_sfm_delivery_is_sfmprocess===undefined?true:window.svmx_sfm_delivery_is_sfmprocess;var h=window.svmx_sfm_delivery_is_qualified===undefined?true:window.svmx_sfm_delivery_is_qualified;var d=window.svmx_sfm_delivery_error_message===undefined?"":window.svmx_sfm_delivery_error_message;var b={isSFMProcess:f,isQualified:h,errorMessage:d};i(b);},getBasicDisplayTags:function(){var c={};var g=window.svmx_sfm_delivery_basic_display_tags||"[]";var f=SVMX.toObject(g),d,b=f.length,e;for(d=0;d<b;d++){e=f[d].split("~");c[e[0]]=e[1];}return c;},performNewAfterSave:function(){setTimeout(function(){SVMX.reloadPage();},1000);},navigateToTargetRecord:function(b,c){setTimeout(function(){var e=SVMX.getClient().getApplicationParameter("svmx-base-url")||"";if(e&&e.indexOf("/")!=0){e="/"+e;}var d=e+"/"+b;if(SVMX.navigateToCheckExternal){SVMX.navigateToCheckExternal(d,SVMX.getUrlParameter("SVMX_recordId")!=b);}else{SVMX.navigateTo(d);}},1000);},getItemFromCache:function(c){var b=a.Module.instance.getItemFromCache(c);return b;},isEmailValid:function(b){return true;},getFormattedDateTimeValue:function(d,b){if(d!==null&&d!==undefined&&d!==""){var c=com.servicemax.client.lib.datetimeutils.DatetimeUtil;d=c.getFormattedDatetime(d,"YYYY-MM-DD[T]HH:mm:ss");d=d+b;}else{d="null";}return d;},getFormattedDateValue:function(c){if(c!==null&&c!==undefined&&c!==""){var b=com.servicemax.client.lib.datetimeutils.DatetimeUtil;c=b.getFormattedDatetime(c,"YYYY-MM-DD");}else{c="null";}return c;}},{});})();