(function(){var a=SVMX.Package("com.servicemax.client.triggersetting.engine");a.init=function(){var b=SVMX.getClient().getServiceRegistry().getServiceInstance("com.servicemax.client.translation").getDictionary("TRIGGERSETTING");a.Class("DeliveryEngineImpl",com.servicemax.client.sfmconsole.api.AbstractDeliveryEngine,{__metaModel:null,__root:null,__loadMask:null,__isContainerExternal:null,__parent:null,__translation:null,__view:null,__constructor:function(){this.__base();this.__isContainerExternal=false;},initAsync:function(c){var d=SVMX.getClient().getServiceRegistry().getService("com.servicemax.client.niservice").getInstance();this.__eventBus=SVMX.create("com.servicemax.client.triggersetting.impl.TRIGGERSETTINGEngineEventBus",{});d.createNamedInstanceAsync("CONTROLLER",{handler:function(e){d.createNamedInstanceAsync("MODEL",{handler:function(f){e.setModel(f);d.createNamedInstanceAsync("TRIGGERSETTING.VIEW",{handler:function(g){this.__view=g;c.handler.call(c.context);},context:this,additionalParams:{eventBus:this.getEventBus()}});},context:this});},context:this,additionalParams:{eventBus:this.__eventBus}});},getEventBus:function(){return this.__eventBus;},translate:function(c){return b.T(c);},getAllTranslation:function(){return this.__translation;},__appCurrentState:"",changeApplicationState:function(c){if(this.__appCurrentState===c){return;}this.__appCurrentState=c;if(c=="block"){if(!this.__loadMask){this.__loadMask=new com.servicemax.client.ui.components.utils.LoadMask({parent:this.__root});}this.__loadMask.show({});this.__loadMask.setZIndex(50000);}else{if(c=="unblock"&&this.__loadMask!==null){if(this.__loadMask!==null){this.__loadMask.hide();}}}},reset:function(){this.getRoot().destroy();this.__root=null;this.run(this.options);},triggerEvent:function(c){this.__eventBus.triggerEvent(c);},run:function(d){this.changeApplicationState("block");this.options=d||{};var c={};evt=SVMX.create("com.servicemax.client.lib.api.Event","TRIGGERSETTING.GET_OBJECT_NAME",this,{request:c,responder:SVMX.create("com.servicemax.client.triggersetting.responders.GetObjectName",this)});this.triggerEvent(evt);},onGetObjectNameCompleted:function(c){this.changeApplicationState("unblock");this.__objectlist=null;if(c.success){this.__objectlist=c.objectlist;}this.__metaModel=SVMX.create("com.servicemax.client.triggersetting.engine.TRIGGERSETTINGMetaModel",this,c);this.__root=this.__view.createComponent("ROOTCONTAINER",{deliveryEngine:this,__engine:this});this.__root.render(SVMX.getDisplayRootId());},getObjectTriggerConfig:function(e,d){this.changeApplicationState("block");var c={};c.objectName=e;evt=SVMX.create("com.servicemax.client.lib.api.Event","TRIGGERSETTING.GET_OBJECT_TRIGGER",this,{request:c,responder:SVMX.create("com.servicemax.client.triggersetting.responders.GetObjectTrigger",this,d)});this.triggerEvent(evt);},onGetObjectTriggerCompleted:function(c,d){this.changeApplicationState("unblock");d&&d(c);},saveTriggerSettingConfig:function(c,d){this.changeApplicationState("block");evt=SVMX.create("com.servicemax.client.lib.api.Event","TRIGGERSETTING.SAVE_TRIGGERSETTING",this,{request:c,responder:SVMX.create("com.servicemax.client.triggersetting.responders.SaveTriggerSetting",this,d)});this.triggerEvent(evt);},onSaveTriggerSettingConfig:function(c,d){this.changeApplicationState("unblock");d&&d(c);},getMetaModel:function(){return this.__metaModel;},getRoot:function(){return this.__root;},onResize:function(c){this.getRoot().resize(c);}},{});a.Class("TRIGGERSETTINGMetaModel",com.servicemax.client.lib.api.Object,{__parent:null,__data:null,__constructor:function(c,d){this.__parent=c;this.__data=d;},destroy:function(){this.__data=null;}},{});};})();